const __vite__fileDeps=["assets/index-D2HvmWHf.js","assets/Visibility-DzRGVne7.js","assets/SupplementalMaterials-BYZubDSn.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function ane(t,e){for(var o=0;o<e.length;o++){const s=e[o];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in t)){const u=Object.getOwnPropertyDescriptor(s,c);u&&Object.defineProperty(t,c,u.get?u:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(c){if(c.ep)return;c.ep=!0;const u=o(c);fetch(c.href,u)}})();var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var o=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var c=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(o,s,c.get?c:{enumerable:!0,get:function(){return t[s]}})}),o}var zj={exports:{}},e0={},Fj={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=Symbol.for("react.element"),lne=Symbol.for("react.portal"),cne=Symbol.for("react.fragment"),dne=Symbol.for("react.strict_mode"),une=Symbol.for("react.profiler"),hne=Symbol.for("react.provider"),pne=Symbol.for("react.context"),fne=Symbol.for("react.forward_ref"),gne=Symbol.for("react.suspense"),mne=Symbol.for("react.memo"),kne=Symbol.for("react.lazy"),GR=Symbol.iterator;function bne(t){return t===null||typeof t!="object"?null:(t=GR&&t[GR]||t["@@iterator"],typeof t=="function"?t:null)}var $j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vj=Object.assign,Uj={};function tu(t,e,o){this.props=t,this.context=e,this.refs=Uj,this.updater=o||$j}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hj(){}Hj.prototype=tu.prototype;function I1(t,e,o){this.props=t,this.context=e,this.refs=Uj,this.updater=o||$j}var D1=I1.prototype=new Hj;D1.constructor=I1;Vj(D1,tu.prototype);D1.isPureReactComponent=!0;var KR=Array.isArray,Wj=Object.prototype.hasOwnProperty,M1={current:null},qj={key:!0,ref:!0,__self:!0,__source:!0};function Gj(t,e,o){var s,c={},u=null,p=null;if(e!=null)for(s in e.ref!==void 0&&(p=e.ref),e.key!==void 0&&(u=""+e.key),e)Wj.call(e,s)&&!qj.hasOwnProperty(s)&&(c[s]=e[s]);var m=arguments.length-2;if(m===1)c.children=o;else if(1<m){for(var g=Array(m),w=0;w<m;w++)g[w]=arguments[w+2];c.children=g}if(t&&t.defaultProps)for(s in m=t.defaultProps,m)c[s]===void 0&&(c[s]=m[s]);return{$$typeof:pf,type:t,key:u,ref:p,props:c,_owner:M1.current}}function wne(t,e){return{$$typeof:pf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P1(t){return typeof t=="object"&&t!==null&&t.$$typeof===pf}function vne(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(o){return e[o]})}var YR=/\/+/g;function w_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vne(""+t.key):e.toString(36)}function fk(t,e,o,s,c){var u=typeof t;(u==="undefined"||u==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(u){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case pf:case lne:p=!0}}if(p)return p=t,c=c(p),t=s===""?"."+w_(p,0):s,KR(c)?(o="",t!=null&&(o=t.replace(YR,"$&/")+"/"),fk(c,e,o,"",function(w){return w})):c!=null&&(P1(c)&&(c=wne(c,o+(!c.key||p&&p.key===c.key?"":(""+c.key).replace(YR,"$&/")+"/")+t)),e.push(c)),1;if(p=0,s=s===""?".":s+":",KR(t))for(var m=0;m<t.length;m++){u=t[m];var g=s+w_(u,m);p+=fk(u,e,o,g,c)}else if(g=bne(t),typeof g=="function")for(t=g.call(t),m=0;!(u=t.next()).done;)u=u.value,g=s+w_(u,m++),p+=fk(u,e,o,g,c);else if(u==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return p}function Im(t,e,o){if(t==null)return t;var s=[],c=0;return fk(t,s,"","",function(u){return e.call(o,u,c++)}),s}function yne(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(o){(t._status===0||t._status===-1)&&(t._status=1,t._result=o)},function(o){(t._status===0||t._status===-1)&&(t._status=2,t._result=o)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ro={current:null},gk={transition:null},_ne={ReactCurrentDispatcher:Ro,ReactCurrentBatchConfig:gk,ReactCurrentOwner:M1};function Kj(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Im,forEach:function(t,e,o){Im(t,function(){e.apply(this,arguments)},o)},count:function(t){var e=0;return Im(t,function(){e++}),e},toArray:function(t){return Im(t,function(e){return e})||[]},only:function(t){if(!P1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ft.Component=tu;ft.Fragment=cne;ft.Profiler=une;ft.PureComponent=I1;ft.StrictMode=dne;ft.Suspense=gne;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_ne;ft.act=Kj;ft.cloneElement=function(t,e,o){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Vj({},t.props),c=t.key,u=t.ref,p=t._owner;if(e!=null){if(e.ref!==void 0&&(u=e.ref,p=M1.current),e.key!==void 0&&(c=""+e.key),t.type&&t.type.defaultProps)var m=t.type.defaultProps;for(g in e)Wj.call(e,g)&&!qj.hasOwnProperty(g)&&(s[g]=e[g]===void 0&&m!==void 0?m[g]:e[g])}var g=arguments.length-2;if(g===1)s.children=o;else if(1<g){m=Array(g);for(var w=0;w<g;w++)m[w]=arguments[w+2];s.children=m}return{$$typeof:pf,type:t.type,key:c,ref:u,props:s,_owner:p}};ft.createContext=function(t){return t={$$typeof:pne,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hne,_context:t},t.Consumer=t};ft.createElement=Gj;ft.createFactory=function(t){var e=Gj.bind(null,t);return e.type=t,e};ft.createRef=function(){return{current:null}};ft.forwardRef=function(t){return{$$typeof:fne,render:t}};ft.isValidElement=P1;ft.lazy=function(t){return{$$typeof:kne,_payload:{_status:-1,_result:t},_init:yne}};ft.memo=function(t,e){return{$$typeof:mne,type:t,compare:e===void 0?null:e}};ft.startTransition=function(t){var e=gk.transition;gk.transition={};try{t()}finally{gk.transition=e}};ft.unstable_act=Kj;ft.useCallback=function(t,e){return Ro.current.useCallback(t,e)};ft.useContext=function(t){return Ro.current.useContext(t)};ft.useDebugValue=function(){};ft.useDeferredValue=function(t){return Ro.current.useDeferredValue(t)};ft.useEffect=function(t,e){return Ro.current.useEffect(t,e)};ft.useId=function(){return Ro.current.useId()};ft.useImperativeHandle=function(t,e,o){return Ro.current.useImperativeHandle(t,e,o)};ft.useInsertionEffect=function(t,e){return Ro.current.useInsertionEffect(t,e)};ft.useLayoutEffect=function(t,e){return Ro.current.useLayoutEffect(t,e)};ft.useMemo=function(t,e){return Ro.current.useMemo(t,e)};ft.useReducer=function(t,e,o){return Ro.current.useReducer(t,e,o)};ft.useRef=function(t){return Ro.current.useRef(t)};ft.useState=function(t){return Ro.current.useState(t)};ft.useSyncExternalStore=function(t,e,o){return Ro.current.useSyncExternalStore(t,e,o)};ft.useTransition=function(){return Ro.current.useTransition()};ft.version="18.3.1";Fj.exports=ft;var z=Fj.exports;const ur=Xb(z),Hk=ane({__proto__:null,default:ur},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cne=z,Ane=Symbol.for("react.element"),xne=Symbol.for("react.fragment"),Ene=Object.prototype.hasOwnProperty,Sne=Cne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tne={key:!0,ref:!0,__self:!0,__source:!0};function Yj(t,e,o){var s,c={},u=null,p=null;o!==void 0&&(u=""+o),e.key!==void 0&&(u=""+e.key),e.ref!==void 0&&(p=e.ref);for(s in e)Ene.call(e,s)&&!Tne.hasOwnProperty(s)&&(c[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)c[s]===void 0&&(c[s]=e[s]);return{$$typeof:Ane,type:t,key:u,ref:p,props:c,_owner:Sne.current}}e0.Fragment=xne;e0.jsx=Yj;e0.jsxs=Yj;zj.exports=e0;var B=zj.exports,PC={},Qj={exports:{}},vr={},Zj={exports:{}},Jj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,se){var he=q.length;q.push(se);e:for(;0<he;){var Ie=he-1>>>1,Me=q[Ie];if(0<c(Me,se))q[Ie]=se,q[he]=Me,he=Ie;else break e}}function o(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var se=q[0],he=q.pop();if(he!==se){q[0]=he;e:for(var Ie=0,Me=q.length,Ye=Me>>>1;Ie<Ye;){var Pe=2*(Ie+1)-1,Qe=q[Pe],xe=Pe+1,ut=q[xe];if(0>c(Qe,he))xe<Me&&0>c(ut,Qe)?(q[Ie]=ut,q[xe]=he,Ie=xe):(q[Ie]=Qe,q[Pe]=he,Ie=Pe);else if(xe<Me&&0>c(ut,he))q[Ie]=ut,q[xe]=he,Ie=xe;else break e}}return se}function c(q,se){var he=q.sortIndex-se.sortIndex;return he!==0?he:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var p=Date,m=p.now();t.unstable_now=function(){return p.now()-m}}var g=[],w=[],_=1,C=null,y=3,x=!1,S=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(q){for(var se=o(w);se!==null;){if(se.callback===null)s(w);else if(se.startTime<=q)s(w),se.sortIndex=se.expirationTime,e(g,se);else break;se=o(w)}}function j(q){if(T=!1,O(q),!S)if(o(g)!==null)S=!0,ie($);else{var se=o(w);se!==null&&ae(j,se.startTime-q)}}function $(q,se){S=!1,T&&(T=!1,D(U),U=-1),x=!0;var he=y;try{for(O(se),C=o(g);C!==null&&(!(C.expirationTime>se)||q&&!Z());){var Ie=C.callback;if(typeof Ie=="function"){C.callback=null,y=C.priorityLevel;var Me=Ie(C.expirationTime<=se);se=t.unstable_now(),typeof Me=="function"?C.callback=Me:C===o(g)&&s(g),O(se)}else s(g);C=o(g)}if(C!==null)var Ye=!0;else{var Pe=o(w);Pe!==null&&ae(j,Pe.startTime-se),Ye=!1}return Ye}finally{C=null,y=he,x=!1}}var H=!1,M=null,U=-1,G=5,Y=-1;function Z(){return!(t.unstable_now()-Y<G)}function re(){if(M!==null){var q=t.unstable_now();Y=q;var se=!0;try{se=M(!0,q)}finally{se?J():(H=!1,M=null)}}else H=!1}var J;if(typeof N=="function")J=function(){N(re)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,oe=X.port2;X.port1.onmessage=re,J=function(){oe.postMessage(null)}}else J=function(){R(re,0)};function ie(q){M=q,H||(H=!0,J())}function ae(q,se){U=R(function(){q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,ie($))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return o(g)},t.unstable_next=function(q){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var he=y;y=se;try{return q()}finally{y=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var he=y;y=q;try{return se()}finally{y=he}},t.unstable_scheduleCallback=function(q,se,he){var Ie=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ie+he:Ie):he=Ie,q){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=he+Me,q={id:_++,callback:se,priorityLevel:q,startTime:he,expirationTime:Me,sortIndex:-1},he>Ie?(q.sortIndex=he,e(w,q),o(g)===null&&q===o(w)&&(T?(D(U),U=-1):T=!0,ae(j,he-Ie))):(q.sortIndex=Me,e(g,q),S||x||(S=!0,ie($))),q},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(q){var se=y;return function(){var he=y;y=se;try{return q.apply(this,arguments)}finally{y=he}}}})(Jj);Zj.exports=Jj;var Ine=Zj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dne=z,kr=Ine;function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xj=new Set,bp={};function Gl(t,e){Td(t,e),Td(t+"Capture",e)}function Td(t,e){for(bp[t]=e,t=0;t<e.length;t++)Xj.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NC=Object.prototype.hasOwnProperty,Mne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QR={},ZR={};function Pne(t){return NC.call(ZR,t)?!0:NC.call(QR,t)?!1:Mne.test(t)?ZR[t]=!0:(QR[t]=!0,!1)}function Nne(t,e,o,s){if(o!==null&&o.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rne(t,e,o,s){if(e===null||typeof e>"u"||Nne(t,e,o,s))return!0;if(s)return!1;if(o!==null)switch(o.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oo(t,e,o,s,c,u,p){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=e,this.sanitizeURL=u,this.removeEmptyString=p}var ho={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ho[t]=new Oo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ho[e]=new Oo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ho[t]=new Oo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ho[t]=new Oo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ho[t]=new Oo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ho[t]=new Oo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ho[t]=new Oo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ho[t]=new Oo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ho[t]=new Oo(t,5,!1,t.toLowerCase(),null,!1,!1)});var N1=/[\-:]([a-z])/g;function R1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(N1,R1);ho[e]=new Oo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(N1,R1);ho[e]=new Oo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(N1,R1);ho[e]=new Oo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ho[t]=new Oo(t,1,!1,t.toLowerCase(),null,!1,!1)});ho.xlinkHref=new Oo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ho[t]=new Oo(t,1,!1,t.toLowerCase(),null,!0,!0)});function O1(t,e,o,s){var c=ho.hasOwnProperty(e)?ho[e]:null;(c!==null?c.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rne(e,o,c,s)&&(o=null),s||c===null?Pne(e)&&(o===null?t.removeAttribute(e):t.setAttribute(e,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(e=c.attributeName,s=c.attributeNamespace,o===null?t.removeAttribute(e):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,s?t.setAttributeNS(s,e,o):t.setAttribute(e,o))))}var Rs=Dne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dm=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),Jc=Symbol.for("react.fragment"),B1=Symbol.for("react.strict_mode"),RC=Symbol.for("react.profiler"),ez=Symbol.for("react.provider"),tz=Symbol.for("react.context"),L1=Symbol.for("react.forward_ref"),OC=Symbol.for("react.suspense"),BC=Symbol.for("react.suspense_list"),j1=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),nz=Symbol.for("react.offscreen"),JR=Symbol.iterator;function fh(t){return t===null||typeof t!="object"?null:(t=JR&&t[JR]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,v_;function Bh(t){if(v_===void 0)try{throw Error()}catch(o){var e=o.stack.trim().match(/\n( *(at )?)/);v_=e&&e[1]||""}return`
`+v_+t}var y_=!1;function __(t,e){if(!t||y_)return"";y_=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(w){var s=w}Reflect.construct(t,[],e)}else{try{e.call()}catch(w){s=w}t.call(e.prototype)}else{try{throw Error()}catch(w){s=w}t()}}catch(w){if(w&&s&&typeof w.stack=="string"){for(var c=w.stack.split(`
`),u=s.stack.split(`
`),p=c.length-1,m=u.length-1;1<=p&&0<=m&&c[p]!==u[m];)m--;for(;1<=p&&0<=m;p--,m--)if(c[p]!==u[m]){if(p!==1||m!==1)do if(p--,m--,0>m||c[p]!==u[m]){var g=`
`+c[p].replace(" at new "," at ");return t.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",t.displayName)),g}while(1<=p&&0<=m);break}}}finally{y_=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Bh(t):""}function One(t){switch(t.tag){case 5:return Bh(t.type);case 16:return Bh("Lazy");case 13:return Bh("Suspense");case 19:return Bh("SuspenseList");case 0:case 2:case 15:return t=__(t.type,!1),t;case 11:return t=__(t.type.render,!1),t;case 1:return t=__(t.type,!0),t;default:return""}}function LC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jc:return"Fragment";case Zc:return"Portal";case RC:return"Profiler";case B1:return"StrictMode";case OC:return"Suspense";case BC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tz:return(t.displayName||"Context")+".Consumer";case ez:return(t._context.displayName||"Context")+".Provider";case L1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j1:return e=t.displayName||null,e!==null?e:LC(t.type)||"Memo";case Zs:e=t._payload,t=t._init;try{return LC(t(e))}catch{}}return null}function Bne(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LC(e);case 8:return e===B1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _a(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lne(t){var e=oz(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,u=o.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,u.call(this,p)}}),Object.defineProperty(t,e,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mm(t){t._valueTracker||(t._valueTracker=Lne(t))}function rz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var o=e.getValue(),s="";return t&&(s=oz(t)?t.checked?"true":"false":t.value),t=s,t!==o?(e.setValue(t),!0):!1}function Wk(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jC(t,e){var o=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function XR(t,e){var o=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;o=_a(e.value!=null?e.value:o),t._wrapperState={initialChecked:s,initialValue:o,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iz(t,e){e=e.checked,e!=null&&O1(t,"checked",e,!1)}function zC(t,e){iz(t,e);var o=_a(e.value),s=e.type;if(o!=null)s==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?FC(t,e.type,o):e.hasOwnProperty("defaultValue")&&FC(t,e.type,_a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function eO(t,e,o){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,o||e===t.value||(t.value=e),t.defaultValue=e}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function FC(t,e,o){(e!=="number"||Wk(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Lh=Array.isArray;function ud(t,e,o,s){if(t=t.options,e){e={};for(var c=0;c<o.length;c++)e["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=e.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&s&&(t[o].defaultSelected=!0)}else{for(o=""+_a(o),e=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,s&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function $C(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tO(t,e){var o=e.value;if(o==null){if(o=e.children,e=e.defaultValue,o!=null){if(e!=null)throw Error(ge(92));if(Lh(o)){if(1<o.length)throw Error(ge(93));o=o[0]}e=o}e==null&&(e=""),o=e}t._wrapperState={initialValue:_a(o)}}function sz(t,e){var o=_a(e.value),s=_a(e.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),e.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),s!=null&&(t.defaultValue=""+s)}function nO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function az(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?az(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pm,lz=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,o,s,c){MSApp.execUnsafeLocalFunction(function(){return t(e,o,s,c)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pm=Pm||document.createElement("div"),Pm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wp(t,e){if(e){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=e;return}}t.textContent=e}var Gh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jne=["Webkit","ms","Moz","O"];Object.keys(Gh).forEach(function(t){jne.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gh[e]=Gh[t]})});function cz(t,e,o){return e==null||typeof e=="boolean"||e===""?"":o||typeof e!="number"||e===0||Gh.hasOwnProperty(t)&&Gh[t]?(""+e).trim():e+"px"}function dz(t,e){t=t.style;for(var o in e)if(e.hasOwnProperty(o)){var s=o.indexOf("--")===0,c=cz(o,e[o],s);o==="float"&&(o="cssFloat"),s?t.setProperty(o,c):t[o]=c}}var zne=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UC(t,e){if(e){if(zne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function HC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WC=null;function z1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qC=null,hd=null,pd=null;function oO(t){if(t=mf(t)){if(typeof qC!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=i0(e),qC(t.stateNode,t.type,e))}}function uz(t){hd?pd?pd.push(t):pd=[t]:hd=t}function hz(){if(hd){var t=hd,e=pd;if(pd=hd=null,oO(t),e)for(t=0;t<e.length;t++)oO(e[t])}}function pz(t,e){return t(e)}function fz(){}var C_=!1;function gz(t,e,o){if(C_)return t(e,o);C_=!0;try{return pz(t,e,o)}finally{C_=!1,(hd!==null||pd!==null)&&(fz(),hz())}}function vp(t,e){var o=t.stateNode;if(o===null)return null;var s=i0(o);if(s===null)return null;o=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(ge(231,e,typeof o));return o}var GC=!1;if(ys)try{var gh={};Object.defineProperty(gh,"passive",{get:function(){GC=!0}}),window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{GC=!1}function Fne(t,e,o,s,c,u,p,m,g){var w=Array.prototype.slice.call(arguments,3);try{e.apply(o,w)}catch(_){this.onError(_)}}var Kh=!1,qk=null,Gk=!1,KC=null,$ne={onError:function(t){Kh=!0,qk=t}};function Vne(t,e,o,s,c,u,p,m,g){Kh=!1,qk=null,Fne.apply($ne,arguments)}function Une(t,e,o,s,c,u,p,m,g){if(Vne.apply(this,arguments),Kh){if(Kh){var w=qk;Kh=!1,qk=null}else throw Error(ge(198));Gk||(Gk=!0,KC=w)}}function Kl(t){var e=t,o=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(o=e.return),t=e.return;while(t)}return e.tag===3?o:null}function mz(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rO(t){if(Kl(t)!==t)throw Error(ge(188))}function Hne(t){var e=t.alternate;if(!e){if(e=Kl(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var o=t,s=e;;){var c=o.return;if(c===null)break;var u=c.alternate;if(u===null){if(s=c.return,s!==null){o=s;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===o)return rO(c),t;if(u===s)return rO(c),e;u=u.sibling}throw Error(ge(188))}if(o.return!==s.return)o=c,s=u;else{for(var p=!1,m=c.child;m;){if(m===o){p=!0,o=c,s=u;break}if(m===s){p=!0,s=c,o=u;break}m=m.sibling}if(!p){for(m=u.child;m;){if(m===o){p=!0,o=u,s=c;break}if(m===s){p=!0,s=u,o=c;break}m=m.sibling}if(!p)throw Error(ge(189))}}if(o.alternate!==s)throw Error(ge(190))}if(o.tag!==3)throw Error(ge(188));return o.stateNode.current===o?t:e}function kz(t){return t=Hne(t),t!==null?bz(t):null}function bz(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bz(t);if(e!==null)return e;t=t.sibling}return null}var wz=kr.unstable_scheduleCallback,iO=kr.unstable_cancelCallback,Wne=kr.unstable_shouldYield,qne=kr.unstable_requestPaint,Tn=kr.unstable_now,Gne=kr.unstable_getCurrentPriorityLevel,F1=kr.unstable_ImmediatePriority,vz=kr.unstable_UserBlockingPriority,Kk=kr.unstable_NormalPriority,Kne=kr.unstable_LowPriority,yz=kr.unstable_IdlePriority,t0=null,Oi=null;function Yne(t){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(t0,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:Jne,Qne=Math.log,Zne=Math.LN2;function Jne(t){return t>>>=0,t===0?32:31-(Qne(t)/Zne|0)|0}var Nm=64,Rm=4194304;function jh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yk(t,e){var o=t.pendingLanes;if(o===0)return 0;var s=0,c=t.suspendedLanes,u=t.pingedLanes,p=o&268435455;if(p!==0){var m=p&~c;m!==0?s=jh(m):(u&=p,u!==0&&(s=jh(u)))}else p=o&~c,p!==0?s=jh(p):u!==0&&(s=jh(u));if(s===0)return 0;if(e!==0&&e!==s&&!(e&c)&&(c=s&-s,u=e&-e,c>=u||c===16&&(u&4194240)!==0))return e;if(s&4&&(s|=o&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)o=31-hi(e),c=1<<o,s|=t[o],e&=~c;return s}function Xne(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eoe(t,e){for(var o=t.suspendedLanes,s=t.pingedLanes,c=t.expirationTimes,u=t.pendingLanes;0<u;){var p=31-hi(u),m=1<<p,g=c[p];g===-1?(!(m&o)||m&s)&&(c[p]=Xne(m,e)):g<=e&&(t.expiredLanes|=m),u&=~m}}function YC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _z(){var t=Nm;return Nm<<=1,!(Nm&4194240)&&(Nm=64),t}function A_(t){for(var e=[],o=0;31>o;o++)e.push(t);return e}function ff(t,e,o){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=o}function toe(t,e){var o=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-hi(o),u=1<<c;e[c]=0,s[c]=-1,t[c]=-1,o&=~u}}function $1(t,e){var o=t.entangledLanes|=e;for(t=t.entanglements;o;){var s=31-hi(o),c=1<<s;c&e|t[s]&e&&(t[s]|=e),o&=~c}}var Lt=0;function Cz(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Az,V1,xz,Ez,Sz,QC=!1,Om=[],ua=null,ha=null,pa=null,yp=new Map,_p=new Map,Xs=[],noe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sO(t,e){switch(t){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_p.delete(e.pointerId)}}function mh(t,e,o,s,c,u){return t===null||t.nativeEvent!==u?(t={blockedOn:e,domEventName:o,eventSystemFlags:s,nativeEvent:u,targetContainers:[c]},e!==null&&(e=mf(e),e!==null&&V1(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function ooe(t,e,o,s,c){switch(e){case"focusin":return ua=mh(ua,t,e,o,s,c),!0;case"dragenter":return ha=mh(ha,t,e,o,s,c),!0;case"mouseover":return pa=mh(pa,t,e,o,s,c),!0;case"pointerover":var u=c.pointerId;return yp.set(u,mh(yp.get(u)||null,t,e,o,s,c)),!0;case"gotpointercapture":return u=c.pointerId,_p.set(u,mh(_p.get(u)||null,t,e,o,s,c)),!0}return!1}function Tz(t){var e=ml(t.target);if(e!==null){var o=Kl(e);if(o!==null){if(e=o.tag,e===13){if(e=mz(o),e!==null){t.blockedOn=e,Sz(t.priority,function(){xz(o)});return}}else if(e===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mk(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var o=ZC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var s=new o.constructor(o.type,o);WC=s,o.target.dispatchEvent(s),WC=null}else return e=mf(o),e!==null&&V1(e),t.blockedOn=o,!1;e.shift()}return!0}function aO(t,e,o){mk(t)&&o.delete(e)}function roe(){QC=!1,ua!==null&&mk(ua)&&(ua=null),ha!==null&&mk(ha)&&(ha=null),pa!==null&&mk(pa)&&(pa=null),yp.forEach(aO),_p.forEach(aO)}function kh(t,e){t.blockedOn===e&&(t.blockedOn=null,QC||(QC=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,roe)))}function Cp(t){function e(c){return kh(c,t)}if(0<Om.length){kh(Om[0],t);for(var o=1;o<Om.length;o++){var s=Om[o];s.blockedOn===t&&(s.blockedOn=null)}}for(ua!==null&&kh(ua,t),ha!==null&&kh(ha,t),pa!==null&&kh(pa,t),yp.forEach(e),_p.forEach(e),o=0;o<Xs.length;o++)s=Xs[o],s.blockedOn===t&&(s.blockedOn=null);for(;0<Xs.length&&(o=Xs[0],o.blockedOn===null);)Tz(o),o.blockedOn===null&&Xs.shift()}var fd=Rs.ReactCurrentBatchConfig,Qk=!0;function ioe(t,e,o,s){var c=Lt,u=fd.transition;fd.transition=null;try{Lt=1,U1(t,e,o,s)}finally{Lt=c,fd.transition=u}}function soe(t,e,o,s){var c=Lt,u=fd.transition;fd.transition=null;try{Lt=4,U1(t,e,o,s)}finally{Lt=c,fd.transition=u}}function U1(t,e,o,s){if(Qk){var c=ZC(t,e,o,s);if(c===null)R_(t,e,s,Zk,o),sO(t,s);else if(ooe(c,t,e,o,s))s.stopPropagation();else if(sO(t,s),e&4&&-1<noe.indexOf(t)){for(;c!==null;){var u=mf(c);if(u!==null&&Az(u),u=ZC(t,e,o,s),u===null&&R_(t,e,s,Zk,o),u===c)break;c=u}c!==null&&s.stopPropagation()}else R_(t,e,s,null,o)}}var Zk=null;function ZC(t,e,o,s){if(Zk=null,t=z1(s),t=ml(t),t!==null)if(e=Kl(t),e===null)t=null;else if(o=e.tag,o===13){if(t=mz(e),t!==null)return t;t=null}else if(o===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zk=t,null}function Iz(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gne()){case F1:return 1;case vz:return 4;case Kk:case Kne:return 16;case yz:return 536870912;default:return 16}default:return 16}}var sa=null,H1=null,kk=null;function Dz(){if(kk)return kk;var t,e=H1,o=e.length,s,c="value"in sa?sa.value:sa.textContent,u=c.length;for(t=0;t<o&&e[t]===c[t];t++);var p=o-t;for(s=1;s<=p&&e[o-s]===c[u-s];s++);return kk=c.slice(t,1<s?1-s:void 0)}function bk(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bm(){return!0}function lO(){return!1}function yr(t){function e(o,s,c,u,p){this._reactName=o,this._targetInst=c,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(o=t[m],this[m]=o?o(u):u[m]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Bm:lO,this.isPropagationStopped=lO,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bm)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bm)},persist:function(){},isPersistent:Bm}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},W1=yr(nu),gf=pn({},nu,{view:0,detail:0}),aoe=yr(gf),x_,E_,bh,n0=pn({},gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bh&&(bh&&t.type==="mousemove"?(x_=t.screenX-bh.screenX,E_=t.screenY-bh.screenY):E_=x_=0,bh=t),x_)},movementY:function(t){return"movementY"in t?t.movementY:E_}}),cO=yr(n0),loe=pn({},n0,{dataTransfer:0}),coe=yr(loe),doe=pn({},gf,{relatedTarget:0}),S_=yr(doe),uoe=pn({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),hoe=yr(uoe),poe=pn({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),foe=yr(poe),goe=pn({},nu,{data:0}),dO=yr(goe),moe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},koe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},boe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function woe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=boe[t])?!!e[t]:!1}function q1(){return woe}var voe=pn({},gf,{key:function(t){if(t.key){var e=moe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bk(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?koe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q1,charCode:function(t){return t.type==="keypress"?bk(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bk(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yoe=yr(voe),_oe=pn({},n0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uO=yr(_oe),Coe=pn({},gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q1}),Aoe=yr(Coe),xoe=pn({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eoe=yr(xoe),Soe=pn({},n0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Toe=yr(Soe),Ioe=[9,13,27,32],G1=ys&&"CompositionEvent"in window,Yh=null;ys&&"documentMode"in document&&(Yh=document.documentMode);var Doe=ys&&"TextEvent"in window&&!Yh,Mz=ys&&(!G1||Yh&&8<Yh&&11>=Yh),hO=" ",pO=!1;function Pz(t,e){switch(t){case"keyup":return Ioe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xc=!1;function Moe(t,e){switch(t){case"compositionend":return Nz(e);case"keypress":return e.which!==32?null:(pO=!0,hO);case"textInput":return t=e.data,t===hO&&pO?null:t;default:return null}}function Poe(t,e){if(Xc)return t==="compositionend"||!G1&&Pz(t,e)?(t=Dz(),kk=H1=sa=null,Xc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mz&&e.locale!=="ko"?null:e.data;default:return null}}var Noe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Noe[t.type]:e==="textarea"}function Rz(t,e,o,s){uz(s),e=Jk(e,"onChange"),0<e.length&&(o=new W1("onChange","change",null,o,s),t.push({event:o,listeners:e}))}var Qh=null,Ap=null;function Roe(t){Wz(t,0)}function o0(t){var e=nd(t);if(rz(e))return t}function Ooe(t,e){if(t==="change")return e}var Oz=!1;if(ys){var T_;if(ys){var I_="oninput"in document;if(!I_){var gO=document.createElement("div");gO.setAttribute("oninput","return;"),I_=typeof gO.oninput=="function"}T_=I_}else T_=!1;Oz=T_&&(!document.documentMode||9<document.documentMode)}function mO(){Qh&&(Qh.detachEvent("onpropertychange",Bz),Ap=Qh=null)}function Bz(t){if(t.propertyName==="value"&&o0(Ap)){var e=[];Rz(e,Ap,t,z1(t)),gz(Roe,e)}}function Boe(t,e,o){t==="focusin"?(mO(),Qh=e,Ap=o,Qh.attachEvent("onpropertychange",Bz)):t==="focusout"&&mO()}function Loe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return o0(Ap)}function joe(t,e){if(t==="click")return o0(e)}function zoe(t,e){if(t==="input"||t==="change")return o0(e)}function Foe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:Foe;function xp(t,e){if(fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var c=o[s];if(!NC.call(e,c)||!fi(t[c],e[c]))return!1}return!0}function kO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bO(t,e){var o=kO(t);t=0;for(var s;o;){if(o.nodeType===3){if(s=t+o.textContent.length,t<=e&&s>=e)return{node:o,offset:e-t};t=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kO(o)}}function Lz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jz(){for(var t=window,e=Wk();e instanceof t.HTMLIFrameElement;){try{var o=typeof e.contentWindow.location.href=="string"}catch{o=!1}if(o)t=e.contentWindow;else break;e=Wk(t.document)}return e}function K1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $oe(t){var e=jz(),o=t.focusedElem,s=t.selectionRange;if(e!==o&&o&&o.ownerDocument&&Lz(o.ownerDocument.documentElement,o)){if(s!==null&&K1(o)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in o)o.selectionStart=e,o.selectionEnd=Math.min(t,o.value.length);else if(t=(e=o.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,u=Math.min(s.start,c);s=s.end===void 0?u:Math.min(s.end,c),!t.extend&&u>s&&(c=s,s=u,u=c),c=bO(o,u);var p=bO(o,s);c&&p&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),t.removeAllRanges(),u>s?(t.addRange(e),t.extend(p.node,p.offset)):(e.setEnd(p.node,p.offset),t.addRange(e)))}}for(e=[],t=o;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<e.length;o++)t=e[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Voe=ys&&"documentMode"in document&&11>=document.documentMode,ed=null,JC=null,Zh=null,XC=!1;function wO(t,e,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;XC||ed==null||ed!==Wk(s)||(s=ed,"selectionStart"in s&&K1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zh&&xp(Zh,s)||(Zh=s,s=Jk(JC,"onSelect"),0<s.length&&(e=new W1("onSelect","select",null,e,o),t.push({event:e,listeners:s}),e.target=ed)))}function Lm(t,e){var o={};return o[t.toLowerCase()]=e.toLowerCase(),o["Webkit"+t]="webkit"+e,o["Moz"+t]="moz"+e,o}var td={animationend:Lm("Animation","AnimationEnd"),animationiteration:Lm("Animation","AnimationIteration"),animationstart:Lm("Animation","AnimationStart"),transitionend:Lm("Transition","TransitionEnd")},D_={},zz={};ys&&(zz=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function r0(t){if(D_[t])return D_[t];if(!td[t])return t;var e=td[t],o;for(o in e)if(e.hasOwnProperty(o)&&o in zz)return D_[t]=e[o];return t}var Fz=r0("animationend"),$z=r0("animationiteration"),Vz=r0("animationstart"),Uz=r0("transitionend"),Hz=new Map,vO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(t,e){Hz.set(t,e),Gl(e,[t])}for(var M_=0;M_<vO.length;M_++){var P_=vO[M_],Uoe=P_.toLowerCase(),Hoe=P_[0].toUpperCase()+P_.slice(1);Da(Uoe,"on"+Hoe)}Da(Fz,"onAnimationEnd");Da($z,"onAnimationIteration");Da(Vz,"onAnimationStart");Da("dblclick","onDoubleClick");Da("focusin","onFocus");Da("focusout","onBlur");Da(Uz,"onTransitionEnd");Td("onMouseEnter",["mouseout","mouseover"]);Td("onMouseLeave",["mouseout","mouseover"]);Td("onPointerEnter",["pointerout","pointerover"]);Td("onPointerLeave",["pointerout","pointerover"]);Gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Woe=new Set("cancel close invalid load scroll toggle".split(" ").concat(zh));function yO(t,e,o){var s=t.type||"unknown-event";t.currentTarget=o,Une(s,e,void 0,t),t.currentTarget=null}function Wz(t,e){e=(e&4)!==0;for(var o=0;o<t.length;o++){var s=t[o],c=s.event;s=s.listeners;e:{var u=void 0;if(e)for(var p=s.length-1;0<=p;p--){var m=s[p],g=m.instance,w=m.currentTarget;if(m=m.listener,g!==u&&c.isPropagationStopped())break e;yO(c,m,w),u=g}else for(p=0;p<s.length;p++){if(m=s[p],g=m.instance,w=m.currentTarget,m=m.listener,g!==u&&c.isPropagationStopped())break e;yO(c,m,w),u=g}}}if(Gk)throw t=KC,Gk=!1,KC=null,t}function Xt(t,e){var o=e[rA];o===void 0&&(o=e[rA]=new Set);var s=t+"__bubble";o.has(s)||(qz(e,t,2,!1),o.add(s))}function N_(t,e,o){var s=0;e&&(s|=4),qz(o,t,s,e)}var jm="_reactListening"+Math.random().toString(36).slice(2);function Ep(t){if(!t[jm]){t[jm]=!0,Xj.forEach(function(o){o!=="selectionchange"&&(Woe.has(o)||N_(o,!1,t),N_(o,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jm]||(e[jm]=!0,N_("selectionchange",!1,e))}}function qz(t,e,o,s){switch(Iz(e)){case 1:var c=ioe;break;case 4:c=soe;break;default:c=U1}o=c.bind(null,e,o,t),c=void 0,!GC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),s?c!==void 0?t.addEventListener(e,o,{capture:!0,passive:c}):t.addEventListener(e,o,!0):c!==void 0?t.addEventListener(e,o,{passive:c}):t.addEventListener(e,o,!1)}function R_(t,e,o,s,c){var u=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var m=s.stateNode.containerInfo;if(m===c||m.nodeType===8&&m.parentNode===c)break;if(p===4)for(p=s.return;p!==null;){var g=p.tag;if((g===3||g===4)&&(g=p.stateNode.containerInfo,g===c||g.nodeType===8&&g.parentNode===c))return;p=p.return}for(;m!==null;){if(p=ml(m),p===null)return;if(g=p.tag,g===5||g===6){s=u=p;continue e}m=m.parentNode}}s=s.return}gz(function(){var w=u,_=z1(o),C=[];e:{var y=Hz.get(t);if(y!==void 0){var x=W1,S=t;switch(t){case"keypress":if(bk(o)===0)break e;case"keydown":case"keyup":x=yoe;break;case"focusin":S="focus",x=S_;break;case"focusout":S="blur",x=S_;break;case"beforeblur":case"afterblur":x=S_;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=cO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=coe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Aoe;break;case Fz:case $z:case Vz:x=hoe;break;case Uz:x=Eoe;break;case"scroll":x=aoe;break;case"wheel":x=Toe;break;case"copy":case"cut":case"paste":x=foe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=uO}var T=(e&4)!==0,R=!T&&t==="scroll",D=T?y!==null?y+"Capture":null:y;T=[];for(var N=w,O;N!==null;){O=N;var j=O.stateNode;if(O.tag===5&&j!==null&&(O=j,D!==null&&(j=vp(N,D),j!=null&&T.push(Sp(N,j,O)))),R)break;N=N.return}0<T.length&&(y=new x(y,S,null,o,_),C.push({event:y,listeners:T}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",y&&o!==WC&&(S=o.relatedTarget||o.fromElement)&&(ml(S)||S[_s]))break e;if((x||y)&&(y=_.window===_?_:(y=_.ownerDocument)?y.defaultView||y.parentWindow:window,x?(S=o.relatedTarget||o.toElement,x=w,S=S?ml(S):null,S!==null&&(R=Kl(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=w),x!==S)){if(T=cO,j="onMouseLeave",D="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(T=uO,j="onPointerLeave",D="onPointerEnter",N="pointer"),R=x==null?y:nd(x),O=S==null?y:nd(S),y=new T(j,N+"leave",x,o,_),y.target=R,y.relatedTarget=O,j=null,ml(_)===w&&(T=new T(D,N+"enter",S,o,_),T.target=O,T.relatedTarget=R,j=T),R=j,x&&S)t:{for(T=x,D=S,N=0,O=T;O;O=Lc(O))N++;for(O=0,j=D;j;j=Lc(j))O++;for(;0<N-O;)T=Lc(T),N--;for(;0<O-N;)D=Lc(D),O--;for(;N--;){if(T===D||D!==null&&T===D.alternate)break t;T=Lc(T),D=Lc(D)}T=null}else T=null;x!==null&&_O(C,y,x,T,!1),S!==null&&R!==null&&_O(C,R,S,T,!0)}}e:{if(y=w?nd(w):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var $=Ooe;else if(fO(y))if(Oz)$=zoe;else{$=Loe;var H=Boe}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=joe);if($&&($=$(t,w))){Rz(C,$,o,_);break e}H&&H(t,y,w),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&FC(y,"number",y.value)}switch(H=w?nd(w):window,t){case"focusin":(fO(H)||H.contentEditable==="true")&&(ed=H,JC=w,Zh=null);break;case"focusout":Zh=JC=ed=null;break;case"mousedown":XC=!0;break;case"contextmenu":case"mouseup":case"dragend":XC=!1,wO(C,o,_);break;case"selectionchange":if(Voe)break;case"keydown":case"keyup":wO(C,o,_)}var M;if(G1)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Xc?Pz(t,o)&&(U="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(U="onCompositionStart");U&&(Mz&&o.locale!=="ko"&&(Xc||U!=="onCompositionStart"?U==="onCompositionEnd"&&Xc&&(M=Dz()):(sa=_,H1="value"in sa?sa.value:sa.textContent,Xc=!0)),H=Jk(w,U),0<H.length&&(U=new dO(U,t,null,o,_),C.push({event:U,listeners:H}),M?U.data=M:(M=Nz(o),M!==null&&(U.data=M)))),(M=Doe?Moe(t,o):Poe(t,o))&&(w=Jk(w,"onBeforeInput"),0<w.length&&(_=new dO("onBeforeInput","beforeinput",null,o,_),C.push({event:_,listeners:w}),_.data=M))}Wz(C,e)})}function Sp(t,e,o){return{instance:t,listener:e,currentTarget:o}}function Jk(t,e){for(var o=e+"Capture",s=[];t!==null;){var c=t,u=c.stateNode;c.tag===5&&u!==null&&(c=u,u=vp(t,o),u!=null&&s.unshift(Sp(t,u,c)),u=vp(t,e),u!=null&&s.push(Sp(t,u,c))),t=t.return}return s}function Lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _O(t,e,o,s,c){for(var u=e._reactName,p=[];o!==null&&o!==s;){var m=o,g=m.alternate,w=m.stateNode;if(g!==null&&g===s)break;m.tag===5&&w!==null&&(m=w,c?(g=vp(o,u),g!=null&&p.unshift(Sp(o,g,m))):c||(g=vp(o,u),g!=null&&p.push(Sp(o,g,m)))),o=o.return}p.length!==0&&t.push({event:e,listeners:p})}var qoe=/\r\n?/g,Goe=/\u0000|\uFFFD/g;function CO(t){return(typeof t=="string"?t:""+t).replace(qoe,`
`).replace(Goe,"")}function zm(t,e,o){if(e=CO(e),CO(t)!==e&&o)throw Error(ge(425))}function Xk(){}var eA=null,tA=null;function nA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oA=typeof setTimeout=="function"?setTimeout:void 0,Koe=typeof clearTimeout=="function"?clearTimeout:void 0,AO=typeof Promise=="function"?Promise:void 0,Yoe=typeof queueMicrotask=="function"?queueMicrotask:typeof AO<"u"?function(t){return AO.resolve(null).then(t).catch(Qoe)}:oA;function Qoe(t){setTimeout(function(){throw t})}function O_(t,e){var o=e,s=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0){t.removeChild(c),Cp(e);return}s--}else o!=="$"&&o!=="$?"&&o!=="$!"||s++;o=c}while(o);Cp(e)}function fa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(e===0)return t;e--}else o==="/$"&&e++}t=t.previousSibling}return null}var ou=Math.random().toString(36).slice(2),Di="__reactFiber$"+ou,Tp="__reactProps$"+ou,_s="__reactContainer$"+ou,rA="__reactEvents$"+ou,Zoe="__reactListeners$"+ou,Joe="__reactHandles$"+ou;function ml(t){var e=t[Di];if(e)return e;for(var o=t.parentNode;o;){if(e=o[_s]||o[Di]){if(o=e.alternate,e.child!==null||o!==null&&o.child!==null)for(t=xO(t);t!==null;){if(o=t[Di])return o;t=xO(t)}return e}t=o,o=t.parentNode}return null}function mf(t){return t=t[Di]||t[_s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function i0(t){return t[Tp]||null}var iA=[],od=-1;function Ma(t){return{current:t}}function on(t){0>od||(t.current=iA[od],iA[od]=null,od--)}function Yt(t,e){od++,iA[od]=t.current,t.current=e}var Ca={},xo=Ma(Ca),qo=Ma(!1),Pl=Ca;function Id(t,e){var o=t.type.contextTypes;if(!o)return Ca;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var c={},u;for(u in o)c[u]=e[u];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=c),c}function Go(t){return t=t.childContextTypes,t!=null}function eb(){on(qo),on(xo)}function EO(t,e,o){if(xo.current!==Ca)throw Error(ge(168));Yt(xo,e),Yt(qo,o)}function Gz(t,e,o){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return o;s=s.getChildContext();for(var c in s)if(!(c in e))throw Error(ge(108,Bne(t)||"Unknown",c));return pn({},o,s)}function tb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ca,Pl=xo.current,Yt(xo,t),Yt(qo,qo.current),!0}function SO(t,e,o){var s=t.stateNode;if(!s)throw Error(ge(169));o?(t=Gz(t,e,Pl),s.__reactInternalMemoizedMergedChildContext=t,on(qo),on(xo),Yt(xo,t)):on(qo),Yt(qo,o)}var cs=null,s0=!1,B_=!1;function Kz(t){cs===null?cs=[t]:cs.push(t)}function Xoe(t){s0=!0,Kz(t)}function Pa(){if(!B_&&cs!==null){B_=!0;var t=0,e=Lt;try{var o=cs;for(Lt=1;t<o.length;t++){var s=o[t];do s=s(!0);while(s!==null)}cs=null,s0=!1}catch(c){throw cs!==null&&(cs=cs.slice(t+1)),wz(F1,Pa),c}finally{Lt=e,B_=!1}}return null}var rd=[],id=0,nb=null,ob=0,Nr=[],Rr=0,Nl=null,ps=1,fs="";function ul(t,e){rd[id++]=ob,rd[id++]=nb,nb=t,ob=e}function Yz(t,e,o){Nr[Rr++]=ps,Nr[Rr++]=fs,Nr[Rr++]=Nl,Nl=t;var s=ps;t=fs;var c=32-hi(s)-1;s&=~(1<<c),o+=1;var u=32-hi(e)+c;if(30<u){var p=c-c%5;u=(s&(1<<p)-1).toString(32),s>>=p,c-=p,ps=1<<32-hi(e)+c|o<<c|s,fs=u+t}else ps=1<<u|o<<c|s,fs=t}function Y1(t){t.return!==null&&(ul(t,1),Yz(t,1,0))}function Q1(t){for(;t===nb;)nb=rd[--id],rd[id]=null,ob=rd[--id],rd[id]=null;for(;t===Nl;)Nl=Nr[--Rr],Nr[Rr]=null,fs=Nr[--Rr],Nr[Rr]=null,ps=Nr[--Rr],Nr[Rr]=null}var gr=null,hr=null,cn=!1,ui=null;function Qz(t,e){var o=Lr(5,null,null,0);o.elementType="DELETED",o.stateNode=e,o.return=t,e=t.deletions,e===null?(t.deletions=[o],t.flags|=16):e.push(o)}function TO(t,e){switch(t.tag){case 5:var o=t.type;return e=e.nodeType!==1||o.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gr=t,hr=fa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(o=Nl!==null?{id:ps,overflow:fs}:null,t.memoizedState={dehydrated:e,treeContext:o,retryLane:1073741824},o=Lr(18,null,null,0),o.stateNode=e,o.return=t,t.child=o,gr=t,hr=null,!0):!1;default:return!1}}function sA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function aA(t){if(cn){var e=hr;if(e){var o=e;if(!TO(t,e)){if(sA(t))throw Error(ge(418));e=fa(o.nextSibling);var s=gr;e&&TO(t,e)?Qz(s,o):(t.flags=t.flags&-4097|2,cn=!1,gr=t)}}else{if(sA(t))throw Error(ge(418));t.flags=t.flags&-4097|2,cn=!1,gr=t}}}function IO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gr=t}function Fm(t){if(t!==gr)return!1;if(!cn)return IO(t),cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nA(t.type,t.memoizedProps)),e&&(e=hr)){if(sA(t))throw Zz(),Error(ge(418));for(;e;)Qz(t,e),e=fa(e.nextSibling)}if(IO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(e===0){hr=fa(t.nextSibling);break e}e--}else o!=="$"&&o!=="$!"&&o!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=gr?fa(t.stateNode.nextSibling):null;return!0}function Zz(){for(var t=hr;t;)t=fa(t.nextSibling)}function Dd(){hr=gr=null,cn=!1}function Z1(t){ui===null?ui=[t]:ui.push(t)}var ere=Rs.ReactCurrentBatchConfig;function wh(t,e,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(ge(309));var s=o.stateNode}if(!s)throw Error(ge(147,t));var c=s,u=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===u?e.ref:(e=function(p){var m=c.refs;p===null?delete m[u]:m[u]=p},e._stringRef=u,e)}if(typeof t!="string")throw Error(ge(284));if(!o._owner)throw Error(ge(290,t))}return t}function $m(t,e){throw t=Object.prototype.toString.call(e),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DO(t){var e=t._init;return e(t._payload)}function Jz(t){function e(D,N){if(t){var O=D.deletions;O===null?(D.deletions=[N],D.flags|=16):O.push(N)}}function o(D,N){if(!t)return null;for(;N!==null;)e(D,N),N=N.sibling;return null}function s(D,N){for(D=new Map;N!==null;)N.key!==null?D.set(N.key,N):D.set(N.index,N),N=N.sibling;return D}function c(D,N){return D=ba(D,N),D.index=0,D.sibling=null,D}function u(D,N,O){return D.index=O,t?(O=D.alternate,O!==null?(O=O.index,O<N?(D.flags|=2,N):O):(D.flags|=2,N)):(D.flags|=1048576,N)}function p(D){return t&&D.alternate===null&&(D.flags|=2),D}function m(D,N,O,j){return N===null||N.tag!==6?(N=U_(O,D.mode,j),N.return=D,N):(N=c(N,O),N.return=D,N)}function g(D,N,O,j){var $=O.type;return $===Jc?_(D,N,O.props.children,j,O.key):N!==null&&(N.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Zs&&DO($)===N.type)?(j=c(N,O.props),j.ref=wh(D,N,O),j.return=D,j):(j=xk(O.type,O.key,O.props,null,D.mode,j),j.ref=wh(D,N,O),j.return=D,j)}function w(D,N,O,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==O.containerInfo||N.stateNode.implementation!==O.implementation?(N=H_(O,D.mode,j),N.return=D,N):(N=c(N,O.children||[]),N.return=D,N)}function _(D,N,O,j,$){return N===null||N.tag!==7?(N=El(O,D.mode,j,$),N.return=D,N):(N=c(N,O),N.return=D,N)}function C(D,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return N=U_(""+N,D.mode,O),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Dm:return O=xk(N.type,N.key,N.props,null,D.mode,O),O.ref=wh(D,null,N),O.return=D,O;case Zc:return N=H_(N,D.mode,O),N.return=D,N;case Zs:var j=N._init;return C(D,j(N._payload),O)}if(Lh(N)||fh(N))return N=El(N,D.mode,O,null),N.return=D,N;$m(D,N)}return null}function y(D,N,O,j){var $=N!==null?N.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return $!==null?null:m(D,N,""+O,j);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Dm:return O.key===$?g(D,N,O,j):null;case Zc:return O.key===$?w(D,N,O,j):null;case Zs:return $=O._init,y(D,N,$(O._payload),j)}if(Lh(O)||fh(O))return $!==null?null:_(D,N,O,j,null);$m(D,O)}return null}function x(D,N,O,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return D=D.get(O)||null,m(N,D,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Dm:return D=D.get(j.key===null?O:j.key)||null,g(N,D,j,$);case Zc:return D=D.get(j.key===null?O:j.key)||null,w(N,D,j,$);case Zs:var H=j._init;return x(D,N,O,H(j._payload),$)}if(Lh(j)||fh(j))return D=D.get(O)||null,_(N,D,j,$,null);$m(N,j)}return null}function S(D,N,O,j){for(var $=null,H=null,M=N,U=N=0,G=null;M!==null&&U<O.length;U++){M.index>U?(G=M,M=null):G=M.sibling;var Y=y(D,M,O[U],j);if(Y===null){M===null&&(M=G);break}t&&M&&Y.alternate===null&&e(D,M),N=u(Y,N,U),H===null?$=Y:H.sibling=Y,H=Y,M=G}if(U===O.length)return o(D,M),cn&&ul(D,U),$;if(M===null){for(;U<O.length;U++)M=C(D,O[U],j),M!==null&&(N=u(M,N,U),H===null?$=M:H.sibling=M,H=M);return cn&&ul(D,U),$}for(M=s(D,M);U<O.length;U++)G=x(M,D,U,O[U],j),G!==null&&(t&&G.alternate!==null&&M.delete(G.key===null?U:G.key),N=u(G,N,U),H===null?$=G:H.sibling=G,H=G);return t&&M.forEach(function(Z){return e(D,Z)}),cn&&ul(D,U),$}function T(D,N,O,j){var $=fh(O);if(typeof $!="function")throw Error(ge(150));if(O=$.call(O),O==null)throw Error(ge(151));for(var H=$=null,M=N,U=N=0,G=null,Y=O.next();M!==null&&!Y.done;U++,Y=O.next()){M.index>U?(G=M,M=null):G=M.sibling;var Z=y(D,M,Y.value,j);if(Z===null){M===null&&(M=G);break}t&&M&&Z.alternate===null&&e(D,M),N=u(Z,N,U),H===null?$=Z:H.sibling=Z,H=Z,M=G}if(Y.done)return o(D,M),cn&&ul(D,U),$;if(M===null){for(;!Y.done;U++,Y=O.next())Y=C(D,Y.value,j),Y!==null&&(N=u(Y,N,U),H===null?$=Y:H.sibling=Y,H=Y);return cn&&ul(D,U),$}for(M=s(D,M);!Y.done;U++,Y=O.next())Y=x(M,D,U,Y.value,j),Y!==null&&(t&&Y.alternate!==null&&M.delete(Y.key===null?U:Y.key),N=u(Y,N,U),H===null?$=Y:H.sibling=Y,H=Y);return t&&M.forEach(function(re){return e(D,re)}),cn&&ul(D,U),$}function R(D,N,O,j){if(typeof O=="object"&&O!==null&&O.type===Jc&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Dm:e:{for(var $=O.key,H=N;H!==null;){if(H.key===$){if($=O.type,$===Jc){if(H.tag===7){o(D,H.sibling),N=c(H,O.props.children),N.return=D,D=N;break e}}else if(H.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Zs&&DO($)===H.type){o(D,H.sibling),N=c(H,O.props),N.ref=wh(D,H,O),N.return=D,D=N;break e}o(D,H);break}else e(D,H);H=H.sibling}O.type===Jc?(N=El(O.props.children,D.mode,j,O.key),N.return=D,D=N):(j=xk(O.type,O.key,O.props,null,D.mode,j),j.ref=wh(D,N,O),j.return=D,D=j)}return p(D);case Zc:e:{for(H=O.key;N!==null;){if(N.key===H)if(N.tag===4&&N.stateNode.containerInfo===O.containerInfo&&N.stateNode.implementation===O.implementation){o(D,N.sibling),N=c(N,O.children||[]),N.return=D,D=N;break e}else{o(D,N);break}else e(D,N);N=N.sibling}N=H_(O,D.mode,j),N.return=D,D=N}return p(D);case Zs:return H=O._init,R(D,N,H(O._payload),j)}if(Lh(O))return S(D,N,O,j);if(fh(O))return T(D,N,O,j);$m(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,N!==null&&N.tag===6?(o(D,N.sibling),N=c(N,O),N.return=D,D=N):(o(D,N),N=U_(O,D.mode,j),N.return=D,D=N),p(D)):o(D,N)}return R}var Md=Jz(!0),Xz=Jz(!1),rb=Ma(null),ib=null,sd=null,J1=null;function X1(){J1=sd=ib=null}function ex(t){var e=rb.current;on(rb),t._currentValue=e}function lA(t,e,o){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===o)break;t=t.return}}function gd(t,e){ib=t,J1=sd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wo=!0),t.firstContext=null)}function Vr(t){var e=t._currentValue;if(J1!==t)if(t={context:t,memoizedValue:e,next:null},sd===null){if(ib===null)throw Error(ge(308));sd=t,ib.dependencies={lanes:0,firstContext:t}}else sd=sd.next=t;return e}var kl=null;function tx(t){kl===null?kl=[t]:kl.push(t)}function e6(t,e,o,s){var c=e.interleaved;return c===null?(o.next=o,tx(e)):(o.next=c.next,c.next=o),e.interleaved=o,Cs(t,s)}function Cs(t,e){t.lanes|=e;var o=t.alternate;for(o!==null&&(o.lanes|=e),o=t,t=t.return;t!==null;)t.childLanes|=e,o=t.alternate,o!==null&&(o.childLanes|=e),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Js=!1;function nx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ga(t,e,o){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,xt&2){var c=s.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),s.pending=e,Cs(t,o)}return c=s.interleaved,c===null?(e.next=e,tx(s)):(e.next=c.next,c.next=e),s.interleaved=e,Cs(t,o)}function wk(t,e,o){if(e=e.updateQueue,e!==null&&(e=e.shared,(o&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,o|=s,e.lanes=o,$1(t,o)}}function MO(t,e){var o=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var c=null,u=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};u===null?c=u=p:u=u.next=p,o=o.next}while(o!==null);u===null?c=u=e:u=u.next=e}else c=u=e;o={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:s.shared,effects:s.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=e:t.next=e,o.lastBaseUpdate=e}function sb(t,e,o,s){var c=t.updateQueue;Js=!1;var u=c.firstBaseUpdate,p=c.lastBaseUpdate,m=c.shared.pending;if(m!==null){c.shared.pending=null;var g=m,w=g.next;g.next=null,p===null?u=w:p.next=w,p=g;var _=t.alternate;_!==null&&(_=_.updateQueue,m=_.lastBaseUpdate,m!==p&&(m===null?_.firstBaseUpdate=w:m.next=w,_.lastBaseUpdate=g))}if(u!==null){var C=c.baseState;p=0,_=w=g=null,m=u;do{var y=m.lane,x=m.eventTime;if((s&y)===y){_!==null&&(_=_.next={eventTime:x,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var S=t,T=m;switch(y=e,x=o,T.tag){case 1:if(S=T.payload,typeof S=="function"){C=S.call(x,C,y);break e}C=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,y=typeof S=="function"?S.call(x,C,y):S,y==null)break e;C=pn({},C,y);break e;case 2:Js=!0}}m.callback!==null&&m.lane!==0&&(t.flags|=64,y=c.effects,y===null?c.effects=[m]:y.push(m))}else x={eventTime:x,lane:y,tag:m.tag,payload:m.payload,callback:m.callback,next:null},_===null?(w=_=x,g=C):_=_.next=x,p|=y;if(m=m.next,m===null){if(m=c.shared.pending,m===null)break;y=m,m=y.next,y.next=null,c.lastBaseUpdate=y,c.shared.pending=null}}while(!0);if(_===null&&(g=C),c.baseState=g,c.firstBaseUpdate=w,c.lastBaseUpdate=_,e=c.shared.interleaved,e!==null){c=e;do p|=c.lane,c=c.next;while(c!==e)}else u===null&&(c.shared.lanes=0);Ol|=p,t.lanes=p,t.memoizedState=C}}function PO(t,e,o){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],c=s.callback;if(c!==null){if(s.callback=null,s=o,typeof c!="function")throw Error(ge(191,c));c.call(s)}}}var kf={},Bi=Ma(kf),Ip=Ma(kf),Dp=Ma(kf);function bl(t){if(t===kf)throw Error(ge(174));return t}function ox(t,e){switch(Yt(Dp,e),Yt(Ip,t),Yt(Bi,kf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:VC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=VC(e,t)}on(Bi),Yt(Bi,e)}function Pd(){on(Bi),on(Ip),on(Dp)}function n6(t){bl(Dp.current);var e=bl(Bi.current),o=VC(e,t.type);e!==o&&(Yt(Ip,t),Yt(Bi,o))}function rx(t){Ip.current===t&&(on(Bi),on(Ip))}var dn=Ma(0);function ab(t){for(var e=t;e!==null;){if(e.tag===13){var o=e.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var L_=[];function ix(){for(var t=0;t<L_.length;t++)L_[t]._workInProgressVersionPrimary=null;L_.length=0}var vk=Rs.ReactCurrentDispatcher,j_=Rs.ReactCurrentBatchConfig,Rl=0,un=null,$n=null,Qn=null,lb=!1,Jh=!1,Mp=0,tre=0;function po(){throw Error(ge(321))}function sx(t,e){if(e===null)return!1;for(var o=0;o<e.length&&o<t.length;o++)if(!fi(t[o],e[o]))return!1;return!0}function ax(t,e,o,s,c,u){if(Rl=u,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vk.current=t===null||t.memoizedState===null?ire:sre,t=o(s,c),Jh){u=0;do{if(Jh=!1,Mp=0,25<=u)throw Error(ge(301));u+=1,Qn=$n=null,e.updateQueue=null,vk.current=are,t=o(s,c)}while(Jh)}if(vk.current=cb,e=$n!==null&&$n.next!==null,Rl=0,Qn=$n=un=null,lb=!1,e)throw Error(ge(300));return t}function lx(){var t=Mp!==0;return Mp=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?un.memoizedState=Qn=t:Qn=Qn.next=t,Qn}function Ur(){if($n===null){var t=un.alternate;t=t!==null?t.memoizedState:null}else t=$n.next;var e=Qn===null?un.memoizedState:Qn.next;if(e!==null)Qn=e,$n=t;else{if(t===null)throw Error(ge(310));$n=t,t={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Qn===null?un.memoizedState=Qn=t:Qn=Qn.next=t}return Qn}function Pp(t,e){return typeof e=="function"?e(t):e}function z_(t){var e=Ur(),o=e.queue;if(o===null)throw Error(ge(311));o.lastRenderedReducer=t;var s=$n,c=s.baseQueue,u=o.pending;if(u!==null){if(c!==null){var p=c.next;c.next=u.next,u.next=p}s.baseQueue=c=u,o.pending=null}if(c!==null){u=c.next,s=s.baseState;var m=p=null,g=null,w=u;do{var _=w.lane;if((Rl&_)===_)g!==null&&(g=g.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),s=w.hasEagerState?w.eagerState:t(s,w.action);else{var C={lane:_,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};g===null?(m=g=C,p=s):g=g.next=C,un.lanes|=_,Ol|=_}w=w.next}while(w!==null&&w!==u);g===null?p=s:g.next=m,fi(s,e.memoizedState)||(Wo=!0),e.memoizedState=s,e.baseState=p,e.baseQueue=g,o.lastRenderedState=s}if(t=o.interleaved,t!==null){c=t;do u=c.lane,un.lanes|=u,Ol|=u,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[e.memoizedState,o.dispatch]}function F_(t){var e=Ur(),o=e.queue;if(o===null)throw Error(ge(311));o.lastRenderedReducer=t;var s=o.dispatch,c=o.pending,u=e.memoizedState;if(c!==null){o.pending=null;var p=c=c.next;do u=t(u,p.action),p=p.next;while(p!==c);fi(u,e.memoizedState)||(Wo=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),o.lastRenderedState=u}return[u,s]}function o6(){}function r6(t,e){var o=un,s=Ur(),c=e(),u=!fi(s.memoizedState,c);if(u&&(s.memoizedState=c,Wo=!0),s=s.queue,cx(a6.bind(null,o,s,t),[t]),s.getSnapshot!==e||u||Qn!==null&&Qn.memoizedState.tag&1){if(o.flags|=2048,Np(9,s6.bind(null,o,s,c,e),void 0,null),Jn===null)throw Error(ge(349));Rl&30||i6(o,e,c)}return c}function i6(t,e,o){t.flags|=16384,t={getSnapshot:e,value:o},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[t]):(o=e.stores,o===null?e.stores=[t]:o.push(t))}function s6(t,e,o,s){e.value=o,e.getSnapshot=s,l6(e)&&c6(t)}function a6(t,e,o){return o(function(){l6(e)&&c6(t)})}function l6(t){var e=t.getSnapshot;t=t.value;try{var o=e();return!fi(t,o)}catch{return!0}}function c6(t){var e=Cs(t,1);e!==null&&pi(e,t,1,-1)}function NO(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:t},e.queue=t,t=t.dispatch=rre.bind(null,un,t),[e.memoizedState,t]}function Np(t,e,o,s){return t={tag:t,create:e,destroy:o,deps:s,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=t.next=t):(o=e.lastEffect,o===null?e.lastEffect=t.next=t:(s=o.next,o.next=t,t.next=s,e.lastEffect=t)),t}function d6(){return Ur().memoizedState}function yk(t,e,o,s){var c=Si();un.flags|=t,c.memoizedState=Np(1|e,o,void 0,s===void 0?null:s)}function a0(t,e,o,s){var c=Ur();s=s===void 0?null:s;var u=void 0;if($n!==null){var p=$n.memoizedState;if(u=p.destroy,s!==null&&sx(s,p.deps)){c.memoizedState=Np(e,o,u,s);return}}un.flags|=t,c.memoizedState=Np(1|e,o,u,s)}function RO(t,e){return yk(8390656,8,t,e)}function cx(t,e){return a0(2048,8,t,e)}function u6(t,e){return a0(4,2,t,e)}function h6(t,e){return a0(4,4,t,e)}function p6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f6(t,e,o){return o=o!=null?o.concat([t]):null,a0(4,4,p6.bind(null,e,t),o)}function dx(){}function g6(t,e){var o=Ur();e=e===void 0?null:e;var s=o.memoizedState;return s!==null&&e!==null&&sx(e,s[1])?s[0]:(o.memoizedState=[t,e],t)}function m6(t,e){var o=Ur();e=e===void 0?null:e;var s=o.memoizedState;return s!==null&&e!==null&&sx(e,s[1])?s[0]:(t=t(),o.memoizedState=[t,e],t)}function k6(t,e,o){return Rl&21?(fi(o,e)||(o=_z(),un.lanes|=o,Ol|=o,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wo=!0),t.memoizedState=o)}function nre(t,e){var o=Lt;Lt=o!==0&&4>o?o:4,t(!0);var s=j_.transition;j_.transition={};try{t(!1),e()}finally{Lt=o,j_.transition=s}}function b6(){return Ur().memoizedState}function ore(t,e,o){var s=ka(t);if(o={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null},w6(t))v6(e,o);else if(o=e6(t,e,o,s),o!==null){var c=No();pi(o,t,s,c),y6(o,e,s)}}function rre(t,e,o){var s=ka(t),c={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null};if(w6(t))v6(e,c);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var p=e.lastRenderedState,m=u(p,o);if(c.hasEagerState=!0,c.eagerState=m,fi(m,p)){var g=e.interleaved;g===null?(c.next=c,tx(e)):(c.next=g.next,g.next=c),e.interleaved=c;return}}catch{}finally{}o=e6(t,e,c,s),o!==null&&(c=No(),pi(o,t,s,c),y6(o,e,s))}}function w6(t){var e=t.alternate;return t===un||e!==null&&e===un}function v6(t,e){Jh=lb=!0;var o=t.pending;o===null?e.next=e:(e.next=o.next,o.next=e),t.pending=e}function y6(t,e,o){if(o&4194240){var s=e.lanes;s&=t.pendingLanes,o|=s,e.lanes=o,$1(t,o)}}var cb={readContext:Vr,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},ire={readContext:Vr,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:Vr,useEffect:RO,useImperativeHandle:function(t,e,o){return o=o!=null?o.concat([t]):null,yk(4194308,4,p6.bind(null,e,t),o)},useLayoutEffect:function(t,e){return yk(4194308,4,t,e)},useInsertionEffect:function(t,e){return yk(4,2,t,e)},useMemo:function(t,e){var o=Si();return e=e===void 0?null:e,t=t(),o.memoizedState=[t,e],t},useReducer:function(t,e,o){var s=Si();return e=o!==void 0?o(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=ore.bind(null,un,t),[s.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:NO,useDebugValue:dx,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=NO(!1),e=t[0];return t=nre.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,o){var s=un,c=Si();if(cn){if(o===void 0)throw Error(ge(407));o=o()}else{if(o=e(),Jn===null)throw Error(ge(349));Rl&30||i6(s,e,o)}c.memoizedState=o;var u={value:o,getSnapshot:e};return c.queue=u,RO(a6.bind(null,s,u,t),[t]),s.flags|=2048,Np(9,s6.bind(null,s,u,o,e),void 0,null),o},useId:function(){var t=Si(),e=Jn.identifierPrefix;if(cn){var o=fs,s=ps;o=(s&~(1<<32-hi(s)-1)).toString(32)+o,e=":"+e+"R"+o,o=Mp++,0<o&&(e+="H"+o.toString(32)),e+=":"}else o=tre++,e=":"+e+"r"+o.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sre={readContext:Vr,useCallback:g6,useContext:Vr,useEffect:cx,useImperativeHandle:f6,useInsertionEffect:u6,useLayoutEffect:h6,useMemo:m6,useReducer:z_,useRef:d6,useState:function(){return z_(Pp)},useDebugValue:dx,useDeferredValue:function(t){var e=Ur();return k6(e,$n.memoizedState,t)},useTransition:function(){var t=z_(Pp)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:o6,useSyncExternalStore:r6,useId:b6,unstable_isNewReconciler:!1},are={readContext:Vr,useCallback:g6,useContext:Vr,useEffect:cx,useImperativeHandle:f6,useInsertionEffect:u6,useLayoutEffect:h6,useMemo:m6,useReducer:F_,useRef:d6,useState:function(){return F_(Pp)},useDebugValue:dx,useDeferredValue:function(t){var e=Ur();return $n===null?e.memoizedState=t:k6(e,$n.memoizedState,t)},useTransition:function(){var t=F_(Pp)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:o6,useSyncExternalStore:r6,useId:b6,unstable_isNewReconciler:!1};function ci(t,e){if(t&&t.defaultProps){e=pn({},e),t=t.defaultProps;for(var o in t)e[o]===void 0&&(e[o]=t[o]);return e}return e}function cA(t,e,o,s){e=t.memoizedState,o=o(s,e),o=o==null?e:pn({},e,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var l0={isMounted:function(t){return(t=t._reactInternals)?Kl(t)===t:!1},enqueueSetState:function(t,e,o){t=t._reactInternals;var s=No(),c=ka(t),u=bs(s,c);u.payload=e,o!=null&&(u.callback=o),e=ga(t,u,c),e!==null&&(pi(e,t,c,s),wk(e,t,c))},enqueueReplaceState:function(t,e,o){t=t._reactInternals;var s=No(),c=ka(t),u=bs(s,c);u.tag=1,u.payload=e,o!=null&&(u.callback=o),e=ga(t,u,c),e!==null&&(pi(e,t,c,s),wk(e,t,c))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var o=No(),s=ka(t),c=bs(o,s);c.tag=2,e!=null&&(c.callback=e),e=ga(t,c,s),e!==null&&(pi(e,t,s,o),wk(e,t,s))}};function OO(t,e,o,s,c,u,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,u,p):e.prototype&&e.prototype.isPureReactComponent?!xp(o,s)||!xp(c,u):!0}function _6(t,e,o){var s=!1,c=Ca,u=e.contextType;return typeof u=="object"&&u!==null?u=Vr(u):(c=Go(e)?Pl:xo.current,s=e.contextTypes,u=(s=s!=null)?Id(t,c):Ca),e=new e(o,u),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=l0,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=u),e}function BO(t,e,o,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(o,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(o,s),e.state!==t&&l0.enqueueReplaceState(e,e.state,null)}function dA(t,e,o,s){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},nx(t);var u=e.contextType;typeof u=="object"&&u!==null?c.context=Vr(u):(u=Go(e)?Pl:xo.current,c.context=Id(t,u)),c.state=t.memoizedState,u=e.getDerivedStateFromProps,typeof u=="function"&&(cA(t,e,u,o),c.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(e=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),e!==c.state&&l0.enqueueReplaceState(c,c.state,null),sb(t,o,c,s),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Nd(t,e){try{var o="",s=e;do o+=One(s),s=s.return;while(s);var c=o}catch(u){c=`
Error generating stack: `+u.message+`
`+u.stack}return{value:t,source:e,stack:c,digest:null}}function $_(t,e,o){return{value:t,source:null,stack:o??null,digest:e??null}}function uA(t,e){try{console.error(e.value)}catch(o){setTimeout(function(){throw o})}}var lre=typeof WeakMap=="function"?WeakMap:Map;function C6(t,e,o){o=bs(-1,o),o.tag=3,o.payload={element:null};var s=e.value;return o.callback=function(){ub||(ub=!0,yA=s),uA(t,e)},o}function A6(t,e,o){o=bs(-1,o),o.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var c=e.value;o.payload=function(){return s(c)},o.callback=function(){uA(t,e)}}var u=t.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(o.callback=function(){uA(t,e),typeof s!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var p=e.stack;this.componentDidCatch(e.value,{componentStack:p!==null?p:""})}),o}function LO(t,e,o){var s=t.pingCache;if(s===null){s=t.pingCache=new lre;var c=new Set;s.set(e,c)}else c=s.get(e),c===void 0&&(c=new Set,s.set(e,c));c.has(o)||(c.add(o),t=_re.bind(null,t,e,o),e.then(t,t))}function jO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zO(t,e,o,s,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===e?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(e=bs(-1,1),e.tag=2,ga(o,e,1))),o.lanes|=1),t)}var cre=Rs.ReactCurrentOwner,Wo=!1;function Mo(t,e,o,s){e.child=t===null?Xz(e,null,o,s):Md(e,t.child,o,s)}function FO(t,e,o,s,c){o=o.render;var u=e.ref;return gd(e,c),s=ax(t,e,o,s,u,c),o=lx(),t!==null&&!Wo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~c,As(t,e,c)):(cn&&o&&Y1(e),e.flags|=1,Mo(t,e,s,c),e.child)}function $O(t,e,o,s,c){if(t===null){var u=o.type;return typeof u=="function"&&!bx(u)&&u.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(e.tag=15,e.type=u,x6(t,e,u,s,c)):(t=xk(o.type,null,s,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!(t.lanes&c)){var p=u.memoizedProps;if(o=o.compare,o=o!==null?o:xp,o(p,s)&&t.ref===e.ref)return As(t,e,c)}return e.flags|=1,t=ba(u,s),t.ref=e.ref,t.return=e,e.child=t}function x6(t,e,o,s,c){if(t!==null){var u=t.memoizedProps;if(xp(u,s)&&t.ref===e.ref)if(Wo=!1,e.pendingProps=s=u,(t.lanes&c)!==0)t.flags&131072&&(Wo=!0);else return e.lanes=t.lanes,As(t,e,c)}return hA(t,e,o,s,c)}function E6(t,e,o){var s=e.pendingProps,c=s.children,u=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(ld,cr),cr|=o;else{if(!(o&1073741824))return t=u!==null?u.baseLanes|o:o,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yt(ld,cr),cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:o,Yt(ld,cr),cr|=s}else u!==null?(s=u.baseLanes|o,e.memoizedState=null):s=o,Yt(ld,cr),cr|=s;return Mo(t,e,c,o),e.child}function S6(t,e){var o=e.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(e.flags|=512,e.flags|=2097152)}function hA(t,e,o,s,c){var u=Go(o)?Pl:xo.current;return u=Id(e,u),gd(e,c),o=ax(t,e,o,s,u,c),s=lx(),t!==null&&!Wo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~c,As(t,e,c)):(cn&&s&&Y1(e),e.flags|=1,Mo(t,e,o,c),e.child)}function VO(t,e,o,s,c){if(Go(o)){var u=!0;tb(e)}else u=!1;if(gd(e,c),e.stateNode===null)_k(t,e),_6(e,o,s),dA(e,o,s,c),s=!0;else if(t===null){var p=e.stateNode,m=e.memoizedProps;p.props=m;var g=p.context,w=o.contextType;typeof w=="object"&&w!==null?w=Vr(w):(w=Go(o)?Pl:xo.current,w=Id(e,w));var _=o.getDerivedStateFromProps,C=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function";C||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==s||g!==w)&&BO(e,p,s,w),Js=!1;var y=e.memoizedState;p.state=y,sb(e,s,p,c),g=e.memoizedState,m!==s||y!==g||qo.current||Js?(typeof _=="function"&&(cA(e,o,_,s),g=e.memoizedState),(m=Js||OO(e,o,m,s,y,g,w))?(C||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(e.flags|=4194308)):(typeof p.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=g),p.props=s,p.state=g,p.context=w,s=m):(typeof p.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{p=e.stateNode,t6(t,e),m=e.memoizedProps,w=e.type===e.elementType?m:ci(e.type,m),p.props=w,C=e.pendingProps,y=p.context,g=o.contextType,typeof g=="object"&&g!==null?g=Vr(g):(g=Go(o)?Pl:xo.current,g=Id(e,g));var x=o.getDerivedStateFromProps;(_=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==C||y!==g)&&BO(e,p,s,g),Js=!1,y=e.memoizedState,p.state=y,sb(e,s,p,c);var S=e.memoizedState;m!==C||y!==S||qo.current||Js?(typeof x=="function"&&(cA(e,o,x,s),S=e.memoizedState),(w=Js||OO(e,o,w,s,y,S,g)||!1)?(_||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,S,g),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,S,g)),typeof p.componentDidUpdate=="function"&&(e.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof p.componentDidUpdate!="function"||m===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=S),p.props=s,p.state=S,p.context=g,s=w):(typeof p.componentDidUpdate!="function"||m===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),s=!1)}return pA(t,e,o,s,u,c)}function pA(t,e,o,s,c,u){S6(t,e);var p=(e.flags&128)!==0;if(!s&&!p)return c&&SO(e,o,!1),As(t,e,u);s=e.stateNode,cre.current=e;var m=p&&typeof o.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&p?(e.child=Md(e,t.child,null,u),e.child=Md(e,null,m,u)):Mo(t,e,m,u),e.memoizedState=s.state,c&&SO(e,o,!0),e.child}function T6(t){var e=t.stateNode;e.pendingContext?EO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EO(t,e.context,!1),ox(t,e.containerInfo)}function UO(t,e,o,s,c){return Dd(),Z1(c),e.flags|=256,Mo(t,e,o,s),e.child}var fA={dehydrated:null,treeContext:null,retryLane:0};function gA(t){return{baseLanes:t,cachePool:null,transitions:null}}function I6(t,e,o){var s=e.pendingProps,c=dn.current,u=!1,p=(e.flags&128)!==0,m;if((m=p)||(m=t!==null&&t.memoizedState===null?!1:(c&2)!==0),m?(u=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Yt(dn,c&1),t===null)return aA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(p=s.children,t=s.fallback,u?(s=e.mode,u=e.child,p={mode:"hidden",children:p},!(s&1)&&u!==null?(u.childLanes=0,u.pendingProps=p):u=u0(p,s,0,null),t=El(t,s,o,null),u.return=e,t.return=e,u.sibling=t,e.child=u,e.child.memoizedState=gA(o),e.memoizedState=fA,t):ux(e,p));if(c=t.memoizedState,c!==null&&(m=c.dehydrated,m!==null))return dre(t,e,p,s,m,c,o);if(u){u=s.fallback,p=e.mode,c=t.child,m=c.sibling;var g={mode:"hidden",children:s.children};return!(p&1)&&e.child!==c?(s=e.child,s.childLanes=0,s.pendingProps=g,e.deletions=null):(s=ba(c,g),s.subtreeFlags=c.subtreeFlags&14680064),m!==null?u=ba(m,u):(u=El(u,p,o,null),u.flags|=2),u.return=e,s.return=e,s.sibling=u,e.child=s,s=u,u=e.child,p=t.child.memoizedState,p=p===null?gA(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=t.childLanes&~o,e.memoizedState=fA,s}return u=t.child,t=u.sibling,s=ba(u,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=o),s.return=e,s.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=s,e.memoizedState=null,s}function ux(t,e){return e=u0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vm(t,e,o,s){return s!==null&&Z1(s),Md(e,t.child,null,o),t=ux(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dre(t,e,o,s,c,u,p){if(o)return e.flags&256?(e.flags&=-257,s=$_(Error(ge(422))),Vm(t,e,p,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(u=s.fallback,c=e.mode,s=u0({mode:"visible",children:s.children},c,0,null),u=El(u,c,p,null),u.flags|=2,s.return=e,u.return=e,s.sibling=u,e.child=s,e.mode&1&&Md(e,t.child,null,p),e.child.memoizedState=gA(p),e.memoizedState=fA,u);if(!(e.mode&1))return Vm(t,e,p,null);if(c.data==="$!"){if(s=c.nextSibling&&c.nextSibling.dataset,s)var m=s.dgst;return s=m,u=Error(ge(419)),s=$_(u,s,void 0),Vm(t,e,p,s)}if(m=(p&t.childLanes)!==0,Wo||m){if(s=Jn,s!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(s.suspendedLanes|p)?0:c,c!==0&&c!==u.retryLane&&(u.retryLane=c,Cs(t,c),pi(s,t,c,-1))}return kx(),s=$_(Error(ge(421))),Vm(t,e,p,s)}return c.data==="$?"?(e.flags|=128,e.child=t.child,e=Cre.bind(null,t),c._reactRetry=e,null):(t=u.treeContext,hr=fa(c.nextSibling),gr=e,cn=!0,ui=null,t!==null&&(Nr[Rr++]=ps,Nr[Rr++]=fs,Nr[Rr++]=Nl,ps=t.id,fs=t.overflow,Nl=e),e=ux(e,s.children),e.flags|=4096,e)}function HO(t,e,o){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),lA(t.return,e,o)}function V_(t,e,o,s,c){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:c}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=o,u.tailMode=c)}function D6(t,e,o){var s=e.pendingProps,c=s.revealOrder,u=s.tail;if(Mo(t,e,s.children,o),s=dn.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HO(t,o,e);else if(t.tag===19)HO(t,o,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Yt(dn,s),!(e.mode&1))e.memoizedState=null;else switch(c){case"forwards":for(o=e.child,c=null;o!==null;)t=o.alternate,t!==null&&ab(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=e.child,e.child=null):(c=o.sibling,o.sibling=null),V_(e,!1,c,o,u);break;case"backwards":for(o=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&ab(t)===null){e.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}V_(e,!0,o,null,u);break;case"together":V_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _k(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,o){if(t!==null&&(e.dependencies=t.dependencies),Ol|=e.lanes,!(o&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,o=ba(t,t.pendingProps),e.child=o,o.return=e;t.sibling!==null;)t=t.sibling,o=o.sibling=ba(t,t.pendingProps),o.return=e;o.sibling=null}return e.child}function ure(t,e,o){switch(e.tag){case 3:T6(e),Dd();break;case 5:n6(e);break;case 1:Go(e.type)&&tb(e);break;case 4:ox(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,c=e.memoizedProps.value;Yt(rb,s._currentValue),s._currentValue=c;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Yt(dn,dn.current&1),e.flags|=128,null):o&e.child.childLanes?I6(t,e,o):(Yt(dn,dn.current&1),t=As(t,e,o),t!==null?t.sibling:null);Yt(dn,dn.current&1);break;case 19:if(s=(o&e.childLanes)!==0,t.flags&128){if(s)return D6(t,e,o);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Yt(dn,dn.current),s)break;return null;case 22:case 23:return e.lanes=0,E6(t,e,o)}return As(t,e,o)}var M6,mA,P6,N6;M6=function(t,e){for(var o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};mA=function(){};P6=function(t,e,o,s){var c=t.memoizedProps;if(c!==s){t=e.stateNode,bl(Bi.current);var u=null;switch(o){case"input":c=jC(t,c),s=jC(t,s),u=[];break;case"select":c=pn({},c,{value:void 0}),s=pn({},s,{value:void 0}),u=[];break;case"textarea":c=$C(t,c),s=$C(t,s),u=[];break;default:typeof c.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Xk)}UC(o,s);var p;o=null;for(w in c)if(!s.hasOwnProperty(w)&&c.hasOwnProperty(w)&&c[w]!=null)if(w==="style"){var m=c[w];for(p in m)m.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(bp.hasOwnProperty(w)?u||(u=[]):(u=u||[]).push(w,null));for(w in s){var g=s[w];if(m=c!=null?c[w]:void 0,s.hasOwnProperty(w)&&g!==m&&(g!=null||m!=null))if(w==="style")if(m){for(p in m)!m.hasOwnProperty(p)||g&&g.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in g)g.hasOwnProperty(p)&&m[p]!==g[p]&&(o||(o={}),o[p]=g[p])}else o||(u||(u=[]),u.push(w,o)),o=g;else w==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,m=m?m.__html:void 0,g!=null&&m!==g&&(u=u||[]).push(w,g)):w==="children"?typeof g!="string"&&typeof g!="number"||(u=u||[]).push(w,""+g):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(bp.hasOwnProperty(w)?(g!=null&&w==="onScroll"&&Xt("scroll",t),u||m===g||(u=[])):(u=u||[]).push(w,g))}o&&(u=u||[]).push("style",o);var w=u;(e.updateQueue=w)&&(e.flags|=4)}};N6=function(t,e,o,s){o!==s&&(e.flags|=4)};function vh(t,e){if(!cn)switch(t.tailMode){case"hidden":e=t.tail;for(var o=null;e!==null;)e.alternate!==null&&(o=e),e=e.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function fo(t){var e=t.alternate!==null&&t.alternate.child===t.child,o=0,s=0;if(e)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,s|=c.subtreeFlags&14680064,s|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=s,t.childLanes=o,e}function hre(t,e,o){var s=e.pendingProps;switch(Q1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fo(e),null;case 1:return Go(e.type)&&eb(),fo(e),null;case 3:return s=e.stateNode,Pd(),on(qo),on(xo),ix(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Fm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ui!==null&&(AA(ui),ui=null))),mA(t,e),fo(e),null;case 5:rx(e);var c=bl(Dp.current);if(o=e.type,t!==null&&e.stateNode!=null)P6(t,e,o,s,c),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(ge(166));return fo(e),null}if(t=bl(Bi.current),Fm(e)){s=e.stateNode,o=e.type;var u=e.memoizedProps;switch(s[Di]=e,s[Tp]=u,t=(e.mode&1)!==0,o){case"dialog":Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":case"embed":Xt("load",s);break;case"video":case"audio":for(c=0;c<zh.length;c++)Xt(zh[c],s);break;case"source":Xt("error",s);break;case"img":case"image":case"link":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"input":XR(s,u),Xt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},Xt("invalid",s);break;case"textarea":tO(s,u),Xt("invalid",s)}UC(o,u),c=null;for(var p in u)if(u.hasOwnProperty(p)){var m=u[p];p==="children"?typeof m=="string"?s.textContent!==m&&(u.suppressHydrationWarning!==!0&&zm(s.textContent,m,t),c=["children",m]):typeof m=="number"&&s.textContent!==""+m&&(u.suppressHydrationWarning!==!0&&zm(s.textContent,m,t),c=["children",""+m]):bp.hasOwnProperty(p)&&m!=null&&p==="onScroll"&&Xt("scroll",s)}switch(o){case"input":Mm(s),eO(s,u,!0);break;case"textarea":Mm(s),nO(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=Xk)}s=c,e.updateQueue=s,s!==null&&(e.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=az(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=p.createElement(o,{is:s.is}):(t=p.createElement(o),o==="select"&&(p=t,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):t=p.createElementNS(t,o),t[Di]=e,t[Tp]=s,M6(t,e,!1,!1),e.stateNode=t;e:{switch(p=HC(o,s),o){case"dialog":Xt("cancel",t),Xt("close",t),c=s;break;case"iframe":case"object":case"embed":Xt("load",t),c=s;break;case"video":case"audio":for(c=0;c<zh.length;c++)Xt(zh[c],t);c=s;break;case"source":Xt("error",t),c=s;break;case"img":case"image":case"link":Xt("error",t),Xt("load",t),c=s;break;case"details":Xt("toggle",t),c=s;break;case"input":XR(t,s),c=jC(t,s),Xt("invalid",t);break;case"option":c=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},c=pn({},s,{value:void 0}),Xt("invalid",t);break;case"textarea":tO(t,s),c=$C(t,s),Xt("invalid",t);break;default:c=s}UC(o,c),m=c;for(u in m)if(m.hasOwnProperty(u)){var g=m[u];u==="style"?dz(t,g):u==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&lz(t,g)):u==="children"?typeof g=="string"?(o!=="textarea"||g!=="")&&wp(t,g):typeof g=="number"&&wp(t,""+g):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bp.hasOwnProperty(u)?g!=null&&u==="onScroll"&&Xt("scroll",t):g!=null&&O1(t,u,g,p))}switch(o){case"input":Mm(t),eO(t,s,!1);break;case"textarea":Mm(t),nO(t);break;case"option":s.value!=null&&t.setAttribute("value",""+_a(s.value));break;case"select":t.multiple=!!s.multiple,u=s.value,u!=null?ud(t,!!s.multiple,u,!1):s.defaultValue!=null&&ud(t,!!s.multiple,s.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=Xk)}switch(o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fo(e),null;case 6:if(t&&e.stateNode!=null)N6(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(ge(166));if(o=bl(Dp.current),bl(Bi.current),Fm(e)){if(s=e.stateNode,o=e.memoizedProps,s[Di]=e,(u=s.nodeValue!==o)&&(t=gr,t!==null))switch(t.tag){case 3:zm(s.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zm(s.nodeValue,o,(t.mode&1)!==0)}u&&(e.flags|=4)}else s=(o.nodeType===9?o:o.ownerDocument).createTextNode(s),s[Di]=e,e.stateNode=s}return fo(e),null;case 13:if(on(dn),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cn&&hr!==null&&e.mode&1&&!(e.flags&128))Zz(),Dd(),e.flags|=98560,u=!1;else if(u=Fm(e),s!==null&&s.dehydrated!==null){if(t===null){if(!u)throw Error(ge(318));if(u=e.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ge(317));u[Di]=e}else Dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fo(e),u=!1}else ui!==null&&(AA(ui),ui=null),u=!0;if(!u)return e.flags&65536?e:null}return e.flags&128?(e.lanes=o,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||dn.current&1?Vn===0&&(Vn=3):kx())),e.updateQueue!==null&&(e.flags|=4),fo(e),null);case 4:return Pd(),mA(t,e),t===null&&Ep(e.stateNode.containerInfo),fo(e),null;case 10:return ex(e.type._context),fo(e),null;case 17:return Go(e.type)&&eb(),fo(e),null;case 19:if(on(dn),u=e.memoizedState,u===null)return fo(e),null;if(s=(e.flags&128)!==0,p=u.rendering,p===null)if(s)vh(u,!1);else{if(Vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(p=ab(t),p!==null){for(e.flags|=128,vh(u,!1),s=p.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=o,o=e.child;o!==null;)u=o,t=s,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=t,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,t=p.dependencies,u.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Yt(dn,dn.current&1|2),e.child}t=t.sibling}u.tail!==null&&Tn()>Rd&&(e.flags|=128,s=!0,vh(u,!1),e.lanes=4194304)}else{if(!s)if(t=ab(p),t!==null){if(e.flags|=128,s=!0,o=t.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),vh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!cn)return fo(e),null}else 2*Tn()-u.renderingStartTime>Rd&&o!==1073741824&&(e.flags|=128,s=!0,vh(u,!1),e.lanes=4194304);u.isBackwards?(p.sibling=e.child,e.child=p):(o=u.last,o!==null?o.sibling=p:e.child=p,u.last=p)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=Tn(),e.sibling=null,o=dn.current,Yt(dn,s?o&1|2:o&1),e):(fo(e),null);case 22:case 23:return mx(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?cr&1073741824&&(fo(e),e.subtreeFlags&6&&(e.flags|=8192)):fo(e),null;case 24:return null;case 25:return null}throw Error(ge(156,e.tag))}function pre(t,e){switch(Q1(e),e.tag){case 1:return Go(e.type)&&eb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pd(),on(qo),on(xo),ix(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rx(e),null;case 13:if(on(dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ge(340));Dd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(dn),null;case 4:return Pd(),null;case 10:return ex(e.type._context),null;case 22:case 23:return mx(),null;case 24:return null;default:return null}}var Um=!1,bo=!1,fre=typeof WeakSet=="function"?WeakSet:Set,Te=null;function ad(t,e){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){yn(t,e,s)}else o.current=null}function kA(t,e,o){try{o()}catch(s){yn(t,e,s)}}var WO=!1;function gre(t,e){if(eA=Qk,t=jz(),K1(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var c=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{o.nodeType,u.nodeType}catch{o=null;break e}var p=0,m=-1,g=-1,w=0,_=0,C=t,y=null;t:for(;;){for(var x;C!==o||c!==0&&C.nodeType!==3||(m=p+c),C!==u||s!==0&&C.nodeType!==3||(g=p+s),C.nodeType===3&&(p+=C.nodeValue.length),(x=C.firstChild)!==null;)y=C,C=x;for(;;){if(C===t)break t;if(y===o&&++w===c&&(m=p),y===u&&++_===s&&(g=p),(x=C.nextSibling)!==null)break;C=y,y=C.parentNode}C=x}o=m===-1||g===-1?null:{start:m,end:g}}else o=null}o=o||{start:0,end:0}}else o=null;for(tA={focusedElem:t,selectionRange:o},Qk=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,R=S.memoizedState,D=e.stateNode,N=D.getSnapshotBeforeUpdate(e.elementType===e.type?T:ci(e.type,T),R);D.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(j){yn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return S=WO,WO=!1,S}function Xh(t,e,o){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&t)===t){var u=c.destroy;c.destroy=void 0,u!==void 0&&kA(e,o,u)}c=c.next}while(c!==s)}}function c0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var o=e=e.next;do{if((o.tag&t)===t){var s=o.create;o.destroy=s()}o=o.next}while(o!==e)}}function bA(t){var e=t.ref;if(e!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof e=="function"?e(t):e.current=t}}function R6(t){var e=t.alternate;e!==null&&(t.alternate=null,R6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Di],delete e[Tp],delete e[rA],delete e[Zoe],delete e[Joe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function O6(t){return t.tag===5||t.tag===3||t.tag===4}function qO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wA(t,e,o){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?o.nodeType===8?o.parentNode.insertBefore(t,e):o.insertBefore(t,e):(o.nodeType===8?(e=o.parentNode,e.insertBefore(t,o)):(e=o,e.appendChild(t)),o=o._reactRootContainer,o!=null||e.onclick!==null||(e.onclick=Xk));else if(s!==4&&(t=t.child,t!==null))for(wA(t,e,o),t=t.sibling;t!==null;)wA(t,e,o),t=t.sibling}function vA(t,e,o){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?o.insertBefore(t,e):o.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(vA(t,e,o),t=t.sibling;t!==null;)vA(t,e,o),t=t.sibling}var io=null,di=!1;function qs(t,e,o){for(o=o.child;o!==null;)B6(t,e,o),o=o.sibling}function B6(t,e,o){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(t0,o)}catch{}switch(o.tag){case 5:bo||ad(o,e);case 6:var s=io,c=di;io=null,qs(t,e,o),io=s,di=c,io!==null&&(di?(t=io,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):io.removeChild(o.stateNode));break;case 18:io!==null&&(di?(t=io,o=o.stateNode,t.nodeType===8?O_(t.parentNode,o):t.nodeType===1&&O_(t,o),Cp(t)):O_(io,o.stateNode));break;case 4:s=io,c=di,io=o.stateNode.containerInfo,di=!0,qs(t,e,o),io=s,di=c;break;case 0:case 11:case 14:case 15:if(!bo&&(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){c=s=s.next;do{var u=c,p=u.destroy;u=u.tag,p!==void 0&&(u&2||u&4)&&kA(o,e,p),c=c.next}while(c!==s)}qs(t,e,o);break;case 1:if(!bo&&(ad(o,e),s=o.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(m){yn(o,e,m)}qs(t,e,o);break;case 21:qs(t,e,o);break;case 22:o.mode&1?(bo=(s=bo)||o.memoizedState!==null,qs(t,e,o),bo=s):qs(t,e,o);break;default:qs(t,e,o)}}function GO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new fre),e.forEach(function(s){var c=Are.bind(null,t,s);o.has(s)||(o.add(s),s.then(c,c))})}}function li(t,e){var o=e.deletions;if(o!==null)for(var s=0;s<o.length;s++){var c=o[s];try{var u=t,p=e,m=p;e:for(;m!==null;){switch(m.tag){case 5:io=m.stateNode,di=!1;break e;case 3:io=m.stateNode.containerInfo,di=!0;break e;case 4:io=m.stateNode.containerInfo,di=!0;break e}m=m.return}if(io===null)throw Error(ge(160));B6(u,p,c),io=null,di=!1;var g=c.alternate;g!==null&&(g.return=null),c.return=null}catch(w){yn(c,e,w)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L6(e,t),e=e.sibling}function L6(t,e){var o=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(li(e,t),xi(t),s&4){try{Xh(3,t,t.return),c0(3,t)}catch(T){yn(t,t.return,T)}try{Xh(5,t,t.return)}catch(T){yn(t,t.return,T)}}break;case 1:li(e,t),xi(t),s&512&&o!==null&&ad(o,o.return);break;case 5:if(li(e,t),xi(t),s&512&&o!==null&&ad(o,o.return),t.flags&32){var c=t.stateNode;try{wp(c,"")}catch(T){yn(t,t.return,T)}}if(s&4&&(c=t.stateNode,c!=null)){var u=t.memoizedProps,p=o!==null?o.memoizedProps:u,m=t.type,g=t.updateQueue;if(t.updateQueue=null,g!==null)try{m==="input"&&u.type==="radio"&&u.name!=null&&iz(c,u),HC(m,p);var w=HC(m,u);for(p=0;p<g.length;p+=2){var _=g[p],C=g[p+1];_==="style"?dz(c,C):_==="dangerouslySetInnerHTML"?lz(c,C):_==="children"?wp(c,C):O1(c,_,C,w)}switch(m){case"input":zC(c,u);break;case"textarea":sz(c,u);break;case"select":var y=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!u.multiple;var x=u.value;x!=null?ud(c,!!u.multiple,x,!1):y!==!!u.multiple&&(u.defaultValue!=null?ud(c,!!u.multiple,u.defaultValue,!0):ud(c,!!u.multiple,u.multiple?[]:"",!1))}c[Tp]=u}catch(T){yn(t,t.return,T)}}break;case 6:if(li(e,t),xi(t),s&4){if(t.stateNode===null)throw Error(ge(162));c=t.stateNode,u=t.memoizedProps;try{c.nodeValue=u}catch(T){yn(t,t.return,T)}}break;case 3:if(li(e,t),xi(t),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Cp(e.containerInfo)}catch(T){yn(t,t.return,T)}break;case 4:li(e,t),xi(t);break;case 13:li(e,t),xi(t),c=t.child,c.flags&8192&&(u=c.memoizedState!==null,c.stateNode.isHidden=u,!u||c.alternate!==null&&c.alternate.memoizedState!==null||(fx=Tn())),s&4&&GO(t);break;case 22:if(_=o!==null&&o.memoizedState!==null,t.mode&1?(bo=(w=bo)||_,li(e,t),bo=w):li(e,t),xi(t),s&8192){if(w=t.memoizedState!==null,(t.stateNode.isHidden=w)&&!_&&t.mode&1)for(Te=t,_=t.child;_!==null;){for(C=Te=_;Te!==null;){switch(y=Te,x=y.child,y.tag){case 0:case 11:case 14:case 15:Xh(4,y,y.return);break;case 1:ad(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){s=y,o=y.return;try{e=s,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(T){yn(s,o,T)}}break;case 5:ad(y,y.return);break;case 22:if(y.memoizedState!==null){YO(C);continue}}x!==null?(x.return=y,Te=x):YO(C)}_=_.sibling}e:for(_=null,C=t;;){if(C.tag===5){if(_===null){_=C;try{c=C.stateNode,w?(u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(m=C.stateNode,g=C.memoizedProps.style,p=g!=null&&g.hasOwnProperty("display")?g.display:null,m.style.display=cz("display",p))}catch(T){yn(t,t.return,T)}}}else if(C.tag===6){if(_===null)try{C.stateNode.nodeValue=w?"":C.memoizedProps}catch(T){yn(t,t.return,T)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===t)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;_===C&&(_=null),C=C.return}_===C&&(_=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:li(e,t),xi(t),s&4&&GO(t);break;case 21:break;default:li(e,t),xi(t)}}function xi(t){var e=t.flags;if(e&2){try{e:{for(var o=t.return;o!==null;){if(O6(o)){var s=o;break e}o=o.return}throw Error(ge(160))}switch(s.tag){case 5:var c=s.stateNode;s.flags&32&&(wp(c,""),s.flags&=-33);var u=qO(t);vA(t,u,c);break;case 3:case 4:var p=s.stateNode.containerInfo,m=qO(t);wA(t,m,p);break;default:throw Error(ge(161))}}catch(g){yn(t,t.return,g)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mre(t,e,o){Te=t,j6(t)}function j6(t,e,o){for(var s=(t.mode&1)!==0;Te!==null;){var c=Te,u=c.child;if(c.tag===22&&s){var p=c.memoizedState!==null||Um;if(!p){var m=c.alternate,g=m!==null&&m.memoizedState!==null||bo;m=Um;var w=bo;if(Um=p,(bo=g)&&!w)for(Te=c;Te!==null;)p=Te,g=p.child,p.tag===22&&p.memoizedState!==null?QO(c):g!==null?(g.return=p,Te=g):QO(c);for(;u!==null;)Te=u,j6(u),u=u.sibling;Te=c,Um=m,bo=w}KO(t)}else c.subtreeFlags&8772&&u!==null?(u.return=c,Te=u):KO(t)}}function KO(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var o=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bo||c0(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!bo)if(o===null)s.componentDidMount();else{var c=e.elementType===e.type?o.memoizedProps:ci(e.type,o.memoizedProps);s.componentDidUpdate(c,o.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=e.updateQueue;u!==null&&PO(e,u,s);break;case 3:var p=e.updateQueue;if(p!==null){if(o=null,e.child!==null)switch(e.child.tag){case 5:o=e.child.stateNode;break;case 1:o=e.child.stateNode}PO(e,p,o)}break;case 5:var m=e.stateNode;if(o===null&&e.flags&4){o=m;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&o.focus();break;case"img":g.src&&(o.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var w=e.alternate;if(w!==null){var _=w.memoizedState;if(_!==null){var C=_.dehydrated;C!==null&&Cp(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}bo||e.flags&512&&bA(e)}catch(y){yn(e,e.return,y)}}if(e===t){Te=null;break}if(o=e.sibling,o!==null){o.return=e.return,Te=o;break}Te=e.return}}function YO(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Te=o;break}Te=e.return}}function QO(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var o=e.return;try{c0(4,e)}catch(g){yn(e,o,g)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var c=e.return;try{s.componentDidMount()}catch(g){yn(e,c,g)}}var u=e.return;try{bA(e)}catch(g){yn(e,u,g)}break;case 5:var p=e.return;try{bA(e)}catch(g){yn(e,p,g)}}}catch(g){yn(e,e.return,g)}if(e===t){Te=null;break}var m=e.sibling;if(m!==null){m.return=e.return,Te=m;break}Te=e.return}}var kre=Math.ceil,db=Rs.ReactCurrentDispatcher,hx=Rs.ReactCurrentOwner,zr=Rs.ReactCurrentBatchConfig,xt=0,Jn=null,Rn=null,co=0,cr=0,ld=Ma(0),Vn=0,Rp=null,Ol=0,d0=0,px=0,ep=null,Uo=null,fx=0,Rd=1/0,ls=null,ub=!1,yA=null,ma=null,Hm=!1,aa=null,hb=0,tp=0,_A=null,Ck=-1,Ak=0;function No(){return xt&6?Tn():Ck!==-1?Ck:Ck=Tn()}function ka(t){return t.mode&1?xt&2&&co!==0?co&-co:ere.transition!==null?(Ak===0&&(Ak=_z()),Ak):(t=Lt,t!==0||(t=window.event,t=t===void 0?16:Iz(t.type)),t):1}function pi(t,e,o,s){if(50<tp)throw tp=0,_A=null,Error(ge(185));ff(t,o,s),(!(xt&2)||t!==Jn)&&(t===Jn&&(!(xt&2)&&(d0|=o),Vn===4&&ea(t,co)),Ko(t,s),o===1&&xt===0&&!(e.mode&1)&&(Rd=Tn()+500,s0&&Pa()))}function Ko(t,e){var o=t.callbackNode;eoe(t,e);var s=Yk(t,t===Jn?co:0);if(s===0)o!==null&&iO(o),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(o!=null&&iO(o),e===1)t.tag===0?Xoe(ZO.bind(null,t)):Kz(ZO.bind(null,t)),Yoe(function(){!(xt&6)&&Pa()}),o=null;else{switch(Cz(s)){case 1:o=F1;break;case 4:o=vz;break;case 16:o=Kk;break;case 536870912:o=yz;break;default:o=Kk}o=q6(o,z6.bind(null,t))}t.callbackPriority=e,t.callbackNode=o}}function z6(t,e){if(Ck=-1,Ak=0,xt&6)throw Error(ge(327));var o=t.callbackNode;if(md()&&t.callbackNode!==o)return null;var s=Yk(t,t===Jn?co:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=pb(t,s);else{e=s;var c=xt;xt|=2;var u=$6();(Jn!==t||co!==e)&&(ls=null,Rd=Tn()+500,xl(t,e));do try{vre();break}catch(m){F6(t,m)}while(!0);X1(),db.current=u,xt=c,Rn!==null?e=0:(Jn=null,co=0,e=Vn)}if(e!==0){if(e===2&&(c=YC(t),c!==0&&(s=c,e=CA(t,c))),e===1)throw o=Rp,xl(t,0),ea(t,s),Ko(t,Tn()),o;if(e===6)ea(t,s);else{if(c=t.current.alternate,!(s&30)&&!bre(c)&&(e=pb(t,s),e===2&&(u=YC(t),u!==0&&(s=u,e=CA(t,u))),e===1))throw o=Rp,xl(t,0),ea(t,s),Ko(t,Tn()),o;switch(t.finishedWork=c,t.finishedLanes=s,e){case 0:case 1:throw Error(ge(345));case 2:hl(t,Uo,ls);break;case 3:if(ea(t,s),(s&130023424)===s&&(e=fx+500-Tn(),10<e)){if(Yk(t,0)!==0)break;if(c=t.suspendedLanes,(c&s)!==s){No(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=oA(hl.bind(null,t,Uo,ls),e);break}hl(t,Uo,ls);break;case 4:if(ea(t,s),(s&4194240)===s)break;for(e=t.eventTimes,c=-1;0<s;){var p=31-hi(s);u=1<<p,p=e[p],p>c&&(c=p),s&=~u}if(s=c,s=Tn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kre(s/1960))-s,10<s){t.timeoutHandle=oA(hl.bind(null,t,Uo,ls),s);break}hl(t,Uo,ls);break;case 5:hl(t,Uo,ls);break;default:throw Error(ge(329))}}}return Ko(t,Tn()),t.callbackNode===o?z6.bind(null,t):null}function CA(t,e){var o=ep;return t.current.memoizedState.isDehydrated&&(xl(t,e).flags|=256),t=pb(t,e),t!==2&&(e=Uo,Uo=o,e!==null&&AA(e)),t}function AA(t){Uo===null?Uo=t:Uo.push.apply(Uo,t)}function bre(t){for(var e=t;;){if(e.flags&16384){var o=e.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var s=0;s<o.length;s++){var c=o[s],u=c.getSnapshot;c=c.value;try{if(!fi(u(),c))return!1}catch{return!1}}}if(o=e.child,e.subtreeFlags&16384&&o!==null)o.return=e,e=o;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ea(t,e){for(e&=~px,e&=~d0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var o=31-hi(e),s=1<<o;t[o]=-1,e&=~s}}function ZO(t){if(xt&6)throw Error(ge(327));md();var e=Yk(t,0);if(!(e&1))return Ko(t,Tn()),null;var o=pb(t,e);if(t.tag!==0&&o===2){var s=YC(t);s!==0&&(e=s,o=CA(t,s))}if(o===1)throw o=Rp,xl(t,0),ea(t,e),Ko(t,Tn()),o;if(o===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hl(t,Uo,ls),Ko(t,Tn()),null}function gx(t,e){var o=xt;xt|=1;try{return t(e)}finally{xt=o,xt===0&&(Rd=Tn()+500,s0&&Pa())}}function Bl(t){aa!==null&&aa.tag===0&&!(xt&6)&&md();var e=xt;xt|=1;var o=zr.transition,s=Lt;try{if(zr.transition=null,Lt=1,t)return t()}finally{Lt=s,zr.transition=o,xt=e,!(xt&6)&&Pa()}}function mx(){cr=ld.current,on(ld)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Koe(o)),Rn!==null)for(o=Rn.return;o!==null;){var s=o;switch(Q1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&eb();break;case 3:Pd(),on(qo),on(xo),ix();break;case 5:rx(s);break;case 4:Pd();break;case 13:on(dn);break;case 19:on(dn);break;case 10:ex(s.type._context);break;case 22:case 23:mx()}o=o.return}if(Jn=t,Rn=t=ba(t.current,null),co=cr=e,Vn=0,Rp=null,px=d0=Ol=0,Uo=ep=null,kl!==null){for(e=0;e<kl.length;e++)if(o=kl[e],s=o.interleaved,s!==null){o.interleaved=null;var c=s.next,u=o.pending;if(u!==null){var p=u.next;u.next=c,s.next=p}o.pending=s}kl=null}return t}function F6(t,e){do{var o=Rn;try{if(X1(),vk.current=cb,lb){for(var s=un.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}lb=!1}if(Rl=0,Qn=$n=un=null,Jh=!1,Mp=0,hx.current=null,o===null||o.return===null){Vn=1,Rp=e,Rn=null;break}e:{var u=t,p=o.return,m=o,g=e;if(e=co,m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var w=g,_=m,C=_.tag;if(!(_.mode&1)&&(C===0||C===11||C===15)){var y=_.alternate;y?(_.updateQueue=y.updateQueue,_.memoizedState=y.memoizedState,_.lanes=y.lanes):(_.updateQueue=null,_.memoizedState=null)}var x=jO(p);if(x!==null){x.flags&=-257,zO(x,p,m,u,e),x.mode&1&&LO(u,w,e),e=x,g=w;var S=e.updateQueue;if(S===null){var T=new Set;T.add(g),e.updateQueue=T}else S.add(g);break e}else{if(!(e&1)){LO(u,w,e),kx();break e}g=Error(ge(426))}}else if(cn&&m.mode&1){var R=jO(p);if(R!==null){!(R.flags&65536)&&(R.flags|=256),zO(R,p,m,u,e),Z1(Nd(g,m));break e}}u=g=Nd(g,m),Vn!==4&&(Vn=2),ep===null?ep=[u]:ep.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,e&=-e,u.lanes|=e;var D=C6(u,g,e);MO(u,D);break e;case 1:m=g;var N=u.type,O=u.stateNode;if(!(u.flags&128)&&(typeof N.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ma===null||!ma.has(O)))){u.flags|=65536,e&=-e,u.lanes|=e;var j=A6(u,m,e);MO(u,j);break e}}u=u.return}while(u!==null)}U6(o)}catch($){e=$,Rn===o&&o!==null&&(Rn=o=o.return);continue}break}while(!0)}function $6(){var t=db.current;return db.current=cb,t===null?cb:t}function kx(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),Jn===null||!(Ol&268435455)&&!(d0&268435455)||ea(Jn,co)}function pb(t,e){var o=xt;xt|=2;var s=$6();(Jn!==t||co!==e)&&(ls=null,xl(t,e));do try{wre();break}catch(c){F6(t,c)}while(!0);if(X1(),xt=o,db.current=s,Rn!==null)throw Error(ge(261));return Jn=null,co=0,Vn}function wre(){for(;Rn!==null;)V6(Rn)}function vre(){for(;Rn!==null&&!Wne();)V6(Rn)}function V6(t){var e=W6(t.alternate,t,cr);t.memoizedProps=t.pendingProps,e===null?U6(t):Rn=e,hx.current=null}function U6(t){var e=t;do{var o=e.alternate;if(t=e.return,e.flags&32768){if(o=pre(o,e),o!==null){o.flags&=32767,Rn=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vn=6,Rn=null;return}}else if(o=hre(o,e,cr),o!==null){Rn=o;return}if(e=e.sibling,e!==null){Rn=e;return}Rn=e=t}while(e!==null);Vn===0&&(Vn=5)}function hl(t,e,o){var s=Lt,c=zr.transition;try{zr.transition=null,Lt=1,yre(t,e,o,s)}finally{zr.transition=c,Lt=s}return null}function yre(t,e,o,s){do md();while(aa!==null);if(xt&6)throw Error(ge(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var u=o.lanes|o.childLanes;if(toe(t,u),t===Jn&&(Rn=Jn=null,co=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Hm||(Hm=!0,q6(Kk,function(){return md(),null})),u=(o.flags&15990)!==0,o.subtreeFlags&15990||u){u=zr.transition,zr.transition=null;var p=Lt;Lt=1;var m=xt;xt|=4,hx.current=null,gre(t,o),L6(o,t),$oe(tA),Qk=!!eA,tA=eA=null,t.current=o,mre(o),qne(),xt=m,Lt=p,zr.transition=u}else t.current=o;if(Hm&&(Hm=!1,aa=t,hb=c),u=t.pendingLanes,u===0&&(ma=null),Yne(o.stateNode),Ko(t,Tn()),e!==null)for(s=t.onRecoverableError,o=0;o<e.length;o++)c=e[o],s(c.value,{componentStack:c.stack,digest:c.digest});if(ub)throw ub=!1,t=yA,yA=null,t;return hb&1&&t.tag!==0&&md(),u=t.pendingLanes,u&1?t===_A?tp++:(tp=0,_A=t):tp=0,Pa(),null}function md(){if(aa!==null){var t=Cz(hb),e=zr.transition,o=Lt;try{if(zr.transition=null,Lt=16>t?16:t,aa===null)var s=!1;else{if(t=aa,aa=null,hb=0,xt&6)throw Error(ge(331));var c=xt;for(xt|=4,Te=t.current;Te!==null;){var u=Te,p=u.child;if(Te.flags&16){var m=u.deletions;if(m!==null){for(var g=0;g<m.length;g++){var w=m[g];for(Te=w;Te!==null;){var _=Te;switch(_.tag){case 0:case 11:case 15:Xh(8,_,u)}var C=_.child;if(C!==null)C.return=_,Te=C;else for(;Te!==null;){_=Te;var y=_.sibling,x=_.return;if(R6(_),_===w){Te=null;break}if(y!==null){y.return=x,Te=y;break}Te=x}}}var S=u.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var R=T.sibling;T.sibling=null,T=R}while(T!==null)}}Te=u}}if(u.subtreeFlags&2064&&p!==null)p.return=u,Te=p;else e:for(;Te!==null;){if(u=Te,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Xh(9,u,u.return)}var D=u.sibling;if(D!==null){D.return=u.return,Te=D;break e}Te=u.return}}var N=t.current;for(Te=N;Te!==null;){p=Te;var O=p.child;if(p.subtreeFlags&2064&&O!==null)O.return=p,Te=O;else e:for(p=N;Te!==null;){if(m=Te,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:c0(9,m)}}catch($){yn(m,m.return,$)}if(m===p){Te=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,Te=j;break e}Te=m.return}}if(xt=c,Pa(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(t0,t)}catch{}s=!0}return s}finally{Lt=o,zr.transition=e}}return!1}function JO(t,e,o){e=Nd(o,e),e=C6(t,e,1),t=ga(t,e,1),e=No(),t!==null&&(ff(t,1,e),Ko(t,e))}function yn(t,e,o){if(t.tag===3)JO(t,t,o);else for(;e!==null;){if(e.tag===3){JO(e,t,o);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ma===null||!ma.has(s))){t=Nd(o,t),t=A6(e,t,1),e=ga(e,t,1),t=No(),e!==null&&(ff(e,1,t),Ko(e,t));break}}e=e.return}}function _re(t,e,o){var s=t.pingCache;s!==null&&s.delete(e),e=No(),t.pingedLanes|=t.suspendedLanes&o,Jn===t&&(co&o)===o&&(Vn===4||Vn===3&&(co&130023424)===co&&500>Tn()-fx?xl(t,0):px|=o),Ko(t,e)}function H6(t,e){e===0&&(t.mode&1?(e=Rm,Rm<<=1,!(Rm&130023424)&&(Rm=4194304)):e=1);var o=No();t=Cs(t,e),t!==null&&(ff(t,e,o),Ko(t,o))}function Cre(t){var e=t.memoizedState,o=0;e!==null&&(o=e.retryLane),H6(t,o)}function Are(t,e){var o=0;switch(t.tag){case 13:var s=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(ge(314))}s!==null&&s.delete(e),H6(t,o)}var W6;W6=function(t,e,o){if(t!==null)if(t.memoizedProps!==e.pendingProps||qo.current)Wo=!0;else{if(!(t.lanes&o)&&!(e.flags&128))return Wo=!1,ure(t,e,o);Wo=!!(t.flags&131072)}else Wo=!1,cn&&e.flags&1048576&&Yz(e,ob,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;_k(t,e),t=e.pendingProps;var c=Id(e,xo.current);gd(e,o),c=ax(null,e,s,t,c,o);var u=lx();return e.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Go(s)?(u=!0,tb(e)):u=!1,e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,nx(e),c.updater=l0,e.stateNode=c,c._reactInternals=e,dA(e,s,t,o),e=pA(null,e,s,!0,u,o)):(e.tag=0,cn&&u&&Y1(e),Mo(null,e,c,o),e=e.child),e;case 16:s=e.elementType;e:{switch(_k(t,e),t=e.pendingProps,c=s._init,s=c(s._payload),e.type=s,c=e.tag=Ere(s),t=ci(s,t),c){case 0:e=hA(null,e,s,t,o);break e;case 1:e=VO(null,e,s,t,o);break e;case 11:e=FO(null,e,s,t,o);break e;case 14:e=$O(null,e,s,ci(s.type,t),o);break e}throw Error(ge(306,s,""))}return e;case 0:return s=e.type,c=e.pendingProps,c=e.elementType===s?c:ci(s,c),hA(t,e,s,c,o);case 1:return s=e.type,c=e.pendingProps,c=e.elementType===s?c:ci(s,c),VO(t,e,s,c,o);case 3:e:{if(T6(e),t===null)throw Error(ge(387));s=e.pendingProps,u=e.memoizedState,c=u.element,t6(t,e),sb(e,s,null,o);var p=e.memoizedState;if(s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},e.updateQueue.baseState=u,e.memoizedState=u,e.flags&256){c=Nd(Error(ge(423)),e),e=UO(t,e,s,o,c);break e}else if(s!==c){c=Nd(Error(ge(424)),e),e=UO(t,e,s,o,c);break e}else for(hr=fa(e.stateNode.containerInfo.firstChild),gr=e,cn=!0,ui=null,o=Xz(e,null,s,o),e.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Dd(),s===c){e=As(t,e,o);break e}Mo(t,e,s,o)}e=e.child}return e;case 5:return n6(e),t===null&&aA(e),s=e.type,c=e.pendingProps,u=t!==null?t.memoizedProps:null,p=c.children,nA(s,c)?p=null:u!==null&&nA(s,u)&&(e.flags|=32),S6(t,e),Mo(t,e,p,o),e.child;case 6:return t===null&&aA(e),null;case 13:return I6(t,e,o);case 4:return ox(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Md(e,null,s,o):Mo(t,e,s,o),e.child;case 11:return s=e.type,c=e.pendingProps,c=e.elementType===s?c:ci(s,c),FO(t,e,s,c,o);case 7:return Mo(t,e,e.pendingProps,o),e.child;case 8:return Mo(t,e,e.pendingProps.children,o),e.child;case 12:return Mo(t,e,e.pendingProps.children,o),e.child;case 10:e:{if(s=e.type._context,c=e.pendingProps,u=e.memoizedProps,p=c.value,Yt(rb,s._currentValue),s._currentValue=p,u!==null)if(fi(u.value,p)){if(u.children===c.children&&!qo.current){e=As(t,e,o);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var m=u.dependencies;if(m!==null){p=u.child;for(var g=m.firstContext;g!==null;){if(g.context===s){if(u.tag===1){g=bs(-1,o&-o),g.tag=2;var w=u.updateQueue;if(w!==null){w=w.shared;var _=w.pending;_===null?g.next=g:(g.next=_.next,_.next=g),w.pending=g}}u.lanes|=o,g=u.alternate,g!==null&&(g.lanes|=o),lA(u.return,o,e),m.lanes|=o;break}g=g.next}}else if(u.tag===10)p=u.type===e.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(ge(341));p.lanes|=o,m=p.alternate,m!==null&&(m.lanes|=o),lA(p,o,e),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}Mo(t,e,c.children,o),e=e.child}return e;case 9:return c=e.type,s=e.pendingProps.children,gd(e,o),c=Vr(c),s=s(c),e.flags|=1,Mo(t,e,s,o),e.child;case 14:return s=e.type,c=ci(s,e.pendingProps),c=ci(s.type,c),$O(t,e,s,c,o);case 15:return x6(t,e,e.type,e.pendingProps,o);case 17:return s=e.type,c=e.pendingProps,c=e.elementType===s?c:ci(s,c),_k(t,e),e.tag=1,Go(s)?(t=!0,tb(e)):t=!1,gd(e,o),_6(e,s,c),dA(e,s,c,o),pA(null,e,s,!0,t,o);case 19:return D6(t,e,o);case 22:return E6(t,e,o)}throw Error(ge(156,e.tag))};function q6(t,e){return wz(t,e)}function xre(t,e,o,s){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,o,s){return new xre(t,e,o,s)}function bx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ere(t){if(typeof t=="function")return bx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L1)return 11;if(t===j1)return 14}return 2}function ba(t,e){var o=t.alternate;return o===null?(o=Lr(t.tag,e,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=e,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,e=t.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function xk(t,e,o,s,c,u){var p=2;if(s=t,typeof t=="function")bx(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case Jc:return El(o.children,c,u,e);case B1:p=8,c|=8;break;case RC:return t=Lr(12,o,e,c|2),t.elementType=RC,t.lanes=u,t;case OC:return t=Lr(13,o,e,c),t.elementType=OC,t.lanes=u,t;case BC:return t=Lr(19,o,e,c),t.elementType=BC,t.lanes=u,t;case nz:return u0(o,c,u,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ez:p=10;break e;case tz:p=9;break e;case L1:p=11;break e;case j1:p=14;break e;case Zs:p=16,s=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Lr(p,o,e,c),e.elementType=t,e.type=s,e.lanes=u,e}function El(t,e,o,s){return t=Lr(7,t,s,e),t.lanes=o,t}function u0(t,e,o,s){return t=Lr(22,t,s,e),t.elementType=nz,t.lanes=o,t.stateNode={isHidden:!1},t}function U_(t,e,o){return t=Lr(6,t,null,e),t.lanes=o,t}function H_(t,e,o){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=o,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sre(t,e,o,s,c){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=A_(0),this.expirationTimes=A_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A_(0),this.identifierPrefix=s,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function wx(t,e,o,s,c,u,p,m,g){return t=new Sre(t,e,o,m,g),e===1?(e=1,u===!0&&(e|=8)):e=0,u=Lr(3,null,null,e),t.current=u,u.stateNode=t,u.memoizedState={element:s,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},nx(u),t}function Tre(t,e,o){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:s==null?null:""+s,children:t,containerInfo:e,implementation:o}}function G6(t){if(!t)return Ca;t=t._reactInternals;e:{if(Kl(t)!==t||t.tag!==1)throw Error(ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Go(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ge(171))}if(t.tag===1){var o=t.type;if(Go(o))return Gz(t,o,e)}return e}function K6(t,e,o,s,c,u,p,m,g){return t=wx(o,s,!0,t,c,u,p,m,g),t.context=G6(null),o=t.current,s=No(),c=ka(o),u=bs(s,c),u.callback=e??null,ga(o,u,c),t.current.lanes=c,ff(t,c,s),Ko(t,s),t}function h0(t,e,o,s){var c=e.current,u=No(),p=ka(c);return o=G6(o),e.context===null?e.context=o:e.pendingContext=o,e=bs(u,p),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=ga(c,e,p),t!==null&&(pi(t,c,p,u),wk(t,c,p)),p}function fb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<e?o:e}}function vx(t,e){XO(t,e),(t=t.alternate)&&XO(t,e)}function Ire(){return null}var Y6=typeof reportError=="function"?reportError:function(t){console.error(t)};function yx(t){this._internalRoot=t}p0.prototype.render=yx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ge(409));h0(t,e,null,null)};p0.prototype.unmount=yx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bl(function(){h0(null,t,null,null)}),e[_s]=null}};function p0(t){this._internalRoot=t}p0.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ez();t={blockedOn:null,target:t,priority:e};for(var o=0;o<Xs.length&&e!==0&&e<Xs[o].priority;o++);Xs.splice(o,0,t),o===0&&Tz(t)}};function _x(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eB(){}function Dre(t,e,o,s,c){if(c){if(typeof s=="function"){var u=s;s=function(){var w=fb(p);u.call(w)}}var p=K6(e,s,t,0,null,!1,!1,"",eB);return t._reactRootContainer=p,t[_s]=p.current,Ep(t.nodeType===8?t.parentNode:t),Bl(),p}for(;c=t.lastChild;)t.removeChild(c);if(typeof s=="function"){var m=s;s=function(){var w=fb(g);m.call(w)}}var g=wx(t,0,!1,null,null,!1,!1,"",eB);return t._reactRootContainer=g,t[_s]=g.current,Ep(t.nodeType===8?t.parentNode:t),Bl(function(){h0(e,g,o,s)}),g}function g0(t,e,o,s,c){var u=o._reactRootContainer;if(u){var p=u;if(typeof c=="function"){var m=c;c=function(){var g=fb(p);m.call(g)}}h0(e,p,t,c)}else p=Dre(o,e,t,c,s);return fb(p)}Az=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var o=jh(e.pendingLanes);o!==0&&($1(e,o|1),Ko(e,Tn()),!(xt&6)&&(Rd=Tn()+500,Pa()))}break;case 13:Bl(function(){var s=Cs(t,1);if(s!==null){var c=No();pi(s,t,1,c)}}),vx(t,1)}};V1=function(t){if(t.tag===13){var e=Cs(t,134217728);if(e!==null){var o=No();pi(e,t,134217728,o)}vx(t,134217728)}};xz=function(t){if(t.tag===13){var e=ka(t),o=Cs(t,e);if(o!==null){var s=No();pi(o,t,e,s)}vx(t,e)}};Ez=function(){return Lt};Sz=function(t,e){var o=Lt;try{return Lt=t,e()}finally{Lt=o}};qC=function(t,e,o){switch(e){case"input":if(zC(t,o),e=o.name,o.type==="radio"&&e!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<o.length;e++){var s=o[e];if(s!==t&&s.form===t.form){var c=i0(s);if(!c)throw Error(ge(90));rz(s),zC(s,c)}}}break;case"textarea":sz(t,o);break;case"select":e=o.value,e!=null&&ud(t,!!o.multiple,e,!1)}};pz=gx;fz=Bl;var Mre={usingClientEntryPoint:!1,Events:[mf,nd,i0,uz,hz,gx]},yh={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pre={bundleType:yh.bundleType,version:yh.version,rendererPackageName:yh.rendererPackageName,rendererConfig:yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kz(t),t===null?null:t.stateNode},findFiberByHostInstance:yh.findFiberByHostInstance||Ire,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wm.isDisabled&&Wm.supportsFiber)try{t0=Wm.inject(Pre),Oi=Wm}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mre;vr.createPortal=function(t,e){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_x(e))throw Error(ge(200));return Tre(t,e,null,o)};vr.createRoot=function(t,e){if(!_x(t))throw Error(ge(299));var o=!1,s="",c=Y6;return e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(c=e.onRecoverableError)),e=wx(t,1,!1,null,null,o,!1,s,c),t[_s]=e.current,Ep(t.nodeType===8?t.parentNode:t),new yx(e)};vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=kz(e),t=t===null?null:t.stateNode,t};vr.flushSync=function(t){return Bl(t)};vr.hydrate=function(t,e,o){if(!f0(e))throw Error(ge(200));return g0(null,t,e,!0,o)};vr.hydrateRoot=function(t,e,o){if(!_x(t))throw Error(ge(405));var s=o!=null&&o.hydratedSources||null,c=!1,u="",p=Y6;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),e=K6(e,null,t,1,o??null,c,!1,u,p),t[_s]=e.current,Ep(t),s)for(t=0;t<s.length;t++)o=s[t],c=o._getVersion,c=c(o._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[o,c]:e.mutableSourceEagerHydrationData.push(o,c);return new p0(e)};vr.render=function(t,e,o){if(!f0(e))throw Error(ge(200));return g0(null,t,e,!1,o)};vr.unmountComponentAtNode=function(t){if(!f0(t))throw Error(ge(40));return t._reactRootContainer?(Bl(function(){g0(null,null,t,!1,function(){t._reactRootContainer=null,t[_s]=null})}),!0):!1};vr.unstable_batchedUpdates=gx;vr.unstable_renderSubtreeIntoContainer=function(t,e,o,s){if(!f0(o))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return g0(t,e,o,!1,s)};vr.version="18.3.1-next-f1338f8080-20240426";function Q6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q6)}catch(t){console.error(t)}}Q6(),Qj.exports=vr;var Cx=Qj.exports;const qm=Xb(Cx);var tB=Cx;PC.createRoot=tB.createRoot,PC.hydrateRoot=tB.hydrateRoot;const Nre="modulepreload",Rre=function(t){return"/ate-micr/"+t},nB={},Ax=function(e,o,s){let c=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));c=Promise.all(o.map(m=>{if(m=Rre(m),m in nB)return;nB[m]=!0;const g=m.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":Nre,g||(_.as="script",_.crossOrigin=""),_.href=m,p&&_.setAttribute("nonce",p),document.head.appendChild(_),g)return new Promise((C,y)=>{_.addEventListener("load",C),_.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}return c.then(()=>e()).catch(u=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u})};/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Op.apply(this,arguments)}var la;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(la||(la={}));const oB="popstate";function Ore(t){t===void 0&&(t={});function e(s,c){let{pathname:u,search:p,hash:m}=s.location;return xA("",{pathname:u,search:p,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(s,c){return typeof c=="string"?c:J6(c)}return Lre(e,o,null,t)}function Bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Z6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bre(){return Math.random().toString(36).substr(2,8)}function rB(t,e){return{usr:t.state,key:t.key,idx:e}}function xA(t,e,o,s){return o===void 0&&(o=null),Op({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ru(e):e,{state:o,key:e&&e.key||s||Bre()})}function J6(t){let{pathname:e="/",search:o="",hash:s=""}=t;return o&&o!=="?"&&(e+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ru(t){let e={};if(t){let o=t.indexOf("#");o>=0&&(e.hash=t.substr(o),t=t.substr(0,o));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Lre(t,e,o,s){s===void 0&&(s={});let{window:c=document.defaultView,v5Compat:u=!1}=s,p=c.history,m=la.Pop,g=null,w=_();w==null&&(w=0,p.replaceState(Op({},p.state,{idx:w}),""));function _(){return(p.state||{idx:null}).idx}function C(){m=la.Pop;let R=_(),D=R==null?null:R-w;w=R,g&&g({action:m,location:T.location,delta:D})}function y(R,D){m=la.Push;let N=xA(T.location,R,D);w=_()+1;let O=rB(N,w),j=T.createHref(N);try{p.pushState(O,"",j)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(j)}u&&g&&g({action:m,location:T.location,delta:1})}function x(R,D){m=la.Replace;let N=xA(T.location,R,D);w=_();let O=rB(N,w),j=T.createHref(N);p.replaceState(O,"",j),u&&g&&g({action:m,location:T.location,delta:0})}function S(R){let D=c.location.origin!=="null"?c.location.origin:c.location.href,N=typeof R=="string"?R:J6(R);return N=N.replace(/ $/,"%20"),Bn(D,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,D)}let T={get action(){return m},get location(){return t(c,p)},listen(R){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(oB,C),g=R,()=>{c.removeEventListener(oB,C),g=null}},createHref(R){return e(c,R)},createURL:S,encodeLocation(R){let D=S(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:y,replace:x,go(R){return p.go(R)}};return T}var iB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(iB||(iB={}));function jre(t,e,o){o===void 0&&(o="/");let s=typeof e=="string"?ru(e):e,c=tF(s.pathname||"/",o);if(c==null)return null;let u=X6(t);zre(u);let p=null;for(let m=0;p==null&&m<u.length;++m){let g=Zre(c);p=Kre(u[m],g)}return p}function X6(t,e,o,s){e===void 0&&(e=[]),o===void 0&&(o=[]),s===void 0&&(s="");let c=(u,p,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};g.relativePath.startsWith("/")&&(Bn(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let w=Sl([s,g.relativePath]),_=o.concat(g);u.children&&u.children.length>0&&(Bn(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),X6(u.children,e,_,w)),!(u.path==null&&!u.index)&&e.push({path:w,score:qre(w,u.index),routesMeta:_})};return t.forEach((u,p)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,p);else for(let g of eF(u.path))c(u,p,g)}),e}function eF(t){let e=t.split("/");if(e.length===0)return[];let[o,...s]=e,c=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return c?[u,""]:[u];let p=eF(s.join("/")),m=[];return m.push(...p.map(g=>g===""?u:[u,g].join("/"))),c&&m.push(...p),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function zre(t){t.sort((e,o)=>e.score!==o.score?o.score-e.score:Gre(e.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}const Fre=/^:[\w-]+$/,$re=3,Vre=2,Ure=1,Hre=10,Wre=-2,sB=t=>t==="*";function qre(t,e){let o=t.split("/"),s=o.length;return o.some(sB)&&(s+=Wre),e&&(s+=Vre),o.filter(c=>!sB(c)).reduce((c,u)=>c+(Fre.test(u)?$re:u===""?Ure:Hre),s)}function Gre(t,e){return t.length===e.length&&t.slice(0,-1).every((s,c)=>s===e[c])?t[t.length-1]-e[e.length-1]:0}function Kre(t,e){let{routesMeta:o}=t,s={},c="/",u=[];for(let p=0;p<o.length;++p){let m=o[p],g=p===o.length-1,w=c==="/"?e:e.slice(c.length)||"/",_=Yre({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},w);if(!_)return null;Object.assign(s,_.params);let C=m.route;u.push({params:s,pathname:Sl([c,_.pathname]),pathnameBase:tie(Sl([c,_.pathnameBase])),route:C}),_.pathnameBase!=="/"&&(c=Sl([c,_.pathnameBase]))}return u}function Yre(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[o,s]=Qre(t.path,t.caseSensitive,t.end),c=e.match(o);if(!c)return null;let u=c[0],p=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:s.reduce((w,_,C)=>{let{paramName:y,isOptional:x}=_;if(y==="*"){let T=m[C]||"";p=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const S=m[C];return x&&!S?w[y]=void 0:w[y]=(S||"").replace(/%2F/g,"/"),w},{}),pathname:u,pathnameBase:p,pattern:t}}function Qre(t,e,o){e===void 0&&(e=!1),o===void 0&&(o=!0),Z6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),s]}function Zre(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Z6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tF(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let o=e.endsWith("/")?e.length-1:e.length,s=t.charAt(o);return s&&s!=="/"?null:t.slice(o)||"/"}function Jre(t,e){e===void 0&&(e="/");let{pathname:o,search:s="",hash:c=""}=typeof t=="string"?ru(t):t;return{pathname:o?o.startsWith("/")?o:Xre(o,e):e,search:nie(s),hash:oie(c)}}function Xre(t,e){let o=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function W_(t,e,o,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eie(t){return t.filter((e,o)=>o===0||e.route.path&&e.route.path.length>0)}function nF(t,e){let o=eie(t);return e?o.map((s,c)=>c===t.length-1?s.pathname:s.pathnameBase):o.map(s=>s.pathnameBase)}function oF(t,e,o,s){s===void 0&&(s=!1);let c;typeof t=="string"?c=ru(t):(c=Op({},t),Bn(!c.pathname||!c.pathname.includes("?"),W_("?","pathname","search",c)),Bn(!c.pathname||!c.pathname.includes("#"),W_("#","pathname","hash",c)),Bn(!c.search||!c.search.includes("#"),W_("#","search","hash",c)));let u=t===""||c.pathname==="",p=u?"/":c.pathname,m;if(p==null)m=o;else{let C=e.length-1;if(!s&&p.startsWith("..")){let y=p.split("/");for(;y[0]==="..";)y.shift(),C-=1;c.pathname=y.join("/")}m=C>=0?e[C]:"/"}let g=Jre(c,m),w=p&&p!=="/"&&p.endsWith("/"),_=(u||p===".")&&o.endsWith("/");return!g.pathname.endsWith("/")&&(w||_)&&(g.pathname+="/"),g}const Sl=t=>t.join("/").replace(/\/\/+/g,"/"),tie=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nie=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oie=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rie(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rF=["post","put","patch","delete"];new Set(rF);const iie=["get",...rF];new Set(iie);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bp(){return Bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Bp.apply(this,arguments)}const xx=z.createContext(null),sie=z.createContext(null),bf=z.createContext(null),m0=z.createContext(null),Na=z.createContext({outlet:null,matches:[],isDataRoute:!1}),iF=z.createContext(null);function wf(){return z.useContext(m0)!=null}function Ex(){return wf()||Bn(!1),z.useContext(m0).location}function sF(t){z.useContext(bf).static||z.useLayoutEffect(t)}function Yl(){let{isDataRoute:t}=z.useContext(Na);return t?wie():aie()}function aie(){wf()||Bn(!1);let t=z.useContext(xx),{basename:e,future:o,navigator:s}=z.useContext(bf),{matches:c}=z.useContext(Na),{pathname:u}=Ex(),p=JSON.stringify(nF(c,o.v7_relativeSplatPath)),m=z.useRef(!1);return sF(()=>{m.current=!0}),z.useCallback(function(w,_){if(_===void 0&&(_={}),!m.current)return;if(typeof w=="number"){s.go(w);return}let C=oF(w,JSON.parse(p),u,_.relative==="path");t==null&&e!=="/"&&(C.pathname=C.pathname==="/"?e:Sl([e,C.pathname])),(_.replace?s.replace:s.push)(C,_.state,_)},[e,s,p,u,t])}function Sx(){let{matches:t}=z.useContext(Na),e=t[t.length-1];return e?e.params:{}}function lie(t,e){return cie(t,e)}function cie(t,e,o,s){wf()||Bn(!1);let{navigator:c}=z.useContext(bf),{matches:u}=z.useContext(Na),p=u[u.length-1],m=p?p.params:{};p&&p.pathname;let g=p?p.pathnameBase:"/";p&&p.route;let w=Ex(),_;if(e){var C;let R=typeof e=="string"?ru(e):e;g==="/"||(C=R.pathname)!=null&&C.startsWith(g)||Bn(!1),_=R}else _=w;let y=_.pathname||"/",x=y;if(g!=="/"){let R=g.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=jre(t,{pathname:x}),T=fie(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:Sl([g,c.encodeLocation?c.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Sl([g,c.encodeLocation?c.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),u,o,s);return e&&T?z.createElement(m0.Provider,{value:{location:Bp({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:la.Pop}},T):T}function die(){let t=bie(),e=rie(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),o?z.createElement("pre",{style:c},o):null,null)}const uie=z.createElement(die,null);class hie extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,o){return o.location!==e.location||o.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:o.error,location:o.location,revalidation:e.revalidation||o.revalidation}}componentDidCatch(e,o){console.error("React Router caught the following error during render",e,o)}render(){return this.state.error!==void 0?z.createElement(Na.Provider,{value:this.props.routeContext},z.createElement(iF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pie(t){let{routeContext:e,match:o,children:s}=t,c=z.useContext(xx);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),z.createElement(Na.Provider,{value:e},s)}function fie(t,e,o,s){var c;if(e===void 0&&(e=[]),o===void 0&&(o=null),s===void 0&&(s=null),t==null){var u;if((u=o)!=null&&u.errors)t=o.matches;else return null}let p=t,m=(c=o)==null?void 0:c.errors;if(m!=null){let _=p.findIndex(C=>C.route.id&&(m==null?void 0:m[C.route.id])!==void 0);_>=0||Bn(!1),p=p.slice(0,Math.min(p.length,_+1))}let g=!1,w=-1;if(o&&s&&s.v7_partialHydration)for(let _=0;_<p.length;_++){let C=p[_];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(w=_),C.route.id){let{loaderData:y,errors:x}=o,S=C.route.loader&&y[C.route.id]===void 0&&(!x||x[C.route.id]===void 0);if(C.route.lazy||S){g=!0,w>=0?p=p.slice(0,w+1):p=[p[0]];break}}}return p.reduceRight((_,C,y)=>{let x,S=!1,T=null,R=null;o&&(x=m&&C.route.id?m[C.route.id]:void 0,T=C.route.errorElement||uie,g&&(w<0&&y===0?(S=!0,R=null):w===y&&(S=!0,R=C.route.hydrateFallbackElement||null)));let D=e.concat(p.slice(0,y+1)),N=()=>{let O;return x?O=T:S?O=R:C.route.Component?O=z.createElement(C.route.Component,null):C.route.element?O=C.route.element:O=_,z.createElement(pie,{match:C,routeContext:{outlet:_,matches:D,isDataRoute:o!=null},children:O})};return o&&(C.route.ErrorBoundary||C.route.errorElement||y===0)?z.createElement(hie,{location:o.location,revalidation:o.revalidation,component:T,error:x,children:N(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):N()},null)}var aF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aF||{}),gb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gb||{});function gie(t){let e=z.useContext(xx);return e||Bn(!1),e}function mie(t){let e=z.useContext(sie);return e||Bn(!1),e}function kie(t){let e=z.useContext(Na);return e||Bn(!1),e}function lF(t){let e=kie(),o=e.matches[e.matches.length-1];return o.route.id||Bn(!1),o.route.id}function bie(){var t;let e=z.useContext(iF),o=mie(gb.UseRouteError),s=lF(gb.UseRouteError);return e!==void 0?e:(t=o.errors)==null?void 0:t[s]}function wie(){let{router:t}=gie(aF.UseNavigateStable),e=lF(gb.UseNavigateStable),o=z.useRef(!1);return sF(()=>{o.current=!0}),z.useCallback(function(c,u){u===void 0&&(u={}),o.current&&(typeof c=="number"?t.navigate(c):t.navigate(c,Bp({fromRouteId:e},u)))},[t,e])}function cF(t){let{to:e,replace:o,state:s,relative:c}=t;wf()||Bn(!1);let{future:u,static:p}=z.useContext(bf),{matches:m}=z.useContext(Na),{pathname:g}=Ex(),w=Yl(),_=oF(e,nF(m,u.v7_relativeSplatPath),g,c==="path"),C=JSON.stringify(_);return z.useEffect(()=>w(JSON.parse(C),{replace:o,state:s,relative:c}),[w,C,c,o,s]),null}function Ei(t){Bn(!1)}function vie(t){let{basename:e="/",children:o=null,location:s,navigationType:c=la.Pop,navigator:u,static:p=!1,future:m}=t;wf()&&Bn(!1);let g=e.replace(/^\/*/,"/"),w=z.useMemo(()=>({basename:g,navigator:u,static:p,future:Bp({v7_relativeSplatPath:!1},m)}),[g,m,u,p]);typeof s=="string"&&(s=ru(s));let{pathname:_="/",search:C="",hash:y="",state:x=null,key:S="default"}=s,T=z.useMemo(()=>{let R=tF(_,g);return R==null?null:{location:{pathname:R,search:C,hash:y,state:x,key:S},navigationType:c}},[g,_,C,y,x,S,c]);return T==null?null:z.createElement(bf.Provider,{value:w},z.createElement(m0.Provider,{children:o,value:T}))}function yie(t){let{children:e,location:o}=t;return lie(EA(e),o)}new Promise(()=>{});function EA(t,e){e===void 0&&(e=[]);let o=[];return z.Children.forEach(t,(s,c)=>{if(!z.isValidElement(s))return;let u=[...e,c];if(s.type===z.Fragment){o.push.apply(o,EA(s.props.children,u));return}s.type!==Ei&&Bn(!1),!s.props.index||!s.props.children||Bn(!1);let p={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=EA(s.props.children,u)),o.push(p)}),o}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _ie="6";try{window.__reactRouterVersion=_ie}catch{}const Cie="startTransition",aB=Hk[Cie];function Aie(t){let{basename:e,children:o,future:s,window:c}=t,u=z.useRef();u.current==null&&(u.current=Ore({window:c,v5Compat:!0}));let p=u.current,[m,g]=z.useState({action:p.action,location:p.location}),{v7_startTransition:w}=s||{},_=z.useCallback(C=>{w&&aB?aB(()=>g(C)):g(C)},[g,w]);return z.useLayoutEffect(()=>p.listen(_),[p,_]),z.createElement(vie,{basename:e,children:o,location:m.location,navigationType:m.action,navigator:p,future:s})}var lB;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lB||(lB={}));var cB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cB||(cB={}));var dB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=function(t){const e=[];let o=0;for(let s=0;s<t.length;s++){let c=t.charCodeAt(s);c<128?e[o++]=c:c<2048?(e[o++]=c>>6|192,e[o++]=c&63|128):(c&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(c=65536+((c&1023)<<10)+(t.charCodeAt(++s)&1023),e[o++]=c>>18|240,e[o++]=c>>12&63|128,e[o++]=c>>6&63|128,e[o++]=c&63|128):(e[o++]=c>>12|224,e[o++]=c>>6&63|128,e[o++]=c&63|128)}return e},xie=function(t){const e=[];let o=0,s=0;for(;o<t.length;){const c=t[o++];if(c<128)e[s++]=String.fromCharCode(c);else if(c>191&&c<224){const u=t[o++];e[s++]=String.fromCharCode((c&31)<<6|u&63)}else if(c>239&&c<365){const u=t[o++],p=t[o++],m=t[o++],g=((c&7)<<18|(u&63)<<12|(p&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=t[o++],p=t[o++];e[s++]=String.fromCharCode((c&15)<<12|(u&63)<<6|p&63)}}return e.join("")},uF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<t.length;c+=3){const u=t[c],p=c+1<t.length,m=p?t[c+1]:0,g=c+2<t.length,w=g?t[c+2]:0,_=u>>2,C=(u&3)<<4|m>>4;let y=(m&15)<<2|w>>6,x=w&63;g||(x=64,p||(y=64)),s.push(o[_],o[C],o[y],o[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const o=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<t.length;){const u=o[t.charAt(c++)],m=c<t.length?o[t.charAt(c)]:0;++c;const w=c<t.length?o[t.charAt(c)]:64;++c;const C=c<t.length?o[t.charAt(c)]:64;if(++c,u==null||m==null||w==null||C==null)throw new Eie;const y=u<<2|m>>4;if(s.push(y),w!==64){const x=m<<4&240|w>>2;if(s.push(x),C!==64){const S=w<<6&192|C;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Eie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sie=function(t){const e=dF(t);return uF.encodeByteArray(e,!0)},mb=function(t){return Sie(t).replace(/\./g,"")},hF=function(t){try{return uF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iie=()=>Tie().__FIREBASE_DEFAULTS__,Die=()=>{if(typeof process>"u"||typeof dB>"u")return;const t=dB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hF(t[1]);return e&&JSON.parse(e)},k0=()=>{try{return Iie()||Die()||Mie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pF=t=>{var e,o;return(o=(e=k0())===null||e===void 0?void 0:e.emulatorHosts)===null||o===void 0?void 0:o[t]},fF=t=>{const e=pF(t);if(!e)return;const o=e.lastIndexOf(":");if(o<=0||o+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(o+1),10);return e[0]==="["?[e.substring(1,o-1),s]:[e.substring(0,o),s]},gF=()=>{var t;return(t=k0())===null||t===void 0?void 0:t.config},mF=t=>{var e;return(e=k0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}wrapCallback(e){return(o,s)=>{o?this.reject(o):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(o):e(o,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const o={alg:"none",type:"JWT"},s=e||"demo-project",c=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mb(JSON.stringify(o)),mb(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Eo())}function Rie(){var t;const e=(t=k0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Oie(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lie(){const t=Eo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jie(){try{return typeof indexedDB=="object"}catch{return!1}}function zie(){return new Promise((t,e)=>{try{let o=!0;const s="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(s);c.onsuccess=()=>{c.result.close(),o||self.indexedDB.deleteDatabase(s),t(!0)},c.onupgradeneeded=()=>{o=!1},c.onerror=()=>{var u;e(((u=c.error)===null||u===void 0?void 0:u.message)||"")}}catch(o){e(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie="FirebaseError";class Gi extends Error{constructor(e,o,s){super(o),this.code=e,this.customData=s,this.name=Fie,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vf.prototype.create)}}class vf{constructor(e,o,s){this.service=e,this.serviceName=o,this.errors=s}create(e,...o){const s=o[0]||{},c=`${this.service}/${e}`,u=this.errors[e],p=u?$ie(u,s):"Error",m=`${this.serviceName}: ${p} (${c}).`;return new Gi(c,m,s)}}function $ie(t,e){return t.replace(Vie,(o,s)=>{const c=e[s];return c!=null?String(c):`<${s}?>`})}const Vie=/\{\$([^}]+)}/g;function Uie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kb(t,e){if(t===e)return!0;const o=Object.keys(t),s=Object.keys(e);for(const c of o){if(!s.includes(c))return!1;const u=t[c],p=e[c];if(uB(u)&&uB(p)){if(!kb(u,p))return!1}else if(u!==p)return!1}for(const c of s)if(!o.includes(c))return!1;return!0}function uB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){const e=[];for(const[o,s]of Object.entries(t))Array.isArray(s)?s.forEach(c=>{e.push(encodeURIComponent(o)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(o)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hie(t,e){const o=new Wie(t,e);return o.subscribe.bind(o)}class Wie{constructor(e,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(o=>{o.next(e)})}error(e){this.forEachObserver(o=>{o.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,o,s){let c;if(e===void 0&&o===void 0&&s===void 0)throw new Error("Missing Observer.");qie(e,["next","error","complete"])?c=e:c={next:e,error:o,complete:s},c.next===void 0&&(c.next=q_),c.error===void 0&&(c.error=q_),c.complete===void 0&&(c.complete=q_);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,e)}sendOne(e,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{o(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qie(t,e){if(typeof t!="object"||t===null)return!1;for(const o of e)if(o in t&&typeof t[o]=="function")return!0;return!1}function q_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class Aa{constructor(e,o,s){this.name=e,this.instanceFactory=o,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gie{constructor(e,o){this.name=e,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const o=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(o)){const s=new Pie;if(this.instancesDeferred.set(o,s),this.isInitialized(o)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:o});c&&s.resolve(c)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(e){var o;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),c=(o=e==null?void 0:e.optional)!==null&&o!==void 0?o:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(c)return null;throw u}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yie(e))try{this.getOrInitializeService({instanceIdentifier:pl})}catch{}for(const[o,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);try{const u=this.getOrInitializeService({instanceIdentifier:c});s.resolve(u)}catch{}}}}clearInstance(e=pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...e.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pl){return this.instances.has(e)}getOptions(e=pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:o={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:s,options:o});for(const[u,p]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&p.resolve(c)}return c}onInit(e,o){var s;const c=this.normalizeInstanceIdentifier(o),u=(s=this.onInitCallbacks.get(c))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(c,u);const p=this.instances.get(c);return p&&e(p,c),()=>{u.delete(e)}}invokeOnInitCallbacks(e,o){const s=this.onInitCallbacks.get(o);if(s)for(const c of s)try{c(e,o)}catch{}}getOrInitializeService({instanceIdentifier:e,options:o={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Kie(e),options:o}),this.instances.set(e,s),this.instancesOptions.set(e,o),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pl){return this.component?this.component.multipleInstances?e:pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kie(t){return t===pl?void 0:t}function Yie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const o=this.getProvider(e.name);if(o.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);o.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const o=new Gie(e,this);return this.providers.set(e,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(St||(St={}));const Zie={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},Jie=St.INFO,Xie={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},ese=(t,e,...o)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),c=Xie[e];if(c)console[c](`[${s}]  ${t.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tx{constructor(e){this.name=e,this._logLevel=Jie,this._logHandler=ese,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const tse=(t,e)=>e.some(o=>t instanceof o);let hB,pB;function nse(){return hB||(hB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ose(){return pB||(pB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bF=new WeakMap,SA=new WeakMap,wF=new WeakMap,G_=new WeakMap,Ix=new WeakMap;function rse(t){const e=new Promise((o,s)=>{const c=()=>{t.removeEventListener("success",u),t.removeEventListener("error",p)},u=()=>{o(wa(t.result)),c()},p=()=>{s(t.error),c()};t.addEventListener("success",u),t.addEventListener("error",p)});return e.then(o=>{o instanceof IDBCursor&&bF.set(o,t)}).catch(()=>{}),Ix.set(e,t),e}function ise(t){if(SA.has(t))return;const e=new Promise((o,s)=>{const c=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",p),t.removeEventListener("abort",p)},u=()=>{o(),c()},p=()=>{s(t.error||new DOMException("AbortError","AbortError")),c()};t.addEventListener("complete",u),t.addEventListener("error",p),t.addEventListener("abort",p)});SA.set(t,e)}let TA={get(t,e,o){if(t instanceof IDBTransaction){if(e==="done")return SA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wF.get(t);if(e==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return wa(t[e])},set(t,e,o){return t[e]=o,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sse(t){TA=t(TA)}function ase(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...o){const s=t.call(K_(this),e,...o);return wF.set(s,e.sort?e.sort():[e]),wa(s)}:ose().includes(t)?function(...e){return t.apply(K_(this),e),wa(bF.get(this))}:function(...e){return wa(t.apply(K_(this),e))}}function lse(t){return typeof t=="function"?ase(t):(t instanceof IDBTransaction&&ise(t),tse(t,nse())?new Proxy(t,TA):t)}function wa(t){if(t instanceof IDBRequest)return rse(t);if(G_.has(t))return G_.get(t);const e=lse(t);return e!==t&&(G_.set(t,e),Ix.set(e,t)),e}const K_=t=>Ix.get(t);function cse(t,e,{blocked:o,upgrade:s,blocking:c,terminated:u}={}){const p=indexedDB.open(t,e),m=wa(p);return s&&p.addEventListener("upgradeneeded",g=>{s(wa(p.result),g.oldVersion,g.newVersion,wa(p.transaction),g)}),o&&p.addEventListener("blocked",g=>o(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),c&&g.addEventListener("versionchange",w=>c(w.oldVersion,w.newVersion,w))}).catch(()=>{}),m}const dse=["get","getKey","getAll","getAllKeys","count"],use=["put","add","delete","clear"],Y_=new Map;function fB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y_.get(e))return Y_.get(e);const o=e.replace(/FromIndex$/,""),s=e!==o,c=use.includes(o);if(!(o in(s?IDBIndex:IDBObjectStore).prototype)||!(c||dse.includes(o)))return;const u=async function(p,...m){const g=this.transaction(p,c?"readwrite":"readonly");let w=g.store;return s&&(w=w.index(m.shift())),(await Promise.all([w[o](...m),c&&g.done]))[0]};return Y_.set(e,u),u}sse(t=>({...t,get:(e,o,s)=>fB(e,o)||t.get(e,o,s),has:(e,o)=>!!fB(e,o)||t.has(e,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(pse(o)){const s=o.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(o=>o).join(" ")}}function pse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const IA="@firebase/app",gB="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new Tx("@firebase/app"),fse="@firebase/app-compat",gse="@firebase/analytics-compat",mse="@firebase/analytics",kse="@firebase/app-check-compat",bse="@firebase/app-check",wse="@firebase/auth",vse="@firebase/auth-compat",yse="@firebase/database",_se="@firebase/database-compat",Cse="@firebase/functions",Ase="@firebase/functions-compat",xse="@firebase/installations",Ese="@firebase/installations-compat",Sse="@firebase/messaging",Tse="@firebase/messaging-compat",Ise="@firebase/performance",Dse="@firebase/performance-compat",Mse="@firebase/remote-config",Pse="@firebase/remote-config-compat",Nse="@firebase/storage",Rse="@firebase/storage-compat",Ose="@firebase/firestore",Bse="@firebase/firestore-compat",Lse="firebase",jse="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="[DEFAULT]",zse={[IA]:"fire-core",[fse]:"fire-core-compat",[mse]:"fire-analytics",[gse]:"fire-analytics-compat",[bse]:"fire-app-check",[kse]:"fire-app-check-compat",[wse]:"fire-auth",[vse]:"fire-auth-compat",[yse]:"fire-rtdb",[_se]:"fire-rtdb-compat",[Cse]:"fire-fn",[Ase]:"fire-fn-compat",[xse]:"fire-iid",[Ese]:"fire-iid-compat",[Sse]:"fire-fcm",[Tse]:"fire-fcm-compat",[Ise]:"fire-perf",[Dse]:"fire-perf-compat",[Mse]:"fire-rc",[Pse]:"fire-rc-compat",[Nse]:"fire-gcs",[Rse]:"fire-gcs-compat",[Ose]:"fire-fst",[Bse]:"fire-fst-compat","fire-js":"fire-js",[Lse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map,MA=new Map;function Fse(t,e){try{t.container.addComponent(e)}catch(o){Ll.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,o)}}function jl(t){const e=t.name;if(MA.has(e))return Ll.debug(`There were multiple attempts to register component ${e}.`),!1;MA.set(e,t);for(const o of bb.values())Fse(o,t);return!0}function b0(t,e){const o=t.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $se={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},va=new vf("app","Firebase",$se);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vse{constructor(e,o,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=jse;function vF(t,e={}){let o=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:DA,automaticDataCollectionEnabled:!1},e),c=s.name;if(typeof c!="string"||!c)throw va.create("bad-app-name",{appName:String(c)});if(o||(o=gF()),!o)throw va.create("no-options");const u=bb.get(c);if(u){if(kb(o,u.options)&&kb(s,u.config))return u;throw va.create("duplicate-app",{appName:c})}const p=new Qie(c);for(const g of MA.values())p.addComponent(g);const m=new Vse(o,s,p);return bb.set(c,m),m}function Dx(t=DA){const e=bb.get(t);if(!e&&t===DA&&gF())return vF();if(!e)throw va.create("no-app",{appName:t});return e}function Li(t,e,o){var s;let c=(s=zse[t])!==null&&s!==void 0?s:t;o&&(c+=`-${o}`);const u=c.match(/\s|\//),p=e.match(/\s|\//);if(u||p){const m=[`Unable to register library "${c}" with version "${e}":`];u&&m.push(`library name "${c}" contains illegal characters (whitespace or "/")`),u&&p&&m.push("and"),p&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ll.warn(m.join(" "));return}jl(new Aa(`${c}-version`,()=>({library:c,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use="firebase-heartbeat-database",Hse=1,Lp="firebase-heartbeat-store";let Q_=null;function yF(){return Q_||(Q_=cse(Use,Hse,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lp)}}}).catch(t=>{throw va.create("idb-open",{originalErrorMessage:t.message})})),Q_}async function Wse(t){try{return await(await yF()).transaction(Lp).objectStore(Lp).get(_F(t))}catch(e){if(e instanceof Gi)Ll.warn(e.message);else{const o=va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ll.warn(o.message)}}}async function mB(t,e){try{const s=(await yF()).transaction(Lp,"readwrite");await s.objectStore(Lp).put(e,_F(t)),await s.done}catch(o){if(o instanceof Gi)Ll.warn(o.message);else{const s=va.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});Ll.warn(s.message)}}}function _F(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse=1024,Gse=30*24*60*60*1e3;class Kse{constructor(e){this.container=e,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new Qse(o),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kB();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const u=new Date(c.date).valueOf();return Date.now()-u<=Gse}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kB(),{heartbeatsToSend:o,unsentEntries:s}=Yse(this._heartbeatsCache.heartbeats),c=mb(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}}function kB(){return new Date().toISOString().substring(0,10)}function Yse(t,e=qse){const o=[];let s=t.slice();for(const c of t){const u=o.find(p=>p.agent===c.agent);if(u){if(u.dates.push(c.date),bB(o)>e){u.dates.pop();break}}else if(o.push({agent:c.agent,dates:[c.date]}),bB(o)>e){o.pop();break}s=s.slice(1)}return{heartbeatsToSend:o,unsentEntries:s}}class Qse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jie()?zie().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Wse(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var o;if(await this._canUseIndexedDBPromise){const c=await this.read();return mB(this.app,{lastSentHeartbeatDate:(o=e.lastSentHeartbeatDate)!==null&&o!==void 0?o:c.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var o;if(await this._canUseIndexedDBPromise){const c=await this.read();return mB(this.app,{lastSentHeartbeatDate:(o=e.lastSentHeartbeatDate)!==null&&o!==void 0?o:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...e.heartbeats]})}else return}}function bB(t){return mb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zse(t){jl(new Aa("platform-logger",e=>new hse(e),"PRIVATE")),jl(new Aa("heartbeat",e=>new Kse(e),"PRIVATE")),Li(IA,gB,t),Li(IA,gB,"esm2017"),Li("fire-js","")}Zse("");function Mx(t,e){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(t);c<s.length;c++)e.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(t,s[c])&&(o[s[c]]=t[s[c]]);return o}function CF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jse=CF,AF=new vf("auth","Firebase",CF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Tx("@firebase/auth");function Xse(t,...e){wb.logLevel<=St.WARN&&wb.warn(`Auth (${Ql}): ${t}`,...e)}function Ek(t,...e){wb.logLevel<=St.ERROR&&wb.error(`Auth (${Ql}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,...e){throw Px(t,...e)}function ji(t,...e){return Px(t,...e)}function xF(t,e,o){const s=Object.assign(Object.assign({},Jse()),{[e]:o});return new vf("auth","Firebase",s).create(e,{appName:t.name})}function eae(t,e,o){const s=o;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ui(t,"argument-error"),xF(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Px(t,...e){if(typeof t!="string"){const o=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(o,...s)}return AF.create(t,...e)}function it(t,e,...o){if(!t)throw Px(e,...o)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ek(e),new Error(e)}function xs(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tae(){return wB()==="http:"||wB()==="https:"}function wB(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tae()||Oie()||"connection"in navigator)?navigator.onLine:!0}function oae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,o){this.shortDelay=e,this.longDelay=o,xs(o>e,"Short delay should be less than long delay!"),this.isMobile=Nie()||Bie()}get(){return nae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){xs(t.emulator,"Emulator should always be set here");const{url:o}=t.emulator;return e?`${o}${e.startsWith("/")?e.slice(1):e}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{static initialize(e,o,s){this.fetchImpl=e,o&&(this.headersImpl=o),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae=new _f(3e4,6e4);function SF(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cf(t,e,o,s,c={}){return TF(t,c,async()=>{let u={},p={};s&&(e==="GET"?p=s:u={body:JSON.stringify(s)});const m=yf(Object.assign({key:t.config.apiKey},p)).slice(1),g=await t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),EF.fetch()(IF(t,t.config.apiHost,o,m),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},u))})}async function TF(t,e,o){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},rae),e);try{const c=new aae(t),u=await Promise.race([o(),c.promise]);c.clearNetworkTimeout();const p=await u.json();if("needConfirmation"in p)throw Gm(t,"account-exists-with-different-credential",p);if(u.ok&&!("errorMessage"in p))return p;{const m=u.ok?p.errorMessage:p.error.message,[g,w]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gm(t,"credential-already-in-use",p);if(g==="EMAIL_EXISTS")throw Gm(t,"email-already-in-use",p);if(g==="USER_DISABLED")throw Gm(t,"user-disabled",p);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw xF(t,_,w);Ui(t,_)}}catch(c){if(c instanceof Gi)throw c;Ui(t,"network-request-failed",{message:String(c)})}}async function sae(t,e,o,s,c={}){const u=await Cf(t,e,o,s,c);return"mfaPendingCredential"in u&&Ui(t,"multi-factor-auth-required",{_serverResponse:u}),u}function IF(t,e,o,s){const c=`${e}${o}?${s}`;return t.config.emulator?Nx(t.config,c):`${t.config.apiScheme}://${c}`}class aae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((o,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),iae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gm(t,e,o){const s={appName:t.name};o.email&&(s.email=o.email),o.phoneNumber&&(s.phoneNumber=o.phoneNumber);const c=ji(t,e,s);return c.customData._tokenResponse=o,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lae(t,e){return Cf(t,"POST","/v1/accounts:delete",e)}async function cae(t,e){return Cf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dae(t,e=!1){const o=sn(t),s=await o.getIdToken(e),c=Rx(s);it(c&&c.exp&&c.auth_time&&c.iat,o.auth,"internal-error");const u=typeof c.firebase=="object"?c.firebase:void 0,p=u==null?void 0:u.sign_in_provider;return{claims:c,token:s,authTime:np(Z_(c.auth_time)),issuedAtTime:np(Z_(c.iat)),expirationTime:np(Z_(c.exp)),signInProvider:p||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Z_(t){return Number(t)*1e3}function Rx(t){const[e,o,s]=t.split(".");if(e===void 0||o===void 0||s===void 0)return Ek("JWT malformed, contained fewer than 3 sections"),null;try{const c=hF(o);return c?JSON.parse(c):(Ek("Failed to decode base64 JWT payload"),null)}catch(c){return Ek("Caught error parsing JWT payload as JSON",c==null?void 0:c.toString()),null}}function uae(t){const e=Rx(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(t,e,o=!1){if(o)return e;try{return await e}catch(s){throw s instanceof Gi&&hae(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function hae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var o;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const c=((o=this.user.stsTokenManager.expirationTime)!==null&&o!==void 0?o:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){if(!this.isRunning)return;const o=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,o){this.createdAt=e,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=np(this.lastLoginAt),this.creationTime=np(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t){var e;const o=t.auth,s=await t.getIdToken(),c=await jp(t,cae(o,{idToken:s}));it(c==null?void 0:c.users.length,o,"internal-error");const u=c.users[0];t._notifyReloadListener(u);const p=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?mae(u.providerUserInfo):[],m=gae(t.providerData,p),g=t.isAnonymous,w=!(t.email&&u.passwordHash)&&!(m!=null&&m.length),_=g?w:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new DF(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(t,C)}async function fae(t){const e=sn(t);await vb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gae(t,e){return[...t.filter(s=>!e.some(c=>c.providerId===s.providerId)),...e]}function mae(t){return t.map(e=>{var{providerId:o}=e,s=Mx(e,["providerId"]);return{providerId:o,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kae(t,e){const o=await TF(t,{},async()=>{const s=yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:u}=t.config,p=IF(t,c,"/v1/token",`key=${u}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",EF.fetch()(p,{method:"POST",headers:m,body:s})});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const o="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uae(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,o)}async getToken(e,o=!1){return it(!this.accessToken||this.refreshToken,e,"user-token-expired"),!o&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,o){const{accessToken:s,refreshToken:c,expiresIn:u}=await kae(e,o);this.updateTokensAndExpiration(s,c,Number(u))}updateTokensAndExpiration(e,o,s){this.refreshToken=o||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,o){const{refreshToken:s,accessToken:c,expirationTime:u}=o,p=new zp;return s&&(it(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),c&&(it(typeof c=="string","internal-error",{appName:e}),p.accessToken=c),u&&(it(typeof u=="number","internal-error",{appName:e}),p.expirationTime=u),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zp,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tl{constructor(e){var{uid:o,auth:s,stsTokenManager:c}=e,u=Mx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=o,this.auth=s,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new DF(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const o=await jp(this,this.stsTokenManager.getToken(this.auth,e));return it(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(e){return dae(this,e)}reload(){return fae(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(o=>Object.assign({},o)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const o=new Tl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return o.metadata._copy(this.metadata),o}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,o=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),o&&await vb(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await jp(this,lae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,o){var s,c,u,p,m,g,w,_;const C=(s=o.displayName)!==null&&s!==void 0?s:void 0,y=(c=o.email)!==null&&c!==void 0?c:void 0,x=(u=o.phoneNumber)!==null&&u!==void 0?u:void 0,S=(p=o.photoURL)!==null&&p!==void 0?p:void 0,T=(m=o.tenantId)!==null&&m!==void 0?m:void 0,R=(g=o._redirectEventId)!==null&&g!==void 0?g:void 0,D=(w=o.createdAt)!==null&&w!==void 0?w:void 0,N=(_=o.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:O,emailVerified:j,isAnonymous:$,providerData:H,stsTokenManager:M}=o;it(O&&M,e,"internal-error");const U=zp.fromJSON(this.name,M);it(typeof O=="string",e,"internal-error"),Gs(C,e.name),Gs(y,e.name),it(typeof j=="boolean",e,"internal-error"),it(typeof $=="boolean",e,"internal-error"),Gs(x,e.name),Gs(S,e.name),Gs(T,e.name),Gs(R,e.name),Gs(D,e.name),Gs(N,e.name);const G=new Tl({uid:O,auth:e,email:y,emailVerified:j,displayName:C,isAnonymous:$,photoURL:S,phoneNumber:x,tenantId:T,stsTokenManager:U,createdAt:D,lastLoginAt:N});return H&&Array.isArray(H)&&(G.providerData=H.map(Y=>Object.assign({},Y))),R&&(G._redirectEventId=R),G}static async _fromIdTokenResponse(e,o,s=!1){const c=new zp;c.updateFromServerResponse(o);const u=new Tl({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:s});return await vb(u),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=new Map;function ms(t){xs(t instanceof Function,"Expected a class definition");let e=vB.get(t);return e?(xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vB.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,o){this.storage[e]=o}async _get(e){const o=this.storage[e];return o===void 0?null:o}async _remove(e){delete this.storage[e]}_addListener(e,o){}_removeListener(e,o){}}MF.type="NONE";const yB=MF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e,o){return`firebase:${t}:${e}:${o}`}class kd{constructor(e,o,s){this.persistence=e,this.auth=o,this.userKey=s;const{config:c,name:u}=this.auth;this.fullUserKey=Sk(this.userKey,c.apiKey,u),this.fullPersistenceKey=Sk("persistence",c.apiKey,u),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,o,s="authUser"){if(!o.length)return new kd(ms(yB),e,s);const c=(await Promise.all(o.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let u=c[0]||ms(yB);const p=Sk(s,e.config.apiKey,e.name);let m=null;for(const w of o)try{const _=await w._get(p);if(_){const C=Tl._fromJSON(e,_);w!==u&&(m=C),u=w;break}}catch{}const g=c.filter(w=>w._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new kd(u,e,s):(u=g[0],m&&await u._set(p,m.toJSON()),await Promise.all(o.map(async w=>{if(w!==u)try{await w._remove(p)}catch{}})),new kd(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BF(e))return"Blackberry";if(LF(e))return"Webos";if(Ox(e))return"Safari";if((e.includes("chrome/")||NF(e))&&!e.includes("edge/"))return"Chrome";if(OF(e))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(o);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PF(t=Eo()){return/firefox\//i.test(t)}function Ox(t=Eo()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NF(t=Eo()){return/crios\//i.test(t)}function RF(t=Eo()){return/iemobile/i.test(t)}function OF(t=Eo()){return/android/i.test(t)}function BF(t=Eo()){return/blackberry/i.test(t)}function LF(t=Eo()){return/webos/i.test(t)}function w0(t=Eo()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bae(t=Eo()){var e;return w0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wae(){return Lie()&&document.documentMode===10}function jF(t=Eo()){return w0(t)||OF(t)||LF(t)||BF(t)||/windows phone/i.test(t)||RF(t)}function vae(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t,e=[]){let o;switch(t){case"Browser":o=_B(Eo());break;case"Worker":o=`${_B(Eo())}-${t}`;break;default:o=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${o}/JsCore/${Ql}/${s}`}async function FF(t,e){return Cf(t,"GET","/v2/recaptchaConfig",SF(t,e))}function CB(t){return t!==void 0&&t.enterprise!==void 0}class $F{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(o=>o.provider==="EMAIL_PASSWORD_PROVIDER"&&o.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yae(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function VF(t){return new Promise((e,o)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=c=>{const u=ji("internal-error");u.customData=c,o(u)},s.type="text/javascript",s.charset="UTF-8",yae().appendChild(s)})}function _ae(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Cae="https://www.google.com/recaptcha/enterprise.js?render=",Aae="recaptcha-enterprise",xae="NO_RECAPTCHA";class Eae{constructor(e){this.type=Aae,this.auth=Af(e)}async verify(e="verify",o=!1){async function s(u){if(!o){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(p,m)=>{FF(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const w=new $F(g);return u.tenantId==null?u._agentRecaptchaConfig=w:u._tenantRecaptchaConfigs[u.tenantId]=w,p(w.siteKey)}}).catch(g=>{m(g)})})}function c(u,p,m){const g=window.grecaptcha;CB(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(w=>{p(w)}).catch(()=>{p(xae)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,p)=>{s(this.auth).then(m=>{if(!o&&CB(window.grecaptcha))c(m,u,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}VF(Cae+m).then(()=>{c(m,u,p)}).catch(g=>{p(g)})}}).catch(m=>{p(m)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,o){const s=u=>new Promise((p,m)=>{try{const g=e(u);p(g)}catch(g){m(g)}});s.onAbort=o,this.queue.push(s);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const o=[];try{for(const s of this.queue)await s(e),s.onAbort&&o.push(s.onAbort)}catch(s){o.reverse();for(const c of o)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(e,o,s,c){this.app=e,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=s,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AB(this),this.idTokenSubscription=new AB(this),this.beforeStateQueue=new Sae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,o){return o&&(this._popupRedirectResolver=ms(o)),this._initializationPromise=this.queue(async()=>{var s,c;if(!this._deleted&&(this.persistenceManager=await kd.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var o;const s=await this.assertedPersistence.getCurrentUser();let c=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const p=(o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId,m=c==null?void 0:c._redirectEventId,g=await this.tryRedirectSignIn(e);(!p||p===m)&&(g!=null&&g.user)&&(c=g.user,u=!0)}if(!c)return this.directlySetCurrentUser(null);if(!c._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(c)}catch(p){c=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(p))}return c?this.reloadAndSetCurrentUserOrClear(c):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===c._redirectEventId?this.directlySetCurrentUser(c):this.reloadAndSetCurrentUserOrClear(c)}async tryRedirectSignIn(e){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(e){try{await vb(e)}catch(o){if((o==null?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const o=e?sn(e):null;return o&&it(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(e,o=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}async initializeRecaptchaConfig(){const e=await FF(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),o=new $F(e);this.tenantId==null?this._agentRecaptchaConfig=o:this._tenantRecaptchaConfigs[this.tenantId]=o,o.emailPasswordEnabled&&new Eae(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vf("auth","Firebase",e())}onAuthStateChanged(e,o,s){return this.registerStateListener(this.authStateSubscription,e,o,s)}beforeAuthStateChanged(e,o){return this.beforeStateQueue.pushCallback(e,o)}onIdTokenChanged(e,o,s){return this.registerStateListener(this.idTokenSubscription,e,o,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,o){const s=await this.getOrInitRedirectPersistenceManager(o);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const o=e&&ms(e)||this._popupRedirectResolver;it(o,this,"argument-error"),this.redirectPersistenceManager=await kd.create(this,[ms(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var o,s;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)===null||o===void 0?void 0:o._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(o=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&o!==void 0?o:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,o,s,c){if(this._deleted)return()=>{};const u=typeof o=="function"?o:o.next.bind(o),p=this._isInitialized?Promise.resolve():this._initializationPromise;return it(p,this,"internal-error"),p.then(()=>u(this.currentUser)),typeof o=="function"?e.addObserver(o,s,c):e.addObserver(o)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const o={"X-Client-Version":this.clientVersion};this.app.options.appId&&(o["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(o["X-Firebase-Client"]=s);const c=await this._getAppCheckToken();return c&&(o["X-Firebase-AppCheck"]=c),o}async _getAppCheckToken(){var e;const o=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return o!=null&&o.error&&Xse(`Error while retrieving App Check token: ${o.error}`),o==null?void 0:o.token}}function Af(t){return sn(t)}class AB{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hie(o=>this.observer=o)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(t,e){const o=b0(t,"auth");if(o.isInitialized()){const c=o.getImmediate(),u=o.getOptions();if(kb(u,e??{}))return c;Ui(c,"already-initialized")}return o.initialize({options:e})}function Dae(t,e){const o=(e==null?void 0:e.persistence)||[],s=(Array.isArray(o)?o:[o]).map(ms);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Mae(t,e,o){const s=Af(t);it(s._canInitEmulator,s,"emulator-config-failed"),it(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const c=!1,u=UF(e),{host:p,port:m}=Pae(e),g=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${p}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:p,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:c})}),Nae()}function UF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pae(t){const e=UF(t),o=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!o)return{host:"",port:null};const s=o[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(s);if(c){const u=c[1];return{host:u,port:xB(s.substr(u.length+1))}}else{const[u,p]=s.split(":");return{host:u,port:xB(p)}}}function xB(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Nae(){function t(){const e=document.createElement("p"),o=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,o){this.providerId=e,this.signInMethod=o}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,o){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t,e){return sae(t,"POST","/v1/accounts:signInWithIdp",SF(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae="http://localhost";class zl extends HF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const o=new zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(o.idToken=e.idToken),e.accessToken&&(o.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(o.nonce=e.nonce),e.pendingToken&&(o.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(o.accessToken=e.oauthToken,o.secret=e.oauthTokenSecret):Ui("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const o=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:c}=o,u=Mx(o,["providerId","signInMethod"]);if(!s||!c)return null;const p=new zl(s,c);return p.idToken=u.idToken||void 0,p.accessToken=u.accessToken||void 0,p.secret=u.secret,p.nonce=u.nonce,p.pendingToken=u.pendingToken||null,p}_getIdTokenResponse(e){const o=this.buildRequest();return bd(e,o)}_linkToIdToken(e,o){const s=this.buildRequest();return s.idToken=o,bd(e,s)}_getReauthenticationResolver(e){const o=this.buildRequest();return o.autoCreate=!1,bd(e,o)}buildRequest(){const e={requestUri:Rae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),e.postBody=yf(o)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends Bx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends xf{constructor(){super("facebook.com")}static credential(e){return zl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,o){return zl._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:o})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:o,oauthAccessToken:s}=e;if(!o&&!s)return null;try{return na.credential(o,s)}catch{return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com";na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends xf{constructor(){super("github.com")}static credential(e){return zl._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends xf{constructor(){super("twitter.com")}static credential(e,o){return zl._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:o})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:o,oauthTokenSecret:s}=e;if(!o||!s)return null;try{return ra.credential(o,s)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,o,s,c=!1){const u=await Tl._fromIdTokenResponse(e,s,c),p=EB(s);return new Od({user:u,providerId:p,_tokenResponse:s,operationType:o})}static async _forOperation(e,o,s){await e._updateTokensIfNecessary(s,!0);const c=EB(s);return new Od({user:e,providerId:c,_tokenResponse:s,operationType:o})}}function EB(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends Gi{constructor(e,o,s,c){var u;super(o.code,o.message),this.operationType=s,this.user=c,Object.setPrototypeOf(this,yb.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:o.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,o,s,c){return new yb(e,o,s,c)}}function WF(t,e,o,s){return(e==="reauthenticate"?o._getReauthenticationResolver(t):o._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yb._fromErrorAndOperation(t,u,e,s):u})}async function Oae(t,e,o=!1){const s=await jp(t,e._linkToIdToken(t.auth,await t.getIdToken()),o);return Od._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bae(t,e,o=!1){const{auth:s}=t,c="reauthenticate";try{const u=await jp(t,WF(s,c,e,t),o);it(u.idToken,s,"internal-error");const p=Rx(u.idToken);it(p,s,"internal-error");const{sub:m}=p;return it(t.uid===m,s,"user-mismatch"),Od._forOperation(t,c,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lae(t,e,o=!1){const s="signIn",c=await WF(t,s,e),u=await Od._fromIdTokenResponse(t,s,c);return o||await t._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function STe(t,e){return sn(t).setPersistence(e)}function jae(t,e,o,s){return sn(t).onIdTokenChanged(e,o,s)}function zae(t,e,o){return sn(t).beforeAuthStateChanged(e,o)}function Fae(t,e,o,s){return sn(t).onAuthStateChanged(e,o,s)}function $ae(t){return sn(t).signOut()}const _b="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,o){this.storageRetriever=e,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(_b,"1"),this.storage.removeItem(_b),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,o){return this.storage.setItem(e,JSON.stringify(o)),Promise.resolve()}_get(e){const o=this.storage.getItem(e);return Promise.resolve(o?JSON.parse(o):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vae(){const t=Eo();return Ox(t)||w0(t)}const Uae=1e3,Hae=10;class GF extends qF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,o)=>this.onStorageEvent(e,o),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Vae()&&vae(),this.fallbackToPolling=jF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const o of Object.keys(this.listeners)){const s=this.storage.getItem(o),c=this.localCache[o];s!==c&&e(o,c,s)}}onStorageEvent(e,o=!1){if(!e.key){this.forAllChangedKeys((p,m,g)=>{this.notifyListeners(p,g)});return}const s=e.key;if(o?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const p=this.storage.getItem(s);if(e.newValue!==p)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!o)return}const c=()=>{const p=this.storage.getItem(s);!o&&this.localCache[s]===p||this.notifyListeners(s,p)},u=this.storage.getItem(s);wae()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(c,Hae):c()}notifyListeners(e,o){this.localCache[e]=o;const s=this.listeners[e];if(s)for(const c of Array.from(s))c(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,o,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:o,newValue:s}),!0)})},Uae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,o){await super._set(e,o),this.localCache[e]=JSON.stringify(o)}async _get(e){const o=await super._get(e);return this.localCache[e]=JSON.stringify(o),o}async _remove(e){await super._remove(e),delete this.localCache[e]}}GF.type="LOCAL";const Wae=GF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF extends qF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,o){}_removeListener(e,o){}}KF.type="SESSION";const YF=KF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const o=this.receivers.find(c=>c.isListeningto(e));if(o)return o;const s=new v0(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const o=e,{eventId:s,eventType:c,data:u}=o.data,p=this.handlersMap[c];if(!(p!=null&&p.size))return;o.ports[0].postMessage({status:"ack",eventId:s,eventType:c});const m=Array.from(p).map(async w=>w(o.origin,u)),g=await qae(m);o.ports[0].postMessage({status:"done",eventId:s,eventType:c,response:g})}_subscribe(e,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(o)}_unsubscribe(e,o){this.handlersMap[e]&&o&&this.handlersMap[e].delete(o),(!o||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}v0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t="",e=10){let o="";for(let s=0;s<e;s++)o+=Math.floor(Math.random()*10);return t+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,o,s=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let u,p;return new Promise((m,g)=>{const w=Lx("",20);c.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);p={messageChannel:c,onMessage(C){const y=C;if(y.data.eventId===w)switch(y.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(y.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(p),c.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:o},[c.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function Kae(t){zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function Yae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zae(){return QF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF="firebaseLocalStorageDb",Jae=1,Cb="firebaseLocalStorage",JF="fbase_key";class Ef{constructor(e){this.request=e}toPromise(){return new Promise((e,o)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function y0(t,e){return t.transaction([Cb],e?"readwrite":"readonly").objectStore(Cb)}function Xae(){const t=indexedDB.deleteDatabase(ZF);return new Ef(t).toPromise()}function NA(){const t=indexedDB.open(ZF,Jae);return new Promise((e,o)=>{t.addEventListener("error",()=>{o(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Cb,{keyPath:JF})}catch(c){o(c)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Cb)?e(s):(s.close(),await Xae(),e(await NA()))})})}async function SB(t,e,o){const s=y0(t,!0).put({[JF]:e,value:o});return new Ef(s).toPromise()}async function ele(t,e){const o=y0(t,!1).get(e),s=await new Ef(o).toPromise();return s===void 0?null:s.value}function TB(t,e){const o=y0(t,!0).delete(e);return new Ef(o).toPromise()}const tle=800,nle=3;class XF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await NA(),this.db)}async _withRetries(e){let o=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(o++>nle)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=v0._getInstance(Zae()),this.receiver._subscribe("keyChanged",async(e,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(e,o)=>["keyChanged"])}async initializeSender(){var e,o;if(this.activeServiceWorker=await Yae(),!this.activeServiceWorker)return;this.sender=new Gae(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((o=s[0])===null||o===void 0)&&o.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await NA();return await SB(e,_b,"1"),await TB(e,_b),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,o){return this._withPendingWrite(async()=>(await this._withRetries(s=>SB(s,e,o)),this.localCache[e]=o,this.notifyServiceWorker(e)))}async _get(e){const o=await this._withRetries(s=>ele(s,e));return this.localCache[e]=o,o}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(o=>TB(o,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(c=>{const u=y0(c,!1).getAll();return new Ef(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const o=[],s=new Set;for(const{fbase_key:c,value:u}of e)s.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(u)&&(this.notifyListeners(c,u),o.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!s.has(c)&&(this.notifyListeners(c,null),o.push(c));return o}notifyListeners(e,o){this.localCache[e]=o;const s=this.listeners[e];if(s)for(const c of Array.from(s))c(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XF.type="LOCAL";const ole=XF;new _f(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e){return e?ms(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends HF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bd(e,this._buildIdpRequest())}_linkToIdToken(e,o){return bd(e,this._buildIdpRequest(o))}_getReauthenticationResolver(e){return bd(e,this._buildIdpRequest())}_buildIdpRequest(e){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(o.idToken=e),o}}function rle(t){return Lae(t.auth,new jx(t),t.bypassAuthState)}function ile(t){const{auth:e,user:o}=t;return it(o,e,"internal-error"),Bae(o,new jx(t),t.bypassAuthState)}async function sle(t){const{auth:e,user:o}=t;return it(o,e,"internal-error"),Oae(o,new jx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,o,s,c,u=!1){this.auth=e,this.resolver=s,this.user=c,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(e,o)=>{this.pendingPromise={resolve:e,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:o,sessionId:s,postBody:c,tenantId:u,error:p,type:m}=e;if(p){this.reject(p);return}const g={auth:this.auth,requestUri:o,sessionId:s,tenantId:u||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rle;case"linkViaPopup":case"linkViaRedirect":return sle;case"reauthViaPopup":case"reauthViaRedirect":return ile;default:Ui(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ale=new _f(2e3,1e4);async function TTe(t,e,o){const s=Af(t);eae(t,e,Bx);const c=e9(s,o);return new wl(s,"signInViaPopup",e,c).executeNotNull()}class wl extends t9{constructor(e,o,s,c,u){super(e,o,c,u),this.provider=s,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=Lx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var o,s;if(!((s=(o=this.authWindow)===null||o===void 0?void 0:o.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ale.get())};e()}}wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle="pendingRedirect",Tk=new Map;class cle extends t9{constructor(e,o,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,s),this.eventId=null}async execute(){let e=Tk.get(this.auth._key());if(!e){try{const s=await dle(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(o){e=()=>Promise.reject(o)}Tk.set(this.auth._key(),e)}return this.bypassAuthState||Tk.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const o=await this.auth._redirectUserForId(e.eventId);if(o)return this.user=o,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dle(t,e){const o=ple(e),s=hle(t);if(!await s._isAvailable())return!1;const c=await s._get(o)==="true";return await s._remove(o),c}function ule(t,e){Tk.set(t._key(),e)}function hle(t){return ms(t._redirectPersistence)}function ple(t){return Sk(lle,t.config.apiKey,t.name)}async function fle(t,e,o=!1){const s=Af(t),c=e9(s,e),p=await new cle(s,c,o).execute();return p&&!o&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gle=10*60*1e3;class mle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let o=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(o=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kle(e)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=e,o=!0)),o}sendToConsumer(e,o){var s;if(e.error&&!n9(e)){const c=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";o.onError(ji(this.auth,c))}else o.onAuthEvent(e)}isEventForConsumer(e,o){const s=o.eventId===null||!!e.eventId&&e.eventId===o.eventId;return o.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gle&&this.cachedEventUids.clear(),this.cachedEventUids.has(IB(e))}saveEventToCache(e){this.cachedEventUids.add(IB(e)),this.lastProcessedEventTime=Date.now()}}function IB(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ble(t,e={}){return Cf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vle=/^https?/;async function yle(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ble(t);for(const o of e)try{if(_le(o))return}catch{}Ui(t,"unauthorized-domain")}function _le(t){const e=PA(),{protocol:o,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const p=new URL(t);return p.hostname===""&&s===""?o==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):o==="chrome-extension:"&&p.hostname===s}if(!vle.test(o))return!1;if(wle.test(t))return s===t;const c=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cle=new _f(3e4,6e4);function DB(){const t=zi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let o=0;o<t.CP.length;o++)t.CP[o]=null}}function Ale(t){return new Promise((e,o)=>{var s,c,u;function p(){DB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DB(),o(ji(t,"network-request-failed"))},timeout:Cle.get()})}if(!((c=(s=zi().gapi)===null||s===void 0?void 0:s.iframes)===null||c===void 0)&&c.Iframe)e(gapi.iframes.getContext());else if(!((u=zi().gapi)===null||u===void 0)&&u.load)p();else{const m=_ae("iframefcb");return zi()[m]=()=>{gapi.load?p():o(ji(t,"network-request-failed"))},VF(`https://apis.google.com/js/api.js?onload=${m}`).catch(g=>o(g))}}).catch(e=>{throw Ik=null,e})}let Ik=null;function xle(t){return Ik=Ik||Ale(t),Ik}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele=new _f(5e3,15e3),Sle="__/auth/iframe",Tle="emulator/auth/iframe",Ile={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mle(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const o=e.emulator?Nx(e,Tle):`https://${t.config.authDomain}/${Sle}`,s={apiKey:e.apiKey,appName:t.name,v:Ql},c=Dle.get(t.config.apiHost);c&&(s.eid=c);const u=t._getFrameworks();return u.length&&(s.fw=u.join(",")),`${o}?${yf(s).slice(1)}`}async function Ple(t){const e=await xle(t),o=zi().gapi;return it(o,t,"internal-error"),e.open({where:document.body,url:Mle(t),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ile,dontclear:!0},s=>new Promise(async(c,u)=>{await s.restyle({setHideOnLeave:!1});const p=ji(t,"network-request-failed"),m=zi().setTimeout(()=>{u(p)},Ele.get());function g(){zi().clearTimeout(m),c(s)}s.ping(g).then(g,()=>{u(p)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rle=500,Ole=600,Ble="_blank",Lle="http://localhost";class MB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jle(t,e,o,s=Rle,c=Ole){const u=Math.max((window.screen.availHeight-c)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},Nle),{width:s.toString(),height:c.toString(),top:u,left:p}),w=Eo().toLowerCase();o&&(m=NF(w)?Ble:o),PF(w)&&(e=e||Lle,g.scrollbars="yes");const _=Object.entries(g).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(bae(w)&&m!=="_self")return zle(e||"",m),new MB(null);const C=window.open(e||"",m,_);it(C,t,"popup-blocked");try{C.focus()}catch{}return new MB(C)}function zle(t,e){const o=document.createElement("a");o.href=t,o.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fle="__/auth/handler",$le="emulator/auth/handler",Vle=encodeURIComponent("fac");async function PB(t,e,o,s,c,u){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const p={apiKey:t.config.apiKey,appName:t.name,authType:o,redirectUrl:s,v:Ql,eventId:c};if(e instanceof Bx){e.setDefaultLanguage(t.languageCode),p.providerId=e.providerId||"",Uie(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,C]of Object.entries({}))p[_]=C}if(e instanceof xf){const _=e.getScopes().filter(C=>C!=="");_.length>0&&(p.scopes=_.join(","))}t.tenantId&&(p.tid=t.tenantId);const m=p;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await t._getAppCheckToken(),w=g?`#${Vle}=${encodeURIComponent(g)}`:"";return`${Ule(t)}?${yf(m).slice(1)}${w}`}function Ule({config:t}){return t.emulator?Nx(t,$le):`https://${t.authDomain}/${Fle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="webStorageSupport";class Hle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YF,this._completeRedirectFn=fle,this._overrideRedirectResult=ule}async _openPopup(e,o,s,c){var u;xs((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const p=await PB(e,o,s,PA(),c);return jle(e,p,Lx())}async _openRedirect(e,o,s,c){await this._originValidation(e);const u=await PB(e,o,s,PA(),c);return Kae(u),new Promise(()=>{})}_initialize(e){const o=e._key();if(this.eventManagers[o]){const{manager:c,promise:u}=this.eventManagers[o];return c?Promise.resolve(c):(xs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[o]={promise:s},s.catch(()=>{delete this.eventManagers[o]}),s}async initAndGetManager(e){const o=await Ple(e),s=new mle(e);return o.register("authEvent",c=>(it(c==null?void 0:c.authEvent,e,"invalid-auth-event"),{status:s.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=o,s}_isIframeWebStorageSupported(e,o){this.iframes[e._key()].send(J_,{type:J_},c=>{var u;const p=(u=c==null?void 0:c[0])===null||u===void 0?void 0:u[J_];p!==void 0&&o(!!p),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const o=e._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=yle(e)),this.originValidationPromises[o]}get _shouldInitProactively(){return jF()||Ox()||w0()}}const Wle=Hle;var NB="@firebase/auth",RB="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const o=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,o),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const o=this.internalListeners.get(e);o&&(this.internalListeners.delete(e),o(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Kle(t){jl(new Aa("auth",(e,{options:o})=>{const s=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:p,authDomain:m}=s.options;it(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:p,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zF(t)},w=new Tae(s,c,u,g);return Dae(w,o),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,o,s)=>{e.getProvider("auth-internal").initialize()})),jl(new Aa("auth-internal",e=>{const o=Af(e.getProvider("auth").getImmediate());return(s=>new qle(s))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(NB,RB,Gle(t)),Li(NB,RB,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yle=5*60,Qle=mF("authIdTokenMaxAge")||Yle;let OB=null;const Zle=t=>async e=>{const o=e&&await e.getIdTokenResult(),s=o&&(new Date().getTime()-Date.parse(o.issuedAtTime))/1e3;if(s&&s>Qle)return;const c=o==null?void 0:o.token;OB!==c&&(OB=c,await fetch(t,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function o9(t=Dx()){const e=b0(t,"auth");if(e.isInitialized())return e.getImmediate();const o=Iae(t,{popupRedirectResolver:Wle,persistence:[ole,Wae,YF]}),s=mF("authTokenSyncURL");if(s){const u=Zle(s);zae(o,u,()=>u(o.currentUser)),jae(o,p=>u(p))}const c=pF("auth");return c&&Mae(o,`http://${c}`),o}Kle("Browser");var Jle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae,zx=zx||{},tt=Jle||self;function _0(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function C0(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Xle(t){return Object.prototype.hasOwnProperty.call(t,X_)&&t[X_]||(t[X_]=++ece)}var X_="closure_uid_"+(1e9*Math.random()>>>0),ece=0;function tce(t,e,o){return t.call.apply(t.bind,arguments)}function nce(t,e,o){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),t.apply(e,c)}}return function(){return t.apply(e,arguments)}}function yo(t,e,o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yo=tce:yo=nce,yo.apply(null,arguments)}function Km(t,e){var o=Array.prototype.slice.call(arguments,1);return function(){var s=o.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function eo(t,e){function o(){}o.prototype=e.prototype,t.$=e.prototype,t.prototype=new o,t.prototype.constructor=t,t.ac=function(s,c,u){for(var p=Array(arguments.length-2),m=2;m<arguments.length;m++)p[m-2]=arguments[m];return e.prototype[c].apply(s,p)}}function Ra(){this.s=this.s,this.o=this.o}var oce=0;Ra.prototype.s=!1;Ra.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),oce!=0)&&Xle(this)};Ra.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const r9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let o=0;o<t.length;o++)if(o in t&&t[o]===e)return o;return-1};function Fx(t){const e=t.length;if(0<e){const o=Array(e);for(let s=0;s<e;s++)o[s]=t[s];return o}return[]}function BB(t,e){for(let o=1;o<arguments.length;o++){const s=arguments[o];if(_0(s)){const c=t.length||0,u=s.length||0;t.length=c+u;for(let p=0;p<u;p++)t[c+p]=s[p]}else t.push(s)}}function _o(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_o.prototype.h=function(){this.defaultPrevented=!0};var rce=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{tt.addEventListener("test",()=>{},e),tt.removeEventListener("test",()=>{},e)}catch{}return t}();function Fp(t){return/^[\s\xa0]*$/.test(t)}function A0(){var t=tt.navigator;return t&&(t=t.userAgent)?t:""}function Mi(t){return A0().indexOf(t)!=-1}function $x(t){return $x[" "](t),t}$x[" "]=function(){};function ice(t,e){var o=Jce;return Object.prototype.hasOwnProperty.call(o,t)?o[t]:o[t]=e(t)}var sce=Mi("Opera"),Bd=Mi("Trident")||Mi("MSIE"),i9=Mi("Edge"),RA=i9||Bd,s9=Mi("Gecko")&&!(A0().toLowerCase().indexOf("webkit")!=-1&&!Mi("Edge"))&&!(Mi("Trident")||Mi("MSIE"))&&!Mi("Edge"),ace=A0().toLowerCase().indexOf("webkit")!=-1&&!Mi("Edge");function a9(){var t=tt.document;return t?t.documentMode:void 0}var OA;e:{var eC="",tC=function(){var t=A0();if(s9)return/rv:([^\);]+)(\)|;)/.exec(t);if(i9)return/Edge\/([\d\.]+)/.exec(t);if(Bd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ace)return/WebKit\/(\S+)/.exec(t);if(sce)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tC&&(eC=tC?tC[1]:""),Bd){var nC=a9();if(nC!=null&&nC>parseFloat(eC)){OA=String(nC);break e}}OA=eC}var BA;if(tt.document&&Bd){var LB=a9();BA=LB||parseInt(OA,10)||void 0}else BA=void 0;var lce=BA;function $p(t,e){if(_o.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var o=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s9){e:{try{$x(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else o=="mouseover"?e=t.fromElement:o=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:cce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$p.$.h.call(this)}}eo($p,_o);var cce={2:"touch",3:"pen",4:"mouse"};$p.prototype.h=function(){$p.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var x0="closure_listenable_"+(1e6*Math.random()|0),dce=0;function uce(t,e,o,s,c){this.listener=t,this.proxy=null,this.src=e,this.type=o,this.capture=!!s,this.la=c,this.key=++dce,this.fa=this.ia=!1}function E0(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Vx(t,e,o){for(const s in t)e.call(o,t[s],s,t)}function hce(t,e){for(const o in t)e.call(void 0,t[o],o,t)}function l9(t){const e={};for(const o in t)e[o]=t[o];return e}const jB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c9(t,e){let o,s;for(let c=1;c<arguments.length;c++){s=arguments[c];for(o in s)t[o]=s[o];for(let u=0;u<jB.length;u++)o=jB[u],Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}}function S0(t){this.src=t,this.g={},this.h=0}S0.prototype.add=function(t,e,o,s,c){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var p=jA(t,e,s,c);return-1<p?(e=t[p],o||(e.ia=!1)):(e=new uce(e,this.src,u,!!s,c),e.ia=o,t.push(e)),e};function LA(t,e){var o=e.type;if(o in t.g){var s=t.g[o],c=r9(s,e),u;(u=0<=c)&&Array.prototype.splice.call(s,c,1),u&&(E0(e),t.g[o].length==0&&(delete t.g[o],t.h--))}}function jA(t,e,o,s){for(var c=0;c<t.length;++c){var u=t[c];if(!u.fa&&u.listener==e&&u.capture==!!o&&u.la==s)return c}return-1}var Ux="closure_lm_"+(1e6*Math.random()|0),oC={};function d9(t,e,o,s,c){if(Array.isArray(e)){for(var u=0;u<e.length;u++)d9(t,e[u],o,s,c);return null}return o=p9(o),t&&t[x0]?t.O(e,o,C0(s)?!!s.capture:!!s,c):pce(t,e,o,!1,s,c)}function pce(t,e,o,s,c,u){if(!e)throw Error("Invalid event type");var p=C0(c)?!!c.capture:!!c,m=Wx(t);if(m||(t[Ux]=m=new S0(t)),o=m.add(e,o,s,p,u),o.proxy)return o;if(s=fce(),o.proxy=s,s.src=t,s.listener=o,t.addEventListener)rce||(c=p),c===void 0&&(c=!1),t.addEventListener(e.toString(),s,c);else if(t.attachEvent)t.attachEvent(h9(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return o}function fce(){function t(o){return e.call(t.src,t.listener,o)}const e=gce;return t}function u9(t,e,o,s,c){if(Array.isArray(e))for(var u=0;u<e.length;u++)u9(t,e[u],o,s,c);else s=C0(s)?!!s.capture:!!s,o=p9(o),t&&t[x0]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],o=jA(u,o,s,c),-1<o&&(E0(u[o]),Array.prototype.splice.call(u,o,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wx(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jA(e,o,s,c)),(o=-1<t?e[t]:null)&&Hx(o))}function Hx(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[x0])LA(e.i,t);else{var o=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(o,s,t.capture):e.detachEvent?e.detachEvent(h9(o),s):e.addListener&&e.removeListener&&e.removeListener(s),(o=Wx(e))?(LA(o,t),o.h==0&&(o.src=null,e[Ux]=null)):E0(t)}}}function h9(t){return t in oC?oC[t]:oC[t]="on"+t}function gce(t,e){if(t.fa)t=!0;else{e=new $p(e,this);var o=t.listener,s=t.la||t.src;t.ia&&Hx(t),t=o.call(s,e)}return t}function Wx(t){return t=t[Ux],t instanceof S0?t:null}var rC="__closure_events_fn_"+(1e9*Math.random()>>>0);function p9(t){return typeof t=="function"?t:(t[rC]||(t[rC]=function(e){return t.handleEvent(e)}),t[rC])}function Xn(){Ra.call(this),this.i=new S0(this),this.S=this,this.J=null}eo(Xn,Ra);Xn.prototype[x0]=!0;Xn.prototype.removeEventListener=function(t,e,o,s){u9(this,t,e,o,s)};function uo(t,e){var o,s=t.J;if(s)for(o=[];s;s=s.J)o.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new _o(e,t);else if(e instanceof _o)e.target=e.target||t;else{var c=e;e=new _o(s,t),c9(e,c)}if(c=!0,o)for(var u=o.length-1;0<=u;u--){var p=e.g=o[u];c=Ym(p,s,!0,e)&&c}if(p=e.g=t,c=Ym(p,s,!0,e)&&c,c=Ym(p,s,!1,e)&&c,o)for(u=0;u<o.length;u++)p=e.g=o[u],c=Ym(p,s,!1,e)&&c}Xn.prototype.N=function(){if(Xn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var o=t.g[e],s=0;s<o.length;s++)E0(o[s]);delete t.g[e],t.h--}}this.J=null};Xn.prototype.O=function(t,e,o,s){return this.i.add(String(t),e,!1,o,s)};Xn.prototype.P=function(t,e,o,s){return this.i.add(String(t),e,!0,o,s)};function Ym(t,e,o,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var c=!0,u=0;u<e.length;++u){var p=e[u];if(p&&!p.fa&&p.capture==o){var m=p.listener,g=p.la||p.src;p.ia&&LA(t.i,p),c=m.call(g,s)!==!1&&c}}return c&&!s.defaultPrevented}var qx=tt.JSON.stringify;class mce{constructor(e,o){this.i=e,this.j=o,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function kce(){var t=Gx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class bce{constructor(){this.h=this.g=null}add(e,o){const s=f9.get();s.set(e,o),this.h?this.h.next=s:this.g=s,this.h=s}}var f9=new mce(()=>new wce,t=>t.reset());class wce{constructor(){this.next=this.g=this.h=null}set(e,o){this.h=e,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function vce(t){var e=1;t=t.split(":");const o=[];for(;0<e&&t.length;)o.push(t.shift()),e--;return t.length&&o.push(t.join(":")),o}function yce(t){tt.setTimeout(()=>{throw t},0)}let Vp,Up=!1,Gx=new bce,g9=()=>{const t=tt.Promise.resolve(void 0);Vp=()=>{t.then(_ce)}};var _ce=()=>{for(var t;t=kce();){try{t.h.call(t.g)}catch(o){yce(o)}var e=f9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Up=!1};function T0(t,e){Xn.call(this),this.h=t||1,this.g=e||tt,this.j=yo(this.qb,this),this.l=Date.now()}eo(T0,Xn);Ae=T0.prototype;Ae.ga=!1;Ae.T=null;Ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),uo(this,"tick"),this.ga&&(Kx(this),this.start()))}};Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Kx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ae.N=function(){T0.$.N.call(this),Kx(this),delete this.g};function Yx(t,e,o){if(typeof t=="function")o&&(t=yo(t,o));else if(t&&typeof t.handleEvent=="function")t=yo(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:tt.setTimeout(t,e||0)}function m9(t){t.g=Yx(()=>{t.g=null,t.i&&(t.i=!1,m9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Cce extends Ra{constructor(e,o){super(),this.m=e,this.j=o,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:m9(this)}N(){super.N(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hp(t){Ra.call(this),this.h=t,this.g={}}eo(Hp,Ra);var zB=[];function k9(t,e,o,s){Array.isArray(o)||(o&&(zB[0]=o.toString()),o=zB);for(var c=0;c<o.length;c++){var u=d9(e,o[c],s||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function b9(t){Vx(t.g,function(e,o){this.g.hasOwnProperty(o)&&Hx(e)},t),t.g={}}Hp.prototype.N=function(){Hp.$.N.call(this),b9(this)};Hp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function I0(){this.g=!0}I0.prototype.Ea=function(){this.g=!1};function Ace(t,e,o,s,c,u){t.info(function(){if(t.g)if(u)for(var p="",m=u.split("&"),g=0;g<m.length;g++){var w=m[g].split("=");if(1<w.length){var _=w[0];w=w[1];var C=_.split("_");p=2<=C.length&&C[1]=="type"?p+(_+"="+w+"&"):p+(_+"=redacted&")}}else p=null;else p=u;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+`
`+o+`
`+p})}function xce(t,e,o,s,c,u,p){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+`
`+o+`
`+u+" "+p})}function cd(t,e,o,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Sce(t,o)+(s?" "+s:"")})}function Ece(t,e){t.info(function(){return"TIMEOUT: "+e})}I0.prototype.info=function(){};function Sce(t,e){if(!t.g)return e;if(!e)return null;try{var o=JSON.parse(e);if(o){for(t=0;t<o.length;t++)if(Array.isArray(o[t])){var s=o[t];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var u=c[0];if(u!="noop"&&u!="stop"&&u!="close")for(var p=1;p<c.length;p++)c[p]=""}}}}return qx(o)}catch{return e}}var Zl={},FB=null;function D0(){return FB=FB||new Xn}Zl.Ta="serverreachability";function w9(t){_o.call(this,Zl.Ta,t)}eo(w9,_o);function Wp(t){const e=D0();uo(e,new w9(e))}Zl.STAT_EVENT="statevent";function v9(t,e){_o.call(this,Zl.STAT_EVENT,t),this.stat=e}eo(v9,_o);function Po(t){const e=D0();uo(e,new v9(e,t))}Zl.Ua="timingevent";function y9(t,e){_o.call(this,Zl.Ua,t),this.size=e}eo(y9,_o);function Sf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){t()},e)}var M0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qx(){}Qx.prototype.h=null;function $B(t){return t.h||(t.h=t.i())}function C9(){}var Tf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zx(){_o.call(this,"d")}eo(Zx,_o);function Jx(){_o.call(this,"c")}eo(Jx,_o);var zA;function P0(){}eo(P0,Qx);P0.prototype.g=function(){return new XMLHttpRequest};P0.prototype.i=function(){return{}};zA=new P0;function If(t,e,o,s){this.l=t,this.j=e,this.m=o,this.W=s||1,this.U=new Hp(this),this.P=Tce,t=RA?125:void 0,this.V=new T0(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new A9}function A9(){this.i=null,this.g="",this.h=!1}var Tce=45e3,FA={},Ab={};Ae=If.prototype;Ae.setTimeout=function(t){this.P=t};function $A(t,e,o){t.L=1,t.v=R0(Es(e)),t.s=o,t.S=!0,x9(t,null)}function x9(t,e){t.G=Date.now(),Df(t),t.A=Es(t.v);var o=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),N9(o.i,"t",s),t.C=0,o=t.l.J,t.h=new A9,t.g=e7(t.l,o?e:null,!t.s),0<t.O&&(t.M=new Cce(yo(t.Pa,t,t.g),t.O)),k9(t.U,t.g,"readystatechange",t.nb),e=t.I?l9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Wp(),Ace(t.j,t.u,t.A,t.m,t.W,t.s)}Ae.nb=function(t){t=t.target;const e=this.M;e&&Pi(t)==3?e.l():this.Pa(t)};Ae.Pa=function(t){try{if(t==this.g)e:{const _=Pi(this.g);var e=this.g.Ia();const C=this.g.da();if(!(3>_)&&(_!=3||RA||this.g&&(this.h.h||this.g.ja()||WB(this.g)))){this.J||_!=4||e==7||(e==8||0>=C?Wp(3):Wp(2)),N0(this);var o=this.g.da();this.ca=o;t:if(E9(this)){var s=WB(this.g);t="";var c=s.length,u=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vl(this),op(this);var p="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:u&&e==c-1});s.splice(0,c),this.h.g+=t,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=o==200,xce(this.j,this.u,this.A,this.m,this.W,_,o),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,g=this.g;if((m=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fp(m)){var w=m;break t}}w=null}if(o=w)cd(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,VA(this,o);else{this.i=!1,this.o=3,Po(12),vl(this),op(this);break e}}this.S?(S9(this,_,p),RA&&this.i&&_==3&&(k9(this.U,this.V,"tick",this.mb),this.V.start())):(cd(this.j,this.m,p,null),VA(this,p)),_==4&&vl(this),this.i&&!this.J&&(_==4?Q9(this.l,this):(this.i=!1,Df(this)))}else Yce(this.g),o==400&&0<p.indexOf("Unknown SID")?(this.o=3,Po(12)):(this.o=0,Po(13)),vl(this),op(this)}}}catch{}finally{}};function E9(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function S9(t,e,o){let s=!0,c;for(;!t.J&&t.C<o.length;)if(c=Ice(t,o),c==Ab){e==4&&(t.o=4,Po(14),s=!1),cd(t.j,t.m,null,"[Incomplete Response]");break}else if(c==FA){t.o=4,Po(15),cd(t.j,t.m,o,"[Invalid Chunk]"),s=!1;break}else cd(t.j,t.m,c,null),VA(t,c);E9(t)&&c!=Ab&&c!=FA&&(t.h.g="",t.C=0),e!=4||o.length!=0||t.h.h||(t.o=1,Po(16),s=!1),t.i=t.i&&s,s?0<o.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+o.length),rE(e),e.M=!0,Po(11))):(cd(t.j,t.m,o,"[Invalid Chunked Response]"),vl(t),op(t))}Ae.mb=function(){if(this.g){var t=Pi(this.g),e=this.g.ja();this.C<e.length&&(N0(this),S9(this,t,e),this.i&&t!=4&&Df(this))}};function Ice(t,e){var o=t.C,s=e.indexOf(`
`,o);return s==-1?Ab:(o=Number(e.substring(o,s)),isNaN(o)?FA:(s+=1,s+o>e.length?Ab:(e=e.slice(s,s+o),t.C=s+o,e)))}Ae.cancel=function(){this.J=!0,vl(this)};function Df(t){t.Y=Date.now()+t.P,T9(t,t.P)}function T9(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Sf(yo(t.lb,t),e)}function N0(t){t.B&&(tt.clearTimeout(t.B),t.B=null)}Ae.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Ece(this.j,this.A),this.L!=2&&(Wp(),Po(17)),vl(this),this.o=2,op(this)):T9(this,this.Y-t)};function op(t){t.l.H==0||t.J||Q9(t.l,t)}function vl(t){N0(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Kx(t.V),b9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function VA(t,e){try{var o=t.l;if(o.H!=0&&(o.g==t||UA(o.i,t))){if(!t.K&&UA(o.i,t)&&o.H==3){try{var s=o.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var c=s;if(c[0]==0){e:if(!o.u){if(o.g)if(o.g.G+3e3<t.G)Sb(o),L0(o);else break e;oE(o),Po(18)}}else o.Fa=c[1],0<o.Fa-o.V&&37500>c[2]&&o.G&&o.A==0&&!o.v&&(o.v=Sf(yo(o.ib,o),6e3));if(1>=B9(o.i)&&o.oa){try{o.oa()}catch{}o.oa=void 0}}else yl(o,11)}else if((t.K||o.g==t)&&Sb(o),!Fp(e))for(c=o.Ja.g.parse(e),e=0;e<c.length;e++){let w=c[e];if(o.V=w[0],w=w[1],o.H==2)if(w[0]=="c"){o.K=w[1],o.pa=w[2];const _=w[3];_!=null&&(o.ra=_,o.l.info("VER="+o.ra));const C=w[4];C!=null&&(o.Ga=C,o.l.info("SVER="+o.Ga));const y=w[5];y!=null&&typeof y=="number"&&0<y&&(s=1.5*y,o.L=s,o.l.info("backChannelRequestTimeoutMs_="+s)),s=o;const x=t.g;if(x){const S=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var u=s.i;u.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(Xx(u,u.h),u.h=null))}if(s.F){const T=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(s.Da=T,tn(s.I,s.F,T))}}o.H=3,o.h&&o.h.Ba(),o.ca&&(o.S=Date.now()-t.G,o.l.info("Handshake RTT: "+o.S+"ms")),s=o;var p=t;if(s.wa=X9(s,s.J?s.pa:null,s.Y),p.K){L9(s.i,p);var m=p,g=s.L;g&&m.setTimeout(g),m.B&&(N0(m),Df(m)),s.g=p}else K9(s);0<o.j.length&&j0(o)}else w[0]!="stop"&&w[0]!="close"||yl(o,7);else o.H==3&&(w[0]=="stop"||w[0]=="close"?w[0]=="stop"?yl(o,7):nE(o):w[0]!="noop"&&o.h&&o.h.Aa(w),o.A=0)}}Wp(4)}catch{}}function Dce(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_0(t)){for(var e=[],o=t.length,s=0;s<o;s++)e.push(t[s]);return e}e=[],o=0;for(s in t)e[o++]=t[s];return e}function Mce(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_0(t)||typeof t=="string"){var e=[];t=t.length;for(var o=0;o<t;o++)e.push(o);return e}e=[],o=0;for(const s in t)e[o++]=s;return e}}}function I9(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_0(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var o=Mce(t),s=Dce(t),c=s.length,u=0;u<c;u++)e.call(void 0,s[u],o&&o[u],t)}var D9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pce(t,e){if(t){t=t.split("&");for(var o=0;o<t.length;o++){var s=t[o].indexOf("="),c=null;if(0<=s){var u=t[o].substring(0,s);c=t[o].substring(s+1)}else u=t[o];e(u,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}function Il(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Il){this.h=t.h,xb(this,t.j),this.s=t.s,this.g=t.g,Eb(this,t.m),this.l=t.l;var e=t.i,o=new qp;o.i=e.i,e.g&&(o.g=new Map(e.g),o.h=e.h),VB(this,o),this.o=t.o}else t&&(e=String(t).match(D9))?(this.h=!1,xb(this,e[1]||"",!0),this.s=Fh(e[2]||""),this.g=Fh(e[3]||"",!0),Eb(this,e[4]),this.l=Fh(e[5]||"",!0),VB(this,e[6]||"",!0),this.o=Fh(e[7]||"")):(this.h=!1,this.i=new qp(null,this.h))}Il.prototype.toString=function(){var t=[],e=this.j;e&&t.push($h(e,UB,!0),":");var o=this.g;return(o||e=="file")&&(t.push("//"),(e=this.s)&&t.push($h(e,UB,!0),"@"),t.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o=this.m,o!=null&&t.push(":",String(o))),(o=this.l)&&(this.g&&o.charAt(0)!="/"&&t.push("/"),t.push($h(o,o.charAt(0)=="/"?Oce:Rce,!0))),(o=this.i.toString())&&t.push("?",o),(o=this.o)&&t.push("#",$h(o,Lce)),t.join("")};function Es(t){return new Il(t)}function xb(t,e,o){t.j=o?Fh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Eb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VB(t,e,o){e instanceof qp?(t.i=e,jce(t.i,t.h)):(o||(e=$h(e,Bce)),t.i=new qp(e,t.h))}function tn(t,e,o){t.i.set(e,o)}function R0(t){return tn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $h(t,e,o){return typeof t=="string"?(t=encodeURI(t).replace(e,Nce),o&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Nce(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var UB=/[#\/\?@]/g,Rce=/[#\?:]/g,Oce=/[#\?]/g,Bce=/[#\?@]/g,Lce=/#/g;function qp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oa(t){t.g||(t.g=new Map,t.h=0,t.i&&Pce(t.i,function(e,o){t.add(decodeURIComponent(e.replace(/\+/g," ")),o)}))}Ae=qp.prototype;Ae.add=function(t,e){Oa(this),this.i=null,t=iu(this,t);var o=this.g.get(t);return o||this.g.set(t,o=[]),o.push(e),this.h+=1,this};function M9(t,e){Oa(t),e=iu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function P9(t,e){return Oa(t),e=iu(t,e),t.g.has(e)}Ae.forEach=function(t,e){Oa(this),this.g.forEach(function(o,s){o.forEach(function(c){t.call(e,c,s,this)},this)},this)};Ae.ta=function(){Oa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),o=[];for(let s=0;s<e.length;s++){const c=t[s];for(let u=0;u<c.length;u++)o.push(e[s])}return o};Ae.Z=function(t){Oa(this);let e=[];if(typeof t=="string")P9(this,t)&&(e=e.concat(this.g.get(iu(this,t))));else{t=Array.from(this.g.values());for(let o=0;o<t.length;o++)e=e.concat(t[o])}return e};Ae.set=function(t,e){return Oa(this),this.i=null,t=iu(this,t),P9(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function N9(t,e,o){M9(t,e),0<o.length&&(t.i=null,t.g.set(iu(t,e),Fx(o)),t.h+=o.length)}Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var o=0;o<e.length;o++){var s=e[o];const u=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var c=u;p[s]!==""&&(c+="="+encodeURIComponent(String(p[s]))),t.push(c)}}return this.i=t.join("&")};function iu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jce(t,e){e&&!t.j&&(Oa(t),t.i=null,t.g.forEach(function(o,s){var c=s.toLowerCase();s!=c&&(M9(this,s),N9(this,c,o))},t)),t.j=e}var zce=class{constructor(t,e){this.g=t,this.map=e}};function R9(t){this.l=t||Fce,tt.PerformanceNavigationTiming?(t=tt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(tt.g&&tt.g.Ka&&tt.g.Ka()&&tt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fce=10;function O9(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function B9(t){return t.h?1:t.g?t.g.size:0}function UA(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xx(t,e){t.g?t.g.add(e):t.h=e}function L9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}R9.prototype.cancel=function(){if(this.i=j9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function j9(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const o of t.g.values())e=e.concat(o.F);return e}return Fx(t.i)}var $ce=class{stringify(t){return tt.JSON.stringify(t,void 0)}parse(t){return tt.JSON.parse(t,void 0)}};function Vce(){this.g=new $ce}function Uce(t,e,o){const s=o||"";try{I9(t,function(c,u){let p=c;C0(c)&&(p=qx(c)),e.push(s+u+"="+encodeURIComponent(p))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function Hce(t,e){const o=new I0;if(tt.Image){const s=new Image;s.onload=Km(Qm,o,s,"TestLoadImage: loaded",!0,e),s.onerror=Km(Qm,o,s,"TestLoadImage: error",!1,e),s.onabort=Km(Qm,o,s,"TestLoadImage: abort",!1,e),s.ontimeout=Km(Qm,o,s,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Qm(t,e,o,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Mf(t){this.l=t.fc||null,this.j=t.ob||!1}eo(Mf,Qx);Mf.prototype.g=function(){return new O0(this.l,this.j)};Mf.prototype.i=function(t){return function(){return t}}({});function O0(t,e){Xn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=eE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eo(O0,Xn);var eE=0;Ae=O0.prototype;Ae.open=function(t,e){if(this.readyState!=eE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gp(this)};Ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||tt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pf(this)),this.readyState=eE};Ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gp(this)),this.g&&(this.readyState=3,Gp(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function z9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pf(this):Gp(this),this.readyState==3&&z9(this)}};Ae.Za=function(t){this.g&&(this.response=this.responseText=t,Pf(this))};Ae.Ya=function(t){this.g&&(this.response=t,Pf(this))};Ae.ka=function(){this.g&&Pf(this)};function Pf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gp(t)}Ae.setRequestHeader=function(t,e){this.v.append(t,e)};Ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var o=e.next();!o.done;)o=o.value,t.push(o[0]+": "+o[1]),o=e.next();return t.join(`\r
`)};function Gp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(O0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Wce=tt.JSON.parse;function _n(t){Xn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=F9,this.L=this.M=!1}eo(_n,Xn);var F9="",qce=/^https?$/i,Gce=["POST","PUT"];Ae=_n.prototype;Ae.Oa=function(t){this.M=t};Ae.ha=function(t,e,o,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zA.g(),this.C=this.u?$B(this.u):$B(zA),this.g.onreadystatechange=yo(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(u){HB(this,u);return}if(t=o||"",o=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)o.set(c,s[c]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const u of s.keys())o.set(u,s.get(u));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(o.keys()).find(u=>u.toLowerCase()=="content-type"),c=tt.FormData&&t instanceof tt.FormData,!(0<=r9(Gce,e))||s||c||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,p]of o)this.g.setRequestHeader(u,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{U9(this),0<this.B&&((this.L=Kce(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yo(this.ua,this)):this.A=Yx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){HB(this,u)}};function Kce(t){return Bd&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ae.ua=function(){typeof zx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,uo(this,"timeout"),this.abort(8))};function HB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$9(t),B0(t)}function $9(t){t.F||(t.F=!0,uo(t,"complete"),uo(t,"error"))}Ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,uo(this,"complete"),uo(this,"abort"),B0(this))};Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B0(this,!0)),_n.$.N.call(this)};Ae.La=function(){this.s||(this.G||this.v||this.l?V9(this):this.kb())};Ae.kb=function(){V9(this)};function V9(t){if(t.h&&typeof zx<"u"&&(!t.C[1]||Pi(t)!=4||t.da()!=2)){if(t.v&&Pi(t)==4)Yx(t.La,0,t);else if(uo(t,"readystatechange"),Pi(t)==4){t.h=!1;try{const p=t.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var o;if(!(o=e)){var s;if(s=p===0){var c=String(t.I).match(D9)[1]||null;!c&&tt.self&&tt.self.location&&(c=tt.self.location.protocol.slice(0,-1)),s=!qce.test(c?c.toLowerCase():"")}o=s}if(o)uo(t,"complete"),uo(t,"success");else{t.m=6;try{var u=2<Pi(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.da()+"]",$9(t)}}finally{B0(t)}}}}function B0(t,e){if(t.g){U9(t);const o=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||uo(t,"ready");try{o.onreadystatechange=s}catch{}}}function U9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(tt.clearTimeout(t.A),t.A=null)}Ae.isActive=function(){return!!this.g};function Pi(t){return t.g?t.g.readyState:0}Ae.da=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}};Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Wce(e)}};function WB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case F9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Yce(t){const e={};t=(t.g&&2<=Pi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Fp(t[s]))continue;var o=vce(t[s]);const c=o[0];if(o=o[1],typeof o!="string")continue;o=o.trim();const u=e[c]||[];e[c]=u,u.push(o)}hce(e,function(s){return s.join(", ")})}Ae.Ia=function(){return this.m};Ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function H9(t){let e="";return Vx(t,function(o,s){e+=s,e+=":",e+=o,e+=`\r
`}),e}function tE(t,e,o){e:{for(s in o){var s=!1;break e}s=!0}s||(o=H9(o),typeof t=="string"?o!=null&&encodeURIComponent(String(o)):tn(t,e,o))}function _h(t,e,o){return o&&o.internalChannelParams&&o.internalChannelParams[t]||e}function W9(t){this.Ga=0,this.j=[],this.l=new I0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_h("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_h("baseRetryDelayMs",5e3,t),this.hb=_h("retryDelaySeedMs",1e4,t),this.eb=_h("forwardChannelMaxRetries",2,t),this.xa=_h("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new R9(t&&t.concurrentRequestLimit),this.Ja=new Vce,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ae=W9.prototype;Ae.ra=8;Ae.H=1;function nE(t){if(q9(t),t.H==3){var e=t.W++,o=Es(t.I);if(tn(o,"SID",t.K),tn(o,"RID",e),tn(o,"TYPE","terminate"),Nf(t,o),e=new If(t,t.l,e),e.L=2,e.v=R0(Es(o)),o=!1,tt.navigator&&tt.navigator.sendBeacon)try{o=tt.navigator.sendBeacon(e.v.toString(),"")}catch{}!o&&tt.Image&&(new Image().src=e.v,o=!0),o||(e.g=e7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Df(e)}J9(t)}function L0(t){t.g&&(rE(t),t.g.cancel(),t.g=null)}function q9(t){L0(t),t.u&&(tt.clearTimeout(t.u),t.u=null),Sb(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&tt.clearTimeout(t.m),t.m=null)}function j0(t){if(!O9(t.i)&&!t.m){t.m=!0;var e=t.Na;Vp||g9(),Up||(Vp(),Up=!0),Gx.add(e,t),t.C=0}}function Qce(t,e){return B9(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sf(yo(t.Na,t,e),Z9(t,t.C)),t.C++,!0)}Ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const c=new If(this,this.l,t);let u=this.s;if(this.U&&(u?(u=l9(u),c9(u,this.U)):u=this.U),this.o!==null||this.O||(c.I=u,u=null),this.P)e:{for(var e=0,o=0;o<this.j.length;o++){t:{var s=this.j[o];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=o;break e}if(e===4096||o===this.j.length-1){e=o+1;break e}}e=1e3}else e=1e3;e=G9(this,c,e),o=Es(this.I),tn(o,"RID",t),tn(o,"CVER",22),this.F&&tn(o,"X-HTTP-Session-Id",this.F),Nf(this,o),u&&(this.O?e="headers="+encodeURIComponent(String(H9(u)))+"&"+e:this.o&&tE(o,this.o,u)),Xx(this.i,c),this.bb&&tn(o,"TYPE","init"),this.P?(tn(o,"$req",e),tn(o,"SID","null"),c.aa=!0,$A(c,o,null)):$A(c,o,e),this.H=2}}else this.H==3&&(t?qB(this,t):this.j.length==0||O9(this.i)||qB(this))};function qB(t,e){var o;e?o=e.m:o=t.W++;const s=Es(t.I);tn(s,"SID",t.K),tn(s,"RID",o),tn(s,"AID",t.V),Nf(t,s),t.o&&t.s&&tE(s,t.o,t.s),o=new If(t,t.l,o,t.C+1),t.o===null&&(o.I=t.s),e&&(t.j=e.F.concat(t.j)),e=G9(t,o,1e3),o.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xx(t.i,o),$A(o,s,e)}function Nf(t,e){t.na&&Vx(t.na,function(o,s){tn(e,s,o)}),t.h&&I9({},function(o,s){tn(e,s,o)})}function G9(t,e,o){o=Math.min(t.j.length,o);var s=t.h?yo(t.h.Va,t.h,t):null;e:{var c=t.j;let u=-1;for(;;){const p=["count="+o];u==-1?0<o?(u=c[0].g,p.push("ofs="+u)):u=0:p.push("ofs="+u);let m=!0;for(let g=0;g<o;g++){let w=c[g].g;const _=c[g].map;if(w-=u,0>w)u=Math.max(0,c[g].g-100),m=!1;else try{Uce(_,p,"req"+w+"_")}catch{s&&s(_)}}if(m){s=p.join("&");break e}}}return t=t.j.splice(0,o),e.F=t,s}function K9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vp||g9(),Up||(Vp(),Up=!0),Gx.add(e,t),t.A=0}}function oE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sf(yo(t.Ma,t),Z9(t,t.A)),t.A++,!0)}Ae.Ma=function(){if(this.u=null,Y9(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sf(yo(this.jb,this),t)}};Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Po(10),L0(this),Y9(this))};function rE(t){t.B!=null&&(tt.clearTimeout(t.B),t.B=null)}function Y9(t){t.g=new If(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Es(t.wa);tn(e,"RID","rpc"),tn(e,"SID",t.K),tn(e,"AID",t.V),tn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tn(e,"TO",t.qa),tn(e,"TYPE","xmlhttp"),Nf(t,e),t.o&&t.s&&tE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var o=t.g;t=t.pa,o.L=1,o.v=R0(Es(e)),o.s=null,o.S=!0,x9(o,t)}Ae.ib=function(){this.v!=null&&(this.v=null,L0(this),oE(this),Po(19))};function Sb(t){t.v!=null&&(tt.clearTimeout(t.v),t.v=null)}function Q9(t,e){var o=null;if(t.g==e){Sb(t),rE(t),t.g=null;var s=2}else if(UA(t.i,e))o=e.F,L9(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){o=e.s?e.s.length:0,e=Date.now()-e.G;var c=t.C;s=D0(),uo(s,new y9(s,o)),j0(t)}else K9(t);else if(c=e.o,c==3||c==0&&0<e.ca||!(s==1&&Qce(t,e)||s==2&&oE(t)))switch(o&&0<o.length&&(e=t.i,e.i=e.i.concat(o)),c){case 1:yl(t,5);break;case 4:yl(t,10);break;case 3:yl(t,6);break;default:yl(t,2)}}}function Z9(t,e){let o=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(o*=2),o*e}function yl(t,e){if(t.l.info("Error code "+e),e==2){var o=null;t.h&&(o=null);var s=yo(t.pb,t);o||(o=new Il("//www.google.com/images/cleardot.gif"),tt.location&&tt.location.protocol=="http"||xb(o,"https"),R0(o)),Hce(o.toString(),s)}else Po(2);t.H=0,t.h&&t.h.za(e),J9(t),q9(t)}Ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Po(2)):(this.l.info("Failed to ping google.com"),Po(1))};function J9(t){if(t.H=0,t.ma=[],t.h){const e=j9(t.i);(e.length!=0||t.j.length!=0)&&(BB(t.ma,e),BB(t.ma,t.j),t.i.i.length=0,Fx(t.j),t.j.length=0),t.h.ya()}}function X9(t,e,o){var s=o instanceof Il?Es(o):new Il(o);if(s.g!="")e&&(s.g=e+"."+s.g),Eb(s,s.m);else{var c=tt.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var u=new Il(null);s&&xb(u,s),e&&(u.g=e),c&&Eb(u,c),o&&(u.l=o),s=u}return o=t.F,e=t.Da,o&&e&&tn(s,o,e),tn(s,"VER",t.ra),Nf(t,s),s}function e7(t,e,o){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=o&&t.Ha&&!t.va?new _n(new Mf({ob:!0})):new _n(t.va),e.Oa(t.J),e}Ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function t7(){}Ae=t7.prototype;Ae.Ba=function(){};Ae.Aa=function(){};Ae.za=function(){};Ae.ya=function(){};Ae.isActive=function(){return!0};Ae.Va=function(){};function Tb(){if(Bd&&!(10<=Number(lce)))throw Error("Environmental error: no available transport.")}Tb.prototype.g=function(t,e){return new br(t,e)};function br(t,e){Xn.call(this),this.g=new W9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fp(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new su(this)}eo(br,Xn);br.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,o=this.h||void 0;Po(0),t.Y=e,t.na=o||{},t.G=t.aa,t.I=X9(t,null,t.Y),j0(t)};br.prototype.close=function(){nE(this.g)};br.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var o={};o.__data__=t,t=o}else this.v&&(o={},o.__data__=qx(t),t=o);e.j.push(new zce(e.fb++,t)),e.H==3&&j0(e)};br.prototype.N=function(){this.g.h=null,delete this.j,nE(this.g),delete this.g,br.$.N.call(this)};function n7(t){Zx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const o in e){t=o;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}eo(n7,Zx);function o7(){Jx.call(this),this.status=1}eo(o7,Jx);function su(t){this.g=t}eo(su,t7);su.prototype.Ba=function(){uo(this.g,"a")};su.prototype.Aa=function(t){uo(this.g,new n7(t))};su.prototype.za=function(t){uo(this.g,new o7)};su.prototype.ya=function(){uo(this.g,"b")};function Zce(){this.blockSize=-1}function gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}eo(gi,Zce);gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function iC(t,e,o){o||(o=0);var s=Array(16);if(typeof e=="string")for(var c=0;16>c;++c)s[c]=e.charCodeAt(o++)|e.charCodeAt(o++)<<8|e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<24;else for(c=0;16>c;++c)s[c]=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;e=t.g[0],o=t.g[1],c=t.g[2];var u=t.g[3],p=e+(u^o&(c^u))+s[0]+3614090360&4294967295;e=o+(p<<7&4294967295|p>>>25),p=u+(c^e&(o^c))+s[1]+3905402710&4294967295,u=e+(p<<12&4294967295|p>>>20),p=c+(o^u&(e^o))+s[2]+606105819&4294967295,c=u+(p<<17&4294967295|p>>>15),p=o+(e^c&(u^e))+s[3]+3250441966&4294967295,o=c+(p<<22&4294967295|p>>>10),p=e+(u^o&(c^u))+s[4]+4118548399&4294967295,e=o+(p<<7&4294967295|p>>>25),p=u+(c^e&(o^c))+s[5]+1200080426&4294967295,u=e+(p<<12&4294967295|p>>>20),p=c+(o^u&(e^o))+s[6]+2821735955&4294967295,c=u+(p<<17&4294967295|p>>>15),p=o+(e^c&(u^e))+s[7]+4249261313&4294967295,o=c+(p<<22&4294967295|p>>>10),p=e+(u^o&(c^u))+s[8]+1770035416&4294967295,e=o+(p<<7&4294967295|p>>>25),p=u+(c^e&(o^c))+s[9]+2336552879&4294967295,u=e+(p<<12&4294967295|p>>>20),p=c+(o^u&(e^o))+s[10]+4294925233&4294967295,c=u+(p<<17&4294967295|p>>>15),p=o+(e^c&(u^e))+s[11]+2304563134&4294967295,o=c+(p<<22&4294967295|p>>>10),p=e+(u^o&(c^u))+s[12]+1804603682&4294967295,e=o+(p<<7&4294967295|p>>>25),p=u+(c^e&(o^c))+s[13]+4254626195&4294967295,u=e+(p<<12&4294967295|p>>>20),p=c+(o^u&(e^o))+s[14]+2792965006&4294967295,c=u+(p<<17&4294967295|p>>>15),p=o+(e^c&(u^e))+s[15]+1236535329&4294967295,o=c+(p<<22&4294967295|p>>>10),p=e+(c^u&(o^c))+s[1]+4129170786&4294967295,e=o+(p<<5&4294967295|p>>>27),p=u+(o^c&(e^o))+s[6]+3225465664&4294967295,u=e+(p<<9&4294967295|p>>>23),p=c+(e^o&(u^e))+s[11]+643717713&4294967295,c=u+(p<<14&4294967295|p>>>18),p=o+(u^e&(c^u))+s[0]+3921069994&4294967295,o=c+(p<<20&4294967295|p>>>12),p=e+(c^u&(o^c))+s[5]+3593408605&4294967295,e=o+(p<<5&4294967295|p>>>27),p=u+(o^c&(e^o))+s[10]+38016083&4294967295,u=e+(p<<9&4294967295|p>>>23),p=c+(e^o&(u^e))+s[15]+3634488961&4294967295,c=u+(p<<14&4294967295|p>>>18),p=o+(u^e&(c^u))+s[4]+3889429448&4294967295,o=c+(p<<20&4294967295|p>>>12),p=e+(c^u&(o^c))+s[9]+568446438&4294967295,e=o+(p<<5&4294967295|p>>>27),p=u+(o^c&(e^o))+s[14]+3275163606&4294967295,u=e+(p<<9&4294967295|p>>>23),p=c+(e^o&(u^e))+s[3]+4107603335&4294967295,c=u+(p<<14&4294967295|p>>>18),p=o+(u^e&(c^u))+s[8]+1163531501&4294967295,o=c+(p<<20&4294967295|p>>>12),p=e+(c^u&(o^c))+s[13]+2850285829&4294967295,e=o+(p<<5&4294967295|p>>>27),p=u+(o^c&(e^o))+s[2]+4243563512&4294967295,u=e+(p<<9&4294967295|p>>>23),p=c+(e^o&(u^e))+s[7]+1735328473&4294967295,c=u+(p<<14&4294967295|p>>>18),p=o+(u^e&(c^u))+s[12]+2368359562&4294967295,o=c+(p<<20&4294967295|p>>>12),p=e+(o^c^u)+s[5]+4294588738&4294967295,e=o+(p<<4&4294967295|p>>>28),p=u+(e^o^c)+s[8]+2272392833&4294967295,u=e+(p<<11&4294967295|p>>>21),p=c+(u^e^o)+s[11]+1839030562&4294967295,c=u+(p<<16&4294967295|p>>>16),p=o+(c^u^e)+s[14]+4259657740&4294967295,o=c+(p<<23&4294967295|p>>>9),p=e+(o^c^u)+s[1]+2763975236&4294967295,e=o+(p<<4&4294967295|p>>>28),p=u+(e^o^c)+s[4]+1272893353&4294967295,u=e+(p<<11&4294967295|p>>>21),p=c+(u^e^o)+s[7]+4139469664&4294967295,c=u+(p<<16&4294967295|p>>>16),p=o+(c^u^e)+s[10]+3200236656&4294967295,o=c+(p<<23&4294967295|p>>>9),p=e+(o^c^u)+s[13]+681279174&4294967295,e=o+(p<<4&4294967295|p>>>28),p=u+(e^o^c)+s[0]+3936430074&4294967295,u=e+(p<<11&4294967295|p>>>21),p=c+(u^e^o)+s[3]+3572445317&4294967295,c=u+(p<<16&4294967295|p>>>16),p=o+(c^u^e)+s[6]+76029189&4294967295,o=c+(p<<23&4294967295|p>>>9),p=e+(o^c^u)+s[9]+3654602809&4294967295,e=o+(p<<4&4294967295|p>>>28),p=u+(e^o^c)+s[12]+3873151461&4294967295,u=e+(p<<11&4294967295|p>>>21),p=c+(u^e^o)+s[15]+530742520&4294967295,c=u+(p<<16&4294967295|p>>>16),p=o+(c^u^e)+s[2]+3299628645&4294967295,o=c+(p<<23&4294967295|p>>>9),p=e+(c^(o|~u))+s[0]+4096336452&4294967295,e=o+(p<<6&4294967295|p>>>26),p=u+(o^(e|~c))+s[7]+1126891415&4294967295,u=e+(p<<10&4294967295|p>>>22),p=c+(e^(u|~o))+s[14]+2878612391&4294967295,c=u+(p<<15&4294967295|p>>>17),p=o+(u^(c|~e))+s[5]+4237533241&4294967295,o=c+(p<<21&4294967295|p>>>11),p=e+(c^(o|~u))+s[12]+1700485571&4294967295,e=o+(p<<6&4294967295|p>>>26),p=u+(o^(e|~c))+s[3]+2399980690&4294967295,u=e+(p<<10&4294967295|p>>>22),p=c+(e^(u|~o))+s[10]+4293915773&4294967295,c=u+(p<<15&4294967295|p>>>17),p=o+(u^(c|~e))+s[1]+2240044497&4294967295,o=c+(p<<21&4294967295|p>>>11),p=e+(c^(o|~u))+s[8]+1873313359&4294967295,e=o+(p<<6&4294967295|p>>>26),p=u+(o^(e|~c))+s[15]+4264355552&4294967295,u=e+(p<<10&4294967295|p>>>22),p=c+(e^(u|~o))+s[6]+2734768916&4294967295,c=u+(p<<15&4294967295|p>>>17),p=o+(u^(c|~e))+s[13]+1309151649&4294967295,o=c+(p<<21&4294967295|p>>>11),p=e+(c^(o|~u))+s[4]+4149444226&4294967295,e=o+(p<<6&4294967295|p>>>26),p=u+(o^(e|~c))+s[11]+3174756917&4294967295,u=e+(p<<10&4294967295|p>>>22),p=c+(e^(u|~o))+s[2]+718787259&4294967295,c=u+(p<<15&4294967295|p>>>17),p=o+(u^(c|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(c+(p<<21&4294967295|p>>>11))&4294967295,t.g[2]=t.g[2]+c&4294967295,t.g[3]=t.g[3]+u&4294967295}gi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var o=e-this.blockSize,s=this.m,c=this.h,u=0;u<e;){if(c==0)for(;u<=o;)iC(this,t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<e;)if(s[c++]=t.charCodeAt(u++),c==this.blockSize){iC(this,s),c=0;break}}else for(;u<e;)if(s[c++]=t[u++],c==this.blockSize){iC(this,s),c=0;break}}this.h=c,this.i+=e};gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var o=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=o&255,o/=256;for(this.j(t),t=Array(16),e=o=0;4>e;++e)for(var s=0;32>s;s+=8)t[o++]=this.g[e]>>>s&255;return t};function jt(t,e){this.h=e;for(var o=[],s=!0,c=t.length-1;0<=c;c--){var u=t[c]|0;s&&u==e||(o[c]=u,s=!1)}this.g=o}var Jce={};function iE(t){return-128<=t&&128>t?ice(t,function(e){return new jt([e|0],0>e?-1:0)}):new jt([t|0],0>t?-1:0)}function Ni(t){if(isNaN(t)||!isFinite(t))return wd;if(0>t)return lo(Ni(-t));for(var e=[],o=1,s=0;t>=o;s++)e[s]=t/o|0,o*=HA;return new jt(e,0)}function r7(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lo(r7(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var o=Ni(Math.pow(e,8)),s=wd,c=0;c<t.length;c+=8){var u=Math.min(8,t.length-c),p=parseInt(t.substring(c,c+u),e);8>u?(u=Ni(Math.pow(e,u)),s=s.R(u).add(Ni(p))):(s=s.R(o),s=s.add(Ni(p)))}return s}var HA=4294967296,wd=iE(0),WA=iE(1),GB=iE(16777216);Ae=jt.prototype;Ae.ea=function(){if(Br(this))return-lo(this).ea();for(var t=0,e=1,o=0;o<this.g.length;o++){var s=this.D(o);t+=(0<=s?s:HA+s)*e,e*=HA}return t};Ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ks(this))return"0";if(Br(this))return"-"+lo(this).toString(t);for(var e=Ni(Math.pow(t,6)),o=this,s="";;){var c=Db(o,e).g;o=Ib(o,c.R(e));var u=((0<o.g.length?o.g[0]:o.h)>>>0).toString(t);if(o=c,ks(o))return u+s;for(;6>u.length;)u="0"+u;s=u+s}};Ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ks(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Br(t){return t.h==-1}Ae.X=function(t){return t=Ib(this,t),Br(t)?-1:ks(t)?0:1};function lo(t){for(var e=t.g.length,o=[],s=0;s<e;s++)o[s]=~t.g[s];return new jt(o,~t.h).add(WA)}Ae.abs=function(){return Br(this)?lo(this):this};Ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),o=[],s=0,c=0;c<=e;c++){var u=s+(this.D(c)&65535)+(t.D(c)&65535),p=(u>>>16)+(this.D(c)>>>16)+(t.D(c)>>>16);s=p>>>16,u&=65535,p&=65535,o[c]=p<<16|u}return new jt(o,o[o.length-1]&-2147483648?-1:0)};function Ib(t,e){return t.add(lo(e))}Ae.R=function(t){if(ks(this)||ks(t))return wd;if(Br(this))return Br(t)?lo(this).R(lo(t)):lo(lo(this).R(t));if(Br(t))return lo(this.R(lo(t)));if(0>this.X(GB)&&0>t.X(GB))return Ni(this.ea()*t.ea());for(var e=this.g.length+t.g.length,o=[],s=0;s<2*e;s++)o[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<t.g.length;c++){var u=this.D(s)>>>16,p=this.D(s)&65535,m=t.D(c)>>>16,g=t.D(c)&65535;o[2*s+2*c]+=p*g,Zm(o,2*s+2*c),o[2*s+2*c+1]+=u*g,Zm(o,2*s+2*c+1),o[2*s+2*c+1]+=p*m,Zm(o,2*s+2*c+1),o[2*s+2*c+2]+=u*m,Zm(o,2*s+2*c+2)}for(s=0;s<e;s++)o[s]=o[2*s+1]<<16|o[2*s];for(s=e;s<2*e;s++)o[s]=0;return new jt(o,0)};function Zm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ch(t,e){this.g=t,this.h=e}function Db(t,e){if(ks(e))throw Error("division by zero");if(ks(t))return new Ch(wd,wd);if(Br(t))return e=Db(lo(t),e),new Ch(lo(e.g),lo(e.h));if(Br(e))return e=Db(t,lo(e)),new Ch(lo(e.g),e.h);if(30<t.g.length){if(Br(t)||Br(e))throw Error("slowDivide_ only works with positive integers.");for(var o=WA,s=e;0>=s.X(t);)o=KB(o),s=KB(s);var c=jc(o,1),u=jc(s,1);for(s=jc(s,2),o=jc(o,2);!ks(s);){var p=u.add(s);0>=p.X(t)&&(c=c.add(o),u=p),s=jc(s,1),o=jc(o,1)}return e=Ib(t,c.R(e)),new Ch(c,e)}for(c=wd;0<=t.X(e);){for(o=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(o)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),u=Ni(o),p=u.R(e);Br(p)||0<p.X(t);)o-=s,u=Ni(o),p=u.R(e);ks(u)&&(u=WA),c=c.add(u),t=Ib(t,p)}return new Ch(c,t)}Ae.gb=function(t){return Db(this,t).h};Ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),o=[],s=0;s<e;s++)o[s]=this.D(s)&t.D(s);return new jt(o,this.h&t.h)};Ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),o=[],s=0;s<e;s++)o[s]=this.D(s)|t.D(s);return new jt(o,this.h|t.h)};Ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),o=[],s=0;s<e;s++)o[s]=this.D(s)^t.D(s);return new jt(o,this.h^t.h)};function KB(t){for(var e=t.g.length+1,o=[],s=0;s<e;s++)o[s]=t.D(s)<<1|t.D(s-1)>>>31;return new jt(o,t.h)}function jc(t,e){var o=e>>5;e%=32;for(var s=t.g.length-o,c=[],u=0;u<s;u++)c[u]=0<e?t.D(u+o)>>>e|t.D(u+o+1)<<32-e:t.D(u+o);return new jt(c,t.h)}Tb.prototype.createWebChannel=Tb.prototype.g;br.prototype.send=br.prototype.u;br.prototype.open=br.prototype.m;br.prototype.close=br.prototype.close;M0.NO_ERROR=0;M0.TIMEOUT=8;M0.HTTP_ERROR=6;_9.COMPLETE="complete";C9.EventType=Tf;Tf.OPEN="a";Tf.CLOSE="b";Tf.ERROR="c";Tf.MESSAGE="d";Xn.prototype.listen=Xn.prototype.O;_n.prototype.listenOnce=_n.prototype.P;_n.prototype.getLastError=_n.prototype.Sa;_n.prototype.getLastErrorCode=_n.prototype.Ia;_n.prototype.getStatus=_n.prototype.da;_n.prototype.getResponseJson=_n.prototype.Wa;_n.prototype.getResponseText=_n.prototype.ja;_n.prototype.send=_n.prototype.ha;_n.prototype.setWithCredentials=_n.prototype.Oa;gi.prototype.digest=gi.prototype.l;gi.prototype.reset=gi.prototype.reset;gi.prototype.update=gi.prototype.j;jt.prototype.add=jt.prototype.add;jt.prototype.multiply=jt.prototype.R;jt.prototype.modulo=jt.prototype.gb;jt.prototype.compare=jt.prototype.X;jt.prototype.toNumber=jt.prototype.ea;jt.prototype.toString=jt.prototype.toString;jt.prototype.getBits=jt.prototype.D;jt.fromNumber=Ni;jt.fromString=r7;var Xce=function(){return new Tb},ede=function(){return D0()},sC=M0,tde=_9,nde=Zl,YB={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ode=Mf,Jm=C9,rde=_n,ide=gi,vd=jt;const QB="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ko.UNAUTHENTICATED=new ko(null),ko.GOOGLE_CREDENTIALS=new ko("google-credentials-uid"),ko.FIRST_PARTY=new ko("first-party-uid"),ko.MOCK_USER=new ko("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Tx("@firebase/firestore");function ZB(){return Fl.logLevel}function Ne(t,...e){if(Fl.logLevel<=St.DEBUG){const o=e.map(sE);Fl.debug(`Firestore (${au}): ${t}`,...o)}}function Ss(t,...e){if(Fl.logLevel<=St.ERROR){const o=e.map(sE);Fl.error(`Firestore (${au}): ${t}`,...o)}}function Ld(t,...e){if(Fl.logLevel<=St.WARN){const o=e.map(sE);Fl.warn(`Firestore (${au}): ${t}`,...o)}}function sE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: `+t;throw Ss(e),new Error(e)}function rn(t,e){t||Xe()}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Gi{constructor(e,o){super(e,o),this.code=e,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,o){e.enqueueRetryable(()=>o(ko.UNAUTHENTICATED))}shutdown(){}}class ade{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,o){this.changeListener=o,e.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}let lde=class{constructor(e){this.t=e,this.currentUser=ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,o){let s=this.i;const c=g=>this.i!==s?(s=this.i,o(g)):Promise.resolve();let u=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ws,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await c(this.currentUser)})},m=g=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ws)}},0),p()}getToken(){const e=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(s=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rn(typeof s.accessToken=="string"),new i7(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rn(e===null||typeof e=="string"),new ko(e)}};class cde{constructor(e,o,s){this.h=e,this.l=o,this.m=s,this.type="FirstParty",this.user=ko.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dde{constructor(e,o,s){this.h=e,this.l=o,this.m=s}getToken(){return Promise.resolve(new cde(this.h,this.l,this.m))}start(e,o){e.enqueueRetryable(()=>o(ko.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ude{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hde{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,o){const s=u=>{u.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const p=u.token!==this.T;return this.T=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?o(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const c=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>c(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?c(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(o=>o?(rn(typeof o.token=="string"),this.T=o.token,new ude(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(o);else for(let s=0;s<t;s++)o[s]=Math.floor(256*Math.random());return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=pde(40);for(let u=0;u<c.length;++u)s.length<20&&c[u]<o&&(s+=e.charAt(c[u]%e.length))}return s}}function Pt(t,e){return t<e?-1:t>e?1:0}function jd(t,e,o){return t.length===e.length&&t.every((s,c)=>o(s,e[c]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,o){if(this.seconds=e,this.nanoseconds=o,o<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(e<-62135596800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const o=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*o));return new Un(o,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rt(e)}static min(){return new rt(new Un(0,0))}static max(){return new rt(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,o,s){o===void 0?o=0:o>e.length&&Xe(),s===void 0?s=e.length-o:s>e.length-o&&Xe(),this.segments=e,this.offset=o,this.len=s}get length(){return this.len}isEqual(e){return Kp.comparator(this,e)===0}child(e){const o=this.segments.slice(this.offset,this.limit());return e instanceof Kp?e.forEach(s=>{o.push(s)}):o.push(e),this.construct(o)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==e.get(o))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==e.get(o))return!1;return!0}forEach(e){for(let o=this.offset,s=this.limit();o<s;o++)e(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,o){const s=Math.min(e.length,o.length);for(let c=0;c<s;c++){const u=e.get(c),p=o.get(c);if(u<p)return-1;if(u>p)return 1}return e.length<o.length?-1:e.length>o.length?1:0}}class nn extends Kp{construct(e,o,s){return new nn(e,o,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const o=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);o.push(...s.split("/").filter(c=>c.length>0))}return new nn(o)}static emptyPath(){return new nn([])}}const fde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vo extends Kp{construct(e,o,s){return new vo(e,o,s)}static isValidIdentifier(e){return fde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vo(["__name__"])}static fromServerFormat(e){const o=[];let s="",c=0;const u=()=>{if(s.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(s),s=""};let p=!1;for(;c<e.length;){const m=e[c];if(m==="\\"){if(c+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[c+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,c+=2}else m==="`"?(p=!p,c++):m!=="."||p?(s+=m,c++):(u(),c++)}if(u(),p)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vo(o)}static emptyPath(){return new vo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(nn.fromString(e))}static fromName(e){return new je(nn.fromString(e).popFirst(5))}static empty(){return new je(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,o){return nn.comparator(e.path,o.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new nn(e.slice()))}}function gde(t,e){const o=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,c=rt.fromTimestamp(s===1e9?new Un(o+1,0):new Un(o,s));return new xa(c,je.empty(),e)}function mde(t){return new xa(t.readTime,t.key,-1)}class xa{constructor(e,o,s){this.readTime=e,this.documentKey=o,this.largestBatchId=s}static min(){return new xa(rt.min(),je.empty(),-1)}static max(){return new xa(rt.max(),je.empty(),-1)}}function kde(t,e){let o=t.readTime.compareTo(e.readTime);return o!==0?o:(o=je.comparator(t.documentKey,e.documentKey),o!==0?o:Pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==bde)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(e){return this.next(void 0,e)}next(e,o){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(e,this.result):new me((s,c)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,c)},this.catchCallback=u=>{this.wrapFailure(o,u).next(s,c)}})}toPromise(){return new Promise((e,o)=>{this.next(e,o)})}wrapUserFunction(e){try{const o=e();return o instanceof me?o:me.resolve(o)}catch(o){return me.reject(o)}}wrapSuccess(e,o){return e?this.wrapUserFunction(()=>e(o)):me.resolve(o)}wrapFailure(e,o){return e?this.wrapUserFunction(()=>e(o)):me.reject(o)}static resolve(e){return new me((o,s)=>{o(e)})}static reject(e){return new me((o,s)=>{s(e)})}static waitFor(e){return new me((o,s)=>{let c=0,u=0,p=!1;e.forEach(m=>{++c,m.next(()=>{++u,p&&u===c&&o()},g=>s(g))}),p=!0,u===c&&o()})}static or(e){let o=me.resolve(!1);for(const s of e)o=o.next(c=>c?me.resolve(c):s());return o}static forEach(e,o){const s=[];return e.forEach((c,u)=>{s.push(o.call(this,c,u))}),this.waitFor(s)}static mapArray(e,o){return new me((s,c)=>{const u=e.length,p=new Array(u);let m=0;for(let g=0;g<u;g++){const w=g;o(e[w]).next(_=>{p[w]=_,++m,m===u&&s(p)},_=>c(_))}})}static doWhile(e,o){return new me((s,c)=>{const u=()=>{e()===!0?o().next(()=>{u()},c):s()};u()})}}function Of(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,o){this.previousValue=e,o&&(o.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>o.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}aE.ct=-1;function z0(t){return t==null}function Mb(t){return t===0&&1/t==-1/0}function vde(t){return typeof t=="number"&&Number.isInteger(t)&&!Mb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t){let e=0;for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&e++;return e}function Jl(t,e){for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&e(o,t[o])}function a7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,o){this.comparator=e,this.root=o||so.EMPTY}insert(e,o){return new fn(this.comparator,this.root.insert(e,o,this.comparator).copy(null,null,so.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,so.BLACK,null,null))}get(e){let o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return o.value;s<0?o=o.left:s>0&&(o=o.right)}return null}indexOf(e){let o=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(c===0)return o+s.left.size;c<0?s=s.left:(o+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((o,s)=>(e(o,s),!1))}toString(){const e=[];return this.inorderTraversal((o,s)=>(e.push(`${o}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xm(this.root,e,this.comparator,!0)}}class Xm{constructor(e,o,s,c){this.isReverse=c,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=o?s(e.key,o):1,o&&c&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const o={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class so{constructor(e,o,s,c,u){this.key=e,this.value=o,this.color=s??so.RED,this.left=c??so.EMPTY,this.right=u??so.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,o,s,c,u){return new so(e??this.key,o??this.value,s??this.color,c??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,s){let c=this;const u=s(e,c.key);return c=u<0?c.copy(null,null,null,c.left.insert(e,o,s),null):u===0?c.copy(null,o,null,null,null):c.copy(null,null,null,null,c.right.insert(e,o,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return so.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,o){let s,c=this;if(o(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,o),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),o(e,c.key)===0){if(c.right.isEmpty())return so.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,o))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,so.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,so.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}so.EMPTY=null,so.RED=!0,so.BLACK=!1;so.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(t,e,o,s,c){return this}insert(t,e,o){return new so(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((o,s)=>(e(o),!1))}forEachInRange(e,o){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;o(c.key)}}forEachWhile(e,o){let s;for(s=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const o=this.data.getIteratorFrom(e);return o.hasNext()?o.getNext().key:null}getIterator(){return new XB(this.data.getIterator())}getIteratorFrom(e){return new XB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let o=this;return o.size<e.size&&(o=e,e=this),e.forEach(s=>{o=o.add(s)}),o}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const o=this.data.getIterator(),s=e.data.getIterator();for(;o.hasNext();){const c=o.getNext().key,u=s.getNext().key;if(this.comparator(c,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(o=>{e.push(o)}),e}toString(){const e=[];return this.forEach(o=>e.push(o)),"SortedSet("+e.toString()+")"}copy(e){const o=new Co(this.comparator);return o.data=e,o}}class XB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(vo.comparator)}static empty(){return new pr([])}unionWith(e){let o=new Co(vo.comparator);for(const s of this.fields)o=o.add(s);for(const s of e)o=o.add(s);return new pr(o.toArray())}covers(e){for(const o of this.fields)if(o.isPrefixOf(e))return!0;return!1}isEqual(e){return jd(this.fields,e.fields,(o,s)=>o.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.binaryString=e}static fromBase64String(e){const o=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new l7("Invalid base64 string: "+c):c}}(e);return new So(o)}static fromUint8Array(e){const o=function(s){let c="";for(let u=0;u<s.length;++u)c+=String.fromCharCode(s[u]);return c}(e);return new So(o)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const o=new Uint8Array(e.length);for(let s=0;s<e.length;s++)o[s]=e.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}So.EMPTY_BYTE_STRING=new So("");const yde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(t){if(rn(!!t),typeof t=="string"){let e=0;const o=yde.exec(t);if(rn(!!o),o[1]){let c=o[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pn(t.seconds),nanos:Pn(t.nanos)}}function Pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $l(t){return typeof t=="string"?So.fromBase64String(t):So.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){var e,o;return((o=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||o===void 0?void 0:o.stringValue)==="server_timestamp"}function cE(t){const e=t.mapValue.fields.__previous_value__;return lE(e)?cE(e):e}function Yp(t){const e=Ea(t.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e,o,s,c,u,p,m,g,w){this.databaseId=e,this.appId=o,this.persistenceKey=s,this.host=c,this.ssl=u,this.forceLongPolling=p,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=w}}class Qp{constructor(e,o){this.projectId=e,this.database=o||"(default)"}static empty(){return new Qp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lE(t)?4:Cde(t)?9007199254740991:10:Xe()}function Hi(t,e){if(t===e)return!0;const o=Vl(t);if(o!==Vl(e))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yp(t).isEqual(Yp(e));case 3:return function(s,c){if(typeof s.timestampValue=="string"&&typeof c.timestampValue=="string"&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const u=Ea(s.timestampValue),p=Ea(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,c){return $l(s.bytesValue).isEqual($l(c.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,c){return Pn(s.geoPointValue.latitude)===Pn(c.geoPointValue.latitude)&&Pn(s.geoPointValue.longitude)===Pn(c.geoPointValue.longitude)}(t,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Pn(s.integerValue)===Pn(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const u=Pn(s.doubleValue),p=Pn(c.doubleValue);return u===p?Mb(u)===Mb(p):isNaN(u)&&isNaN(p)}return!1}(t,e);case 9:return jd(t.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:return function(s,c){const u=s.mapValue.fields||{},p=c.mapValue.fields||{};if(JB(u)!==JB(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!Hi(u[m],p[m])))return!1;return!0}(t,e);default:return Xe()}}function Zp(t,e){return(t.values||[]).find(o=>Hi(o,e))!==void 0}function zd(t,e){if(t===e)return 0;const o=Vl(t),s=Vl(e);if(o!==s)return Pt(o,s);switch(o){case 0:case 9007199254740991:return 0;case 1:return Pt(t.booleanValue,e.booleanValue);case 2:return function(c,u){const p=Pn(c.integerValue||c.doubleValue),m=Pn(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(t,e);case 3:return e3(t.timestampValue,e.timestampValue);case 4:return e3(Yp(t),Yp(e));case 5:return Pt(t.stringValue,e.stringValue);case 6:return function(c,u){const p=$l(c),m=$l(u);return p.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(c,u){const p=c.split("/"),m=u.split("/");for(let g=0;g<p.length&&g<m.length;g++){const w=Pt(p[g],m[g]);if(w!==0)return w}return Pt(p.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(c,u){const p=Pt(Pn(c.latitude),Pn(u.latitude));return p!==0?p:Pt(Pn(c.longitude),Pn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(c,u){const p=c.values||[],m=u.values||[];for(let g=0;g<p.length&&g<m.length;++g){const w=zd(p[g],m[g]);if(w)return w}return Pt(p.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(c,u){if(c===ek.mapValue&&u===ek.mapValue)return 0;if(c===ek.mapValue)return 1;if(u===ek.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),g=u.fields||{},w=Object.keys(g);m.sort(),w.sort();for(let _=0;_<m.length&&_<w.length;++_){const C=Pt(m[_],w[_]);if(C!==0)return C;const y=zd(p[m[_]],g[w[_]]);if(y!==0)return y}return Pt(m.length,w.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function e3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pt(t,e);const o=Ea(t),s=Ea(e),c=Pt(o.seconds,s.seconds);return c!==0?c:Pt(o.nanos,s.nanos)}function Fd(t){return qA(t)}function qA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const c=Ea(s);return`time(${c.seconds},${c.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$l(t.bytesValue).toBase64():"referenceValue"in t?(o=t.referenceValue,je.fromName(o).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let c="[",u=!0;for(const p of s.values||[])u?u=!1:c+=",",c+=qA(p);return c+"]"}(t.arrayValue):"mapValue"in t?function(s){const c=Object.keys(s.fields||{}).sort();let u="{",p=!0;for(const m of c)p?p=!1:u+=",",u+=`${m}:${qA(s.fields[m])}`;return u+"}"}(t.mapValue):Xe();var e,o}function t3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GA(t){return!!t&&"integerValue"in t}function dE(t){return!!t&&"arrayValue"in t}function n3(t){return!!t&&"nullValue"in t}function o3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dk(t){return!!t&&"mapValue"in t}function rp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jl(t.mapValue.fields,(o,s)=>e.mapValue.fields[o]=rp(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let o=0;o<(t.arrayValue.values||[]).length;++o)e.arrayValue.values[o]=rp(t.arrayValue.values[o]);return e}return Object.assign({},t)}function Cde(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.value=e}static empty(){return new Ho({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let o=this.value;for(let s=0;s<e.length-1;++s)if(o=(o.mapValue.fields||{})[e.get(s)],!Dk(o))return null;return o=(o.mapValue.fields||{})[e.lastSegment()],o||null}}set(e,o){this.getFieldsMap(e.popLast())[e.lastSegment()]=rp(o)}setAll(e){let o=vo.emptyPath(),s={},c=[];e.forEach((p,m)=>{if(!o.isImmediateParentOf(m)){const g=this.getFieldsMap(o);this.applyChanges(g,s,c),s={},c=[],o=m.popLast()}p?s[m.lastSegment()]=rp(p):c.push(m.lastSegment())});const u=this.getFieldsMap(o);this.applyChanges(u,s,c)}delete(e){const o=this.field(e.popLast());Dk(o)&&o.mapValue.fields&&delete o.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=o.mapValue.fields[e.get(s)];Dk(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},o.mapValue.fields[e.get(s)]=c),o=c}return o.mapValue.fields}applyChanges(e,o,s){Jl(o,(c,u)=>e[c]=u);for(const c of s)delete e[c]}clone(){return new Ho(rp(this.value))}}function c7(t){const e=[];return Jl(t.fields,(o,s)=>{const c=new vo([o]);if(Dk(s)){const u=c7(s.mapValue).fields;if(u.length===0)e.push(c);else for(const p of u)e.push(c.child(p))}else e.push(c)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,o,s,c,u,p,m){this.key=e,this.documentType=o,this.version=s,this.readTime=c,this.createTime=u,this.data=p,this.documentState=m}static newInvalidDocument(e){return new wo(e,0,rt.min(),rt.min(),rt.min(),Ho.empty(),0)}static newFoundDocument(e,o,s,c){return new wo(e,1,o,rt.min(),s,c,0)}static newNoDocument(e,o){return new wo(e,2,o,rt.min(),rt.min(),Ho.empty(),0)}static newUnknownDocument(e,o){return new wo(e,3,o,rt.min(),rt.min(),Ho.empty(),2)}convertToFoundDocument(e,o){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ho.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ho.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,o){this.position=e,this.inclusive=o}}function r3(t,e,o){let s=0;for(let c=0;c<t.position.length;c++){const u=e[c],p=t.position[c];if(u.field.isKeyField()?s=je.comparator(je.fromName(p.referenceValue),o.key):s=zd(p,o.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function i3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let o=0;o<t.position.length;o++)if(!Hi(t.position[o],e.position[o]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,o="asc"){this.field=e,this.dir=o}}function Ade(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{}class On extends d7{constructor(e,o,s){super(),this.field=e,this.op=o,this.value=s}static create(e,o,s){return e.isKeyField()?o==="in"||o==="not-in"?this.createKeyFieldInFilter(e,o,s):new Ede(e,o,s):o==="array-contains"?new Ide(e,s):o==="in"?new Dde(e,s):o==="not-in"?new Mde(e,s):o==="array-contains-any"?new Pde(e,s):new On(e,o,s)}static createKeyFieldInFilter(e,o,s){return o==="in"?new Sde(e,s):new Tde(e,s)}matches(e){const o=e.data.field(this.field);return this.op==="!="?o!==null&&this.matchesComparison(zd(o,this.value)):o!==null&&Vl(this.value)===Vl(o)&&this.matchesComparison(zd(o,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mi extends d7{constructor(e,o){super(),this.filters=e,this.op=o,this.lt=null}static create(e,o){return new mi(e,o)}matches(e){return u7(this)?this.filters.find(o=>!o.matches(e))===void 0:this.filters.find(o=>o.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,o)=>e.concat(o.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(o=>o.isInequality());return e!==null?e.field:null}ft(e){for(const o of this.getFlattenedFilters())if(e(o))return o;return null}}function u7(t){return t.op==="and"}function h7(t){return xde(t)&&u7(t)}function xde(t){for(const e of t.filters)if(e instanceof mi)return!1;return!0}function KA(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+Fd(t.value);if(h7(t))return t.filters.map(e=>KA(e)).join(",");{const e=t.filters.map(o=>KA(o)).join(",");return`${t.op}(${e})`}}function p7(t,e){return t instanceof On?function(o,s){return s instanceof On&&o.op===s.op&&o.field.isEqual(s.field)&&Hi(o.value,s.value)}(t,e):t instanceof mi?function(o,s){return s instanceof mi&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((c,u,p)=>c&&p7(u,s.filters[p]),!0):!1}(t,e):void Xe()}function f7(t){return t instanceof On?function(e){return`${e.field.canonicalString()} ${e.op} ${Fd(e.value)}`}(t):t instanceof mi?function(e){return e.op.toString()+" {"+e.getFilters().map(f7).join(" ,")+"}"}(t):"Filter"}class Ede extends On{constructor(e,o,s){super(e,o,s),this.key=je.fromName(s.referenceValue)}matches(e){const o=je.comparator(e.key,this.key);return this.matchesComparison(o)}}class Sde extends On{constructor(e,o){super(e,"in",o),this.keys=g7("in",o)}matches(e){return this.keys.some(o=>o.isEqual(e.key))}}class Tde extends On{constructor(e,o){super(e,"not-in",o),this.keys=g7("not-in",o)}matches(e){return!this.keys.some(o=>o.isEqual(e.key))}}function g7(t,e){var o;return(((o=e.arrayValue)===null||o===void 0?void 0:o.values)||[]).map(s=>je.fromName(s.referenceValue))}class Ide extends On{constructor(e,o){super(e,"array-contains",o)}matches(e){const o=e.data.field(this.field);return dE(o)&&Zp(o.arrayValue,this.value)}}class Dde extends On{constructor(e,o){super(e,"in",o)}matches(e){const o=e.data.field(this.field);return o!==null&&Zp(this.value.arrayValue,o)}}class Mde extends On{constructor(e,o){super(e,"not-in",o)}matches(e){if(Zp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=e.data.field(this.field);return o!==null&&!Zp(this.value.arrayValue,o)}}class Pde extends On{constructor(e,o){super(e,"array-contains-any",o)}matches(e){const o=e.data.field(this.field);return!(!dE(o)||!o.arrayValue.values)&&o.arrayValue.values.some(s=>Zp(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e,o=null,s=[],c=[],u=null,p=null,m=null){this.path=e,this.collectionGroup=o,this.orderBy=s,this.filters=c,this.limit=u,this.startAt=p,this.endAt=m,this.dt=null}}function s3(t,e=null,o=[],s=[],c=null,u=null,p=null){return new Nde(t,e,o,s,c,u,p)}function uE(t){const e=at(t);if(e.dt===null){let o=e.path.canonicalString();e.collectionGroup!==null&&(o+="|cg:"+e.collectionGroup),o+="|f:",o+=e.filters.map(s=>KA(s)).join(","),o+="|ob:",o+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),z0(e.limit)||(o+="|l:",o+=e.limit),e.startAt&&(o+="|lb:",o+=e.startAt.inclusive?"b:":"a:",o+=e.startAt.position.map(s=>Fd(s)).join(",")),e.endAt&&(o+="|ub:",o+=e.endAt.inclusive?"a:":"b:",o+=e.endAt.position.map(s=>Fd(s)).join(",")),e.dt=o}return e.dt}function hE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<t.orderBy.length;o++)if(!Ade(t.orderBy[o],e.orderBy[o]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let o=0;o<t.filters.length;o++)if(!p7(t.filters[o],e.filters[o]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i3(t.startAt,e.startAt)&&i3(t.endAt,e.endAt)}function YA(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,o=null,s=[],c=[],u=null,p="F",m=null,g=null){this.path=e,this.collectionGroup=o,this.explicitOrderBy=s,this.filters=c,this.limit=u,this.limitType=p,this.startAt=m,this.endAt=g,this.wt=null,this._t=null,this.startAt,this.endAt}}function Rde(t,e,o,s,c,u,p,m){return new lu(t,e,o,s,c,u,p,m)}function F0(t){return new lu(t)}function a3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function $0(t){for(const e of t.filters){const o=e.getFirstInequalityField();if(o!==null)return o}return null}function m7(t){return t.collectionGroup!==null}function _d(t){const e=at(t);if(e.wt===null){e.wt=[];const o=$0(e),s=pE(e);if(o!==null&&s===null)o.isKeyField()||e.wt.push(new yd(o)),e.wt.push(new yd(vo.keyField(),"asc"));else{let c=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(c=!0);if(!c){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new yd(vo.keyField(),u))}}}return e.wt}function Ts(t){const e=at(t);if(!e._t)if(e.limitType==="F")e._t=s3(e.path,e.collectionGroup,_d(e),e.filters,e.limit,e.startAt,e.endAt);else{const o=[];for(const u of _d(e)){const p=u.dir==="desc"?"asc":"desc";o.push(new yd(u.field,p))}const s=e.endAt?new Pb(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Pb(e.startAt.position,e.startAt.inclusive):null;e._t=s3(e.path,e.collectionGroup,o,e.filters,e.limit,s,c)}return e._t}function QA(t,e){e.getFirstInequalityField(),$0(t);const o=t.filters.concat([e]);return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),o,t.limit,t.limitType,t.startAt,t.endAt)}function ZA(t,e,o){return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,o,t.startAt,t.endAt)}function V0(t,e){return hE(Ts(t),Ts(e))&&t.limitType===e.limitType}function k7(t){return`${uE(Ts(t))}|lt:${t.limitType}`}function JA(t){return`Query(target=${function(e){let o=e.path.canonicalString();return e.collectionGroup!==null&&(o+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(o+=`, filters: [${e.filters.map(s=>f7(s)).join(", ")}]`),z0(e.limit)||(o+=", limit: "+e.limit),e.orderBy.length>0&&(o+=`, orderBy: [${e.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),e.startAt&&(o+=", startAt: ",o+=e.startAt.inclusive?"b:":"a:",o+=e.startAt.position.map(s=>Fd(s)).join(",")),e.endAt&&(o+=", endAt: ",o+=e.endAt.inclusive?"a:":"b:",o+=e.endAt.position.map(s=>Fd(s)).join(",")),`Target(${o})`}(Ts(t))}; limitType=${t.limitType})`}function U0(t,e){return e.isFoundDocument()&&function(o,s){const c=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):je.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(t,e)&&function(o,s){for(const c of _d(o))if(!c.field.isKeyField()&&s.data.field(c.field)===null)return!1;return!0}(t,e)&&function(o,s){for(const c of o.filters)if(!c.matches(s))return!1;return!0}(t,e)&&function(o,s){return!(o.startAt&&!function(c,u,p){const m=r3(c,u,p);return c.inclusive?m<=0:m<0}(o.startAt,_d(o),s)||o.endAt&&!function(c,u,p){const m=r3(c,u,p);return c.inclusive?m>=0:m>0}(o.endAt,_d(o),s))}(t,e)}function Ode(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function b7(t){return(e,o)=>{let s=!1;for(const c of _d(t)){const u=Bde(c,e,o);if(u!==0)return u;s=s||c.field.isKeyField()}return 0}}function Bde(t,e,o){const s=t.field.isKeyField()?je.comparator(e.key,o.key):function(c,u,p){const m=u.data.field(c),g=p.data.field(c);return m!==null&&g!==null?zd(m,g):Xe()}(t.field,e,o);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,o){this.mapKeyFn=e,this.equalsFn=o,this.inner={},this.innerSize=0}get(e){const o=this.mapKeyFn(e),s=this.inner[o];if(s!==void 0){for(const[c,u]of s)if(this.equalsFn(c,e))return u}}has(e){return this.get(e)!==void 0}set(e,o){const s=this.mapKeyFn(e),c=this.inner[s];if(c===void 0)return this.inner[s]=[[e,o]],void this.innerSize++;for(let u=0;u<c.length;u++)if(this.equalsFn(c[u][0],e))return void(c[u]=[e,o]);c.push([e,o]),this.innerSize++}delete(e){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return s.length===1?delete this.inner[o]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Jl(this.inner,(o,s)=>{for(const[c,u]of s)e(c,u)})}isEmpty(){return a7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lde=new fn(je.comparator);function Is(){return Lde}const w7=new fn(je.comparator);function Vh(...t){let e=w7;for(const o of t)e=e.insert(o.key,o);return e}function v7(t){let e=w7;return t.forEach((o,s)=>e=e.insert(o,s.overlayedDocument)),e}function _l(){return ip()}function y7(){return ip()}function ip(){return new cu(t=>t.toString(),(t,e)=>t.isEqual(e))}const jde=new fn(je.comparator),zde=new Co(je.comparator);function mt(...t){let e=zde;for(const o of t)e=e.add(o);return e}const Fde=new Co(Pt);function $de(){return Fde}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mb(e)?"-0":e}}function C7(t){return{integerValue:""+t}}function Vde(t,e){return vde(e)?C7(e):_7(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this._=void 0}}function Ude(t,e,o){return t instanceof Jp?function(s,c){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&lE(c)&&(c=cE(c)),c&&(u.fields.__previous_value__=c),{mapValue:u}}(o,e):t instanceof Xp?x7(t,e):t instanceof ef?E7(t,e):function(s,c){const u=A7(s,c),p=l3(u)+l3(s.gt);return GA(u)&&GA(s.gt)?C7(p):_7(s.serializer,p)}(t,e)}function Hde(t,e,o){return t instanceof Xp?x7(t,e):t instanceof ef?E7(t,e):o}function A7(t,e){return t instanceof Nb?GA(o=e)||function(s){return!!s&&"doubleValue"in s}(o)?e:{integerValue:0}:null;var o}class Jp extends H0{}class Xp extends H0{constructor(e){super(),this.elements=e}}function x7(t,e){const o=S7(e);for(const s of t.elements)o.some(c=>Hi(c,s))||o.push(s);return{arrayValue:{values:o}}}class ef extends H0{constructor(e){super(),this.elements=e}}function E7(t,e){let o=S7(e);for(const s of t.elements)o=o.filter(c=>!Hi(c,s));return{arrayValue:{values:o}}}class Nb extends H0{constructor(e,o){super(),this.serializer=e,this.gt=o}}function l3(t){return Pn(t.integerValue||t.doubleValue)}function S7(t){return dE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wde{constructor(e,o){this.field=e,this.transform=o}}function qde(t,e){return t.field.isEqual(e.field)&&function(o,s){return o instanceof Xp&&s instanceof Xp||o instanceof ef&&s instanceof ef?jd(o.elements,s.elements,Hi):o instanceof Nb&&s instanceof Nb?Hi(o.gt,s.gt):o instanceof Jp&&s instanceof Jp}(t.transform,e.transform)}class Gde{constructor(e,o){this.version=e,this.transformResults=o}}class Fr{constructor(e,o){this.updateTime=e,this.exists=o}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mk(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class W0{}function T7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fE(t.key,Fr.none()):new Bf(t.key,t.data,Fr.none());{const o=t.data,s=Ho.empty();let c=new Co(vo.comparator);for(let u of e.fields)if(!c.has(u)){let p=o.field(u);p===null&&u.length>1&&(u=u.popLast(),p=o.field(u)),p===null?s.delete(u):s.set(u,p),c=c.add(u)}return new Ba(t.key,s,new pr(c.toArray()),Fr.none())}}function Kde(t,e,o){t instanceof Bf?function(s,c,u){const p=s.value.clone(),m=d3(s.fieldTransforms,c,u.transformResults);p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(t,e,o):t instanceof Ba?function(s,c,u){if(!Mk(s.precondition,c))return void c.convertToUnknownDocument(u.version);const p=d3(s.fieldTransforms,c,u.transformResults),m=c.data;m.setAll(I7(s)),m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,o):function(s,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,o)}function sp(t,e,o,s){return t instanceof Bf?function(c,u,p,m){if(!Mk(c.precondition,u))return p;const g=c.value.clone(),w=u3(c.fieldTransforms,m,u);return g.setAll(w),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(t,e,o,s):t instanceof Ba?function(c,u,p,m){if(!Mk(c.precondition,u))return p;const g=u3(c.fieldTransforms,m,u),w=u.data;return w.setAll(I7(c)),w.setAll(g),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(_=>_.field))}(t,e,o,s):function(c,u,p){return Mk(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p}(t,e,o)}function Yde(t,e){let o=null;for(const s of t.fieldTransforms){const c=e.data.field(s.field),u=A7(s.transform,c||null);u!=null&&(o===null&&(o=Ho.empty()),o.set(s.field,u))}return o||null}function c3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&jd(o,s,(c,u)=>qde(c,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bf extends W0{constructor(e,o,s,c=[]){super(),this.key=e,this.value=o,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Ba extends W0{constructor(e,o,s,c,u=[]){super(),this.key=e,this.data=o,this.fieldMask=s,this.precondition=c,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I7(t){const e=new Map;return t.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const s=t.data.field(o);e.set(o,s)}}),e}function d3(t,e,o){const s=new Map;rn(t.length===o.length);for(let c=0;c<o.length;c++){const u=t[c],p=u.transform,m=e.data.field(u.field);s.set(u.field,Hde(p,m,o[c]))}return s}function u3(t,e,o){const s=new Map;for(const c of t){const u=c.transform,p=o.data.field(c.field);s.set(c.field,Ude(u,p,e))}return s}class fE extends W0{constructor(e,o){super(),this.key=e,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qde extends W0{constructor(e,o){super(),this.key=e,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zde{constructor(e,o,s,c){this.batchId=e,this.localWriteTime=o,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,o){const s=o.mutationResults;for(let c=0;c<this.mutations.length;c++){const u=this.mutations[c];u.key.isEqual(e.key)&&Kde(u,e,s[c])}}applyToLocalView(e,o){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(o=sp(s,e,o,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(o=sp(s,e,o,this.localWriteTime));return o}applyToLocalDocumentSet(e,o){const s=y7();return this.mutations.forEach(c=>{const u=e.get(c.key),p=u.overlayedDocument;let m=this.applyToLocalView(p,u.mutatedFields);m=o.has(c.key)?null:m;const g=T7(p,m);g!==null&&s.set(c.key,g),p.isValidDocument()||p.convertToNoDocument(rt.min())}),s}keys(){return this.mutations.reduce((e,o)=>e.add(o.key),mt())}isEqual(e){return this.batchId===e.batchId&&jd(this.mutations,e.mutations,(o,s)=>c3(o,s))&&jd(this.baseMutations,e.baseMutations,(o,s)=>c3(o,s))}}class gE{constructor(e,o,s,c){this.batch=e,this.commitVersion=o,this.mutationResults=s,this.docVersions=c}static from(e,o,s){rn(e.mutations.length===s.length);let c=jde;const u=e.mutations;for(let p=0;p<u.length;p++)c=c.insert(u[p].key,s[p].version);return new gE(e,o,s,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jde{constructor(e,o){this.largestBatchId=e,this.mutation=o}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xde{constructor(e,o){this.count=e,this.unchangedNames=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,wt;function eue(t){switch(t){default:return Xe();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function D7(t){if(t===void 0)return Ss("GRPC error has no .code"),de.UNKNOWN;switch(t){case Mn.OK:return de.OK;case Mn.CANCELLED:return de.CANCELLED;case Mn.UNKNOWN:return de.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return de.INTERNAL;case Mn.UNAVAILABLE:return de.UNAVAILABLE;case Mn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Mn.NOT_FOUND:return de.NOT_FOUND;case Mn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Mn.ABORTED:return de.ABORTED;case Mn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Mn.DATA_LOSS:return de.DATA_LOSS;default:return Xe()}}(wt=Mn||(Mn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return tk}static getOrCreateInstance(){return tk===null&&(tk=new mE),tk}onExistenceFilterMismatch(e){const o=Symbol();return this.onExistenceFilterMismatchCallbacks.set(o,e),()=>this.onExistenceFilterMismatchCallbacks.delete(o)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(o=>o(e))}}let tk=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nue=new vd([4294967295,4294967295],0);function h3(t){const e=tue().encode(t),o=new ide;return o.update(e),new Uint8Array(o.digest())}function p3(t){const e=new DataView(t.buffer),o=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vd([o,s],0),new vd([c,u],0)]}class kE{constructor(e,o,s){if(this.bitmap=e,this.padding=o,this.hashCount=s,o<0||o>=8)throw new Uh(`Invalid padding: ${o}`);if(s<0)throw new Uh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Uh(`Invalid hash count: ${s}`);if(e.length===0&&o!==0)throw new Uh(`Invalid padding when bitmap length is 0: ${o}`);this.It=8*e.length-o,this.Tt=vd.fromNumber(this.It)}Et(e,o,s){let c=e.add(o.multiply(vd.fromNumber(s)));return c.compare(nue)===1&&(c=new vd([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const o=h3(e),[s,c]=p3(o);for(let u=0;u<this.hashCount;u++){const p=this.Et(s,c,u);if(!this.At(p))return!1}return!0}static create(e,o,s){const c=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),p=new kE(u,c,o);return s.forEach(m=>p.insert(m)),p}insert(e){if(this.It===0)return;const o=h3(e),[s,c]=p3(o);for(let u=0;u<this.hashCount;u++){const p=this.Et(s,c,u);this.Rt(p)}}Rt(e){const o=Math.floor(e/8),s=e%8;this.bitmap[o]|=1<<s}}class Uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,o,s,c,u){this.snapshotVersion=e,this.targetChanges=o,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,o,s){const c=new Map;return c.set(e,Lf.createSynthesizedTargetChangeForCurrentChange(e,o,s)),new q0(rt.min(),c,new fn(Pt),Is(),mt())}}class Lf{constructor(e,o,s,c,u){this.resumeToken=e,this.current=o,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,o,s){return new Lf(s,o,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,o,s,c){this.Pt=e,this.removedTargetIds=o,this.key=s,this.bt=c}}class M7{constructor(e,o){this.targetId=e,this.Vt=o}}class P7{constructor(e,o,s=So.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=o,this.resumeToken=s,this.cause=c}}class f3{constructor(){this.St=0,this.Dt=m3(),this.Ct=So.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=mt(),o=mt(),s=mt();return this.Dt.forEach((c,u)=>{switch(u){case 0:e=e.add(c);break;case 2:o=o.add(c);break;case 1:s=s.add(c);break;default:Xe()}}),new Lf(this.Ct,this.xt,e,o,s)}Ft(){this.Nt=!1,this.Dt=m3()}Bt(e,o){this.Nt=!0,this.Dt=this.Dt.insert(e,o)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class oue{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Is(),this.zt=g3(),this.Wt=new fn(Pt)}Ht(e){for(const o of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(o,e.bt):this.Yt(o,e.key,e.bt);for(const o of e.removedTargetIds)this.Yt(o,e.key,e.bt)}Xt(e){this.forEachTarget(e,o=>{const s=this.Zt(o);switch(e.state){case 0:this.te(o)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(o);break;case 3:this.te(o)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(o)&&(this.ee(o),s.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,o){e.targetIds.length>0?e.targetIds.forEach(o):this.Qt.forEach((s,c)=>{this.te(c)&&o(c)})}ne(e){var o;const s=e.targetId,c=e.Vt.count,u=this.se(s);if(u){const p=u.target;if(YA(p))if(c===0){const m=new je(p.path);this.Yt(s,m,wo.newNoDocument(m,rt.min()))}else rn(c===1);else{const m=this.ie(s);if(m!==c){const g=this.re(e,m);if(g!==0){this.ee(s);const w=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,w)}(o=mE.instance)===null||o===void 0||o.notifyOnExistenceFilterMismatch(function(w,_,C){var y,x,S,T,R,D;const N={localCacheCount:_,existenceFilterCount:C.count},O=C.unchangedNames;return O&&(N.bloomFilter={applied:w===0,hashCount:(y=O==null?void 0:O.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(T=(S=(x=O==null?void 0:O.bits)===null||x===void 0?void 0:x.bitmap)===null||S===void 0?void 0:S.length)!==null&&T!==void 0?T:0,padding:(D=(R=O==null?void 0:O.bits)===null||R===void 0?void 0:R.padding)!==null&&D!==void 0?D:0}),N}(g,m,e.Vt))}}}}re(e,o){const{unchangedNames:s,count:c}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:u="",padding:p=0},hashCount:m=0}=s;let g,w;try{g=$l(u).toUint8Array()}catch(_){if(_ instanceof l7)return Ld("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw _}try{w=new kE(g,p,m)}catch(_){return Ld(_ instanceof Uh?"BloomFilter error: ":"Applying bloom filter failed: ",_),1}return w.It===0?1:c!==o-this.oe(e.targetId,w)?2:0}oe(e,o){const s=this.Gt.getRemoteKeysForTarget(e);let c=0;return s.forEach(u=>{const p=this.Gt.ue(),m=`projects/${p.projectId}/databases/${p.database}/documents/${u.path.canonicalString()}`;o.vt(m)||(this.Yt(e,u,null),c++)}),c}ce(e){const o=new Map;this.Qt.forEach((u,p)=>{const m=this.se(p);if(m){if(u.current&&YA(m.target)){const g=new je(m.target.path);this.jt.get(g)!==null||this.ae(p,g)||this.Yt(p,g,wo.newNoDocument(g,e))}u.Mt&&(o.set(p,u.Ot()),u.Ft())}});let s=mt();this.zt.forEach((u,p)=>{let m=!0;p.forEachWhile(g=>{const w=this.se(g);return!w||w.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.jt.forEach((u,p)=>p.setReadTime(e));const c=new q0(e,o,this.Wt,this.jt,s);return this.jt=Is(),this.zt=g3(),this.Wt=new fn(Pt),c}Jt(e,o){if(!this.te(e))return;const s=this.ae(e,o.key)?2:0;this.Zt(e).Bt(o.key,s),this.jt=this.jt.insert(o.key,o),this.zt=this.zt.insert(o.key,this.he(o.key).add(e))}Yt(e,o,s){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,o)?c.Bt(o,1):c.Lt(o),this.zt=this.zt.insert(o,this.he(o).delete(e)),s&&(this.jt=this.jt.insert(o,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const o=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+o.addedDocuments.size-o.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let o=this.Qt.get(e);return o||(o=new f3,this.Qt.set(e,o)),o}he(e){let o=this.zt.get(e);return o||(o=new Co(Pt),this.zt=this.zt.insert(e,o)),o}te(e){const o=this.se(e)!==null;return o||Ne("WatchChangeAggregator","Detected inactive target",e),o}se(e){const o=this.Qt.get(e);return o&&o.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new f3),this.Gt.getRemoteKeysForTarget(e).forEach(o=>{this.Yt(e,o,null)})}ae(e,o){return this.Gt.getRemoteKeysForTarget(e).has(o)}}function g3(){return new fn(je.comparator)}function m3(){return new fn(je.comparator)}const rue={asc:"ASCENDING",desc:"DESCENDING"},iue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sue={and:"AND",or:"OR"};class aue{constructor(e,o){this.databaseId=e,this.useProto3Json=o}}function XA(t,e){return t.useProto3Json||z0(e)?e:{value:e}}function Rb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lue(t,e){return Rb(t,e.toTimestamp())}function Fi(t){return rn(!!t),rt.fromTimestamp(function(e){const o=Ea(e);return new Un(o.seconds,o.nanos)}(t))}function bE(t,e){return function(o){return new nn(["projects",o.projectId,"databases",o.database])}(t).child("documents").child(e).canonicalString()}function R7(t){const e=nn.fromString(t);return rn(j7(e)),e}function e1(t,e){return bE(t.databaseId,e.path)}function aC(t,e){const o=R7(e);if(o.get(1)!==t.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+t.databaseId.projectId);if(o.get(3)!==t.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+t.databaseId.database);return new je(O7(o))}function t1(t,e){return bE(t.databaseId,e)}function cue(t){const e=R7(t);return e.length===4?nn.emptyPath():O7(e)}function n1(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O7(t){return rn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function k3(t,e,o){return{name:e1(t,e),fields:o.value.mapValue.fields}}function due(t,e){let o;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),c=e.targetChange.targetIds||[],u=function(g,w){return g.useProto3Json?(rn(w===void 0||typeof w=="string"),So.fromBase64String(w||"")):(rn(w===void 0||w instanceof Uint8Array),So.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),p=e.targetChange.cause,m=p&&function(g){const w=g.code===void 0?de.UNKNOWN:D7(g.code);return new Se(w,g.message||"")}(p);o=new P7(s,c,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const c=aC(t,s.document.name),u=Fi(s.document.updateTime),p=s.document.createTime?Fi(s.document.createTime):rt.min(),m=new Ho({mapValue:{fields:s.document.fields}}),g=wo.newFoundDocument(c,u,p,m),w=s.targetIds||[],_=s.removedTargetIds||[];o=new Pk(w,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const c=aC(t,s.document),u=s.readTime?Fi(s.readTime):rt.min(),p=wo.newNoDocument(c,u),m=s.removedTargetIds||[];o=new Pk([],m,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const c=aC(t,s.document),u=s.removedTargetIds||[];o=new Pk([],u,c,null)}else{if(!("filter"in e))return Xe();{e.filter;const s=e.filter;s.targetId;const{count:c=0,unchangedNames:u}=s,p=new Xde(c,u),m=s.targetId;o=new M7(m,p)}}return o}function uue(t,e){let o;if(e instanceof Bf)o={update:k3(t,e.key,e.value)};else if(e instanceof fE)o={delete:e1(t,e.key)};else if(e instanceof Ba)o={update:k3(t,e.key,e.data),updateMask:vue(e.fieldMask)};else{if(!(e instanceof Qde))return Xe();o={verify:e1(t,e.key)}}return e.fieldTransforms.length>0&&(o.updateTransforms=e.fieldTransforms.map(s=>function(c,u){const p=u.transform;if(p instanceof Jp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ef)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Nb)return{fieldPath:u.field.canonicalString(),increment:p.gt};throw Xe()}(0,s))),e.precondition.isNone||(o.currentDocument=function(s,c){return c.updateTime!==void 0?{updateTime:lue(s,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Xe()}(t,e.precondition)),o}function hue(t,e){return t&&t.length>0?(rn(e!==void 0),t.map(o=>function(s,c){let u=s.updateTime?Fi(s.updateTime):Fi(c);return u.isEqual(rt.min())&&(u=Fi(c)),new Gde(u,s.transformResults||[])}(o,e))):[]}function pue(t,e){return{documents:[t1(t,e.path)]}}function fue(t,e){const o={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(o.parent=t1(t,s),o.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o.parent=t1(t,s.popLast()),o.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(g){if(g.length!==0)return L7(mi.create(g,"and"))}(e.filters);c&&(o.structuredQuery.where=c);const u=function(g){if(g.length!==0)return g.map(w=>function(_){return{field:Gc(_.field),direction:kue(_.dir)}}(w))}(e.orderBy);u&&(o.structuredQuery.orderBy=u);const p=XA(t,e.limit);var m;return p!==null&&(o.structuredQuery.limit=p),e.startAt&&(o.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(o.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),o}function gue(t){let e=cue(t.parent);const o=t.structuredQuery,s=o.from?o.from.length:0;let c=null;if(s>0){rn(s===1);const _=o.from[0];_.allDescendants?c=_.collectionId:e=e.child(_.collectionId)}let u=[];o.where&&(u=function(_){const C=B7(_);return C instanceof mi&&h7(C)?C.getFilters():[C]}(o.where));let p=[];o.orderBy&&(p=o.orderBy.map(_=>function(C){return new yd(Kc(C.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_)));let m=null;o.limit&&(m=function(_){let C;return C=typeof _=="object"?_.value:_,z0(C)?null:C}(o.limit));let g=null;o.startAt&&(g=function(_){const C=!!_.before,y=_.values||[];return new Pb(y,C)}(o.startAt));let w=null;return o.endAt&&(w=function(_){const C=!_.before,y=_.values||[];return new Pb(y,C)}(o.endAt)),Rde(e,c,p,u,m,"F",g,w)}function mue(t,e){const o=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return o==null?null:{"goog-listen-tags":o}}function B7(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const o=Kc(e.unaryFilter.field);return On.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Kc(e.unaryFilter.field);return On.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Kc(e.unaryFilter.field);return On.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Kc(e.unaryFilter.field);return On.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(e){return On.create(Kc(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return mi.create(e.compositeFilter.filters.map(o=>B7(o)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(t):Xe()}function kue(t){return rue[t]}function bue(t){return iue[t]}function wue(t){return sue[t]}function Gc(t){return{fieldPath:t.canonicalString()}}function Kc(t){return vo.fromServerFormat(t.fieldPath)}function L7(t){return t instanceof On?function(e){if(e.op==="=="){if(o3(e.value))return{unaryFilter:{field:Gc(e.field),op:"IS_NAN"}};if(n3(e.value))return{unaryFilter:{field:Gc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(o3(e.value))return{unaryFilter:{field:Gc(e.field),op:"IS_NOT_NAN"}};if(n3(e.value))return{unaryFilter:{field:Gc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gc(e.field),op:bue(e.op),value:e.value}}}(t):t instanceof mi?function(e){const o=e.getFilters().map(s=>L7(s));return o.length===1?o[0]:{compositeFilter:{op:wue(e.op),filters:o}}}(t):Xe()}function vue(t){const e=[];return t.fields.forEach(o=>e.push(o.canonicalString())),{fieldPaths:e}}function j7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,o,s,c,u=rt.min(),p=rt.min(),m=So.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=o,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,o){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(e){this.fe=e}}function _ue(t){const e=gue({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ZA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(){this.rn=new Aue}addToCollectionParentIndex(e,o){return this.rn.add(o),me.resolve()}getCollectionParents(e,o){return me.resolve(this.rn.getEntries(o))}addFieldIndex(e,o){return me.resolve()}deleteFieldIndex(e,o){return me.resolve()}getDocumentsMatchingTarget(e,o){return me.resolve(null)}getIndexType(e,o){return me.resolve(0)}getFieldIndexes(e,o){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,o){return me.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,o){return me.resolve(xa.min())}updateCollectionGroup(e,o,s){return me.resolve()}updateIndexEntries(e,o){return me.resolve()}}class Aue{constructor(){this.index={}}add(e){const o=e.lastSegment(),s=e.popLast(),c=this.index[o]||new Co(nn.comparator),u=!c.has(s);return this.index[o]=c.add(s),u}has(e){const o=e.lastSegment(),s=e.popLast(),c=this.index[o];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Co(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $d(0)}static Mn(){return new $d(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(){this.changes=new cu(e=>e.toString(),(e,o)=>e.isEqual(o)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,o){this.assertNotApplied(),this.changes.set(e,wo.newInvalidDocument(e).setReadTime(o))}getEntry(e,o){this.assertNotApplied();const s=this.changes.get(o);return s!==void 0?me.resolve(s):this.getFromCache(e,o)}getEntries(e,o){return this.getAllFromCache(e,o)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(e,o){this.overlayedDocument=e,this.mutatedFields=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{constructor(e,o,s,c){this.remoteDocumentCache=e,this.mutationQueue=o,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,o){let s=null;return this.documentOverlayCache.getOverlay(e,o).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,o))).next(c=>(s!==null&&sp(s.mutation,c,pr.empty(),Un.now()),c))}getDocuments(e,o){return this.remoteDocumentCache.getEntries(e,o).next(s=>this.getLocalViewOfDocuments(e,s,mt()).next(()=>s))}getLocalViewOfDocuments(e,o,s=mt()){const c=_l();return this.populateOverlays(e,c,o).next(()=>this.computeViews(e,o,c,s).next(u=>{let p=Vh();return u.forEach((m,g)=>{p=p.insert(m,g.overlayedDocument)}),p}))}getOverlayedDocuments(e,o){const s=_l();return this.populateOverlays(e,s,o).next(()=>this.computeViews(e,o,s,mt()))}populateOverlays(e,o,s){const c=[];return s.forEach(u=>{o.has(u)||c.push(u)}),this.documentOverlayCache.getOverlays(e,c).next(u=>{u.forEach((p,m)=>{o.set(p,m)})})}computeViews(e,o,s,c){let u=Is();const p=ip(),m=ip();return o.forEach((g,w)=>{const _=s.get(w.key);c.has(w.key)&&(_===void 0||_.mutation instanceof Ba)?u=u.insert(w.key,w):_!==void 0?(p.set(w.key,_.mutation.getFieldMask()),sp(_.mutation,w,_.mutation.getFieldMask(),Un.now())):p.set(w.key,pr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((w,_)=>p.set(w,_)),o.forEach((w,_)=>{var C;return m.set(w,new Eue(_,(C=p.get(w))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,o){const s=ip();let c=new fn((p,m)=>p-m),u=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,o).next(p=>{for(const m of p)m.keys().forEach(g=>{const w=o.get(g);if(w===null)return;let _=s.get(g)||pr.empty();_=m.applyToLocalView(w,_),s.set(g,_);const C=(c.get(m.batchId)||mt()).add(g);c=c.insert(m.batchId,C)})}).next(()=>{const p=[],m=c.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),w=g.key,_=g.value,C=y7();_.forEach(y=>{if(!u.has(y)){const x=T7(o.get(y),s.get(y));x!==null&&C.set(y,x),u=u.add(y)}}),p.push(this.documentOverlayCache.saveOverlays(e,w,C))}return me.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,o){return this.remoteDocumentCache.getEntries(e,o).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,o,s){return function(c){return je.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(o)?this.getDocumentsMatchingDocumentQuery(e,o.path):m7(o)?this.getDocumentsMatchingCollectionGroupQuery(e,o,s):this.getDocumentsMatchingCollectionQuery(e,o,s)}getNextDocuments(e,o,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,o,s,c).next(u=>{const p=c-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,o,s.largestBatchId,c-u.size):me.resolve(_l());let m=-1,g=u;return p.next(w=>me.forEach(w,(_,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(_)?me.resolve():this.remoteDocumentCache.getEntry(e,_).next(y=>{g=g.insert(_,y)}))).next(()=>this.populateOverlays(e,w,u)).next(()=>this.computeViews(e,g,w,mt())).next(_=>({batchId:m,changes:v7(_)})))})}getDocumentsMatchingDocumentQuery(e,o){return this.getDocument(e,new je(o)).next(s=>{let c=Vh();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,o,s){const c=o.collectionGroup;let u=Vh();return this.indexManager.getCollectionParents(e,c).next(p=>me.forEach(p,m=>{const g=function(w,_){return new lu(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(o,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s).next(w=>{w.forEach((_,C)=>{u=u.insert(_,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,o,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,o.path,s.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,o,s,c))).next(u=>{c.forEach((m,g)=>{const w=g.getKey();u.get(w)===null&&(u=u.insert(w,wo.newInvalidDocument(w)))});let p=Vh();return u.forEach((m,g)=>{const w=c.get(m);w!==void 0&&sp(w.mutation,g,pr.empty(),Un.now()),U0(o,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,o){return me.resolve(this.cs.get(o))}saveBundleMetadata(e,o){var s;return this.cs.set(o.id,{id:(s=o).id,version:s.version,createTime:Fi(s.createTime)}),me.resolve()}getNamedQuery(e,o){return me.resolve(this.hs.get(o))}saveNamedQuery(e,o){return this.hs.set(o.name,function(s){return{name:s.name,query:_ue(s.bundledQuery),readTime:Fi(s.readTime)}}(o)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(){this.overlays=new fn(je.comparator),this.ls=new Map}getOverlay(e,o){return me.resolve(this.overlays.get(o))}getOverlays(e,o){const s=_l();return me.forEach(o,c=>this.getOverlay(e,c).next(u=>{u!==null&&s.set(c,u)})).next(()=>s)}saveOverlays(e,o,s){return s.forEach((c,u)=>{this.we(e,o,u)}),me.resolve()}removeOverlaysForBatchId(e,o,s){const c=this.ls.get(s);return c!==void 0&&(c.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(s)),me.resolve()}getOverlaysForCollection(e,o,s){const c=_l(),u=o.length+1,p=new je(o.child("")),m=this.overlays.getIteratorFrom(p);for(;m.hasNext();){const g=m.getNext().value,w=g.getKey();if(!o.isPrefixOf(w.path))break;w.path.length===u&&g.largestBatchId>s&&c.set(g.getKey(),g)}return me.resolve(c)}getOverlaysForCollectionGroup(e,o,s,c){let u=new fn((w,_)=>w-_);const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===o&&w.largestBatchId>s){let _=u.get(w.largestBatchId);_===null&&(_=_l(),u=u.insert(w.largestBatchId,_)),_.set(w.getKey(),w)}}const m=_l(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((w,_)=>m.set(w,_)),!(m.size()>=c)););return me.resolve(m)}we(e,o,s){const c=this.overlays.get(s.key);if(c!==null){const p=this.ls.get(c.largestBatchId).delete(s.key);this.ls.set(c.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Jde(o,s));let u=this.ls.get(o);u===void 0&&(u=mt(),this.ls.set(o,u)),this.ls.set(o,u.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.fs=new Co(Yn.ds),this.ws=new Co(Yn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,o){const s=new Yn(e,o);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,o){e.forEach(s=>this.addReference(s,o))}removeReference(e,o){this.ys(new Yn(e,o))}ps(e,o){e.forEach(s=>this.removeReference(s,o))}Is(e){const o=new je(new nn([])),s=new Yn(o,e),c=new Yn(o,e+1),u=[];return this.ws.forEachInRange([s,c],p=>{this.ys(p),u.push(p.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const o=new je(new nn([])),s=new Yn(o,e),c=new Yn(o,e+1);let u=mt();return this.ws.forEachInRange([s,c],p=>{u=u.add(p.key)}),u}containsKey(e){const o=new Yn(e,0),s=this.fs.firstAfterOrEqual(o);return s!==null&&e.isEqual(s.key)}}class Yn{constructor(e,o){this.key=e,this.As=o}static ds(e,o){return je.comparator(e.key,o.key)||Pt(e.As,o.As)}static _s(e,o){return Pt(e.As,o.As)||je.comparator(e.key,o.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(e,o){this.indexManager=e,this.referenceDelegate=o,this.mutationQueue=[],this.vs=1,this.Rs=new Co(Yn.ds)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,o,s,c){const u=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Zde(u,o,s,c);this.mutationQueue.push(p);for(const m of c)this.Rs=this.Rs.add(new Yn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return me.resolve(p)}lookupMutationBatch(e,o){return me.resolve(this.Ps(o))}getNextMutationBatchAfterBatchId(e,o){const s=o+1,c=this.bs(s),u=c<0?0:c;return me.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,o){const s=new Yn(o,0),c=new Yn(o,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([s,c],p=>{const m=this.Ps(p.As);u.push(m)}),me.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,o){let s=new Co(Pt);return o.forEach(c=>{const u=new Yn(c,0),p=new Yn(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,p],m=>{s=s.add(m.As)})}),me.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,o){const s=o.path,c=s.length+1;let u=s;je.isDocumentKey(u)||(u=u.child(""));const p=new Yn(new je(u),0);let m=new Co(Pt);return this.Rs.forEachWhile(g=>{const w=g.key.path;return!!s.isPrefixOf(w)&&(w.length===c&&(m=m.add(g.As)),!0)},p),me.resolve(this.Vs(m))}Vs(e){const o=[];return e.forEach(s=>{const c=this.Ps(s);c!==null&&o.push(c)}),o}removeMutationBatch(e,o){rn(this.Ss(o.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return me.forEach(o.mutations,c=>{const u=new Yn(c.key,o.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,o){const s=new Yn(o,0),c=this.Rs.firstAfterOrEqual(s);return me.resolve(o.isEqual(c&&c.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Ss(e,o){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const o=this.bs(e);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{constructor(e){this.Ds=e,this.docs=new fn(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,o){const s=o.key,c=this.docs.get(s),u=c?c.size:0,p=this.Ds(o);return this.docs=this.docs.insert(s,{document:o.mutableCopy(),size:p}),this.size+=p-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const o=this.docs.get(e);o&&(this.docs=this.docs.remove(e),this.size-=o.size)}getEntry(e,o){const s=this.docs.get(o);return me.resolve(s?s.document.mutableCopy():wo.newInvalidDocument(o))}getEntries(e,o){let s=Is();return o.forEach(c=>{const u=this.docs.get(c);s=s.insert(c,u?u.document.mutableCopy():wo.newInvalidDocument(c))}),me.resolve(s)}getDocumentsMatchingQuery(e,o,s,c){let u=Is();const p=o.path,m=new je(p.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:w,value:{document:_}}=g.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||kde(mde(_),s)<=0||(c.has(_.key)||U0(o,_))&&(u=u.insert(_.key,_.mutableCopy()))}return me.resolve(u)}getAllFromCollectionGroup(e,o,s,c){Xe()}Cs(e,o){return me.forEach(this.docs,s=>o(s))}newChangeBuffer(e){return new Pue(this)}getSize(e){return me.resolve(this.size)}}class Pue extends xue{constructor(e){super(),this.os=e}applyChanges(e){const o=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?o.push(this.os.addEntry(e,c)):this.os.removeEntry(s)}),me.waitFor(o)}getFromCache(e,o){return this.os.getEntry(e,o)}getAllFromCache(e,o){return this.os.getEntries(e,o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(e){this.persistence=e,this.xs=new cu(o=>uE(o),hE),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wE,this.targetCount=0,this.Ms=$d.kn()}forEachTarget(e,o){return this.xs.forEach((s,c)=>o(c)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,o,s){return s&&(this.lastRemoteSnapshotVersion=s),o>this.Ns&&(this.Ns=o),me.resolve()}Fn(e){this.xs.set(e.target,e);const o=e.targetId;o>this.highestTargetId&&(this.Ms=new $d(o),this.highestTargetId=o),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,o){return this.Fn(o),this.targetCount+=1,me.resolve()}updateTargetData(e,o){return this.Fn(o),me.resolve()}removeTargetData(e,o){return this.xs.delete(o.target),this.ks.Is(o.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,o,s){let c=0;const u=[];return this.xs.forEach((p,m)=>{m.sequenceNumber<=o&&s.get(m.targetId)===null&&(this.xs.delete(p),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),c++)}),me.waitFor(u).next(()=>c)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,o){const s=this.xs.get(o)||null;return me.resolve(s)}addMatchingKeys(e,o,s){return this.ks.gs(o,s),me.resolve()}removeMatchingKeys(e,o,s){this.ks.ps(o,s);const c=this.persistence.referenceDelegate,u=[];return c&&o.forEach(p=>{u.push(c.markPotentiallyOrphaned(e,p))}),me.waitFor(u)}removeMatchingKeysForTargetId(e,o){return this.ks.Is(o),me.resolve()}getMatchingKeysForTargetId(e,o){const s=this.ks.Es(o);return me.resolve(s)}containsKey(e,o){return me.resolve(this.ks.containsKey(o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(e,o){this.$s={},this.overlays={},this.Os=new aE(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Nue(this),this.indexManager=new Cue,this.remoteDocumentCache=function(s){return new Mue(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new yue(o),this.qs=new Tue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let o=this.overlays[e.toKey()];return o||(o=new Iue,this.overlays[e.toKey()]=o),o}getMutationQueue(e,o){let s=this.$s[e.toKey()];return s||(s=new Due(o,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,o,s){Ne("MemoryPersistence","Starting transaction:",e);const c=new Oue(this.Os.next());return this.referenceDelegate.Us(),s(c).next(u=>this.referenceDelegate.Ks(c).next(()=>u)).toPromise().then(u=>(c.raiseOnCommittedEvent(),u))}Gs(e,o){return me.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,o)))}}class Oue extends wde{constructor(e){super(),this.currentSequenceNumber=e}}class vE{constructor(e){this.persistence=e,this.Qs=new wE,this.js=null}static zs(e){return new vE(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,o,s){return this.Qs.addReference(s,o),this.Ws.delete(s.toString()),me.resolve()}removeReference(e,o,s){return this.Qs.removeReference(s,o),this.Ws.add(s.toString()),me.resolve()}markPotentiallyOrphaned(e,o){return this.Ws.add(o.toString()),me.resolve()}removeTarget(e,o){this.Qs.Is(o.targetId).forEach(c=>this.Ws.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,o.targetId).next(c=>{c.forEach(u=>this.Ws.add(u.toString()))}).next(()=>s.removeTargetData(e,o))}Us(){this.js=new Set}Ks(e){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Ws,s=>{const c=je.fromPath(s);return this.Hs(e,c).next(u=>{u||o.removeEntry(c,rt.min())})}).next(()=>(this.js=null,o.apply(e)))}updateLimboDocument(e,o){return this.Hs(e,o).next(s=>{s?this.Ws.delete(o.toString()):this.Ws.add(o.toString())})}Ls(e){return 0}Hs(e,o){return me.or([()=>me.resolve(this.Qs.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(e,o),()=>this.persistence.Gs(e,o)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,o,s,c){this.targetId=e,this.fromCache=o,this.Fi=s,this.Bi=c}static Li(e,o){let s=mt(),c=mt();for(const u of o.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:c=c.add(u.doc.key)}return new yE(e,o.fromCache,s,c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bue{constructor(){this.qi=!1}initialize(e,o){this.Ui=e,this.indexManager=o,this.qi=!0}getDocumentsMatchingQuery(e,o,s,c){return this.Ki(e,o).next(u=>u||this.Gi(e,o,c,s)).next(u=>u||this.Qi(e,o))}Ki(e,o){if(a3(o))return me.resolve(null);let s=Ts(o);return this.indexManager.getIndexType(e,s).next(c=>c===0?null:(o.limit!==null&&c===1&&(o=ZA(o,null,"F"),s=Ts(o)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const p=mt(...u);return this.Ui.getDocuments(e,p).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const w=this.ji(o,m);return this.zi(o,w,p,g.readTime)?this.Ki(e,ZA(o,null,"F")):this.Wi(e,w,o,g)}))})))}Gi(e,o,s,c){return a3(o)||c.isEqual(rt.min())?this.Qi(e,o):this.Ui.getDocuments(e,s).next(u=>{const p=this.ji(o,u);return this.zi(o,p,s,c)?this.Qi(e,o):(ZB()<=St.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),JA(o)),this.Wi(e,p,o,gde(c,-1)))})}ji(e,o){let s=new Co(b7(e));return o.forEach((c,u)=>{U0(e,u)&&(s=s.add(u))}),s}zi(e,o,s,c){if(e.limit===null)return!1;if(s.size!==o.size)return!0;const u=e.limitType==="F"?o.last():o.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(c)>0)}Qi(e,o){return ZB()<=St.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",JA(o)),this.Ui.getDocumentsMatchingQuery(e,o,xa.min())}Wi(e,o,s,c){return this.Ui.getDocumentsMatchingQuery(e,s,c).next(u=>(o.forEach(p=>{u=u.insert(p.key,p)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(e,o,s,c){this.persistence=e,this.Hi=o,this.serializer=c,this.Ji=new fn(Pt),this.Yi=new cu(u=>uE(u),hE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sue(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>e.collect(o,this.Ji))}}function jue(t,e,o,s){return new Lue(t,e,o,s)}async function z7(t,e){const o=at(t);return await o.persistence.runTransaction("Handle user change","readonly",s=>{let c;return o.mutationQueue.getAllMutationBatches(s).next(u=>(c=u,o.tr(e),o.mutationQueue.getAllMutationBatches(s))).next(u=>{const p=[],m=[];let g=mt();for(const w of c){p.push(w.batchId);for(const _ of w.mutations)g=g.add(_.key)}for(const w of u){m.push(w.batchId);for(const _ of w.mutations)g=g.add(_.key)}return o.localDocuments.getDocuments(s,g).next(w=>({er:w,removedBatchIds:p,addedBatchIds:m}))})})}function zue(t,e){const o=at(t);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),u=o.Zi.newChangeBuffer({trackRemovals:!0});return function(p,m,g,w){const _=g.batch,C=_.keys();let y=me.resolve();return C.forEach(x=>{y=y.next(()=>w.getEntry(m,x)).next(S=>{const T=g.docVersions.get(x);rn(T!==null),S.version.compareTo(T)<0&&(_.applyToRemoteDocument(S,g),S.isValidDocument()&&(S.setReadTime(g.commitVersion),w.addEntry(S)))})}),y.next(()=>p.mutationQueue.removeMutationBatch(m,_))}(o,s,e,u).next(()=>u.apply(s)).next(()=>o.mutationQueue.performConsistencyCheck(s)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=mt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>o.localDocuments.getDocuments(s,c))})}function F7(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",o=>e.Bs.getLastRemoteSnapshotVersion(o))}function Fue(t,e){const o=at(t),s=e.snapshotVersion;let c=o.Ji;return o.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const p=o.Zi.newChangeBuffer({trackRemovals:!0});c=o.Ji;const m=[];e.targetChanges.forEach((_,C)=>{const y=c.get(C);if(!y)return;m.push(o.Bs.removeMatchingKeys(u,_.removedDocuments,C).next(()=>o.Bs.addMatchingKeys(u,_.addedDocuments,C)));let x=y.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?x=x.withResumeToken(So.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),c=c.insert(C,x),function(S,T,R){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(y,x,_)&&m.push(o.Bs.updateTargetData(u,x))});let g=Is(),w=mt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(o.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push($ue(u,p,e.documentUpdates).next(_=>{g=_.nr,w=_.sr})),!s.isEqual(rt.min())){const _=o.Bs.getLastRemoteSnapshotVersion(u).next(C=>o.Bs.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return me.waitFor(m).next(()=>p.apply(u)).next(()=>o.localDocuments.getLocalViewOfDocuments(u,g,w)).next(()=>g)}).then(u=>(o.Ji=c,u))}function $ue(t,e,o){let s=mt(),c=mt();return o.forEach(u=>s=s.add(u)),e.getEntries(t,s).next(u=>{let p=Is();return o.forEach((m,g)=>{const w=u.get(m);g.isFoundDocument()!==w.isFoundDocument()&&(c=c.add(m)),g.isNoDocument()&&g.version.isEqual(rt.min())?(e.removeEntry(m,g.readTime),p=p.insert(m,g)):!w.isValidDocument()||g.version.compareTo(w.version)>0||g.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(g),p=p.insert(m,g)):Ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",w.version," Watch version:",g.version)}),{nr:p,sr:c}})}function Vue(t,e){const o=at(t);return o.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Uue(t,e){const o=at(t);return o.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return o.Bs.getTargetData(s,e).next(u=>u?(c=u,me.resolve(c)):o.Bs.allocateTargetId(s).next(p=>(c=new ca(e,p,"TargetPurposeListen",s.currentSequenceNumber),o.Bs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=o.Ji.get(s.targetId);return(c===null||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(o.Ji=o.Ji.insert(s.targetId,s),o.Yi.set(e,s.targetId)),s})}async function o1(t,e,o){const s=at(t),c=s.Ji.get(e),u=o?"readwrite":"readwrite-primary";try{o||await s.persistence.runTransaction("Release target",u,p=>s.persistence.referenceDelegate.removeTarget(p,c))}catch(p){if(!Of(p))throw p;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(c.target)}function b3(t,e,o){const s=at(t);let c=rt.min(),u=mt();return s.persistence.runTransaction("Execute query","readonly",p=>function(m,g,w){const _=at(m),C=_.Yi.get(w);return C!==void 0?me.resolve(_.Ji.get(C)):_.Bs.getTargetData(g,w)}(s,p,Ts(e)).next(m=>{if(m)return c=m.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(p,m.targetId).next(g=>{u=g})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,e,o?c:rt.min(),o?u:mt())).next(m=>(Hue(s,Ode(e),m),{documents:m,ir:u})))}function Hue(t,e,o){let s=t.Xi.get(e)||rt.min();o.forEach((c,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),t.Xi.set(e,s)}class w3{constructor(){this.activeTargetIds=$de()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wue{constructor(){this.Hr=new w3,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,o,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,o,s){this.Jr[e]=o}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new w3,Promise.resolve()}handleUserChange(e,o,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nk=null;function lC(){return nk===null?nk=268435456+Math.round(2147483648*Math.random()):nk++,"0x"+nk.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="WebChannelConnection";class Yue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const o=e.ssl?"https":"http";this.mo=o+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,o,s,c,u){const p=lC(),m=this.To(e,o);Ne("RestConnection",`Sending RPC '${e}' ${p}:`,m,s);const g={};return this.Eo(g,c,u),this.Ao(e,m,g,s).then(w=>(Ne("RestConnection",`Received RPC '${e}' ${p}: `,w),w),w=>{throw Ld("RestConnection",`RPC '${e}' ${p} failed with error: `,w,"url: ",m,"request:",s),w})}vo(e,o,s,c,u,p){return this.Io(e,o,s,c,u)}Eo(e,o,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+au,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,u)=>e[u]=c),s&&s.headers.forEach((c,u)=>e[u]=c)}To(e,o){const s=Gue[e];return`${this.mo}/v1/${o}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,o,s,c){const u=lC();return new Promise((p,m)=>{const g=new rde;g.setWithCredentials(!0),g.listenOnce(tde.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sC.NO_ERROR:const _=g.getResponseJson();Ne(go,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),p(_);break;case sC.TIMEOUT:Ne(go,`RPC '${e}' ${u} timed out`),m(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case sC.HTTP_ERROR:const C=g.getStatus();if(Ne(go,`RPC '${e}' ${u} failed with status:`,C,"response text:",g.getResponseText()),C>0){let y=g.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const S=function(T){const R=T.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(R)>=0?R:de.UNKNOWN}(x.status);m(new Se(S,x.message))}else m(new Se(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Se(de.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ne(go,`RPC '${e}' ${u} completed.`)}});const w=JSON.stringify(c);Ne(go,`RPC '${e}' ${u} sending request:`,c),g.send(o,"POST",w,s,15)})}Ro(e,o,s){const c=lC(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Xce(),m=ede(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(g.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(g.xmlHttpFactory=new ode({})),this.Eo(g.initMessageHeaders,o,s),g.encodeInitMessageHeaders=!0;const _=u.join("");Ne(go,`Creating RPC '${e}' stream ${c}: ${_}`,g);const C=p.createWebChannel(_,g);let y=!1,x=!1;const S=new Kue({ro:R=>{x?Ne(go,`Not sending because RPC '${e}' stream ${c} is closed:`,R):(y||(Ne(go,`Opening RPC '${e}' stream ${c} transport.`),C.open(),y=!0),Ne(go,`RPC '${e}' stream ${c} sending:`,R),C.send(R))},oo:()=>C.close()}),T=(R,D,N)=>{R.listen(D,O=>{try{N(O)}catch(j){setTimeout(()=>{throw j},0)}})};return T(C,Jm.EventType.OPEN,()=>{x||Ne(go,`RPC '${e}' stream ${c} transport opened.`)}),T(C,Jm.EventType.CLOSE,()=>{x||(x=!0,Ne(go,`RPC '${e}' stream ${c} transport closed`),S.wo())}),T(C,Jm.EventType.ERROR,R=>{x||(x=!0,Ld(go,`RPC '${e}' stream ${c} transport errored:`,R),S.wo(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),T(C,Jm.EventType.MESSAGE,R=>{var D;if(!x){const N=R.data[0];rn(!!N);const O=N,j=O.error||((D=O[0])===null||D===void 0?void 0:D.error);if(j){Ne(go,`RPC '${e}' stream ${c} received error:`,j);const $=j.status;let H=function(U){const G=Mn[U];if(G!==void 0)return D7(G)}($),M=j.message;H===void 0&&(H=de.INTERNAL,M="Unknown error status: "+$+" with message "+j.message),x=!0,S.wo(new Se(H,M)),C.close()}else Ne(go,`RPC '${e}' stream ${c} received:`,N),S._o(N)}}),T(m,nde.STAT_EVENT,R=>{R.stat===YB.PROXY?Ne(go,`RPC '${e}' stream ${c} detected buffering proxy`):R.stat===YB.NOPROXY&&Ne(go,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function cC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){return new aue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,o,s=1e3,c=1.5,u=6e4){this.ii=e,this.timerId=o,this.Po=s,this.bo=c,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const o=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),c=Math.max(0,o-s);c>0&&Ne("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${o} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,o,s,c,u,p,m,g){this.ii=e,this.$o=s,this.Oo=c,this.connection=u,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $7(e,o)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,o){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():o&&o.code===de.RESOURCE_EXHAUSTED?(Ss(o.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):o&&o.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(o)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),o=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Fo===o&&this.Zo(s,c)},s=>{e(()=>{const c=new Se(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(c)})})}Zo(e,o){const s=this.Xo(this.Fo);this.stream=this.eu(e,o),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{s(()=>this.tu(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return o=>{this.ii.enqueueAndForget(()=>this.Fo===e?o():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Que extends V7{constructor(e,o,s,c,u,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,s,c,p),this.serializer=u}eu(e,o){return this.connection.Ro("Listen",e,o)}onMessage(e){this.qo.reset();const o=due(this.serializer,e),s=function(c){if(!("targetChange"in c))return rt.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?rt.min():u.readTime?Fi(u.readTime):rt.min()}(e);return this.listener.nu(o,s)}su(e){const o={};o.database=n1(this.serializer),o.addTarget=function(c,u){let p;const m=u.target;if(p=YA(m)?{documents:pue(c,m)}:{query:fue(c,m)},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=N7(c,u.resumeToken);const g=XA(c,u.expectedCount);g!==null&&(p.expectedCount=g)}else if(u.snapshotVersion.compareTo(rt.min())>0){p.readTime=Rb(c,u.snapshotVersion.toTimestamp());const g=XA(c,u.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=mue(this.serializer,e);s&&(o.labels=s),this.Wo(o)}iu(e){const o={};o.database=n1(this.serializer),o.removeTarget=e,this.Wo(o)}}class Zue extends V7{constructor(e,o,s,c,u,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,s,c,p),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,o){return this.connection.Ro("Write",e,o)}onMessage(e){if(rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const o=hue(e.writeResults,e.commitTime),s=Fi(e.commitTime);return this.listener.cu(s,o)}return rn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=n1(this.serializer),this.Wo(e)}uu(e){const o={streamToken:this.lastStreamToken,writes:e.map(s=>uue(this.serializer,s))};this.Wo(o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue extends class{}{constructor(e,o,s,c){super(),this.authCredentials=e,this.appCheckCredentials=o,this.connection=s,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,o,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Io(e,o,s,c,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(de.UNKNOWN,c.toString())})}vo(e,o,s,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.vo(e,o,s,u,p,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(de.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class Xue{constructor(e,o){this.asyncQueue=e,this.onlineStateHandler=o,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const o=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ss(o),this.mu=!1):Ne("OnlineStateTracker",o)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{constructor(e,o,s,c,u){this.localStore=e,this.datastore=o,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(p=>{s.enqueueAndForget(async()=>{Xl(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(m){const g=at(m);g.vu.add(4),await jf(g),g.bu.set("Unknown"),g.vu.delete(4),await K0(g)}(this))})}),this.bu=new Xue(s,c)}}async function K0(t){if(Xl(t))for(const e of t.Ru)await e(!0)}async function jf(t){for(const e of t.Ru)await e(!1)}function U7(t,e){const o=at(t);o.Au.has(e.targetId)||(o.Au.set(e.targetId,e),AE(o)?CE(o):du(o).Ko()&&_E(o,e))}function H7(t,e){const o=at(t),s=du(o);o.Au.delete(e),s.Ko()&&W7(o,e),o.Au.size===0&&(s.Ko()?s.jo():Xl(o)&&o.bu.set("Unknown"))}function _E(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const o=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(o)}du(t).su(e)}function W7(t,e){t.Vu.qt(e),du(t).iu(e)}function CE(t){t.Vu=new oue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),du(t).start(),t.bu.gu()}function AE(t){return Xl(t)&&!du(t).Uo()&&t.Au.size>0}function Xl(t){return at(t).vu.size===0}function q7(t){t.Vu=void 0}async function the(t){t.Au.forEach((e,o)=>{_E(t,e)})}async function nhe(t,e){q7(t),AE(t)?(t.bu.Iu(e),CE(t)):t.bu.set("Unknown")}async function ohe(t,e,o){if(t.bu.set("Online"),e instanceof P7&&e.state===2&&e.cause)try{await async function(s,c){const u=c.cause;for(const p of c.targetIds)s.Au.has(p)&&(await s.remoteSyncer.rejectListen(p,u),s.Au.delete(p),s.Vu.removeTarget(p))}(t,e)}catch(s){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ob(t,s)}else if(e instanceof Pk?t.Vu.Ht(e):e instanceof M7?t.Vu.ne(e):t.Vu.Xt(e),!o.isEqual(rt.min()))try{const s=await F7(t.localStore);o.compareTo(s)>=0&&await function(c,u){const p=c.Vu.ce(u);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const w=c.Au.get(g);w&&c.Au.set(g,w.withResumeToken(m.resumeToken,u))}}),p.targetMismatches.forEach((m,g)=>{const w=c.Au.get(m);if(!w)return;c.Au.set(m,w.withResumeToken(So.EMPTY_BYTE_STRING,w.snapshotVersion)),W7(c,m);const _=new ca(w.target,m,g,w.sequenceNumber);_E(c,_)}),c.remoteSyncer.applyRemoteEvent(p)}(t,o)}catch(s){Ne("RemoteStore","Failed to raise snapshot:",s),await Ob(t,s)}}async function Ob(t,e,o){if(!Of(e))throw e;t.vu.add(1),await jf(t),t.bu.set("Offline"),o||(o=()=>F7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await o(),t.vu.delete(1),await K0(t)})}function G7(t,e){return e().catch(o=>Ob(t,o,e))}async function Y0(t){const e=at(t),o=Sa(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rhe(e);)try{const c=await Vue(e.localStore,s);if(c===null){e.Eu.length===0&&o.jo();break}s=c.batchId,ihe(e,c)}catch(c){await Ob(e,c)}K7(e)&&Y7(e)}function rhe(t){return Xl(t)&&t.Eu.length<10}function ihe(t,e){t.Eu.push(e);const o=Sa(t);o.Ko()&&o.ou&&o.uu(e.mutations)}function K7(t){return Xl(t)&&!Sa(t).Uo()&&t.Eu.length>0}function Y7(t){Sa(t).start()}async function she(t){Sa(t).hu()}async function ahe(t){const e=Sa(t);for(const o of t.Eu)e.uu(o.mutations)}async function lhe(t,e,o){const s=t.Eu.shift(),c=gE.from(s,e,o);await G7(t,()=>t.remoteSyncer.applySuccessfulWrite(c)),await Y0(t)}async function che(t,e){e&&Sa(t).ou&&await async function(o,s){if(c=s.code,eue(c)&&c!==de.ABORTED){const u=o.Eu.shift();Sa(o).Qo(),await G7(o,()=>o.remoteSyncer.rejectFailedWrite(u.batchId,s)),await Y0(o)}var c}(t,e),K7(t)&&Y7(t)}async function y3(t,e){const o=at(t);o.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const s=Xl(o);o.vu.add(3),await jf(o),s&&o.bu.set("Unknown"),await o.remoteSyncer.handleCredentialChange(e),o.vu.delete(3),await K0(o)}async function dhe(t,e){const o=at(t);e?(o.vu.delete(2),await K0(o)):e||(o.vu.add(2),await jf(o),o.bu.set("Unknown"))}function du(t){return t.Su||(t.Su=function(e,o,s){const c=at(e);return c.fu(),new Que(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(t.datastore,t.asyncQueue,{uo:the.bind(null,t),ao:nhe.bind(null,t),nu:ohe.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),AE(t)?CE(t):t.bu.set("Unknown")):(await t.Su.stop(),q7(t))})),t.Su}function Sa(t){return t.Du||(t.Du=function(e,o,s){const c=at(e);return c.fu(),new Zue(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(t.datastore,t.asyncQueue,{uo:she.bind(null,t),ao:che.bind(null,t),au:ahe.bind(null,t),cu:lhe.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Y0(t)):(await t.Du.stop(),t.Eu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,o,s,c,u){this.asyncQueue=e,this.timerId=o,this.targetTimeMs=s,this.op=c,this.removalCallback=u,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,o,s,c,u){const p=Date.now()+s,m=new xE(e,o,p,c,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function EE(t,e){if(Ss("AsyncQueue",`${e}: ${t}`),Of(t))return new Se(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this.comparator=e?(o,s)=>e(o,s)||je.comparator(o.key,s.key):(o,s)=>je.comparator(o.key,s.key),this.keyedMap=Vh(),this.sortedSet=new fn(this.comparator)}static emptySet(e){return new Cd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const o=this.keyedMap.get(e);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((o,s)=>(e(o),!1))}add(e){const o=this.delete(e.key);return o.copy(o.keyedMap.insert(e.key,e),o.sortedSet.insert(e,null))}delete(e){const o=this.get(e);return o?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(o)):this}isEqual(e){if(!(e instanceof Cd)||this.size!==e.size)return!1;const o=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;o.hasNext();){const c=o.getNext().key,u=s.getNext().key;if(!c.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(o=>{e.push(o.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,o){const s=new Cd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=o,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.Cu=new fn(je.comparator)}track(e){const o=e.doc.key,s=this.Cu.get(o);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(o,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(o,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(o,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(o,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(o):e.type===1&&s.type===2?this.Cu=this.Cu.insert(o,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(o,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(o,e)}xu(){const e=[];return this.Cu.inorderTraversal((o,s)=>{e.push(s)}),e}}class Vd{constructor(e,o,s,c,u,p,m,g,w){this.query=e,this.docs=o,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=u,this.fromCache=p,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=w}static fromInitialDocuments(e,o,s,c,u){const p=[];return o.forEach(m=>{p.push({type:0,doc:m})}),new Vd(e,o,Cd.emptySet(o),p,s,c,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const o=this.docChanges,s=e.docChanges;if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++)if(o[c].type!==s[c].type||!o[c].doc.isEqual(s[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(){this.Nu=void 0,this.listeners=[]}}class hhe{constructor(){this.queries=new cu(e=>k7(e),V0),this.onlineState="Unknown",this.ku=new Set}}async function SE(t,e){const o=at(t),s=e.query;let c=!1,u=o.queries.get(s);if(u||(c=!0,u=new uhe),c)try{u.Nu=await o.onListen(s)}catch(p){const m=EE(p,`Initialization of query '${JA(e.query)}' failed`);return void e.onError(m)}o.queries.set(s,u),u.listeners.push(e),e.Mu(o.onlineState),u.Nu&&e.$u(u.Nu)&&IE(o)}async function TE(t,e){const o=at(t),s=e.query;let c=!1;const u=o.queries.get(s);if(u){const p=u.listeners.indexOf(e);p>=0&&(u.listeners.splice(p,1),c=u.listeners.length===0)}if(c)return o.queries.delete(s),o.onUnlisten(s)}function phe(t,e){const o=at(t);let s=!1;for(const c of e){const u=c.query,p=o.queries.get(u);if(p){for(const m of p.listeners)m.$u(c)&&(s=!0);p.Nu=c}}s&&IE(o)}function fhe(t,e,o){const s=at(t),c=s.queries.get(e);if(c)for(const u of c.listeners)u.onError(o);s.queries.delete(e)}function IE(t){t.ku.forEach(e=>{e.next()})}class DE{constructor(e,o,s){this.query=e,this.Ou=o,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)c.type!==3&&s.push(c);e=new Vd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let o=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),o=!0):this.qu(e,this.onlineState)&&(this.Uu(e),o=!0),this.Bu=e,o}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let o=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),o=!0),o}qu(e,o){if(!e.fromCache)return!0;const s=o!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||o==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const o=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!o)&&this.options.includeMetadataChanges===!0}Uu(e){e=Vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.key=e}}class Z7{constructor(e){this.key=e}}class ghe{constructor(e,o){this.query=e,this.Yu=o,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=mt(),this.mutatedKeys=mt(),this.tc=b7(e),this.ec=new Cd(this.tc)}get nc(){return this.Yu}sc(e,o){const s=o?o.ic:new _3,c=o?o.ec:this.ec;let u=o?o.mutatedKeys:this.mutatedKeys,p=c,m=!1;const g=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,w=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((_,C)=>{const y=c.get(_),x=U0(this.query,C)?C:null,S=!!y&&this.mutatedKeys.has(y.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;y&&x?y.data.isEqual(x.data)?S!==T&&(s.track({type:3,doc:x}),R=!0):this.rc(y,x)||(s.track({type:2,doc:x}),R=!0,(g&&this.tc(x,g)>0||w&&this.tc(x,w)<0)&&(m=!0)):!y&&x?(s.track({type:0,doc:x}),R=!0):y&&!x&&(s.track({type:1,doc:y}),R=!0,(g||w)&&(m=!0)),R&&(x?(p=p.add(x),u=T?u.add(_):u.delete(_)):(p=p.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const _=this.query.limitType==="F"?p.last():p.first();p=p.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{ec:p,ic:s,zi:m,mutatedKeys:u}}rc(e,o){return e.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(e,o,s){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((w,_)=>function(C,y){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return x(C)-x(y)}(w.type,_.type)||this.tc(w.doc,_.doc)),this.oc(s);const p=o?this.uc():[],m=this.Zu.size===0&&this.current?1:0,g=m!==this.Xu;return this.Xu=m,u.length!==0||g?{snapshot:new Vd(this.query,e.ec,c,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(o=>this.Yu=this.Yu.add(o)),e.modifiedDocuments.forEach(o=>{}),e.removedDocuments.forEach(o=>this.Yu=this.Yu.delete(o)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=mt(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const o=[];return e.forEach(s=>{this.Zu.has(s)||o.push(new Z7(s))}),this.Zu.forEach(s=>{e.has(s)||o.push(new Q7(s))}),o}hc(e){this.Yu=e.ir,this.Zu=mt();const o=this.sc(e.documents);return this.applyChanges(o,!0)}lc(){return Vd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class mhe{constructor(e,o,s){this.query=e,this.targetId=o,this.view=s}}class khe{constructor(e){this.key=e,this.fc=!1}}class bhe{constructor(e,o,s,c,u,p){this.localStore=e,this.remoteStore=o,this.eventManager=s,this.sharedClientState=c,this.currentUser=u,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new cu(m=>k7(m),V0),this._c=new Map,this.mc=new Set,this.gc=new fn(je.comparator),this.yc=new Map,this.Ic=new wE,this.Tc={},this.Ec=new Map,this.Ac=$d.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function whe(t,e){const o=Ihe(t);let s,c;const u=o.wc.get(e);if(u)s=u.targetId,o.sharedClientState.addLocalQueryTarget(s),c=u.view.lc();else{const p=await Uue(o.localStore,Ts(e)),m=o.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,c=await vhe(o,e,s,m==="current",p.resumeToken),o.isPrimaryClient&&U7(o.remoteStore,p)}return c}async function vhe(t,e,o,s,c){t.Rc=(C,y,x)=>async function(S,T,R,D){let N=T.view.sc(R);N.zi&&(N=await b3(S.localStore,T.query,!1).then(({documents:$})=>T.view.sc($,N)));const O=D&&D.targetChanges.get(T.targetId),j=T.view.applyChanges(N,S.isPrimaryClient,O);return A3(S,T.targetId,j.cc),j.snapshot}(t,C,y,x);const u=await b3(t.localStore,e,!0),p=new ghe(e,u.ir),m=p.sc(u.documents),g=Lf.createSynthesizedTargetChangeForCurrentChange(o,s&&t.onlineState!=="Offline",c),w=p.applyChanges(m,t.isPrimaryClient,g);A3(t,o,w.cc);const _=new mhe(e,o,p);return t.wc.set(e,_),t._c.has(o)?t._c.get(o).push(e):t._c.set(o,[e]),w.snapshot}async function yhe(t,e){const o=at(t),s=o.wc.get(e),c=o._c.get(s.targetId);if(c.length>1)return o._c.set(s.targetId,c.filter(u=>!V0(u,e))),void o.wc.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await o1(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),H7(o.remoteStore,s.targetId),r1(o,s.targetId)}).catch(Rf)):(r1(o,s.targetId),await o1(o.localStore,s.targetId,!0))}async function _he(t,e,o){const s=Dhe(t);try{const c=await function(u,p){const m=at(u),g=Un.now(),w=p.reduce((y,x)=>y.add(x.key),mt());let _,C;return m.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Is(),S=mt();return m.Zi.getEntries(y,w).next(T=>{x=T,x.forEach((R,D)=>{D.isValidDocument()||(S=S.add(R))})}).next(()=>m.localDocuments.getOverlayedDocuments(y,x)).next(T=>{_=T;const R=[];for(const D of p){const N=Yde(D,_.get(D.key).overlayedDocument);N!=null&&R.push(new Ba(D.key,N,c7(N.value.mapValue),Fr.exists(!0)))}return m.mutationQueue.addMutationBatch(y,g,R,p)}).next(T=>{C=T;const R=T.applyToLocalDocumentSet(_,S);return m.documentOverlayCache.saveOverlays(y,T.batchId,R)})}).then(()=>({batchId:C.batchId,changes:v7(_)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(u,p,m){let g=u.Tc[u.currentUser.toKey()];g||(g=new fn(Pt)),g=g.insert(p,m),u.Tc[u.currentUser.toKey()]=g}(s,c.batchId,o),await zf(s,c.changes),await Y0(s.remoteStore)}catch(c){const u=EE(c,"Failed to persist write");o.reject(u)}}async function J7(t,e){const o=at(t);try{const s=await Fue(o.localStore,e);e.targetChanges.forEach((c,u)=>{const p=o.yc.get(u);p&&(rn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?p.fc=!0:c.modifiedDocuments.size>0?rn(p.fc):c.removedDocuments.size>0&&(rn(p.fc),p.fc=!1))}),await zf(o,s,e)}catch(s){await Rf(s)}}function C3(t,e,o){const s=at(t);if(s.isPrimaryClient&&o===0||!s.isPrimaryClient&&o===1){const c=[];s.wc.forEach((u,p)=>{const m=p.view.Mu(e);m.snapshot&&c.push(m.snapshot)}),function(u,p){const m=at(u);m.onlineState=p;let g=!1;m.queries.forEach((w,_)=>{for(const C of _.listeners)C.Mu(p)&&(g=!0)}),g&&IE(m)}(s.eventManager,e),c.length&&s.dc.nu(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Che(t,e,o){const s=at(t);s.sharedClientState.updateQueryState(e,"rejected",o);const c=s.yc.get(e),u=c&&c.key;if(u){let p=new fn(je.comparator);p=p.insert(u,wo.newNoDocument(u,rt.min()));const m=mt().add(u),g=new q0(rt.min(),new Map,new fn(Pt),p,m);await J7(s,g),s.gc=s.gc.remove(u),s.yc.delete(e),ME(s)}else await o1(s.localStore,e,!1).then(()=>r1(s,e,o)).catch(Rf)}async function Ahe(t,e){const o=at(t),s=e.batch.batchId;try{const c=await zue(o.localStore,e);e$(o,s,null),X7(o,s),o.sharedClientState.updateMutationState(s,"acknowledged"),await zf(o,c)}catch(c){await Rf(c)}}async function xhe(t,e,o){const s=at(t);try{const c=await function(u,p){const m=at(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let w;return m.mutationQueue.lookupMutationBatch(g,p).next(_=>(rn(_!==null),w=_.keys(),m.mutationQueue.removeMutationBatch(g,_))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,w,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w)).next(()=>m.localDocuments.getDocuments(g,w))})}(s.localStore,e);e$(s,e,o),X7(s,e),s.sharedClientState.updateMutationState(e,"rejected",o),await zf(s,c)}catch(c){await Rf(c)}}function X7(t,e){(t.Ec.get(e)||[]).forEach(o=>{o.resolve()}),t.Ec.delete(e)}function e$(t,e,o){const s=at(t);let c=s.Tc[s.currentUser.toKey()];if(c){const u=c.get(e);u&&(o?u.reject(o):u.resolve(),c=c.remove(e)),s.Tc[s.currentUser.toKey()]=c}}function r1(t,e,o=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),o&&t.dc.Pc(s,o);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||t$(t,s)})}function t$(t,e){t.mc.delete(e.path.canonicalString());const o=t.gc.get(e);o!==null&&(H7(t.remoteStore,o),t.gc=t.gc.remove(e),t.yc.delete(o),ME(t))}function A3(t,e,o){for(const s of o)s instanceof Q7?(t.Ic.addReference(s.key,e),Ehe(t,s)):s instanceof Z7?(Ne("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||t$(t,s.key)):Xe()}function Ehe(t,e){const o=e.key,s=o.path.canonicalString();t.gc.get(o)||t.mc.has(s)||(Ne("SyncEngine","New document in limbo: "+o),t.mc.add(s),ME(t))}function ME(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const o=new je(nn.fromString(e)),s=t.Ac.next();t.yc.set(s,new khe(o)),t.gc=t.gc.insert(o,s),U7(t.remoteStore,new ca(Ts(F0(o.path)),s,"TargetPurposeLimboResolution",aE.ct))}}async function zf(t,e,o){const s=at(t),c=[],u=[],p=[];s.wc.isEmpty()||(s.wc.forEach((m,g)=>{p.push(s.Rc(g,e,o).then(w=>{if((w||o)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(g.targetId,w!=null&&w.fromCache?"not-current":"current"),w){c.push(w);const _=yE.Li(g.targetId,w);u.push(_)}}))}),await Promise.all(p),s.dc.nu(c),await async function(m,g){const w=at(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>me.forEach(g,C=>me.forEach(C.Fi,y=>w.persistence.referenceDelegate.addReference(_,C.targetId,y)).next(()=>me.forEach(C.Bi,y=>w.persistence.referenceDelegate.removeReference(_,C.targetId,y)))))}catch(_){if(!Of(_))throw _;Ne("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of g){const C=_.targetId;if(!_.fromCache){const y=w.Ji.get(C),x=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(x);w.Ji=w.Ji.insert(C,S)}}}(s.localStore,u))}async function She(t,e){const o=at(t);if(!o.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const s=await z7(o.localStore,e);o.currentUser=e,function(c,u){c.Ec.forEach(p=>{p.forEach(m=>{m.reject(new Se(de.CANCELLED,u))})}),c.Ec.clear()}(o,"'waitForPendingWrites' promise is rejected due to a user change."),o.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zf(o,s.er)}}function The(t,e){const o=at(t),s=o.yc.get(e);if(s&&s.fc)return mt().add(s.key);{let c=mt();const u=o._c.get(e);if(!u)return c;for(const p of u){const m=o.wc.get(p);c=c.unionWith(m.view.nc)}return c}}function Ihe(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=The.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Che.bind(null,e),e.dc.nu=phe.bind(null,e.eventManager),e.dc.Pc=fhe.bind(null,e.eventManager),e}function Dhe(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ahe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xhe.bind(null,e),e}class x3{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=G0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,o){return null}createIndexBackfillerScheduler(e,o){return null}createLocalStore(e){return jue(this.persistence,new Bue,e.initialUser,this.serializer)}createPersistence(e){return new Rue(vE.zs,this.serializer)}createSharedClientState(e){return new Wue}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mhe{async initialize(e,o){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C3(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=She.bind(null,this.syncEngine),await dhe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hhe}createDatastore(e){const o=G0(e.databaseInfo.databaseId),s=(c=e.databaseInfo,new Yue(c));var c;return function(u,p,m,g){return new Jue(u,p,m,g)}(e.authCredentials,e.appCheckCredentials,s,o)}createRemoteStore(e){return o=this.localStore,s=this.datastore,c=e.asyncQueue,u=m=>C3(this.syncEngine,m,0),p=v3.D()?new v3:new que,new ehe(o,s,c,u,p);var o,s,c,u,p}createSyncEngine(e,o){return function(s,c,u,p,m,g,w){const _=new bhe(s,c,u,p,m,g);return w&&(_.vc=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,o)}terminate(){return async function(e){const o=at(e);Ne("RemoteStore","RemoteStore shutting down."),o.vu.add(5),await jf(o),o.Pu.shutdown(),o.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,o){this.muted||setTimeout(()=>{this.muted||e(o)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(e,o,s,c){this.authCredentials=e,this.appCheckCredentials=o,this.asyncQueue=s,this.databaseInfo=c,this.user=ko.UNAUTHENTICATED,this.clientId=s7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async u=>{Ne("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(Ne("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(o){const s=EE(o,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function dC(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const o=await t.getConfiguration();await e.initialize(o);let s=o.initialUser;t.setCredentialChangeListener(async c=>{s.isEqual(c)||(await z7(e.localStore,c),s=c)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E3(t,e){t.asyncQueue.verifyOperationInProgress();const o=await Rhe(t);Ne("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(o,s),t.setCredentialChangeListener(c=>y3(e.remoteStore,c)),t.setAppCheckTokenChangeListener((c,u)=>y3(e.remoteStore,u)),t._onlineComponents=e}function Nhe(t){return t.name==="FirebaseError"?t.code===de.FAILED_PRECONDITION||t.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Rhe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await dC(t,t._uninitializedComponentsProvider._offline)}catch(e){const o=e;if(!Nhe(o))throw o;Ld("Error using user provided cache. Falling back to memory cache: "+o),await dC(t,new x3)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await dC(t,new x3);return t._offlineComponents}async function n$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await E3(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await E3(t,new Mhe))),t._onlineComponents}function Ohe(t){return n$(t).then(e=>e.syncEngine)}async function Bb(t){const e=await n$(t),o=e.eventManager;return o.onListen=whe.bind(null,e.syncEngine),o.onUnlisten=yhe.bind(null,e.syncEngine),o}function Bhe(t,e,o={}){const s=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(c,u,p,m,g){const w=new PE({next:C=>{u.enqueueAndForget(()=>TE(c,_));const y=C.docs.has(p);!y&&C.fromCache?g.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&C.fromCache&&m&&m.source==="server"?g.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(C)},error:C=>g.reject(C)}),_=new DE(F0(p.path),w,{includeMetadataChanges:!0,Ku:!0});return SE(c,_)}(await Bb(t),t.asyncQueue,e,o,s)),s.promise}function Lhe(t,e,o={}){const s=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(c,u,p,m,g){const w=new PE({next:C=>{u.enqueueAndForget(()=>TE(c,_)),C.fromCache&&m.source==="server"?g.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),_=new DE(p,w,{includeMetadataChanges:!0,Ku:!0});return SE(c,_)}(await Bb(t),t.asyncQueue,e,o,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t,e,o){if(!o)throw new Se(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jhe(t,e,o,s){if(e===!0&&s===!0)throw new Se(de.INVALID_ARGUMENT,`${t} and ${o} cannot be used together.`)}function T3(t){if(!je.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I3(t){if(je.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Q0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function Yo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Q0(t);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${o}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){var o,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(o=e.ssl)===null||o===void 0||o;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jhe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o$((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(o=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,o.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var o,s}}class Z0{constructor(e,o,s,c){this._authCredentials=e,this._appCheckCredentials=o,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D3(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new sde;switch(o.type){case"firstParty":return new dde(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Se(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const o=S3.get(e);o&&(Ne("ComponentProvider","Removing Datastore"),S3.delete(e),o.terminate())}(this),Promise.resolve()}}function zhe(t,e,o,s={}){var c;const u=(t=Yo(t,Z0))._getSettings(),p=`${e}:${o}`;if(u.host!=="firestore.googleapis.com"&&u.host!==p&&Ld("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},u),{host:p,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=ko.MOCK_USER;else{m=kF(s.mockUserToken,(c=t._app)===null||c===void 0?void 0:c.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ko(w)}t._authCredentials=new ade(new i7(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,o,s){this.converter=o,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ao(this.firestore,e,this._key)}}class La{constructor(e,o,s){this.converter=o,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class ya extends La{constructor(e,o,s){super(e,o,F0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ao(this.firestore,null,new je(e))}withConverter(e){return new ya(this.firestore,e,this._path)}}function NE(t,e,...o){if(t=sn(t),r$("collection","path",e),t instanceof Z0){const s=nn.fromString(e,...o);return I3(s),new ya(t,null,s)}{if(!(t instanceof Ao||t instanceof ya))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(nn.fromString(e,...o));return I3(s),new ya(t.firestore,null,s)}}function Ds(t,e,...o){if(t=sn(t),arguments.length===1&&(e=s7.A()),r$("doc","path",e),t instanceof Z0){const s=nn.fromString(e,...o);return T3(s),new Ao(t,null,new je(s))}{if(!(t instanceof Ao||t instanceof ya))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(nn.fromString(e,...o));return T3(s),new Ao(t.firestore,t instanceof ya?t.converter:null,new je(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fhe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $7(this,"async_queue_retry"),this.Xc=()=>{const o=cC();o&&Ne("AsyncQueue","Visibility state changed to "+o.visibilityState),this.qo.Mo()};const e=cC();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const o=cC();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const o=new ws;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Of(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const o=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const c=function(u){let p=u.message||"";return u.stack&&(p=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),p}(s);throw Ss("INTERNAL UNHANDLED ERROR: ",c),s}).then(s=>(this.Hc=!1,s))));return this.Gc=o,o}enqueueAfterDelay(e,o,s){this.Zc(),this.Yc.indexOf(e)>-1&&(o=0);const c=xE.createAndSchedule(this,e,o,s,u=>this.na(u));return this.zc.push(c),c}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const o of this.zc)if(o.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((o,s)=>o.targetTimeMs-s.targetTimeMs);for(const o of this.zc)if(o.skipDelay(),e!=="all"&&o.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const o=this.zc.indexOf(e);this.zc.splice(o,1)}}function M3(t){return function(e,o){if(typeof e!="object"||e===null)return!1;const s=e;for(const c of o)if(c in s&&typeof s[c]=="function")return!0;return!1}(t,["next","error","complete"])}class Ms extends Z0{constructor(e,o,s,c){super(e,o,s,c),this.type="firestore",this._queue=new Fhe,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||i$(this),this._firestoreClient.terminate()}}function Os(t,e){const o=typeof t=="object"?t:Dx(),s=typeof t=="string"?t:"(default)",c=b0(o,"firestore").getImmediate({identifier:s});if(!c._initialized){const u=fF("firestore");u&&zhe(c,...u)}return c}function J0(t){return t._firestoreClient||i$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function i$(t){var e,o,s;const c=t._freezeSettings(),u=function(p,m,g,w){return new _de(p,m,g,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,o$(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,c);t._firestoreClient=new Phe(t._authCredentials,t._appCheckCredentials,t._queue,u),!((o=c.cache)===null||o===void 0)&&o._offlineComponentProvider&&(!((s=c.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ud(So.fromBase64String(e))}catch(o){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(e){return new Ud(So.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(...e){for(let o=0;o<e.length;++o)if(e[o].length===0)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,o){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(o)||o<-180||o>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=e,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he=/^__.*__$/;class Vhe{constructor(e,o,s){this.data=e,this.fieldMask=o,this.fieldTransforms=s}toMutation(e,o){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,o,this.fieldTransforms):new Bf(e,this.data,o,this.fieldTransforms)}}class s${constructor(e,o,s){this.data=e,this.fieldMask=o,this.fieldTransforms=s}toMutation(e,o){return new Ba(e,this.data,this.fieldMask,o,this.fieldTransforms)}}function a$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class OE{constructor(e,o,s,c,u,p){this.settings=e,this.databaseId=o,this.serializer=s,this.ignoreUndefinedProperties=c,u===void 0&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new OE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var o;const s=(o=this.path)===null||o===void 0?void 0:o.child(e),c=this.aa({path:s,la:!1});return c.fa(e),c}da(e){var o;const s=(o=this.path)===null||o===void 0?void 0:o.child(e),c=this.aa({path:s,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Lb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(o=>e.isPrefixOf(o))!==void 0||this.fieldTransforms.find(o=>e.isPrefixOf(o.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(a$(this.ca)&&$he.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Uhe{constructor(e,o,s){this.databaseId=e,this.ignoreUndefinedProperties=o,this.serializer=s||G0(e)}ya(e,o,s,c=!1){return new OE({ca:e,methodName:o,ga:s,path:vo.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tw(t){const e=t._freezeSettings(),o=G0(t._databaseId);return new Uhe(t._databaseId,!!e.ignoreUndefinedProperties,o)}function l$(t,e,o,s,c,u={}){const p=t.ya(u.merge||u.mergeFields?2:0,e,o,c);LE("Data must be an object, but it was:",p,s);const m=c$(s,p);let g,w;if(u.merge)g=new pr(p.fieldMask),w=p.fieldTransforms;else if(u.mergeFields){const _=[];for(const C of u.mergeFields){const y=i1(e,C,o);if(!p.contains(y))throw new Se(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);u$(_,y)||_.push(y)}g=new pr(_),w=p.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,w=p.fieldTransforms;return new Vhe(new Ho(m),g,w)}class nw extends ew{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nw}}class BE extends ew{_toFieldTransform(e){return new Wde(e.path,new Jp)}isEqual(e){return e instanceof BE}}function Hhe(t,e,o,s){const c=t.ya(1,e,o);LE("Data must be an object, but it was:",c,s);const u=[],p=Ho.empty();Jl(s,(g,w)=>{const _=jE(e,g,o);w=sn(w);const C=c.da(_);if(w instanceof nw)u.push(_);else{const y=Ff(w,C);y!=null&&(u.push(_),p.set(_,y))}});const m=new pr(u);return new s$(p,m,c.fieldTransforms)}function Whe(t,e,o,s,c,u){const p=t.ya(1,e,o),m=[i1(e,s,o)],g=[c];if(u.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<u.length;y+=2)m.push(i1(e,u[y])),g.push(u[y+1]);const w=[],_=Ho.empty();for(let y=m.length-1;y>=0;--y)if(!u$(w,m[y])){const x=m[y];let S=g[y];S=sn(S);const T=p.da(x);if(S instanceof nw)w.push(x);else{const R=Ff(S,T);R!=null&&(w.push(x),_.set(x,R))}}const C=new pr(w);return new s$(_,C,p.fieldTransforms)}function qhe(t,e,o,s=!1){return Ff(o,t.ya(s?4:3,e))}function Ff(t,e){if(d$(t=sn(t)))return LE("Unsupported field value:",e,t),c$(t,e);if(t instanceof ew)return function(o,s){if(!a$(s.ca))throw s._a(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(o,s){const c=[];let u=0;for(const p of o){let m=Ff(p,s.wa(u));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),u++}return{arrayValue:{values:c}}}(t,e)}return function(o,s){if((o=sn(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return Vde(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const c=Un.fromDate(o);return{timestampValue:Rb(s.serializer,c)}}if(o instanceof Un){const c=new Un(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Rb(s.serializer,c)}}if(o instanceof RE)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Ud)return{bytesValue:N7(s.serializer,o._byteString)};if(o instanceof Ao){const c=s.databaseId,u=o.firestore._databaseId;if(!u.isEqual(c))throw s._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:bE(o.firestore._databaseId||s.databaseId,o._key.path)}}throw s._a(`Unsupported field value: ${Q0(o)}`)}(t,e)}function c$(t,e){const o={};return a7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jl(t,(s,c)=>{const u=Ff(c,e.ha(s));u!=null&&(o[s]=u)}),{mapValue:{fields:o}}}function d$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Un||t instanceof RE||t instanceof Ud||t instanceof Ao||t instanceof ew)}function LE(t,e,o){if(!d$(o)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(o)){const s=Q0(o);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function i1(t,e,o){if((e=sn(e))instanceof X0)return e._internalPath;if(typeof e=="string")return jE(t,e);throw Lb("Field path arguments must be of type string or ",t,!1,void 0,o)}const Ghe=new RegExp("[~\\*/\\[\\]]");function jE(t,e,o){if(e.search(Ghe)>=0)throw Lb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,o);try{return new X0(...e.split("."))._internalPath}catch{throw Lb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,o)}}function Lb(t,e,o,s,c){const u=s&&!s.isEmpty(),p=c!==void 0;let m=`Function ${e}() called with invalid data`;o&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||p)&&(g+=" (found",u&&(g+=` in field ${s}`),p&&(g+=` in document ${c}`),g+=")"),new Se(de.INVALID_ARGUMENT,m+t+g)}function u$(t,e){return t.some(o=>o.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,o,s,c,u){this._firestore=e,this._userDataWriter=o,this._key=s,this._document=c,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ao(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Khe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const o=this._document.data.field(ow("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o)}}}class Khe extends h${data(){return super.data()}}function ow(t,e){return typeof e=="string"?jE(t,e):e instanceof X0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zE{}class f$ extends zE{}function Yhe(t,e,...o){let s=[];e instanceof zE&&s.push(e),s=s.concat(o),function(c){const u=c.filter(m=>m instanceof FE).length,p=c.filter(m=>m instanceof rw).length;if(u>1||u>0&&p>0)throw new Se(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)t=c._apply(t);return t}class rw extends f${constructor(e,o,s){super(),this._field=e,this._op=o,this._value=s,this.type="where"}static _create(e,o,s){return new rw(e,o,s)}_apply(e){const o=this._parse(e);return g$(e._query,o),new La(e.firestore,e.converter,QA(e._query,o))}_parse(e){const o=tw(e.firestore);return function(c,u,p,m,g,w,_){let C;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){N3(_,w);const y=[];for(const x of _)y.push(P3(m,c,x));C={arrayValue:{values:y}}}else C=P3(m,c,_)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||N3(_,w),C=qhe(p,u,_,w==="in"||w==="not-in");return On.create(g,w,C)}(e._query,"where",o,e.firestore._databaseId,this._field,this._op,this._value)}}function DTe(t,e,o){const s=e,c=ow("where",t);return rw._create(c,s,o)}class FE extends zE{constructor(e,o){super(),this.type=e,this._queryConstraints=o}static _create(e,o){return new FE(e,o)}_parse(e){const o=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return o.length===1?o[0]:mi.create(o,this._getOperator())}_apply(e){const o=this._parse(e);return o.getFilters().length===0?e:(function(s,c){let u=s;const p=c.getFlattenedFilters();for(const m of p)g$(u,m),u=QA(u,m)}(e._query,o),new La(e.firestore,e.converter,QA(e._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $E extends f${constructor(e,o){super(),this._field=e,this._direction=o,this.type="orderBy"}static _create(e,o){return new $E(e,o)}_apply(e){const o=function(s,c,u){if(s.startAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new yd(c,u);return function(m,g){if(pE(m)===null){const w=$0(m);w!==null&&m$(m,w,g.field)}}(s,p),p}(e._query,this._field,this._direction);return new La(e.firestore,e.converter,function(s,c){const u=s.explicitOrderBy.concat([c]);return new lu(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,o))}}function Qhe(t,e="asc"){const o=e,s=ow("orderBy",t);return $E._create(s,o)}function P3(t,e,o){if(typeof(o=sn(o))=="string"){if(o==="")throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m7(e)&&o.indexOf("/")!==-1)throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const s=e.path.child(nn.fromString(o));if(!je.isDocumentKey(s))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return t3(t,new je(s))}if(o instanceof Ao)return t3(t,o._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Q0(o)}.`)}function N3(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g$(t,e){if(e.isInequality()){const s=$0(t),c=e.field;if(s!==null&&!s.isEqual(c))throw new Se(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const u=pE(t);u!==null&&m$(t,c,u)}const o=function(s,c){for(const u of s)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(o!==null)throw o===e.op?new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${o.toString()}' filters.`)}function m$(t,e,o){if(!o.isEqual(e))throw new Se(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class Zhe{convertValue(e,o="none"){switch(Vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,o);case 5:return e.stringValue;case 6:return this.convertBytes($l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,o);case 10:return this.convertObject(e.mapValue,o);default:throw Xe()}}convertObject(e,o){return this.convertObjectMap(e.fields,o)}convertObjectMap(e,o="none"){const s={};return Jl(e,(c,u)=>{s[c]=this.convertValue(u,o)}),s}convertGeoPoint(e){return new RE(Pn(e.latitude),Pn(e.longitude))}convertArray(e,o){return(e.values||[]).map(s=>this.convertValue(s,o))}convertServerTimestamp(e,o){switch(o){case"previous":const s=cE(e);return s==null?null:this.convertValue(s,o);case"estimate":return this.convertTimestamp(Yp(e));default:return null}}convertTimestamp(e){const o=Ea(e);return new Un(o.seconds,o.nanos)}convertDocumentKey(e,o){const s=nn.fromString(e);rn(j7(s));const c=new Qp(s.get(1),s.get(3)),u=new je(s.popFirst(5));return c.isEqual(o)||Ss(`Document ${u} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t,e,o){let s;return s=t?o&&(o.merge||o.mergeFields)?t.toFirestore(e,o):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,o){this.hasPendingWrites=e,this.fromCache=o}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b$ extends h${constructor(e,o,s,c,u,p){super(e,o,s,c,p),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const o=new Nk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,o={}){if(this._document){const s=this._document.data.field(ow("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,o.serverTimestamps)}}}class Nk extends b${data(e={}){return super.data(e)}}class w${constructor(e,o,s,c){this._firestore=e,this._userDataWriter=o,this._snapshot=c,this.metadata=new Hh(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(o=>e.push(o)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,o){this._snapshot.docs.forEach(s=>{e.call(o,new Nk(this._firestore,this._userDataWriter,s.key,s,new Hh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const o=!!e.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(p=>{const m=new Nk(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Hh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const m=new Nk(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Hh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,w=-1;return p.type!==0&&(g=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),w=u.indexOf(p.doc.key)),{type:Jhe(p.type),doc:m,oldIndex:g,newIndex:w}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function Jhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){t=Yo(t,Ao);const e=Yo(t.firestore,Ms);return Bhe(J0(e),t._key).then(o=>y$(e,t,o))}class VE extends Zhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ud(e)}convertReference(e){const o=this.convertDocumentKey(e,this.firestore._databaseId);return new Ao(this.firestore,null,o)}}function Xhe(t){t=Yo(t,La);const e=Yo(t.firestore,Ms),o=J0(e),s=new VE(e);return p$(t._query),Lhe(o,t._query).then(c=>new w$(e,s,t,c))}function epe(t,e,o){t=Yo(t,Ao);const s=Yo(t.firestore,Ms),c=k$(t.converter,e,o);return aw(s,[l$(tw(s),"setDoc",t._key,c,t.converter!==null,o).toMutation(t._key,Fr.none())])}function sw(t,e,o,...s){t=Yo(t,Ao);const c=Yo(t.firestore,Ms),u=tw(c);let p;return p=typeof(e=sn(e))=="string"||e instanceof X0?Whe(u,"updateDoc",t._key,e,o,s):Hhe(u,"updateDoc",t._key,e),aw(c,[p.toMutation(t._key,Fr.exists(!0))])}function tpe(t){return aw(Yo(t.firestore,Ms),[new fE(t._key,Fr.none())])}function v$(t,e){const o=Yo(t.firestore,Ms),s=Ds(t),c=k$(t.converter,e);return aw(o,[l$(tw(t.firestore),"addDoc",s._key,c,t.converter!==null,{}).toMutation(s._key,Fr.exists(!1))]).then(()=>s)}function MTe(t,...e){var o,s,c;t=sn(t);let u={includeMetadataChanges:!1},p=0;typeof e[p]!="object"||M3(e[p])||(u=e[p],p++);const m={includeMetadataChanges:u.includeMetadataChanges};if(M3(e[p])){const C=e[p];e[p]=(o=C.next)===null||o===void 0?void 0:o.bind(C),e[p+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),e[p+2]=(c=C.complete)===null||c===void 0?void 0:c.bind(C)}let g,w,_;if(t instanceof Ao)w=Yo(t.firestore,Ms),_=F0(t._key.path),g={next:C=>{e[p]&&e[p](y$(w,t,C))},error:e[p+1],complete:e[p+2]};else{const C=Yo(t,La);w=Yo(C.firestore,Ms),_=C._query;const y=new VE(w);g={next:x=>{e[p]&&e[p](new w$(w,y,C,x))},error:e[p+1],complete:e[p+2]},p$(t._query)}return function(C,y,x,S){const T=new PE(S),R=new DE(y,T,x);return C.asyncQueue.enqueueAndForget(async()=>SE(await Bb(C),R)),()=>{T.Dc(),C.asyncQueue.enqueueAndForget(async()=>TE(await Bb(C),R))}}(J0(w),_,m,g)}function aw(t,e){return function(o,s){const c=new ws;return o.asyncQueue.enqueueAndForget(async()=>_he(await Ohe(o),s,c)),c.promise}(J0(t),e)}function y$(t,e,o){const s=o.docs.get(e._key),c=new VE(t);return new b$(t,c,e._key,s,new Hh(o.hasPendingWrites,o.fromCache),e.converter)}function ap(){return new BE("serverTimestamp")}(function(t,e=!0){(function(o){au=o})(Ql),jl(new Aa("firestore",(o,{instanceIdentifier:s,options:c})=>{const u=o.getProvider("app").getImmediate(),p=new Ms(new lde(o.getProvider("auth-internal")),new hde(o.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qp(m.options.projectId,g)}(u,s),u);return c=Object.assign({useFetchStreams:e},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Li(QB,"3.13.0",t),Li(QB,"3.13.0","esm2017")})();var npe="firebase",ope="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(npe,ope,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="firebasestorage.googleapis.com",C$="storageBucket",rpe=2*60*1e3,ipe=10*60*1e3,spe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends Gi{constructor(e,o,s=0){super(uC(e),`Firebase Storage: ${o} (${uC(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var an;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(an||(an={}));function uC(t){return"storage/"+t}function UE(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(an.UNKNOWN,t)}function ape(t){return new mn(an.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lpe(t){return new mn(an.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cpe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(an.UNAUTHENTICATED,t)}function dpe(){return new mn(an.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function upe(t){return new mn(an.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A$(){return new mn(an.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x$(){return new mn(an.CANCELED,"User canceled the upload/download.")}function hpe(t){return new mn(an.INVALID_URL,"Invalid URL '"+t+"'.")}function ppe(t){return new mn(an.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fpe(){return new mn(an.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+C$+"' property when initializing the app?")}function E$(){return new mn(an.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gpe(){return new mn(an.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function mpe(){return new mn(an.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kpe(t){return new mn(an.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function s1(t){return new mn(an.INVALID_ARGUMENT,t)}function S$(){return new mn(an.APP_DELETED,"The Firebase app was deleted.")}function bpe(t){return new mn(an.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lp(t,e){return new mn(an.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ah(t){throw new mn(an.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,o){this.bucket=e,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,o){let s;try{s=fr.makeFromUrl(e,o)}catch{return new fr(e,"")}if(s.path==="")return s;throw ppe(e)}static makeFromUrl(e,o){let s=null;const c="([A-Za-z0-9.\\-_]+)";function u(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const p="(/(.*))?$",m=new RegExp("^gs://"+c+p,"i"),g={bucket:1,path:3};function w(j){j.path_=decodeURIComponent(j.path)}const _="v[A-Za-z0-9_]+",C=o.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${C}/${_}/b/${c}/o${y}`,"i"),S={bucket:1,path:3},T=o===_$?"(?:storage.googleapis.com|storage.cloud.google.com)":o,R="([^?#]*)",D=new RegExp(`^https?://${T}/${c}/${R}`,"i"),O=[{regex:m,indices:g,postModify:u},{regex:x,indices:S,postModify:w},{regex:D,indices:{bucket:1,path:2},postModify:w}];for(let j=0;j<O.length;j++){const $=O[j],H=$.regex.exec(e);if(H){const M=H[$.indices.bucket];let U=H[$.indices.path];U||(U=""),s=new fr(M,U),$.postModify(s);break}}if(s==null)throw hpe(e);return s}}class wpe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vpe(t,e,o){let s=1,c=null,u=null,p=!1,m=0;function g(){return m===2}let w=!1;function _(...R){w||(w=!0,e.apply(null,R))}function C(R){c=setTimeout(()=>{c=null,t(x,g())},R)}function y(){u&&clearTimeout(u)}function x(R,...D){if(w){y();return}if(R){y(),_.call(null,R,...D);return}if(g()||p){y(),_.call(null,R,...D);return}s<64&&(s*=2);let O;m===1?(m=2,O=0):O=(s+Math.random())*1e3,C(O)}let S=!1;function T(R){S||(S=!0,y(),!w&&(c!==null?(R||(m=2),clearTimeout(c),C(0)):R||(m=1)))}return C(0),u=setTimeout(()=>{p=!0,T(!0)},o),T}function ype(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _pe(t){return t!==void 0}function Cpe(t){return typeof t=="function"}function Ape(t){return typeof t=="object"&&!Array.isArray(t)}function lw(t){return typeof t=="string"||t instanceof String}function R3(t){return HE()&&t instanceof Blob}function HE(){return typeof Blob<"u"&&!Rie()}function O3(t,e,o,s){if(s<e)throw s1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>o)throw s1(`Invalid value for '${t}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t,e,o){let s=e;return o==null&&(s=`https://${e}`),`${o}://${s}/v0${t}`}function T$(t){const e=encodeURIComponent;let o="?";for(const s in t)if(t.hasOwnProperty(s)){const c=e(s)+"="+e(t[s]);o=o+c+"&"}return o=o.slice(0,-1),o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dl||(Dl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t,e){const o=t>=500&&t<600,c=[408,429].indexOf(t)!==-1,u=e.indexOf(t)!==-1;return o||c||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xpe{constructor(e,o,s,c,u,p,m,g,w,_,C,y=!0){this.url_=e,this.method_=o,this.headers_=s,this.body_=c,this.successCodes_=u,this.additionalRetryCodes_=p,this.callback_=m,this.errorCallback_=g,this.timeout_=w,this.progressCallback_=_,this.connectionFactory_=C,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,S)=>{this.resolve_=x,this.reject_=S,this.start_()})}start_(){const e=(s,c)=>{if(c){s(!1,new ok(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const p=m=>{const g=m.loaded,w=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,w)};this.progressCallback_!==null&&u.addUploadProgressListener(p),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(p),this.pendingConnection_=null;const m=u.getErrorCode()===Dl.NO_ERROR,g=u.getStatus();if(!m||I$(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Dl.ABORT;s(!1,new ok(!1,null,_));return}const w=this.successCodes_.indexOf(g)!==-1;s(!0,new ok(w,u))})},o=(s,c)=>{const u=this.resolve_,p=this.reject_,m=c.connection;if(c.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());_pe(g)?u(g):u()}catch(g){p(g)}else if(m!==null){const g=UE();g.serverResponse=m.getErrorText(),this.errorCallback_?p(this.errorCallback_(m,g)):p(g)}else if(c.canceled){const g=this.appDelete_?S$():x$();p(g)}else{const g=A$();p(g)}};this.canceled_?o(!1,new ok(!1,null,!0)):this.backoffId_=vpe(e,o,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ype(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ok{constructor(e,o,s){this.wasSuccessCode=e,this.connection=o,this.canceled=!!s}}function Epe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Spe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Tpe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ipe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Dpe(t,e,o,s,c,u,p=!0){const m=T$(t.urlParams),g=t.url+m,w=Object.assign({},t.headers);return Tpe(w,e),Epe(w,o),Spe(w,u),Ipe(w,s),new xpe(g,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,c,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mpe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ppe(...t){const e=Mpe();if(e!==void 0){const o=new e;for(let s=0;s<t.length;s++)o.append(t[s]);return o.getBlob()}else{if(HE())return new Blob(t);throw new mn(an.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Npe(t,e,o){return t.webkitSlice?t.webkitSlice(e,o):t.mozSlice?t.mozSlice(e,o):t.slice?t.slice(e,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rpe(t){if(typeof atob>"u")throw kpe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hC{constructor(e,o){this.data=e,this.contentType=o||null}}function Ope(t,e){switch(t){case Ri.RAW:return new hC(D$(e));case Ri.BASE64:case Ri.BASE64URL:return new hC(M$(t,e));case Ri.DATA_URL:return new hC(Lpe(e),jpe(e))}throw UE()}function D$(t){const e=[];for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(o<t.length-1&&(t.charCodeAt(o+1)&64512)===56320))e.push(239,191,189);else{const u=s,p=t.charCodeAt(++o);s=65536|(u&1023)<<10|p&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Bpe(t){let e;try{e=decodeURIComponent(t)}catch{throw lp(Ri.DATA_URL,"Malformed data URL.")}return D$(e)}function M$(t,e){switch(t){case Ri.BASE64:{const c=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(c||u)throw lp(t,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case Ri.BASE64URL:{const c=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(c||u)throw lp(t,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=Rpe(e)}catch(c){throw c.message.includes("polyfill")?c:lp(t,"Invalid character found")}const s=new Uint8Array(o.length);for(let c=0;c<o.length;c++)s[c]=o.charCodeAt(c);return s}class P${constructor(e){this.base64=!1,this.contentType=null;const o=e.match(/^data:([^,]+)?,/);if(o===null)throw lp(Ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=o[1]||null;s!=null&&(this.base64=zpe(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Lpe(t){const e=new P$(t);return e.base64?M$(Ri.BASE64,e.rest):Bpe(e.rest)}function jpe(t){return new P$(t).contentType}function zpe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,o){let s=0,c="";R3(e)?(this.data_=e,s=e.size,c=e.type):e instanceof ArrayBuffer?(o?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(o?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=c}size(){return this.size_}type(){return this.type_}slice(e,o){if(R3(this.data_)){const s=this.data_,c=Npe(s,e,o);return c===null?null:new us(c)}else{const s=new Uint8Array(this.data_.buffer,e,o-e);return new us(s,!0)}}static getBlob(...e){if(HE()){const o=e.map(s=>s instanceof us?s.data_:s);return new us(Ppe.apply(null,o))}else{const o=e.map(p=>lw(p)?Ope(Ri.RAW,p).data:p.data_);let s=0;o.forEach(p=>{s+=p.byteLength});const c=new Uint8Array(s);let u=0;return o.forEach(p=>{for(let m=0;m<p.length;m++)c[u++]=p[m]}),new us(c,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t){let e;try{e=JSON.parse(t)}catch{return null}return Ape(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fpe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $pe(t,e){const o=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?o:t+"/"+o}function R$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vpe(t,e){return e}class Do{constructor(e,o,s,c){this.server=e,this.local=o||e,this.writable=!!s,this.xform=c||Vpe}}let rk=null;function Upe(t){return!lw(t)||t.length<2?t:R$(t)}function WE(){if(rk)return rk;const t=[];t.push(new Do("bucket")),t.push(new Do("generation")),t.push(new Do("metageneration")),t.push(new Do("name","fullPath",!0));function e(u,p){return Upe(p)}const o=new Do("name");o.xform=e,t.push(o);function s(u,p){return p!==void 0?Number(p):p}const c=new Do("size");return c.xform=s,t.push(c),t.push(new Do("timeCreated")),t.push(new Do("updated")),t.push(new Do("md5Hash",null,!0)),t.push(new Do("cacheControl",null,!0)),t.push(new Do("contentDisposition",null,!0)),t.push(new Do("contentEncoding",null,!0)),t.push(new Do("contentLanguage",null,!0)),t.push(new Do("contentType",null,!0)),t.push(new Do("metadata","customMetadata",!0)),rk=t,rk}function Hpe(t,e){function o(){const s=t.bucket,c=t.fullPath,u=new fr(s,c);return e._makeStorageReference(u)}Object.defineProperty(t,"ref",{get:o})}function Wpe(t,e,o){const s={};s.type="file";const c=o.length;for(let u=0;u<c;u++){const p=o[u];s[p.local]=p.xform(s,e[p.server])}return Hpe(s,t),s}function O$(t,e,o){const s=N$(e);return s===null?null:Wpe(t,s,o)}function qpe(t,e,o,s){const c=N$(e);if(c===null||!lw(c.downloadTokens))return null;const u=c.downloadTokens;if(u.length===0)return null;const p=encodeURIComponent;return u.split(",").map(w=>{const _=t.bucket,C=t.fullPath,y="/b/"+p(_)+"/o/"+p(C),x=uu(y,o,s),S=T$({alt:"media",token:w});return x+S})[0]}function B$(t,e){const o={},s=e.length;for(let c=0;c<s;c++){const u=e[c];u.writable&&(o[u.server]=t[u.local])}return JSON.stringify(o)}class ec{constructor(e,o,s,c){this.url=e,this.method=o,this.handler=s,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){if(!t)throw UE()}function qE(t,e){function o(s,c){const u=O$(t,c,e);return vs(u!==null),u}return o}function Gpe(t,e){function o(s,c){const u=O$(t,c,e);return vs(u!==null),qpe(u,c,t.host,t._protocol)}return o}function $f(t){function e(o,s){let c;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?c=dpe():c=cpe():o.getStatus()===402?c=lpe(t.bucket):o.getStatus()===403?c=upe(t.path):c=s,c.status=o.getStatus(),c.serverResponse=s.serverResponse,c}return e}function GE(t){const e=$f(t);function o(s,c){let u=e(s,c);return s.getStatus()===404&&(u=ape(t.path)),u.serverResponse=c.serverResponse,u}return o}function Kpe(t,e,o){const s=e.fullServerUrl(),c=uu(s,t.host,t._protocol),u="GET",p=t.maxOperationRetryTime,m=new ec(c,u,qE(t,o),p);return m.errorHandler=GE(e),m}function Ype(t,e,o){const s=e.fullServerUrl(),c=uu(s,t.host,t._protocol),u="GET",p=t.maxOperationRetryTime,m=new ec(c,u,Gpe(t,o),p);return m.errorHandler=GE(e),m}function Qpe(t,e){const o=e.fullServerUrl(),s=uu(o,t.host,t._protocol),c="DELETE",u=t.maxOperationRetryTime;function p(g,w){}const m=new ec(s,c,p,u);return m.successCodes=[200,204],m.errorHandler=GE(e),m}function Zpe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function L$(t,e,o){const s=Object.assign({},o);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=Zpe(null,e)),s}function j$(t,e,o,s,c){const u=e.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"};function m(){let O="";for(let j=0;j<2;j++)O=O+Math.random().toString().slice(2);return O}const g=m();p["Content-Type"]="multipart/related; boundary="+g;const w=L$(e,s,c),_=B$(w,o),C="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+w.contentType+`\r
\r
`,y=`\r
--`+g+"--",x=us.getBlob(C,s,y);if(x===null)throw E$();const S={name:w.fullPath},T=uu(u,t.host,t._protocol),R="POST",D=t.maxUploadRetryTime,N=new ec(T,R,qE(t,o),D);return N.urlParams=S,N.headers=p,N.body=x.uploadData(),N.errorHandler=$f(e),N}class jb{constructor(e,o,s,c){this.current=e,this.total=o,this.finalized=!!s,this.metadata=c||null}}function KE(t,e){let o=null;try{o=t.getResponseHeader("X-Goog-Upload-Status")}catch{vs(!1)}return vs(!!o&&(e||["active"]).indexOf(o)!==-1),o}function Jpe(t,e,o,s,c){const u=e.bucketOnlyServerUrl(),p=L$(e,s,c),m={name:p.fullPath},g=uu(u,t.host,t._protocol),w="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset=utf-8"},C=B$(p,o),y=t.maxUploadRetryTime;function x(T){KE(T);let R;try{R=T.getResponseHeader("X-Goog-Upload-URL")}catch{vs(!1)}return vs(lw(R)),R}const S=new ec(g,w,x,y);return S.urlParams=m,S.headers=_,S.body=C,S.errorHandler=$f(e),S}function Xpe(t,e,o,s){const c={"X-Goog-Upload-Command":"query"};function u(w){const _=KE(w,["active","final"]);let C=null;try{C=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vs(!1)}C||vs(!1);const y=Number(C);return vs(!isNaN(y)),new jb(y,s.size(),_==="final")}const p="POST",m=t.maxUploadRetryTime,g=new ec(o,p,u,m);return g.headers=c,g.errorHandler=$f(e),g}const B3=256*1024;function efe(t,e,o,s,c,u,p,m){const g=new jb(0,0);if(p?(g.current=p.current,g.total=p.total):(g.current=0,g.total=s.size()),s.size()!==g.total)throw gpe();const w=g.total-g.current;let _=w;c>0&&(_=Math.min(_,c));const C=g.current,y=C+_;let x="";_===0?x="finalize":w===_?x="upload, finalize":x="upload";const S={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${g.current}`},T=s.slice(C,y);if(T===null)throw E$();function R(j,$){const H=KE(j,["active","final"]),M=g.current+_,U=s.size();let G;return H==="final"?G=qE(e,u)(j,$):G=null,new jb(M,U,H==="final",G)}const D="POST",N=e.maxUploadRetryTime,O=new ec(o,D,R,N);return O.headers=S,O.body=T.uploadData(),O.progressCallback=m||null,O.errorHandler=$f(t),O}const Vo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pC(t){switch(t){case"running":case"pausing":case"canceling":return Vo.RUNNING;case"paused":return Vo.PAUSED;case"success":return Vo.SUCCESS;case"canceled":return Vo.CANCELED;case"error":return Vo.ERROR;default:return Vo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tfe{constructor(e,o,s){if(Cpe(e)||o!=null||s!=null)this.next=e,this.error=o??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class nfe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,o,s,c){if(this.sent_)throw Ah("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,e,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ah("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ah("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ah("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ah("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ofe extends nfe{initXhr(){this.xhr_.responseType="text"}}function ia(){return new ofe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe{constructor(e,o,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=o,this._metadata=s,this._mappings=WE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=c=>{if(this._request=void 0,this._chunkMultiplier=1,c._codeEquals(an.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(I$(c.status,[]))if(u)c=A$();else{this.sleepTime=Math.max(this.sleepTime*2,spe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=c,this._transition("error")}},this._metadataErrorHandler=c=>{this._request=void 0,c._codeEquals(an.CANCELED)?this.completeTransitions_():(this._error=c,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((c,u)=>{this._resolve=c,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return o=>this._updateProgress(e+o)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,s])=>{switch(this._state){case"running":e(o,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,o)=>{const s=Jpe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(s,ia,e,o);this._request=c,c.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((o,s)=>{const c=Xpe(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(c,ia,o,s);this._request=u,u.getPromise().then(p=>{p=p,this._request=void 0,this._updateProgress(p.current),this._needToFetchStatus=!1,p.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=B3*this._chunkMultiplier,o=new jb(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((c,u)=>{let p;try{p=efe(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,o,this._makeProgressCallback())}catch(g){this._error=g,this._transition("error");return}const m=this._ref.storage._makeRequest(p,ia,c,u,!1);this._request=m,m.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){B3*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,o)=>{const s=Kpe(this._ref.storage,this._ref._location,this._mappings),c=this._ref.storage._makeRequest(s,ia,e,o);this._request=c,c.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,o)=>{const s=j$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),c=this._ref.storage._makeRequest(s,ia,e,o);this._request=c,c.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const o=this._transferred;this._transferred=e,this._transferred!==o&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o=this._state==="paused";this._state=e,o&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=x$(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=pC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,o,s,c){const u=new tfe(o||void 0,s||void 0,c||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,o){return this._promise.then(e,o)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const o=this._observers.indexOf(e);o!==-1&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(pC(this._state)){case Vo.SUCCESS:zc(this._resolve.bind(null,this.snapshot))();break;case Vo.CANCELED:case Vo.ERROR:const o=this._reject;zc(o.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(pC(this._state)){case Vo.RUNNING:case Vo.PAUSED:e.next&&zc(e.next.bind(e,this.snapshot))();break;case Vo.SUCCESS:e.complete&&zc(e.complete.bind(e))();break;case Vo.CANCELED:case Vo.ERROR:e.error&&zc(e.error.bind(e,this._error))();break;default:e.error&&zc(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,o){this._service=e,o instanceof fr?this._location=o:this._location=fr.makeFromUrl(o,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,o){return new Ul(e,o)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R$(this._location.path)}get storage(){return this._service}get parent(){const e=Fpe(this._location.path);if(e===null)return null;const o=new fr(this._location.bucket,e);return new Ul(this._service,o)}_throwIfRoot(e){if(this._location.path==="")throw bpe(e)}}function ife(t,e,o){t._throwIfRoot("uploadBytes");const s=j$(t.storage,t._location,WE(),new us(e,!0),o);return t.storage.makeRequestWithTokens(s,ia).then(c=>({metadata:c,ref:t}))}function sfe(t,e,o){return t._throwIfRoot("uploadBytesResumable"),new rfe(t,new us(e),o)}function afe(t){t._throwIfRoot("getDownloadURL");const e=Ype(t.storage,t._location,WE());return t.storage.makeRequestWithTokens(e,ia).then(o=>{if(o===null)throw mpe();return o})}function lfe(t){t._throwIfRoot("deleteObject");const e=Qpe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ia)}function cfe(t,e){const o=$pe(t._location.path,e),s=new fr(t._location.bucket,o);return new Ul(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dfe(t){return/^[A-Za-z]+:\/\//.test(t)}function ufe(t,e){return new Ul(t,e)}function z$(t,e){if(t instanceof YE){const o=t;if(o._bucket==null)throw fpe();const s=new Ul(o,o._bucket);return e!=null?z$(s,e):s}else return e!==void 0?cfe(t,e):t}function hfe(t,e){if(e&&dfe(e)){if(t instanceof YE)return ufe(t,e);throw s1("To use ref(service, url), the first argument must be a Storage instance.")}else return z$(t,e)}function L3(t,e){const o=e==null?void 0:e[C$];return o==null?null:fr.makeFromBucketSpec(o,t)}function pfe(t,e,o,s={}){t.host=`${e}:${o}`,t._protocol="http";const{mockUserToken:c}=s;c&&(t._overrideAuthToken=typeof c=="string"?c:kF(c,t.app.options.projectId))}class YE{constructor(e,o,s,c,u){this.app=e,this._authProvider=o,this._appCheckProvider=s,this._url=c,this._firebaseVersion=u,this._bucket=null,this._host=_$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rpe,this._maxUploadRetryTime=ipe,this._requests=new Set,c!=null?this._bucket=fr.makeFromBucketSpec(c,this._host):this._bucket=L3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=L3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const o=await e.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ul(this,e)}_makeRequest(e,o,s,c,u=!0){if(this._deleted)return new wpe(S$());{const p=Dpe(e,this._appId,s,c,o,this._firebaseVersion,u);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}async makeRequestWithTokens(e,o){const[s,c]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,o,s,c).getPromise()}}const j3="@firebase/storage",z3="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$="storage";function ffe(t,e,o){return t=sn(t),ife(t,e,o)}function PTe(t,e,o){return t=sn(t),sfe(t,e,o)}function gfe(t){return t=sn(t),afe(t)}function NTe(t){return t=sn(t),lfe(t)}function mfe(t,e){return t=sn(t),hfe(t,e)}function $$(t=Dx(),e){t=sn(t);const s=b0(t,F$).getImmediate({identifier:e}),c=fF("storage");return c&&kfe(s,...c),s}function kfe(t,e,o,s={}){pfe(t,e,o,s)}function bfe(t,{instanceIdentifier:e}){const o=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return new YE(o,s,c,e,Ql)}function wfe(){jl(new Aa(F$,bfe,"PUBLIC").setMultipleInstances(!0)),Li(j3,z3,""),Li(j3,z3,"esm2017")}wfe();const vfe={apiKey:"AIzaSyAx9jl025E5CSh9P03WbAO9YzYVpcZoOxI",authDomain:"ate-vite-firestore-app.firebaseapp.com",projectId:"ate-vite-firestore-app",storageBucket:"ate-vite-firestore-app.appspot.com",messagingSenderId:"590673229876",appId:"1:590673229876:web:f2841a139a3bf0ffed3261"},V$=vF(vfe),RTe=Os(V$);$$(V$);const U$=z.createContext(void 0),cw=()=>{const t=z.useContext(U$);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},yfe=({children:t})=>{const[e,o]=z.useState(null),[s,c]=z.useState(null),[u,p]=z.useState(!0),[m,g]=z.useState(null);return console.log("UserContext loaded"),z.useEffect(()=>{const w=o9(),_=Os(),C=Fae(w,async y=>{if(p(!0),g(null),y){const x=Ds(_,"users",y.uid);try{const S=await iw(x);S.exists()?(console.log("User document exists."),console.log("User is signed in with UID:",y.uid),await sw(x,{lastLogin:ap()}),c({...S.data(),uid:y.uid})):(console.error("User document does not exist. Creating a new one..."),await epe(x,{isAdmin:!1,lastLogin:ap()}),c({uid:y.uid,isAdmin:!1,lastLogin:ap()}))}catch(S){console.error("Error managing user document:",S),g(S instanceof Error?S:new Error("Failed to manage user document"))}}else c(null);o(y),p(!1)});return()=>C()},[]),B.jsx(U$.Provider,{value:{user:e,userDetails:s,loading:u,error:m},children:t})},tf={black:"#000",white:"#fff"},Fc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},$c={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Vc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Uc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Hc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},xh={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_fe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Hl(t){let e="https://mui.com/production-error/?code="+t;for(let o=1;o<arguments.length;o+=1)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Cfe=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Vf="$$material";function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)({}).hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},V.apply(null,arguments)}function ye(t,e){if(t==null)return{};var o={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;o[s]=t[s]}return o}function H$(t){var e=Object.create(null);return function(o){return e[o]===void 0&&(e[o]=t(o)),e[o]}}var Afe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xfe=H$(function(t){return Afe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Efe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Sfe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Tfe=function(){function t(o){var s=this;this._insertTag=function(c){var u;s.tags.length===0?s.insertionPoint?u=s.insertionPoint.nextSibling:s.prepend?u=s.container.firstChild:u=s.before:u=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(c,u),s.tags.push(c)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(s){s.forEach(this._insertTag)},e.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Sfe(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var u=Efe(c);try{u.insertRule(s,u.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(s));this.ctr++},e.flush=function(){this.tags.forEach(function(s){return s.parentNode&&s.parentNode.removeChild(s)}),this.tags=[],this.ctr=0},t}(),mo="-ms-",zb="-moz-",Dt="-webkit-",W$="comm",QE="rule",ZE="decl",Ife="@import",q$="@keyframes",Dfe="@layer",Mfe=Math.abs,dw=String.fromCharCode,Pfe=Object.assign;function Nfe(t,e){return ao(t,0)^45?(((e<<2^ao(t,0))<<2^ao(t,1))<<2^ao(t,2))<<2^ao(t,3):0}function G$(t){return t.trim()}function Rfe(t,e){return(t=e.exec(t))?t[0]:t}function Mt(t,e,o){return t.replace(e,o)}function a1(t,e){return t.indexOf(e)}function ao(t,e){return t.charCodeAt(e)|0}function nf(t,e,o){return t.slice(e,o)}function Ti(t){return t.length}function JE(t){return t.length}function ik(t,e){return e.push(t),t}function Ofe(t,e){return t.map(e).join("")}var uw=1,Hd=1,K$=0,er=0,Nn=0,hu="";function hw(t,e,o,s,c,u,p){return{value:t,root:e,parent:o,type:s,props:c,children:u,line:uw,column:Hd,length:p,return:""}}function Eh(t,e){return Pfe(hw("",null,null,"",null,null,0),t,{length:-t.length},e)}function Bfe(){return Nn}function Lfe(){return Nn=er>0?ao(hu,--er):0,Hd--,Nn===10&&(Hd=1,uw--),Nn}function mr(){return Nn=er<K$?ao(hu,er++):0,Hd++,Nn===10&&(Hd=1,uw++),Nn}function $i(){return ao(hu,er)}function Rk(){return er}function Uf(t,e){return nf(hu,t,e)}function of(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y$(t){return uw=Hd=1,K$=Ti(hu=t),er=0,[]}function Q$(t){return hu="",t}function Ok(t){return G$(Uf(er-1,l1(t===91?t+2:t===40?t+1:t)))}function jfe(t){for(;(Nn=$i())&&Nn<33;)mr();return of(t)>2||of(Nn)>3?"":" "}function zfe(t,e){for(;--e&&mr()&&!(Nn<48||Nn>102||Nn>57&&Nn<65||Nn>70&&Nn<97););return Uf(t,Rk()+(e<6&&$i()==32&&mr()==32))}function l1(t){for(;mr();)switch(Nn){case t:return er;case 34:case 39:t!==34&&t!==39&&l1(Nn);break;case 40:t===41&&l1(t);break;case 92:mr();break}return er}function Ffe(t,e){for(;mr()&&t+Nn!==57;)if(t+Nn===84&&$i()===47)break;return"/*"+Uf(e,er-1)+"*"+dw(t===47?t:mr())}function $fe(t){for(;!of($i());)mr();return Uf(t,er)}function Vfe(t){return Q$(Bk("",null,null,null,[""],t=Y$(t),0,[0],t))}function Bk(t,e,o,s,c,u,p,m,g){for(var w=0,_=0,C=p,y=0,x=0,S=0,T=1,R=1,D=1,N=0,O="",j=c,$=u,H=s,M=O;R;)switch(S=N,N=mr()){case 40:if(S!=108&&ao(M,C-1)==58){a1(M+=Mt(Ok(N),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:M+=Ok(N);break;case 9:case 10:case 13:case 32:M+=jfe(S);break;case 92:M+=zfe(Rk()-1,7);continue;case 47:switch($i()){case 42:case 47:ik(Ufe(Ffe(mr(),Rk()),e,o),g);break;default:M+="/"}break;case 123*T:m[w++]=Ti(M)*D;case 125*T:case 59:case 0:switch(N){case 0:case 125:R=0;case 59+_:D==-1&&(M=Mt(M,/\f/g,"")),x>0&&Ti(M)-C&&ik(x>32?$3(M+";",s,o,C-1):$3(Mt(M," ","")+";",s,o,C-2),g);break;case 59:M+=";";default:if(ik(H=F3(M,e,o,w,_,c,m,O,j=[],$=[],C),u),N===123)if(_===0)Bk(M,e,H,H,j,u,C,m,$);else switch(y===99&&ao(M,3)===110?100:y){case 100:case 108:case 109:case 115:Bk(t,H,H,s&&ik(F3(t,H,H,0,0,c,m,O,c,j=[],C),$),c,$,C,m,s?j:$);break;default:Bk(M,H,H,H,[""],$,0,m,$)}}w=_=x=0,T=D=1,O=M="",C=p;break;case 58:C=1+Ti(M),x=S;default:if(T<1){if(N==123)--T;else if(N==125&&T++==0&&Lfe()==125)continue}switch(M+=dw(N),N*T){case 38:D=_>0?1:(M+="\f",-1);break;case 44:m[w++]=(Ti(M)-1)*D,D=1;break;case 64:$i()===45&&(M+=Ok(mr())),y=$i(),_=C=Ti(O=M+=$fe(Rk())),N++;break;case 45:S===45&&Ti(M)==2&&(T=0)}}return u}function F3(t,e,o,s,c,u,p,m,g,w,_){for(var C=c-1,y=c===0?u:[""],x=JE(y),S=0,T=0,R=0;S<s;++S)for(var D=0,N=nf(t,C+1,C=Mfe(T=p[S])),O=t;D<x;++D)(O=G$(T>0?y[D]+" "+N:Mt(N,/&\f/g,y[D])))&&(g[R++]=O);return hw(t,e,o,c===0?QE:m,g,w,_)}function Ufe(t,e,o){return hw(t,e,o,W$,dw(Bfe()),nf(t,2,-2),0)}function $3(t,e,o,s){return hw(t,e,o,ZE,nf(t,0,s),nf(t,s+1,-1),s)}function Ad(t,e){for(var o="",s=JE(t),c=0;c<s;c++)o+=e(t[c],c,t,e)||"";return o}function Hfe(t,e,o,s){switch(t.type){case Dfe:if(t.children.length)break;case Ife:case ZE:return t.return=t.return||t.value;case W$:return"";case q$:return t.return=t.value+"{"+Ad(t.children,s)+"}";case QE:t.value=t.props.join(",")}return Ti(o=Ad(t.children,s))?t.return=t.value+"{"+o+"}":""}function Wfe(t){var e=JE(t);return function(o,s,c,u){for(var p="",m=0;m<e;m++)p+=t[m](o,s,c,u)||"";return p}}function qfe(t){return function(e){e.root||(e=e.return)&&t(e)}}var Gfe=function(e,o,s){for(var c=0,u=0;c=u,u=$i(),c===38&&u===12&&(o[s]=1),!of(u);)mr();return Uf(e,er)},Kfe=function(e,o){var s=-1,c=44;do switch(of(c)){case 0:c===38&&$i()===12&&(o[s]=1),e[s]+=Gfe(er-1,o,s);break;case 2:e[s]+=Ok(c);break;case 4:if(c===44){e[++s]=$i()===58?"&\f":"",o[s]=e[s].length;break}default:e[s]+=dw(c)}while(c=mr());return e},Yfe=function(e,o){return Q$(Kfe(Y$(e),o))},V3=new WeakMap,Qfe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var o=e.value,s=e.parent,c=e.column===s.column&&e.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(e.props.length===1&&o.charCodeAt(0)!==58&&!V3.get(s))&&!c){V3.set(e,!0);for(var u=[],p=Yfe(o,u),m=s.props,g=0,w=0;g<p.length;g++)for(var _=0;_<m.length;_++,w++)e.props[w]=u[g]?p[g].replace(/&\f/g,m[_]):m[_]+" "+p[g]}}},Zfe=function(e){if(e.type==="decl"){var o=e.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(e.return="",e.value="")}};function Z$(t,e){switch(Nfe(t,e)){case 5103:return Dt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Dt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Dt+t+zb+t+mo+t+t;case 6828:case 4268:return Dt+t+mo+t+t;case 6165:return Dt+t+mo+"flex-"+t+t;case 5187:return Dt+t+Mt(t,/(\w+).+(:[^]+)/,Dt+"box-$1$2"+mo+"flex-$1$2")+t;case 5443:return Dt+t+mo+"flex-item-"+Mt(t,/flex-|-self/,"")+t;case 4675:return Dt+t+mo+"flex-line-pack"+Mt(t,/align-content|flex-|-self/,"")+t;case 5548:return Dt+t+mo+Mt(t,"shrink","negative")+t;case 5292:return Dt+t+mo+Mt(t,"basis","preferred-size")+t;case 6060:return Dt+"box-"+Mt(t,"-grow","")+Dt+t+mo+Mt(t,"grow","positive")+t;case 4554:return Dt+Mt(t,/([^-])(transform)/g,"$1"+Dt+"$2")+t;case 6187:return Mt(Mt(Mt(t,/(zoom-|grab)/,Dt+"$1"),/(image-set)/,Dt+"$1"),t,"")+t;case 5495:case 3959:return Mt(t,/(image-set\([^]*)/,Dt+"$1$`$1");case 4968:return Mt(Mt(t,/(.+:)(flex-)?(.*)/,Dt+"box-pack:$3"+mo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Dt+t+t;case 4095:case 3583:case 4068:case 2532:return Mt(t,/(.+)-inline(.+)/,Dt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ti(t)-1-e>6)switch(ao(t,e+1)){case 109:if(ao(t,e+4)!==45)break;case 102:return Mt(t,/(.+:)(.+)-([^]+)/,"$1"+Dt+"$2-$3$1"+zb+(ao(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~a1(t,"stretch")?Z$(Mt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ao(t,e+1)!==115)break;case 6444:switch(ao(t,Ti(t)-3-(~a1(t,"!important")&&10))){case 107:return Mt(t,":",":"+Dt)+t;case 101:return Mt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Dt+(ao(t,14)===45?"inline-":"")+"box$3$1"+Dt+"$2$3$1"+mo+"$2box$3")+t}break;case 5936:switch(ao(t,e+11)){case 114:return Dt+t+mo+Mt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Dt+t+mo+Mt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Dt+t+mo+Mt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Dt+t+mo+t+t}return t}var Jfe=function(e,o,s,c){if(e.length>-1&&!e.return)switch(e.type){case ZE:e.return=Z$(e.value,e.length);break;case q$:return Ad([Eh(e,{value:Mt(e.value,"@","@"+Dt)})],c);case QE:if(e.length)return Ofe(e.props,function(u){switch(Rfe(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ad([Eh(e,{props:[Mt(u,/:(read-\w+)/,":"+zb+"$1")]})],c);case"::placeholder":return Ad([Eh(e,{props:[Mt(u,/:(plac\w+)/,":"+Dt+"input-$1")]}),Eh(e,{props:[Mt(u,/:(plac\w+)/,":"+zb+"$1")]}),Eh(e,{props:[Mt(u,/:(plac\w+)/,mo+"input-$1")]})],c)}return""})}},Xfe=[Jfe],J$=function(e){var o=e.key;if(o==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(T){var R=T.getAttribute("data-emotion");R.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var c=e.stylisPlugins||Xfe,u={},p,m=[];p=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(T){for(var R=T.getAttribute("data-emotion").split(" "),D=1;D<R.length;D++)u[R[D]]=!0;m.push(T)});var g,w=[Qfe,Zfe];{var _,C=[Hfe,qfe(function(T){_.insert(T)})],y=Wfe(w.concat(c,C)),x=function(R){return Ad(Vfe(R),y)};g=function(R,D,N,O){_=N,x(R?R+"{"+D.styles+"}":D.styles),O&&(S.inserted[D.name]=!0)}}var S={key:o,sheet:new Tfe({key:o,container:p,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:g};return S.sheet.hydrate(m),S},X$={exports:{}},zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=typeof Symbol=="function"&&Symbol.for,XE=to?Symbol.for("react.element"):60103,e2=to?Symbol.for("react.portal"):60106,pw=to?Symbol.for("react.fragment"):60107,fw=to?Symbol.for("react.strict_mode"):60108,gw=to?Symbol.for("react.profiler"):60114,mw=to?Symbol.for("react.provider"):60109,kw=to?Symbol.for("react.context"):60110,t2=to?Symbol.for("react.async_mode"):60111,bw=to?Symbol.for("react.concurrent_mode"):60111,ww=to?Symbol.for("react.forward_ref"):60112,vw=to?Symbol.for("react.suspense"):60113,ege=to?Symbol.for("react.suspense_list"):60120,yw=to?Symbol.for("react.memo"):60115,_w=to?Symbol.for("react.lazy"):60116,tge=to?Symbol.for("react.block"):60121,nge=to?Symbol.for("react.fundamental"):60117,oge=to?Symbol.for("react.responder"):60118,rge=to?Symbol.for("react.scope"):60119;function _r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XE:switch(t=t.type,t){case t2:case bw:case pw:case gw:case fw:case vw:return t;default:switch(t=t&&t.$$typeof,t){case kw:case ww:case _w:case yw:case mw:return t;default:return e}}case e2:return e}}}function e8(t){return _r(t)===bw}zt.AsyncMode=t2;zt.ConcurrentMode=bw;zt.ContextConsumer=kw;zt.ContextProvider=mw;zt.Element=XE;zt.ForwardRef=ww;zt.Fragment=pw;zt.Lazy=_w;zt.Memo=yw;zt.Portal=e2;zt.Profiler=gw;zt.StrictMode=fw;zt.Suspense=vw;zt.isAsyncMode=function(t){return e8(t)||_r(t)===t2};zt.isConcurrentMode=e8;zt.isContextConsumer=function(t){return _r(t)===kw};zt.isContextProvider=function(t){return _r(t)===mw};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XE};zt.isForwardRef=function(t){return _r(t)===ww};zt.isFragment=function(t){return _r(t)===pw};zt.isLazy=function(t){return _r(t)===_w};zt.isMemo=function(t){return _r(t)===yw};zt.isPortal=function(t){return _r(t)===e2};zt.isProfiler=function(t){return _r(t)===gw};zt.isStrictMode=function(t){return _r(t)===fw};zt.isSuspense=function(t){return _r(t)===vw};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pw||t===bw||t===gw||t===fw||t===vw||t===ege||typeof t=="object"&&t!==null&&(t.$$typeof===_w||t.$$typeof===yw||t.$$typeof===mw||t.$$typeof===kw||t.$$typeof===ww||t.$$typeof===nge||t.$$typeof===oge||t.$$typeof===rge||t.$$typeof===tge)};zt.typeOf=_r;X$.exports=zt;var ige=X$.exports,t8=ige,sge={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},age={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},n8={};n8[t8.ForwardRef]=sge;n8[t8.Memo]=age;var lge=!0;function cge(t,e,o){var s="";return o.split(" ").forEach(function(c){t[c]!==void 0?e.push(t[c]+";"):s+=c+" "}),s}var o8=function(e,o,s){var c=e.key+"-"+o.name;(s===!1||lge===!1)&&e.registered[c]===void 0&&(e.registered[c]=o.styles)},r8=function(e,o,s){o8(e,o,s);var c=e.key+"-"+o.name;if(e.inserted[o.name]===void 0){var u=o;do e.insert(o===u?"."+c:"",u,e.sheet,!0),u=u.next;while(u!==void 0)}};function dge(t){for(var e=0,o,s=0,c=t.length;c>=4;++s,c-=4)o=t.charCodeAt(s)&255|(t.charCodeAt(++s)&255)<<8|(t.charCodeAt(++s)&255)<<16|(t.charCodeAt(++s)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,e=(o&65535)*1540483477+((o>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(c){case 3:e^=(t.charCodeAt(s+2)&255)<<16;case 2:e^=(t.charCodeAt(s+1)&255)<<8;case 1:e^=t.charCodeAt(s)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var uge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hge=/[A-Z]|^ms/g,pge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,i8=function(e){return e.charCodeAt(1)===45},U3=function(e){return e!=null&&typeof e!="boolean"},fC=H$(function(t){return i8(t)?t:t.replace(hge,"-$&").toLowerCase()}),H3=function(e,o){switch(e){case"animation":case"animationName":if(typeof o=="string")return o.replace(pge,function(s,c,u){return Ii={name:c,styles:u,next:Ii},c})}return uge[e]!==1&&!i8(e)&&typeof o=="number"&&o!==0?o+"px":o};function rf(t,e,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return Ii={name:o.name,styles:o.styles,next:Ii},o.name;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ii={name:s.name,styles:s.styles,next:Ii},s=s.next;var c=o.styles+";";return c}return fge(t,e,o)}case"function":{if(t!==void 0){var u=Ii,p=o(t);return Ii=u,rf(t,e,p)}break}}if(e==null)return o;var m=e[o];return m!==void 0?m:o}function fge(t,e,o){var s="";if(Array.isArray(o))for(var c=0;c<o.length;c++)s+=rf(t,e,o[c])+";";else for(var u in o){var p=o[u];if(typeof p!="object")e!=null&&e[p]!==void 0?s+=u+"{"+e[p]+"}":U3(p)&&(s+=fC(u)+":"+H3(u,p)+";");else if(Array.isArray(p)&&typeof p[0]=="string"&&(e==null||e[p[0]]===void 0))for(var m=0;m<p.length;m++)U3(p[m])&&(s+=fC(u)+":"+H3(u,p[m])+";");else{var g=rf(t,e,p);switch(u){case"animation":case"animationName":{s+=fC(u)+":"+g+";";break}default:s+=u+"{"+g+"}"}}}return s}var W3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ii,n2=function(e,o,s){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var c=!0,u="";Ii=void 0;var p=e[0];p==null||p.raw===void 0?(c=!1,u+=rf(s,o,p)):u+=p[0];for(var m=1;m<e.length;m++)u+=rf(s,o,e[m]),c&&(u+=p[m]);W3.lastIndex=0;for(var g="",w;(w=W3.exec(u))!==null;)g+="-"+w[1];var _=dge(u)+g;return{name:_,styles:u,next:Ii}},gge=function(e){return e()},s8=Hk.useInsertionEffect?Hk.useInsertionEffect:!1,mge=s8||gge,q3=s8||z.useLayoutEffect,a8=z.createContext(typeof HTMLElement<"u"?J$({key:"css"}):null),kge=a8.Provider,l8=function(e){return z.forwardRef(function(o,s){var c=z.useContext(a8);return e(o,c,s)})},Cw=z.createContext({}),gC={exports:{}},G3;function c8(){return G3||(G3=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var u in c)({}).hasOwnProperty.call(c,u)&&(o[u]=c[u])}return o},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(gC)),gC.exports}c8();var bge=l8(function(t,e){var o=t.styles,s=n2([o],void 0,z.useContext(Cw)),c=z.useRef();return q3(function(){var u=e.key+"-global",p=new e.sheet.constructor({key:u,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),m=!1,g=document.querySelector('style[data-emotion="'+u+" "+s.name+'"]');return e.sheet.tags.length&&(p.before=e.sheet.tags[0]),g!==null&&(m=!0,g.setAttribute("data-emotion",u),p.hydrate([g])),c.current=[p,m],function(){p.flush()}},[e]),q3(function(){var u=c.current,p=u[0],m=u[1];if(m){u[1]=!1;return}if(s.next!==void 0&&r8(e,s.next,!0),p.tags.length){var g=p.tags[p.tags.length-1].nextElementSibling;p.before=g,p.flush()}e.insert("",s,p,!1)},[e,s.name]),null});function Aw(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return n2(e)}var pu=function(){var e=Aw.apply(void 0,arguments),o="animation-"+e.name;return{name:o,styles:"@keyframes "+o+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},wge=xfe,vge=function(e){return e!=="theme"},K3=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?wge:vge},Y3=function(e,o,s){var c;if(o){var u=o.shouldForwardProp;c=e.__emotion_forwardProp&&u?function(p){return e.__emotion_forwardProp(p)&&u(p)}:u}return typeof c!="function"&&s&&(c=e.__emotion_forwardProp),c},yge=function(e){var o=e.cache,s=e.serialized,c=e.isStringTag;return o8(o,s,c),mge(function(){return r8(o,s,c)}),null},_ge=function t(e,o){var s=e.__emotion_real===e,c=s&&e.__emotion_base||e,u,p;o!==void 0&&(u=o.label,p=o.target);var m=Y3(e,o,s),g=m||K3(c),w=!g("as");return function(){var _=arguments,C=s&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(u!==void 0&&C.push("label:"+u+";"),_[0]==null||_[0].raw===void 0)C.push.apply(C,_);else{C.push(_[0][0]);for(var y=_.length,x=1;x<y;x++)C.push(_[x],_[0][x])}var S=l8(function(T,R,D){var N=w&&T.as||c,O="",j=[],$=T;if(T.theme==null){$={};for(var H in T)$[H]=T[H];$.theme=z.useContext(Cw)}typeof T.className=="string"?O=cge(R.registered,j,T.className):T.className!=null&&(O=T.className+" ");var M=n2(C.concat(j),R.registered,$);O+=R.key+"-"+M.name,p!==void 0&&(O+=" "+p);var U=w&&m===void 0?K3(N):g,G={};for(var Y in T)w&&Y==="as"||U(Y)&&(G[Y]=T[Y]);return G.className=O,G.ref=D,z.createElement(z.Fragment,null,z.createElement(yge,{cache:R,serialized:M,isStringTag:typeof N=="string"}),z.createElement(N,G))});return S.displayName=u!==void 0?u:"Styled("+(typeof c=="string"?c:c.displayName||c.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=c,S.__emotion_styles=C,S.__emotion_forwardProp=m,Object.defineProperty(S,"toString",{value:function(){return"."+p}}),S.withComponent=function(T,R){return t(T,V({},o,R,{shouldForwardProp:Y3(S,R,!0)})).apply(void 0,C)},S}},Cge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],c1=_ge.bind();Cge.forEach(function(t){c1[t]=c1(t)});var d8={exports:{}},Age="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xge=Age,Ege=xge;function u8(){}function h8(){}h8.resetWarningCache=u8;var Sge=function(){function t(s,c,u,p,m,g){if(g!==Ege){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}t.isRequired=t;function e(){return t}var o={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:h8,resetWarningCache:u8};return o.PropTypes=o,o};d8.exports=Sge();var Tge=d8.exports;let d1;typeof document=="object"&&(d1=J$({key:"css",prepend:!0}));function Ige(t){const{injectFirst:e,children:o}=t;return e&&d1?B.jsx(kge,{value:d1,children:o}):o}function Dge(t){return t==null||Object.keys(t).length===0}function p8(t){const{styles:e,defaultTheme:o={}}=t,s=typeof e=="function"?c=>e(Dge(c)?o:c):e;return B.jsx(bge,{styles:s})}function o2(t,e){return c1(t,e)}const f8=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Mge=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:p8,StyledEngineProvider:Ige,ThemeContext:Cw,css:Aw,default:o2,internal_processStyles:f8,keyframes:pu},Symbol.toStringTag,{value:"Module"}));function hs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function g8(t){if(!hs(t))return t;const e={};return Object.keys(t).forEach(o=>{e[o]=g8(t[o])}),e}function Qo(t,e,o={clone:!0}){const s=o.clone?V({},t):t;return hs(t)&&hs(e)&&Object.keys(e).forEach(c=>{hs(e[c])&&Object.prototype.hasOwnProperty.call(t,c)&&hs(t[c])?s[c]=Qo(t[c],e[c],o):o.clone?s[c]=hs(e[c])?g8(e[c]):e[c]:s[c]=e[c]}),s}const Pge=Object.freeze(Object.defineProperty({__proto__:null,default:Qo,isPlainObject:hs},Symbol.toStringTag,{value:"Module"})),Nge=["values","unit","step"],Rge=t=>{const e=Object.keys(t).map(o=>({key:o,val:t[o]}))||[];return e.sort((o,s)=>o.val-s.val),e.reduce((o,s)=>V({},o,{[s.key]:s.val}),{})};function m8(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:s=5}=t,c=ye(t,Nge),u=Rge(e),p=Object.keys(u);function m(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${o})`}function g(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-s/100}${o})`}function w(y,x){const S=p.indexOf(x);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${o}) and (max-width:${(S!==-1&&typeof e[p[S]]=="number"?e[p[S]]:x)-s/100}${o})`}function _(y){return p.indexOf(y)+1<p.length?w(y,p[p.indexOf(y)+1]):m(y)}function C(y){const x=p.indexOf(y);return x===0?m(p[1]):x===p.length-1?g(p[x]):w(y,p[p.indexOf(y)+1]).replace("@media","@media not all and")}return V({keys:p,values:u,up:m,down:g,between:w,only:_,not:C,unit:o},c)}const Oge={borderRadius:4};function cp(t,e){return e?Qo(t,e,{clone:!1}):t}const r2={xs:0,sm:600,md:900,lg:1200,xl:1536},Q3={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${r2[t]}px)`};function Hr(t,e,o){const s=t.theme||{};if(Array.isArray(e)){const u=s.breakpoints||Q3;return e.reduce((p,m,g)=>(p[u.up(u.keys[g])]=o(e[g]),p),{})}if(typeof e=="object"){const u=s.breakpoints||Q3;return Object.keys(e).reduce((p,m)=>{if(Object.keys(u.values||r2).indexOf(m)!==-1){const g=u.up(m);p[g]=o(e[m],m)}else{const g=m;p[g]=e[g]}return p},{})}return o(e)}function k8(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((s,c)=>{const u=t.up(c);return s[u]={},s},{}))||{}}function b8(t,e){return t.reduce((o,s)=>{const c=o[s];return(!c||Object.keys(c).length===0)&&delete o[s],o},e)}function OTe(t,...e){const o=k8(t),s=[o,...e].reduce((c,u)=>Qo(c,u),{});return b8(Object.keys(o),s)}function Bge(t,e){if(typeof t!="object")return{};const o={},s=Object.keys(e);return Array.isArray(t)?s.forEach((c,u)=>{u<t.length&&(o[c]=!0)}):s.forEach(c=>{t[c]!=null&&(o[c]=!0)}),o}function xw({values:t,breakpoints:e,base:o}){const s=o||Bge(t,e),c=Object.keys(s);if(c.length===0)return t;let u;return c.reduce((p,m,g)=>(Array.isArray(t)?(p[m]=t[g]!=null?t[g]:t[u],u=g):typeof t=="object"?(p[m]=t[m]!=null?t[m]:t[u],u=m):p[m]=t,p),{})}function fe(t){if(typeof t!="string")throw new Error(Hl(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Lge=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));function Wd(t,e,o=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&o){const s=`vars.${e}`.split(".").reduce((c,u)=>c&&c[u]?c[u]:null,t);if(s!=null)return s}return e.split(".").reduce((s,c)=>s&&s[c]!=null?s[c]:null,t)}function Fb(t,e,o,s=o){let c;return typeof t=="function"?c=t(o):Array.isArray(t)?c=t[o]||s:c=Wd(t,o)||s,e&&(c=e(c,s,t)),c}function In(t){const{prop:e,cssProperty:o=t.prop,themeKey:s,transform:c}=t,u=p=>{if(p[e]==null)return null;const m=p[e],g=p.theme,w=Wd(g,s)||{};return Hr(p,m,C=>{let y=Fb(w,c,C);return C===y&&typeof C=="string"&&(y=Fb(w,c,`${e}${C==="default"?"":fe(C)}`,C)),o===!1?y:{[o]:y}})};return u.propTypes={},u.filterProps=[e],u}function jge(t){const e={};return o=>(e[o]===void 0&&(e[o]=t(o)),e[o])}const zge={m:"margin",p:"padding"},Fge={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Z3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$ge=jge(t=>{if(t.length>2)if(Z3[t])t=Z3[t];else return[t];const[e,o]=t.split(""),s=zge[e],c=Fge[o]||"";return Array.isArray(c)?c.map(u=>s+u):[s+c]}),i2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],s2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...i2,...s2];function Hf(t,e,o,s){var c;const u=(c=Wd(t,e,!1))!=null?c:o;return typeof u=="number"?p=>typeof p=="string"?p:u*p:Array.isArray(u)?p=>typeof p=="string"?p:u[p]:typeof u=="function"?u:()=>{}}function w8(t){return Hf(t,"spacing",8)}function Wf(t,e){if(typeof e=="string"||e==null)return e;const o=Math.abs(e),s=t(o);return e>=0?s:typeof s=="number"?-s:`-${s}`}function Vge(t,e){return o=>t.reduce((s,c)=>(s[c]=Wf(e,o),s),{})}function Uge(t,e,o,s){if(e.indexOf(o)===-1)return null;const c=$ge(o),u=Vge(c,s),p=t[o];return Hr(t,p,u)}function v8(t,e){const o=w8(t.theme);return Object.keys(t).map(s=>Uge(t,e,s,o)).reduce(cp,{})}function wn(t){return v8(t,i2)}wn.propTypes={};wn.filterProps=i2;function vn(t){return v8(t,s2)}vn.propTypes={};vn.filterProps=s2;function Hge(t=8){if(t.mui)return t;const e=w8({spacing:t}),o=(...s)=>(s.length===0?[1]:s).map(u=>{const p=e(u);return typeof p=="number"?`${p}px`:p}).join(" ");return o.mui=!0,o}function Ew(...t){const e=t.reduce((s,c)=>(c.filterProps.forEach(u=>{s[u]=c}),s),{}),o=s=>Object.keys(s).reduce((c,u)=>e[u]?cp(c,e[u](s)):c,{});return o.propTypes={},o.filterProps=t.reduce((s,c)=>s.concat(c.filterProps),[]),o}function Or(t){return typeof t!="number"?t:`${t}px solid`}function Kr(t,e){return In({prop:t,themeKey:"borders",transform:e})}const Wge=Kr("border",Or),qge=Kr("borderTop",Or),Gge=Kr("borderRight",Or),Kge=Kr("borderBottom",Or),Yge=Kr("borderLeft",Or),Qge=Kr("borderColor"),Zge=Kr("borderTopColor"),Jge=Kr("borderRightColor"),Xge=Kr("borderBottomColor"),eme=Kr("borderLeftColor"),tme=Kr("outline",Or),nme=Kr("outlineColor"),Sw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Hf(t.theme,"shape.borderRadius",4),o=s=>({borderRadius:Wf(e,s)});return Hr(t,t.borderRadius,o)}return null};Sw.propTypes={};Sw.filterProps=["borderRadius"];Ew(Wge,qge,Gge,Kge,Yge,Qge,Zge,Jge,Xge,eme,Sw,tme,nme);const Tw=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Hf(t.theme,"spacing",8),o=s=>({gap:Wf(e,s)});return Hr(t,t.gap,o)}return null};Tw.propTypes={};Tw.filterProps=["gap"];const Iw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Hf(t.theme,"spacing",8),o=s=>({columnGap:Wf(e,s)});return Hr(t,t.columnGap,o)}return null};Iw.propTypes={};Iw.filterProps=["columnGap"];const Dw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Hf(t.theme,"spacing",8),o=s=>({rowGap:Wf(e,s)});return Hr(t,t.rowGap,o)}return null};Dw.propTypes={};Dw.filterProps=["rowGap"];const ome=In({prop:"gridColumn"}),rme=In({prop:"gridRow"}),ime=In({prop:"gridAutoFlow"}),sme=In({prop:"gridAutoColumns"}),ame=In({prop:"gridAutoRows"}),lme=In({prop:"gridTemplateColumns"}),cme=In({prop:"gridTemplateRows"}),dme=In({prop:"gridTemplateAreas"}),ume=In({prop:"gridArea"});Ew(Tw,Iw,Dw,ome,rme,ime,sme,ame,lme,cme,dme,ume);function xd(t,e){return e==="grey"?e:t}const hme=In({prop:"color",themeKey:"palette",transform:xd}),pme=In({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:xd}),fme=In({prop:"backgroundColor",themeKey:"palette",transform:xd});Ew(hme,pme,fme);function dr(t){return t<=1&&t!==0?`${t*100}%`:t}const gme=In({prop:"width",transform:dr}),a2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=o=>{var s,c;const u=((s=t.theme)==null||(s=s.breakpoints)==null||(s=s.values)==null?void 0:s[o])||r2[o];return u?((c=t.theme)==null||(c=c.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${u}${t.theme.breakpoints.unit}`}:{maxWidth:u}:{maxWidth:dr(o)}};return Hr(t,t.maxWidth,e)}return null};a2.filterProps=["maxWidth"];const mme=In({prop:"minWidth",transform:dr}),kme=In({prop:"height",transform:dr}),bme=In({prop:"maxHeight",transform:dr}),wme=In({prop:"minHeight",transform:dr});In({prop:"size",cssProperty:"width",transform:dr});In({prop:"size",cssProperty:"height",transform:dr});const vme=In({prop:"boxSizing"});Ew(gme,a2,mme,kme,bme,wme,vme);const qf={border:{themeKey:"borders",transform:Or},borderTop:{themeKey:"borders",transform:Or},borderRight:{themeKey:"borders",transform:Or},borderBottom:{themeKey:"borders",transform:Or},borderLeft:{themeKey:"borders",transform:Or},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Or},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Sw},color:{themeKey:"palette",transform:xd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:xd},backgroundColor:{themeKey:"palette",transform:xd},p:{style:vn},pt:{style:vn},pr:{style:vn},pb:{style:vn},pl:{style:vn},px:{style:vn},py:{style:vn},padding:{style:vn},paddingTop:{style:vn},paddingRight:{style:vn},paddingBottom:{style:vn},paddingLeft:{style:vn},paddingX:{style:vn},paddingY:{style:vn},paddingInline:{style:vn},paddingInlineStart:{style:vn},paddingInlineEnd:{style:vn},paddingBlock:{style:vn},paddingBlockStart:{style:vn},paddingBlockEnd:{style:vn},m:{style:wn},mt:{style:wn},mr:{style:wn},mb:{style:wn},ml:{style:wn},mx:{style:wn},my:{style:wn},margin:{style:wn},marginTop:{style:wn},marginRight:{style:wn},marginBottom:{style:wn},marginLeft:{style:wn},marginX:{style:wn},marginY:{style:wn},marginInline:{style:wn},marginInlineStart:{style:wn},marginInlineEnd:{style:wn},marginBlock:{style:wn},marginBlockStart:{style:wn},marginBlockEnd:{style:wn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Tw},rowGap:{style:Dw},columnGap:{style:Iw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dr},maxWidth:{style:a2},minWidth:{transform:dr},height:{transform:dr},maxHeight:{transform:dr},minHeight:{transform:dr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function yme(...t){const e=t.reduce((s,c)=>s.concat(Object.keys(c)),[]),o=new Set(e);return t.every(s=>o.size===Object.keys(s).length)}function _me(t,e){return typeof t=="function"?t(e):t}function y8(){function t(o,s,c,u){const p={[o]:s,theme:c},m=u[o];if(!m)return{[o]:s};const{cssProperty:g=o,themeKey:w,transform:_,style:C}=m;if(s==null)return null;if(w==="typography"&&s==="inherit")return{[o]:s};const y=Wd(c,w)||{};return C?C(p):Hr(p,s,S=>{let T=Fb(y,_,S);return S===T&&typeof S=="string"&&(T=Fb(y,_,`${o}${S==="default"?"":fe(S)}`,S)),g===!1?T:{[g]:T}})}function e(o){var s;const{sx:c,theme:u={}}=o||{};if(!c)return null;const p=(s=u.unstable_sxConfig)!=null?s:qf;function m(g){let w=g;if(typeof g=="function")w=g(u);else if(typeof g!="object")return g;if(!w)return null;const _=k8(u.breakpoints),C=Object.keys(_);let y=_;return Object.keys(w).forEach(x=>{const S=_me(w[x],u);if(S!=null)if(typeof S=="object")if(p[x])y=cp(y,t(x,S,u,p));else{const T=Hr({theme:u},S,R=>({[x]:R}));yme(T,S)?y[x]=e({sx:S,theme:u}):y=cp(y,T)}else y=cp(y,t(x,S,u,p))}),b8(C,y)}return Array.isArray(c)?c.map(m):m(c)}return e}const fu=y8();fu.filterProps=["sx"];function _8(t,e){const o=this;return o.vars&&typeof o.getColorSchemeSelector=="function"?{[o.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:o.palette.mode===t?e:{}}const Cme=["breakpoints","palette","spacing","shape"];function Gf(t={},...e){const{breakpoints:o={},palette:s={},spacing:c,shape:u={}}=t,p=ye(t,Cme),m=m8(o),g=Hge(c);let w=Qo({breakpoints:m,direction:"ltr",components:{},palette:V({mode:"light"},s),spacing:g,shape:V({},Oge,u)},p);return w.applyStyles=_8,w=e.reduce((_,C)=>Qo(_,C),w),w.unstable_sxConfig=V({},qf,p==null?void 0:p.unstable_sxConfig),w.unstable_sx=function(C){return fu({sx:C,theme:this})},w}const Ame=Object.freeze(Object.defineProperty({__proto__:null,default:Gf,private_createBreakpoints:m8,unstable_applyStyles:_8},Symbol.toStringTag,{value:"Module"}));function xme(t){return Object.keys(t).length===0}function Eme(t=null){const e=z.useContext(Cw);return!e||xme(e)?t:e}const Sme=Gf();function Mw(t=Sme){return Eme(t)}function Tme({styles:t,themeId:e,defaultTheme:o={}}){const s=Mw(o),c=typeof t=="function"?t(e&&s[e]||s):t;return B.jsx(p8,{styles:c})}const Ime=["sx"],Dme=t=>{var e,o;const s={systemProps:{},otherProps:{}},c=(e=t==null||(o=t.theme)==null?void 0:o.unstable_sxConfig)!=null?e:qf;return Object.keys(t).forEach(u=>{c[u]?s.systemProps[u]=t[u]:s.otherProps[u]=t[u]}),s};function Pw(t){const{sx:e}=t,o=ye(t,Ime),{systemProps:s,otherProps:c}=Dme(o);let u;return Array.isArray(e)?u=[s,...e]:typeof e=="function"?u=(...p)=>{const m=e(...p);return hs(m)?V({},s,m):s}:u=V({},s,e),V({},c,{sx:u})}const Mme=Object.freeze(Object.defineProperty({__proto__:null,default:fu,extendSxProp:Pw,unstable_createStyleFunctionSx:y8,unstable_defaultSxConfig:qf},Symbol.toStringTag,{value:"Module"})),J3=t=>t,Pme=()=>{let t=J3;return{configure(e){t=e},generate(e){return t(e)},reset(){t=J3}}},l2=Pme();function C8(t){var e,o,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(e=0;e<c;e++)t[e]&&(o=C8(t[e]))&&(s&&(s+=" "),s+=o)}else for(o in t)t[o]&&(s&&(s+=" "),s+=o);return s}function Ce(){for(var t,e,o=0,s="",c=arguments.length;o<c;o++)(t=arguments[o])&&(e=C8(t))&&(s&&(s+=" "),s+=e);return s}const Nme=["className","component"];function Rme(t={}){const{themeId:e,defaultTheme:o,defaultClassName:s="MuiBox-root",generateClassName:c}=t,u=o2("div",{shouldForwardProp:m=>m!=="theme"&&m!=="sx"&&m!=="as"})(fu);return z.forwardRef(function(g,w){const _=Mw(o),C=Pw(g),{className:y,component:x="div"}=C,S=ye(C,Nme);return B.jsx(u,V({as:x,ref:w,className:Ce(y,c?c(s):s),theme:e&&_[e]||_},S))})}const A8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ue(t,e,o="Mui"){const s=A8[e];return s?`${o}-${s}`:`${l2.generate(t)}-${e}`}function $e(t,e,o="Mui"){const s={};return e.forEach(c=>{s[c]=Ue(t,c,o)}),s}var x8={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2=Symbol.for("react.element"),d2=Symbol.for("react.portal"),Nw=Symbol.for("react.fragment"),Rw=Symbol.for("react.strict_mode"),Ow=Symbol.for("react.profiler"),Bw=Symbol.for("react.provider"),Lw=Symbol.for("react.context"),Ome=Symbol.for("react.server_context"),jw=Symbol.for("react.forward_ref"),zw=Symbol.for("react.suspense"),Fw=Symbol.for("react.suspense_list"),$w=Symbol.for("react.memo"),Vw=Symbol.for("react.lazy"),Bme=Symbol.for("react.offscreen"),E8;E8=Symbol.for("react.module.reference");function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c2:switch(t=t.type,t){case Nw:case Ow:case Rw:case zw:case Fw:return t;default:switch(t=t&&t.$$typeof,t){case Ome:case Lw:case jw:case Vw:case $w:case Bw:return t;default:return e}}case d2:return e}}}Ft.ContextConsumer=Lw;Ft.ContextProvider=Bw;Ft.Element=c2;Ft.ForwardRef=jw;Ft.Fragment=Nw;Ft.Lazy=Vw;Ft.Memo=$w;Ft.Portal=d2;Ft.Profiler=Ow;Ft.StrictMode=Rw;Ft.Suspense=zw;Ft.SuspenseList=Fw;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return Yr(t)===Lw};Ft.isContextProvider=function(t){return Yr(t)===Bw};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c2};Ft.isForwardRef=function(t){return Yr(t)===jw};Ft.isFragment=function(t){return Yr(t)===Nw};Ft.isLazy=function(t){return Yr(t)===Vw};Ft.isMemo=function(t){return Yr(t)===$w};Ft.isPortal=function(t){return Yr(t)===d2};Ft.isProfiler=function(t){return Yr(t)===Ow};Ft.isStrictMode=function(t){return Yr(t)===Rw};Ft.isSuspense=function(t){return Yr(t)===zw};Ft.isSuspenseList=function(t){return Yr(t)===Fw};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nw||t===Ow||t===Rw||t===zw||t===Fw||t===Bme||typeof t=="object"&&t!==null&&(t.$$typeof===Vw||t.$$typeof===$w||t.$$typeof===Bw||t.$$typeof===Lw||t.$$typeof===jw||t.$$typeof===E8||t.getModuleId!==void 0)};Ft.typeOf=Yr;x8.exports=Ft;var X3=x8.exports;const Lme=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function S8(t){const e=`${t}`.match(Lme);return e&&e[1]||""}function T8(t,e=""){return t.displayName||t.name||S8(t)||e}function eL(t,e,o){const s=T8(e);return t.displayName||(s!==""?`${o}(${s})`:o)}function jme(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return T8(t,"Component");if(typeof t=="object")switch(t.$$typeof){case X3.ForwardRef:return eL(t,t.render,"ForwardRef");case X3.Memo:return eL(t,t.type,"memo");default:return}}}const zme=Object.freeze(Object.defineProperty({__proto__:null,default:jme,getFunctionName:S8},Symbol.toStringTag,{value:"Module"})),Fme=["ownerState"],$me=["variants"],Vme=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Ume(t){return Object.keys(t).length===0}function Hme(t){return typeof t=="string"&&t.charCodeAt(0)>96}function mC(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Wme=Gf(),qme=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function sk({defaultTheme:t,theme:e,themeId:o}){return Ume(e)?t:e[o]||e}function Gme(t){return t?(e,o)=>o[t]:null}function Lk(t,e){let{ownerState:o}=e,s=ye(e,Fme);const c=typeof t=="function"?t(V({ownerState:o},s)):t;if(Array.isArray(c))return c.flatMap(u=>Lk(u,V({ownerState:o},s)));if(c&&typeof c=="object"&&Array.isArray(c.variants)){const{variants:u=[]}=c;let m=ye(c,$me);return u.forEach(g=>{let w=!0;typeof g.props=="function"?w=g.props(V({ownerState:o},s,o)):Object.keys(g.props).forEach(_=>{(o==null?void 0:o[_])!==g.props[_]&&s[_]!==g.props[_]&&(w=!1)}),w&&(Array.isArray(m)||(m=[m]),m.push(typeof g.style=="function"?g.style(V({ownerState:o},s,o)):g.style))}),m}return c}function Kme(t={}){const{themeId:e,defaultTheme:o=Wme,rootShouldForwardProp:s=mC,slotShouldForwardProp:c=mC}=t,u=p=>fu(V({},p,{theme:sk(V({},p,{defaultTheme:o,themeId:e}))}));return u.__mui_systemSx=!0,(p,m={})=>{f8(p,$=>$.filter(H=>!(H!=null&&H.__mui_systemSx)));const{name:g,slot:w,skipVariantsResolver:_,skipSx:C,overridesResolver:y=Gme(qme(w))}=m,x=ye(m,Vme),S=_!==void 0?_:w&&w!=="Root"&&w!=="root"||!1,T=C||!1;let R,D=mC;w==="Root"||w==="root"?D=s:w?D=c:Hme(p)&&(D=void 0);const N=o2(p,V({shouldForwardProp:D,label:R},x)),O=$=>typeof $=="function"&&$.__emotion_real!==$||hs($)?H=>Lk($,V({},H,{theme:sk({theme:H.theme,defaultTheme:o,themeId:e})})):$,j=($,...H)=>{let M=O($);const U=H?H.map(O):[];g&&y&&U.push(Z=>{const re=sk(V({},Z,{defaultTheme:o,themeId:e}));if(!re.components||!re.components[g]||!re.components[g].styleOverrides)return null;const J=re.components[g].styleOverrides,X={};return Object.entries(J).forEach(([oe,ie])=>{X[oe]=Lk(ie,V({},Z,{theme:re}))}),y(Z,X)}),g&&!S&&U.push(Z=>{var re;const J=sk(V({},Z,{defaultTheme:o,themeId:e})),X=J==null||(re=J.components)==null||(re=re[g])==null?void 0:re.variants;return Lk({variants:X},V({},Z,{theme:J}))}),T||U.push(u);const G=U.length-H.length;if(Array.isArray($)&&G>0){const Z=new Array(G).fill("");M=[...$,...Z],M.raw=[...$.raw,...Z]}const Y=N(M,...U);return p.muiName&&(Y.muiName=p.muiName),Y};return N.withConfig&&(j.withConfig=N.withConfig),j}}const Yme=Kme();function u2(t,e){const o=V({},e);return Object.keys(t).forEach(s=>{if(s.toString().match(/^(components|slots)$/))o[s]=V({},t[s],o[s]);else if(s.toString().match(/^(componentsProps|slotProps)$/)){const c=t[s]||{},u=e[s];o[s]={},!u||!Object.keys(u)?o[s]=c:!c||!Object.keys(c)?o[s]=u:(o[s]=V({},u),Object.keys(c).forEach(p=>{o[s][p]=u2(c[p],u[p])}))}else o[s]===void 0&&(o[s]=t[s])}),o}function Qme(t){const{theme:e,name:o,props:s}=t;return!e||!e.components||!e.components[o]||!e.components[o].defaultProps?s:u2(e.components[o].defaultProps,s)}function I8({props:t,name:e,defaultTheme:o,themeId:s}){let c=Mw(o);return s&&(c=c[s]||c),Qme({theme:c,name:e,props:t})}const ki=typeof window<"u"?z.useLayoutEffect:z.useEffect;function Zme(t,e=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,o))}const Jme=Object.freeze(Object.defineProperty({__proto__:null,default:Zme},Symbol.toStringTag,{value:"Module"}));function u1(...t){return t.reduce((e,o)=>o==null?e:function(...c){e.apply(this,c),o.apply(this,c)},()=>{})}function h2(t,e=166){let o;function s(...c){const u=()=>{t.apply(this,c)};clearTimeout(o),o=setTimeout(u,e)}return s.clear=()=>{clearTimeout(o)},s}function Xme(t,e){return()=>null}function dp(t,e){var o,s;return z.isValidElement(t)&&e.indexOf((o=t.type.muiName)!=null?o:(s=t.type)==null||(s=s._payload)==null||(s=s.value)==null?void 0:s.muiName)!==-1}function Hn(t){return t&&t.ownerDocument||document}function Ta(t){return Hn(t).defaultView||window}function eke(t,e){return()=>null}function $b(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let tL=0;function tke(t){const[e,o]=z.useState(t),s=t||e;return z.useEffect(()=>{e==null&&(tL+=1,o(`mui-${tL}`))},[e]),s}const nL=Hk.useId;function Kf(t){if(nL!==void 0){const e=nL();return t??e}return tke(t)}function nke(t,e,o,s,c){return null}function Vb({controlled:t,default:e,name:o,state:s="value"}){const{current:c}=z.useRef(t!==void 0),[u,p]=z.useState(e),m=c?t:u,g=z.useCallback(w=>{c||p(w)},[]);return[m,g]}function jr(t){const e=z.useRef(t);return ki(()=>{e.current=t}),z.useRef((...o)=>(0,e.current)(...o)).current}function gn(...t){return z.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(o=>{$b(o,e)})},t)}const oL={};function oke(t,e){const o=z.useRef(oL);return o.current===oL&&(o.current=t(e)),o}const rke=[];function ike(t){z.useEffect(t,rke)}class Yf{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Yf}start(e,o){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,o()},e)}}function Cl(){const t=oke(Yf.create).current;return ike(t.disposeEffect),t}let Uw=!0,h1=!1;const ske=new Yf,ake={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function lke(t){const{type:e,tagName:o}=t;return!!(o==="INPUT"&&ake[e]&&!t.readOnly||o==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function cke(t){t.metaKey||t.altKey||t.ctrlKey||(Uw=!0)}function kC(){Uw=!1}function dke(){this.visibilityState==="hidden"&&h1&&(Uw=!0)}function uke(t){t.addEventListener("keydown",cke,!0),t.addEventListener("mousedown",kC,!0),t.addEventListener("pointerdown",kC,!0),t.addEventListener("touchstart",kC,!0),t.addEventListener("visibilitychange",dke,!0)}function hke(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Uw||lke(e)}function Hw(){const t=z.useCallback(c=>{c!=null&&uke(c.ownerDocument)},[]),e=z.useRef(!1);function o(){return e.current?(h1=!0,ske.start(100,()=>{h1=!1}),e.current=!1,!0):!1}function s(c){return hke(c)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:s,onBlur:o,ref:t}}function D8(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function He(t,e,o=void 0){const s={};return Object.keys(t).forEach(c=>{s[c]=t[c].reduce((u,p)=>{if(p){const m=e(p);m!==""&&u.push(m),o&&o[p]&&u.push(o[p])}return u},[]).join(" ")}),s}const pke=z.createContext(),M8=()=>{const t=z.useContext(pke);return t??!1},fke=["className","component","disableGutters","fixed","maxWidth","classes"],gke=Gf(),mke=Yme("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[`maxWidth${fe(String(o.maxWidth))}`],o.fixed&&e.fixed,o.disableGutters&&e.disableGutters]}}),kke=t=>I8({props:t,name:"MuiContainer",defaultTheme:gke}),bke=(t,e)=>{const o=g=>Ue(e,g),{classes:s,fixed:c,disableGutters:u,maxWidth:p}=t,m={root:["root",p&&`maxWidth${fe(String(p))}`,c&&"fixed",u&&"disableGutters"]};return He(m,o,s)};function wke(t={}){const{createStyledComponent:e=mke,useThemeProps:o=kke,componentName:s="MuiContainer"}=t,c=e(({theme:p,ownerState:m})=>V({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!m.disableGutters&&{paddingLeft:p.spacing(2),paddingRight:p.spacing(2),[p.breakpoints.up("sm")]:{paddingLeft:p.spacing(3),paddingRight:p.spacing(3)}}),({theme:p,ownerState:m})=>m.fixed&&Object.keys(p.breakpoints.values).reduce((g,w)=>{const _=w,C=p.breakpoints.values[_];return C!==0&&(g[p.breakpoints.up(_)]={maxWidth:`${C}${p.breakpoints.unit}`}),g},{}),({theme:p,ownerState:m})=>V({},m.maxWidth==="xs"&&{[p.breakpoints.up("xs")]:{maxWidth:Math.max(p.breakpoints.values.xs,444)}},m.maxWidth&&m.maxWidth!=="xs"&&{[p.breakpoints.up(m.maxWidth)]:{maxWidth:`${p.breakpoints.values[m.maxWidth]}${p.breakpoints.unit}`}}));return z.forwardRef(function(m,g){const w=o(m),{className:_,component:C="div",disableGutters:y=!1,fixed:x=!1,maxWidth:S="lg"}=w,T=ye(w,fke),R=V({},w,{component:C,disableGutters:y,fixed:x,maxWidth:S}),D=bke(R,s);return B.jsx(c,V({as:C,ownerState:R,className:Ce(D.root,_),ref:g},T))})}function vke(t,e){return V({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Dn={},P8={exports:{}};(function(t){function e(o){return o&&o.__esModule?o:{default:o}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(P8);var Qr=P8.exports;const yke=qi(Cfe),_ke=qi(Jme);var N8=Qr;Object.defineProperty(Dn,"__esModule",{value:!0});var Nt=Dn.alpha=L8;Dn.blend=Rke;Dn.colorChannel=void 0;var Ub=Dn.darken=f2;Dn.decomposeColor=Wr;var Cke=Dn.emphasize=j8,Ake=Dn.getContrastRatio=Ike;Dn.getLuminance=Wb;Dn.hexToRgb=R8;Dn.hslToRgb=B8;var Hb=Dn.lighten=g2;Dn.private_safeAlpha=Dke;Dn.private_safeColorChannel=void 0;Dn.private_safeDarken=Mke;Dn.private_safeEmphasize=Nke;Dn.private_safeLighten=Pke;Dn.recomposeColor=gu;Dn.rgbToHex=Tke;var rL=N8(yke),xke=N8(_ke);function p2(t,e=0,o=1){return(0,xke.default)(t,e,o)}function R8(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let o=t.match(e);return o&&o[0].length===1&&(o=o.map(s=>s+s)),o?`rgb${o.length===4?"a":""}(${o.map((s,c)=>c<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function Eke(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Wr(t){if(t.type)return t;if(t.charAt(0)==="#")return Wr(R8(t));const e=t.indexOf("("),o=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(o)===-1)throw new Error((0,rL.default)(9,t));let s=t.substring(e+1,t.length-1),c;if(o==="color"){if(s=s.split(" "),c=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(c)===-1)throw new Error((0,rL.default)(10,c))}else s=s.split(",");return s=s.map(u=>parseFloat(u)),{type:o,values:s,colorSpace:c}}const O8=t=>{const e=Wr(t);return e.values.slice(0,3).map((o,s)=>e.type.indexOf("hsl")!==-1&&s!==0?`${o}%`:o).join(" ")};Dn.colorChannel=O8;const Ske=(t,e)=>{try{return O8(t)}catch{return t}};Dn.private_safeColorChannel=Ske;function gu(t){const{type:e,colorSpace:o}=t;let{values:s}=t;return e.indexOf("rgb")!==-1?s=s.map((c,u)=>u<3?parseInt(c,10):c):e.indexOf("hsl")!==-1&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),e.indexOf("color")!==-1?s=`${o} ${s.join(" ")}`:s=`${s.join(", ")}`,`${e}(${s})`}function Tke(t){if(t.indexOf("#")===0)return t;const{values:e}=Wr(t);return`#${e.map((o,s)=>Eke(s===3?Math.round(255*o):o)).join("")}`}function B8(t){t=Wr(t);const{values:e}=t,o=e[0],s=e[1]/100,c=e[2]/100,u=s*Math.min(c,1-c),p=(w,_=(w+o/30)%12)=>c-u*Math.max(Math.min(_-3,9-_,1),-1);let m="rgb";const g=[Math.round(p(0)*255),Math.round(p(8)*255),Math.round(p(4)*255)];return t.type==="hsla"&&(m+="a",g.push(e[3])),gu({type:m,values:g})}function Wb(t){t=Wr(t);let e=t.type==="hsl"||t.type==="hsla"?Wr(B8(t)).values:t.values;return e=e.map(o=>(t.type!=="color"&&(o/=255),o<=.03928?o/12.92:((o+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Ike(t,e){const o=Wb(t),s=Wb(e);return(Math.max(o,s)+.05)/(Math.min(o,s)+.05)}function L8(t,e){return t=Wr(t),e=p2(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,gu(t)}function Dke(t,e,o){try{return L8(t,e)}catch{return t}}function f2(t,e){if(t=Wr(t),e=p2(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let o=0;o<3;o+=1)t.values[o]*=1-e;return gu(t)}function Mke(t,e,o){try{return f2(t,e)}catch{return t}}function g2(t,e){if(t=Wr(t),e=p2(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let o=0;o<3;o+=1)t.values[o]+=(255-t.values[o])*e;else if(t.type.indexOf("color")!==-1)for(let o=0;o<3;o+=1)t.values[o]+=(1-t.values[o])*e;return gu(t)}function Pke(t,e,o){try{return g2(t,e)}catch{return t}}function j8(t,e=.15){return Wb(t)>.5?f2(t,e):g2(t,e)}function Nke(t,e,o){try{return j8(t,e)}catch{return t}}function Rke(t,e,o,s=1){const c=(g,w)=>Math.round((g**(1/s)*(1-o)+w**(1/s)*o)**s),u=Wr(t),p=Wr(e),m=[c(u.values[0],p.values[0]),c(u.values[1],p.values[1]),c(u.values[2],p.values[2])];return gu({type:"rgb",values:m})}const Oke=["mode","contrastThreshold","tonalOffset"],iL={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tf.white,default:tf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},bC={text:{primary:tf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function sL(t,e,o,s){const c=s.light||s,u=s.dark||s*1.5;t[e]||(t.hasOwnProperty(o)?t[e]=t[o]:e==="light"?t.light=Hb(t.main,c):e==="dark"&&(t.dark=Ub(t.main,u)))}function Bke(t="light"){return t==="dark"?{main:Vc[200],light:Vc[50],dark:Vc[400]}:{main:Vc[700],light:Vc[400],dark:Vc[800]}}function Lke(t="light"){return t==="dark"?{main:$c[200],light:$c[50],dark:$c[400]}:{main:$c[500],light:$c[300],dark:$c[700]}}function jke(t="light"){return t==="dark"?{main:Fc[500],light:Fc[300],dark:Fc[700]}:{main:Fc[700],light:Fc[400],dark:Fc[800]}}function zke(t="light"){return t==="dark"?{main:Uc[400],light:Uc[300],dark:Uc[700]}:{main:Uc[700],light:Uc[500],dark:Uc[900]}}function Fke(t="light"){return t==="dark"?{main:Hc[400],light:Hc[300],dark:Hc[700]}:{main:Hc[800],light:Hc[500],dark:Hc[900]}}function $ke(t="light"){return t==="dark"?{main:xh[400],light:xh[300],dark:xh[700]}:{main:"#ed6c02",light:xh[500],dark:xh[900]}}function Vke(t){const{mode:e="light",contrastThreshold:o=3,tonalOffset:s=.2}=t,c=ye(t,Oke),u=t.primary||Bke(e),p=t.secondary||Lke(e),m=t.error||jke(e),g=t.info||zke(e),w=t.success||Fke(e),_=t.warning||$ke(e);function C(T){return Ake(T,bC.text.primary)>=o?bC.text.primary:iL.text.primary}const y=({color:T,name:R,mainShade:D=500,lightShade:N=300,darkShade:O=700})=>{if(T=V({},T),!T.main&&T[D]&&(T.main=T[D]),!T.hasOwnProperty("main"))throw new Error(Hl(11,R?` (${R})`:"",D));if(typeof T.main!="string")throw new Error(Hl(12,R?` (${R})`:"",JSON.stringify(T.main)));return sL(T,"light",N,s),sL(T,"dark",O,s),T.contrastText||(T.contrastText=C(T.main)),T},x={dark:bC,light:iL};return Qo(V({common:V({},tf),mode:e,primary:y({color:u,name:"primary"}),secondary:y({color:p,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:m,name:"error"}),warning:y({color:_,name:"warning"}),info:y({color:g,name:"info"}),success:y({color:w,name:"success"}),grey:_fe,contrastThreshold:o,getContrastText:C,augmentColor:y,tonalOffset:s},x[e]),c)}const Uke=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Hke(t){return Math.round(t*1e5)/1e5}const aL={textTransform:"uppercase"},lL='"Roboto", "Helvetica", "Arial", sans-serif';function Wke(t,e){const o=typeof e=="function"?e(t):e,{fontFamily:s=lL,fontSize:c=14,fontWeightLight:u=300,fontWeightRegular:p=400,fontWeightMedium:m=500,fontWeightBold:g=700,htmlFontSize:w=16,allVariants:_,pxToRem:C}=o,y=ye(o,Uke),x=c/14,S=C||(D=>`${D/w*x}rem`),T=(D,N,O,j,$)=>V({fontFamily:s,fontWeight:D,fontSize:S(N),lineHeight:O},s===lL?{letterSpacing:`${Hke(j/N)}em`}:{},$,_),R={h1:T(u,96,1.167,-1.5),h2:T(u,60,1.2,-.5),h3:T(p,48,1.167,0),h4:T(p,34,1.235,.25),h5:T(p,24,1.334,0),h6:T(m,20,1.6,.15),subtitle1:T(p,16,1.75,.15),subtitle2:T(m,14,1.57,.1),body1:T(p,16,1.5,.15),body2:T(p,14,1.43,.15),button:T(m,14,1.75,.4,aL),caption:T(p,12,1.66,.4),overline:T(p,12,2.66,1,aL),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Qo(V({htmlFontSize:w,pxToRem:S,fontFamily:s,fontSize:c,fontWeightLight:u,fontWeightRegular:p,fontWeightMedium:m,fontWeightBold:g},R),y,{clone:!1})}const qke=.2,Gke=.14,Kke=.12;function ln(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${qke})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Gke})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Kke})`].join(",")}const Yke=["none",ln(0,2,1,-1,0,1,1,0,0,1,3,0),ln(0,3,1,-2,0,2,2,0,0,1,5,0),ln(0,3,3,-2,0,3,4,0,0,1,8,0),ln(0,2,4,-1,0,4,5,0,0,1,10,0),ln(0,3,5,-1,0,5,8,0,0,1,14,0),ln(0,3,5,-1,0,6,10,0,0,1,18,0),ln(0,4,5,-2,0,7,10,1,0,2,16,1),ln(0,5,5,-3,0,8,10,1,0,3,14,2),ln(0,5,6,-3,0,9,12,1,0,3,16,2),ln(0,6,6,-3,0,10,14,1,0,4,18,3),ln(0,6,7,-4,0,11,15,1,0,4,20,3),ln(0,7,8,-4,0,12,17,2,0,5,22,4),ln(0,7,8,-4,0,13,19,2,0,5,24,4),ln(0,7,9,-4,0,14,21,2,0,5,26,4),ln(0,8,9,-5,0,15,22,2,0,6,28,5),ln(0,8,10,-5,0,16,24,2,0,6,30,5),ln(0,8,11,-5,0,17,26,2,0,6,32,5),ln(0,9,11,-5,0,18,28,2,0,7,34,6),ln(0,9,12,-6,0,19,29,2,0,7,36,6),ln(0,10,13,-6,0,20,31,3,0,8,38,7),ln(0,10,13,-6,0,21,33,3,0,8,40,7),ln(0,10,14,-6,0,22,35,3,0,8,42,7),ln(0,11,14,-7,0,23,36,3,0,9,44,8),ln(0,11,15,-7,0,24,38,3,0,9,46,8)],Qke=["duration","easing","delay"],Zke={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Jke={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function cL(t){return`${Math.round(t)}ms`}function Xke(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function ebe(t){const e=V({},Zke,t.easing),o=V({},Jke,t.duration);return V({getAutoHeightDuration:Xke,create:(c=["all"],u={})=>{const{duration:p=o.standard,easing:m=e.easeInOut,delay:g=0}=u;return ye(u,Qke),(Array.isArray(c)?c:[c]).map(w=>`${w} ${typeof p=="string"?p:cL(p)} ${m} ${typeof g=="string"?g:cL(g)}`).join(",")}},t,{easing:e,duration:o})}const tbe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},nbe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function z8(t={},...e){const{mixins:o={},palette:s={},transitions:c={},typography:u={}}=t,p=ye(t,nbe);if(t.vars)throw new Error(Hl(18));const m=Vke(s),g=Gf(t);let w=Qo(g,{mixins:vke(g.breakpoints,o),palette:m,shadows:Yke.slice(),typography:Wke(m,u),transitions:ebe(c),zIndex:V({},tbe)});return w=Qo(w,p),w=e.reduce((_,C)=>Qo(_,C),w),w.unstable_sxConfig=V({},qf,p==null?void 0:p.unstable_sxConfig),w.unstable_sx=function(C){return fu({sx:C,theme:this})},w}const Ww=z8();function mu(){const t=Mw(Ww);return t[Vf]||t}function We({props:t,name:e}){return I8({props:t,name:e,defaultTheme:Ww,themeId:Vf})}var Qf={},wC={exports:{}},dL;function obe(){return dL||(dL=1,function(t){function e(o,s){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(s.indexOf(u)>=0)continue;c[u]=o[u]}return c}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(wC)),wC.exports}const F8=qi(Mge),rbe=qi(Pge),ibe=qi(Lge),sbe=qi(zme),abe=qi(Ame),lbe=qi(Mme);var ku=Qr;Object.defineProperty(Qf,"__esModule",{value:!0});var cbe=Qf.default=_be;Qf.shouldForwardProp=jk;Qf.systemDefaultTheme=void 0;var Mr=ku(c8()),p1=ku(obe()),uL=mbe(F8),dbe=rbe;ku(ibe);ku(sbe);var ube=ku(abe),hbe=ku(lbe);const pbe=["ownerState"],fbe=["variants"],gbe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function $8(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,o=new WeakMap;return($8=function(s){return s?o:e})(t)}function mbe(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=$8(e);if(o&&o.has(t))return o.get(t);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)){var p=c?Object.getOwnPropertyDescriptor(t,u):null;p&&(p.get||p.set)?Object.defineProperty(s,u,p):s[u]=t[u]}return s.default=t,o&&o.set(t,s),s}function kbe(t){return Object.keys(t).length===0}function bbe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function jk(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const wbe=Qf.systemDefaultTheme=(0,ube.default)(),vbe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ak({defaultTheme:t,theme:e,themeId:o}){return kbe(e)?t:e[o]||e}function ybe(t){return t?(e,o)=>o[t]:null}function zk(t,e){let{ownerState:o}=e,s=(0,p1.default)(e,pbe);const c=typeof t=="function"?t((0,Mr.default)({ownerState:o},s)):t;if(Array.isArray(c))return c.flatMap(u=>zk(u,(0,Mr.default)({ownerState:o},s)));if(c&&typeof c=="object"&&Array.isArray(c.variants)){const{variants:u=[]}=c;let m=(0,p1.default)(c,fbe);return u.forEach(g=>{let w=!0;typeof g.props=="function"?w=g.props((0,Mr.default)({ownerState:o},s,o)):Object.keys(g.props).forEach(_=>{(o==null?void 0:o[_])!==g.props[_]&&s[_]!==g.props[_]&&(w=!1)}),w&&(Array.isArray(m)||(m=[m]),m.push(typeof g.style=="function"?g.style((0,Mr.default)({ownerState:o},s,o)):g.style))}),m}return c}function _be(t={}){const{themeId:e,defaultTheme:o=wbe,rootShouldForwardProp:s=jk,slotShouldForwardProp:c=jk}=t,u=p=>(0,hbe.default)((0,Mr.default)({},p,{theme:ak((0,Mr.default)({},p,{defaultTheme:o,themeId:e}))}));return u.__mui_systemSx=!0,(p,m={})=>{(0,uL.internal_processStyles)(p,$=>$.filter(H=>!(H!=null&&H.__mui_systemSx)));const{name:g,slot:w,skipVariantsResolver:_,skipSx:C,overridesResolver:y=ybe(vbe(w))}=m,x=(0,p1.default)(m,gbe),S=_!==void 0?_:w&&w!=="Root"&&w!=="root"||!1,T=C||!1;let R,D=jk;w==="Root"||w==="root"?D=s:w?D=c:bbe(p)&&(D=void 0);const N=(0,uL.default)(p,(0,Mr.default)({shouldForwardProp:D,label:R},x)),O=$=>typeof $=="function"&&$.__emotion_real!==$||(0,dbe.isPlainObject)($)?H=>zk($,(0,Mr.default)({},H,{theme:ak({theme:H.theme,defaultTheme:o,themeId:e})})):$,j=($,...H)=>{let M=O($);const U=H?H.map(O):[];g&&y&&U.push(Z=>{const re=ak((0,Mr.default)({},Z,{defaultTheme:o,themeId:e}));if(!re.components||!re.components[g]||!re.components[g].styleOverrides)return null;const J=re.components[g].styleOverrides,X={};return Object.entries(J).forEach(([oe,ie])=>{X[oe]=zk(ie,(0,Mr.default)({},Z,{theme:re}))}),y(Z,X)}),g&&!S&&U.push(Z=>{var re;const J=ak((0,Mr.default)({},Z,{defaultTheme:o,themeId:e})),X=J==null||(re=J.components)==null||(re=re[g])==null?void 0:re.variants;return zk({variants:X},(0,Mr.default)({},Z,{theme:J}))}),T||U.push(u);const G=U.length-H.length;if(Array.isArray($)&&G>0){const Z=new Array(G).fill("");M=[...$,...Z],M.raw=[...$.raw,...Z]}const Y=N(M,...U);return p.muiName&&(Y.muiName=p.muiName),Y};return N.withConfig&&(j.withConfig=N.withConfig),j}}function V8(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Zr=t=>V8(t)&&t!=="classes",ke=cbe({themeId:Vf,defaultTheme:Ww,rootShouldForwardProp:Zr}),hL=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Cbe(t){return Ue("MuiSvgIcon",t)}$e("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Abe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],xbe=t=>{const{color:e,fontSize:o,classes:s}=t,c={root:["root",e!=="inherit"&&`color${fe(e)}`,`fontSize${fe(o)}`]};return He(c,Cbe,s)},Ebe=ke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.color!=="inherit"&&e[`color${fe(o.color)}`],e[`fontSize${fe(o.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var o,s,c,u,p,m,g,w,_,C,y,x,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(o=t.transitions)==null||(s=o.create)==null?void 0:s.call(o,"fill",{duration:(c=t.transitions)==null||(c=c.duration)==null?void 0:c.shorter}),fontSize:{inherit:"inherit",small:((u=t.typography)==null||(p=u.pxToRem)==null?void 0:p.call(u,20))||"1.25rem",medium:((m=t.typography)==null||(g=m.pxToRem)==null?void 0:g.call(m,24))||"1.5rem",large:((w=t.typography)==null||(_=w.pxToRem)==null?void 0:_.call(w,35))||"2.1875rem"}[e.fontSize],color:(C=(y=(t.vars||t).palette)==null||(y=y[e.color])==null?void 0:y.main)!=null?C:{action:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.active,disabled:(S=(t.vars||t).palette)==null||(S=S.action)==null?void 0:S.disabled,inherit:void 0}[e.color]}}),f1=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiSvgIcon"}),{children:c,className:u,color:p="inherit",component:m="svg",fontSize:g="medium",htmlColor:w,inheritViewBox:_=!1,titleAccess:C,viewBox:y="0 0 24 24"}=s,x=ye(s,Abe),S=z.isValidElement(c)&&c.type==="svg",T=V({},s,{color:p,component:m,fontSize:g,instanceFontSize:e.fontSize,inheritViewBox:_,viewBox:y,hasSvgAsChild:S}),R={};_||(R.viewBox=y);const D=xbe(T);return B.jsxs(Ebe,V({as:m,className:Ce(D.root,u),focusable:"false",color:w,"aria-hidden":C?void 0:!0,role:C?"img":void 0,ref:o},R,x,S&&c.props,{ownerState:T,children:[S?c.props.children:c,C?B.jsx("title",{children:C}):null]}))});f1.muiName="SvgIcon";function ja(t,e){function o(s,c){return B.jsx(f1,V({"data-testid":`${e}Icon`,ref:c},s,{children:t}))}return o.muiName=f1.muiName,z.memo(z.forwardRef(o))}const Sbe={configure:t=>{l2.configure(t)}},Tbe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:fe,createChainedFunction:u1,createSvgIcon:ja,debounce:h2,deprecatedPropType:Xme,isMuiElement:dp,ownerDocument:Hn,ownerWindow:Ta,requirePropFactory:eke,setRef:$b,unstable_ClassNameGenerator:Sbe,unstable_useEnhancedEffect:ki,unstable_useId:Kf,unsupportedProp:nke,useControlled:Vb,useEventCallback:jr,useForkRef:gn,useIsFocusVisible:Hw},Symbol.toStringTag,{value:"Module"}));function Ibe(t){return We}function g1(t,e){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},g1(t,e)}function U8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,g1(t,e)}const pL={disabled:!1},qb=ur.createContext(null);var Dbe=function(e){return e.scrollTop},Wh="unmounted",fl="exited",gl="entering",Yc="entered",m1="exiting",Ki=function(t){U8(e,t);function e(s,c){var u;u=t.call(this,s,c)||this;var p=c,m=p&&!p.isMounting?s.enter:s.appear,g;return u.appearStatus=null,s.in?m?(g=fl,u.appearStatus=gl):g=Yc:s.unmountOnExit||s.mountOnEnter?g=Wh:g=fl,u.state={status:g},u.nextCallback=null,u}e.getDerivedStateFromProps=function(c,u){var p=c.in;return p&&u.status===Wh?{status:fl}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(c){var u=null;if(c!==this.props){var p=this.state.status;this.props.in?p!==gl&&p!==Yc&&(u=gl):(p===gl||p===Yc)&&(u=m1)}this.updateStatus(!1,u)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var c=this.props.timeout,u,p,m;return u=p=m=c,c!=null&&typeof c!="number"&&(u=c.exit,p=c.enter,m=c.appear!==void 0?c.appear:p),{exit:u,enter:p,appear:m}},o.updateStatus=function(c,u){if(c===void 0&&(c=!1),u!==null)if(this.cancelNextCallback(),u===gl){if(this.props.unmountOnExit||this.props.mountOnEnter){var p=this.props.nodeRef?this.props.nodeRef.current:qm.findDOMNode(this);p&&Dbe(p)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fl&&this.setState({status:Wh})},o.performEnter=function(c){var u=this,p=this.props.enter,m=this.context?this.context.isMounting:c,g=this.props.nodeRef?[m]:[qm.findDOMNode(this),m],w=g[0],_=g[1],C=this.getTimeouts(),y=m?C.appear:C.enter;if(!c&&!p||pL.disabled){this.safeSetState({status:Yc},function(){u.props.onEntered(w)});return}this.props.onEnter(w,_),this.safeSetState({status:gl},function(){u.props.onEntering(w,_),u.onTransitionEnd(y,function(){u.safeSetState({status:Yc},function(){u.props.onEntered(w,_)})})})},o.performExit=function(){var c=this,u=this.props.exit,p=this.getTimeouts(),m=this.props.nodeRef?void 0:qm.findDOMNode(this);if(!u||pL.disabled){this.safeSetState({status:fl},function(){c.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:m1},function(){c.props.onExiting(m),c.onTransitionEnd(p.exit,function(){c.safeSetState({status:fl},function(){c.props.onExited(m)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(c,u){u=this.setNextCallback(u),this.setState(c,u)},o.setNextCallback=function(c){var u=this,p=!0;return this.nextCallback=function(m){p&&(p=!1,u.nextCallback=null,c(m))},this.nextCallback.cancel=function(){p=!1},this.nextCallback},o.onTransitionEnd=function(c,u){this.setNextCallback(u);var p=this.props.nodeRef?this.props.nodeRef.current:qm.findDOMNode(this),m=c==null&&!this.props.addEndListener;if(!p||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[p,this.nextCallback],w=g[0],_=g[1];this.props.addEndListener(w,_)}c!=null&&setTimeout(this.nextCallback,c)},o.render=function(){var c=this.state.status;if(c===Wh)return null;var u=this.props,p=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=ye(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ur.createElement(qb.Provider,{value:null},typeof p=="function"?p(c,m):ur.cloneElement(ur.Children.only(p),m))},e}(ur.Component);Ki.contextType=qb;Ki.propTypes={};function Wc(){}Ki.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wc,onEntering:Wc,onEntered:Wc,onExit:Wc,onExiting:Wc,onExited:Wc};Ki.UNMOUNTED=Wh;Ki.EXITED=fl;Ki.ENTERING=gl;Ki.ENTERED=Yc;Ki.EXITING=m1;function Mbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m2(t,e){var o=function(u){return e&&z.isValidElement(u)?e(u):u},s=Object.create(null);return t&&z.Children.map(t,function(c){return c}).forEach(function(c){s[c.key]=o(c)}),s}function Pbe(t,e){t=t||{},e=e||{};function o(_){return _ in e?e[_]:t[_]}var s=Object.create(null),c=[];for(var u in t)u in e?c.length&&(s[u]=c,c=[]):c.push(u);var p,m={};for(var g in e){if(s[g])for(p=0;p<s[g].length;p++){var w=s[g][p];m[s[g][p]]=o(w)}m[g]=o(g)}for(p=0;p<c.length;p++)m[c[p]]=o(c[p]);return m}function Al(t,e,o){return o[e]!=null?o[e]:t.props[e]}function Nbe(t,e){return m2(t.children,function(o){return z.cloneElement(o,{onExited:e.bind(null,o),in:!0,appear:Al(o,"appear",t),enter:Al(o,"enter",t),exit:Al(o,"exit",t)})})}function Rbe(t,e,o){var s=m2(t.children),c=Pbe(e,s);return Object.keys(c).forEach(function(u){var p=c[u];if(z.isValidElement(p)){var m=u in e,g=u in s,w=e[u],_=z.isValidElement(w)&&!w.props.in;g&&(!m||_)?c[u]=z.cloneElement(p,{onExited:o.bind(null,p),in:!0,exit:Al(p,"exit",t),enter:Al(p,"enter",t)}):!g&&m&&!_?c[u]=z.cloneElement(p,{in:!1}):g&&m&&z.isValidElement(w)&&(c[u]=z.cloneElement(p,{onExited:o.bind(null,p),in:w.props.in,exit:Al(p,"exit",t),enter:Al(p,"enter",t)}))}}),c}var Obe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Bbe={component:"div",childFactory:function(e){return e}},k2=function(t){U8(e,t);function e(s,c){var u;u=t.call(this,s,c)||this;var p=u.handleExited.bind(Mbe(u));return u.state={contextValue:{isMounting:!0},handleExited:p,firstRender:!0},u}var o=e.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(c,u){var p=u.children,m=u.handleExited,g=u.firstRender;return{children:g?Nbe(c,m):Rbe(c,p,m),firstRender:!1}},o.handleExited=function(c,u){var p=m2(this.props.children);c.key in p||(c.props.onExited&&c.props.onExited(u),this.mounted&&this.setState(function(m){var g=V({},m.children);return delete g[c.key],{children:g}}))},o.render=function(){var c=this.props,u=c.component,p=c.childFactory,m=ye(c,["component","childFactory"]),g=this.state.contextValue,w=Obe(this.state.children).map(p);return delete m.appear,delete m.enter,delete m.exit,u===null?ur.createElement(qb.Provider,{value:g},w):ur.createElement(qb.Provider,{value:g},ur.createElement(u,m,w))},e}(ur.Component);k2.propTypes={};k2.defaultProps=Bbe;const H8=t=>t.scrollTop;function Gb(t,e){var o,s;const{timeout:c,easing:u,style:p={}}=t;return{duration:(o=p.transitionDuration)!=null?o:typeof c=="number"?c:c[e.mode]||0,easing:(s=p.transitionTimingFunction)!=null?s:typeof u=="object"?u[e.mode]:u,delay:p.transitionDelay}}function Lbe(t){return Ue("MuiPaper",t)}$e("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const jbe=["className","component","elevation","square","variant"],zbe=t=>{const{square:e,elevation:o,variant:s,classes:c}=t,u={root:["root",s,!e&&"rounded",s==="elevation"&&`elevation${o}`]};return He(u,Lbe,c)},Fbe=ke("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.variant],!o.square&&e.rounded,o.variant==="elevation"&&e[`elevation${o.elevation}`]]}})(({theme:t,ownerState:e})=>{var o;return V({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&V({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Nt("#fff",hL(e.elevation))}, ${Nt("#fff",hL(e.elevation))})`},t.vars&&{backgroundImage:(o=t.vars.overlays)==null?void 0:o[e.elevation]}))}),tc=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiPaper"}),{className:c,component:u="div",elevation:p=1,square:m=!1,variant:g="elevation"}=s,w=ye(s,jbe),_=V({},s,{component:u,elevation:p,square:m,variant:g}),C=zbe(_);return B.jsx(Fbe,V({as:u,ownerState:_,className:Ce(C.root,c),ref:o},w))});function qd(t){return typeof t=="string"}function dd(t,e,o){return t===void 0||qd(t)?e:V({},e,{ownerState:V({},e.ownerState,o)})}const $be={disableDefaultClasses:!1},Vbe=z.createContext($be);function Ube(t){const{disableDefaultClasses:e}=z.useContext(Vbe);return o=>e?"":t(o)}function Kb(t,e=[]){if(t===void 0)return{};const o={};return Object.keys(t).filter(s=>s.match(/^on[A-Z]/)&&typeof t[s]=="function"&&!e.includes(s)).forEach(s=>{o[s]=t[s]}),o}function W8(t,e,o){return typeof t=="function"?t(e,o):t}function fL(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(o=>!(o.match(/^on[A-Z]/)&&typeof t[o]=="function")).forEach(o=>{e[o]=t[o]}),e}function q8(t){const{getSlotProps:e,additionalProps:o,externalSlotProps:s,externalForwardedProps:c,className:u}=t;if(!e){const x=Ce(o==null?void 0:o.className,u,c==null?void 0:c.className,s==null?void 0:s.className),S=V({},o==null?void 0:o.style,c==null?void 0:c.style,s==null?void 0:s.style),T=V({},o,c,s);return x.length>0&&(T.className=x),Object.keys(S).length>0&&(T.style=S),{props:T,internalRef:void 0}}const p=Kb(V({},c,s)),m=fL(s),g=fL(c),w=e(p),_=Ce(w==null?void 0:w.className,o==null?void 0:o.className,u,c==null?void 0:c.className,s==null?void 0:s.className),C=V({},w==null?void 0:w.style,o==null?void 0:o.style,c==null?void 0:c.style,s==null?void 0:s.style),y=V({},w,o,g,m);return _.length>0&&(y.className=_),Object.keys(C).length>0&&(y.style=C),{props:y,internalRef:w.ref}}const Hbe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ia(t){var e;const{elementType:o,externalSlotProps:s,ownerState:c,skipResolvingSlotProps:u=!1}=t,p=ye(t,Hbe),m=u?{}:W8(s,c),{props:g,internalRef:w}=q8(V({},p,{externalSlotProps:m})),_=gn(w,m==null?void 0:m.ref,(e=t.additionalProps)==null?void 0:e.ref);return dd(o,V({},g,{ref:_}),c)}const Wbe=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],qbe=["component","slots","slotProps"],Gbe=["component"];function gL(t,e){const{className:o,elementType:s,ownerState:c,externalForwardedProps:u,getSlotOwnerState:p,internalForwardedProps:m}=e,g=ye(e,Wbe),{component:w,slots:_={[t]:void 0},slotProps:C={[t]:void 0}}=u,y=ye(u,qbe),x=_[t]||s,S=W8(C[t],c),T=q8(V({className:o},g,{externalForwardedProps:t==="root"?y:void 0,externalSlotProps:S})),{props:{component:R},internalRef:D}=T,N=ye(T.props,Gbe),O=gn(D,S==null?void 0:S.ref,e.ref),j=p?p(N):{},$=V({},c,j),H=t==="root"?R||w:R,M=dd(x,V({},t==="root"&&!w&&!_[t]&&m,t!=="root"&&!_[t]&&m,N,H&&{as:H},{ref:O}),$);return Object.keys(j).forEach(U=>{delete M[U]}),[x,M]}function Kbe(t){const{className:e,classes:o,pulsate:s=!1,rippleX:c,rippleY:u,rippleSize:p,in:m,onExited:g,timeout:w}=t,[_,C]=z.useState(!1),y=Ce(e,o.ripple,o.rippleVisible,s&&o.ripplePulsate),x={width:p,height:p,top:-(p/2)+u,left:-(p/2)+c},S=Ce(o.child,_&&o.childLeaving,s&&o.childPulsate);return!m&&!_&&C(!0),z.useEffect(()=>{if(!m&&g!=null){const T=setTimeout(g,w);return()=>{clearTimeout(T)}}},[g,m,w]),B.jsx("span",{className:y,style:x,children:B.jsx("span",{className:S})})}const Pr=$e("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ybe=["center","classes","className"];let qw=t=>t,mL,kL,bL,wL;const k1=550,Qbe=80,Zbe=pu(mL||(mL=qw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Jbe=pu(kL||(kL=qw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Xbe=pu(bL||(bL=qw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),e0e=ke("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),t0e=ke(Kbe,{name:"MuiTouchRipple",slot:"Ripple"})(wL||(wL=qw`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Pr.rippleVisible,Zbe,k1,({theme:t})=>t.transitions.easing.easeInOut,Pr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Pr.child,Pr.childLeaving,Jbe,k1,({theme:t})=>t.transitions.easing.easeInOut,Pr.childPulsate,Xbe,({theme:t})=>t.transitions.easing.easeInOut),n0e=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTouchRipple"}),{center:c=!1,classes:u={},className:p}=s,m=ye(s,Ybe),[g,w]=z.useState([]),_=z.useRef(0),C=z.useRef(null);z.useEffect(()=>{C.current&&(C.current(),C.current=null)},[g]);const y=z.useRef(!1),x=Cl(),S=z.useRef(null),T=z.useRef(null),R=z.useCallback(j=>{const{pulsate:$,rippleX:H,rippleY:M,rippleSize:U,cb:G}=j;w(Y=>[...Y,B.jsx(t0e,{classes:{ripple:Ce(u.ripple,Pr.ripple),rippleVisible:Ce(u.rippleVisible,Pr.rippleVisible),ripplePulsate:Ce(u.ripplePulsate,Pr.ripplePulsate),child:Ce(u.child,Pr.child),childLeaving:Ce(u.childLeaving,Pr.childLeaving),childPulsate:Ce(u.childPulsate,Pr.childPulsate)},timeout:k1,pulsate:$,rippleX:H,rippleY:M,rippleSize:U},_.current)]),_.current+=1,C.current=G},[u]),D=z.useCallback((j={},$={},H=()=>{})=>{const{pulsate:M=!1,center:U=c||$.pulsate,fakeElement:G=!1}=$;if((j==null?void 0:j.type)==="mousedown"&&y.current){y.current=!1;return}(j==null?void 0:j.type)==="touchstart"&&(y.current=!0);const Y=G?null:T.current,Z=Y?Y.getBoundingClientRect():{width:0,height:0,left:0,top:0};let re,J,X;if(U||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)re=Math.round(Z.width/2),J=Math.round(Z.height/2);else{const{clientX:oe,clientY:ie}=j.touches&&j.touches.length>0?j.touches[0]:j;re=Math.round(oe-Z.left),J=Math.round(ie-Z.top)}if(U)X=Math.sqrt((2*Z.width**2+Z.height**2)/3),X%2===0&&(X+=1);else{const oe=Math.max(Math.abs((Y?Y.clientWidth:0)-re),re)*2+2,ie=Math.max(Math.abs((Y?Y.clientHeight:0)-J),J)*2+2;X=Math.sqrt(oe**2+ie**2)}j!=null&&j.touches?S.current===null&&(S.current=()=>{R({pulsate:M,rippleX:re,rippleY:J,rippleSize:X,cb:H})},x.start(Qbe,()=>{S.current&&(S.current(),S.current=null)})):R({pulsate:M,rippleX:re,rippleY:J,rippleSize:X,cb:H})},[c,R,x]),N=z.useCallback(()=>{D({},{pulsate:!0})},[D]),O=z.useCallback((j,$)=>{if(x.clear(),(j==null?void 0:j.type)==="touchend"&&S.current){S.current(),S.current=null,x.start(0,()=>{O(j,$)});return}S.current=null,w(H=>H.length>0?H.slice(1):H),C.current=$},[x]);return z.useImperativeHandle(o,()=>({pulsate:N,start:D,stop:O}),[N,D,O]),B.jsx(e0e,V({className:Ce(Pr.root,u.root,p),ref:T},m,{children:B.jsx(k2,{component:null,exit:!0,children:g})}))});function o0e(t){return Ue("MuiButtonBase",t)}const r0e=$e("MuiButtonBase",["root","disabled","focusVisible"]),i0e=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],s0e=t=>{const{disabled:e,focusVisible:o,focusVisibleClassName:s,classes:c}=t,p=He({root:["root",e&&"disabled",o&&"focusVisible"]},o0e,c);return o&&s&&(p.root+=` ${s}`),p},a0e=ke("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${r0e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Gd=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiButtonBase"}),{action:c,centerRipple:u=!1,children:p,className:m,component:g="button",disabled:w=!1,disableRipple:_=!1,disableTouchRipple:C=!1,focusRipple:y=!1,LinkComponent:x="a",onBlur:S,onClick:T,onContextMenu:R,onDragLeave:D,onFocus:N,onFocusVisible:O,onKeyDown:j,onKeyUp:$,onMouseDown:H,onMouseLeave:M,onMouseUp:U,onTouchEnd:G,onTouchMove:Y,onTouchStart:Z,tabIndex:re=0,TouchRippleProps:J,touchRippleRef:X,type:oe}=s,ie=ye(s,i0e),ae=z.useRef(null),q=z.useRef(null),se=gn(q,X),{isFocusVisibleRef:he,onFocus:Ie,onBlur:Me,ref:Ye}=Hw(),[Pe,Qe]=z.useState(!1);w&&Pe&&Qe(!1),z.useImperativeHandle(c,()=>({focusVisible:()=>{Qe(!0),ae.current.focus()}}),[]);const[xe,ut]=z.useState(!1);z.useEffect(()=>{ut(!0)},[]);const lt=xe&&!_&&!w;z.useEffect(()=>{Pe&&y&&!_&&xe&&q.current.pulsate()},[_,y,Pe,xe]);function st(ze,Qt,Jr=C){return jr(tr=>(Qt&&Qt(tr),!Jr&&q.current&&q.current[ze](tr),!0))}const vt=st("start",H),qe=st("stop",R),Ee=st("stop",D),Q=st("stop",U),te=st("stop",ze=>{Pe&&ze.preventDefault(),M&&M(ze)}),le=st("start",Z),_e=st("stop",G),De=st("stop",Y),Ke=st("stop",ze=>{Me(ze),he.current===!1&&Qe(!1),S&&S(ze)},!1),Rt=jr(ze=>{ae.current||(ae.current=ze.currentTarget),Ie(ze),he.current===!0&&(Qe(!0),O&&O(ze)),N&&N(ze)}),nt=()=>{const ze=ae.current;return g&&g!=="button"&&!(ze.tagName==="A"&&ze.href)},Oe=z.useRef(!1),et=jr(ze=>{y&&!Oe.current&&Pe&&q.current&&ze.key===" "&&(Oe.current=!0,q.current.stop(ze,()=>{q.current.start(ze)})),ze.target===ze.currentTarget&&nt()&&ze.key===" "&&ze.preventDefault(),j&&j(ze),ze.target===ze.currentTarget&&nt()&&ze.key==="Enter"&&!w&&(ze.preventDefault(),T&&T(ze))}),Je=jr(ze=>{y&&ze.key===" "&&q.current&&Pe&&!ze.defaultPrevented&&(Oe.current=!1,q.current.stop(ze,()=>{q.current.pulsate(ze)})),$&&$(ze),T&&ze.target===ze.currentTarget&&nt()&&ze.key===" "&&!ze.defaultPrevented&&T(ze)});let Ve=g;Ve==="button"&&(ie.href||ie.to)&&(Ve=x);const gt={};Ve==="button"?(gt.type=oe===void 0?"button":oe,gt.disabled=w):(!ie.href&&!ie.to&&(gt.role="button"),w&&(gt["aria-disabled"]=w));const Ht=gn(o,Ye,ae),Wn=V({},s,{centerRipple:u,component:g,disabled:w,disableRipple:_,disableTouchRipple:C,focusRipple:y,tabIndex:re,focusVisible:Pe}),yt=s0e(Wn);return B.jsxs(a0e,V({as:Ve,className:Ce(yt.root,m),ownerState:Wn,onBlur:Ke,onClick:T,onContextMenu:qe,onFocus:Rt,onKeyDown:et,onKeyUp:Je,onMouseDown:vt,onMouseLeave:te,onMouseUp:Q,onDragLeave:Ee,onTouchEnd:_e,onTouchMove:De,onTouchStart:le,ref:Ht,tabIndex:w?-1:re,type:oe},gt,ie,{children:[p,lt?B.jsx(n0e,V({ref:se,center:u},J)):null]}))});function l0e(t){return Ue("MuiAlert",t)}const vL=$e("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function c0e(t){return Ue("MuiIconButton",t)}const d0e=$e("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),u0e=["edge","children","className","color","disabled","disableFocusRipple","size"],h0e=t=>{const{classes:e,disabled:o,color:s,edge:c,size:u}=t,p={root:["root",o&&"disabled",s!=="default"&&`color${fe(s)}`,c&&`edge${fe(c)}`,`size${fe(u)}`]};return He(p,c0e,e)},p0e=ke(Gd,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.color!=="default"&&e[`color${fe(o.color)}`],o.edge&&e[`edge${fe(o.edge)}`],e[`size${fe(o.size)}`]]}})(({theme:t,ownerState:e})=>V({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Nt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var o;const s=(o=(t.vars||t).palette)==null?void 0:o[e.color];return V({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&V({color:s==null?void 0:s.main},!e.disableRipple&&{"&:hover":V({},s&&{backgroundColor:t.vars?`rgba(${s.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Nt(s.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${d0e.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Zn=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiIconButton"}),{edge:c=!1,children:u,className:p,color:m="default",disabled:g=!1,disableFocusRipple:w=!1,size:_="medium"}=s,C=ye(s,u0e),y=V({},s,{edge:c,color:m,disabled:g,disableFocusRipple:w,size:_}),x=h0e(y);return B.jsx(p0e,V({className:Ce(x.root,p),centerRipple:!0,focusRipple:!w,disabled:g,ref:o},C,{ownerState:y,children:u}))}),f0e=ja(B.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),g0e=ja(B.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),m0e=ja(B.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),k0e=ja(B.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),b0e=ja(B.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),w0e=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],v0e=Ibe(),y0e=t=>{const{variant:e,color:o,severity:s,classes:c}=t,u={root:["root",`color${fe(o||s)}`,`${e}${fe(o||s)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return He(u,l0e,c)},_0e=ke(tc,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.variant],e[`${o.variant}${fe(o.color||o.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?Ub:Hb,o=t.palette.mode==="light"?Hb:Ub;return V({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,s])=>s.main&&s.light).map(([s])=>({props:{colorSeverity:s,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${s}Color`]:e(t.palette[s].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${s}StandardBg`]:o(t.palette[s].light,.9),[`& .${vL.icon}`]:t.vars?{color:t.vars.palette.Alert[`${s}IconColor`]}:{color:t.palette[s].main}}})),...Object.entries(t.palette).filter(([,s])=>s.main&&s.light).map(([s])=>({props:{colorSeverity:s,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${s}Color`]:e(t.palette[s].light,.6),border:`1px solid ${(t.vars||t).palette[s].light}`,[`& .${vL.icon}`]:t.vars?{color:t.vars.palette.Alert[`${s}IconColor`]}:{color:t.palette[s].main}}})),...Object.entries(t.palette).filter(([,s])=>s.main&&s.dark).map(([s])=>({props:{colorSeverity:s,variant:"filled"},style:V({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${s}FilledColor`],backgroundColor:t.vars.palette.Alert[`${s}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[s].dark:t.palette[s].main,color:t.palette.getContrastText(t.palette[s].main)})}))]})}),C0e=ke("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),A0e=ke("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),yL=ke("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),_L={success:B.jsx(f0e,{fontSize:"inherit"}),warning:B.jsx(g0e,{fontSize:"inherit"}),error:B.jsx(m0e,{fontSize:"inherit"}),info:B.jsx(k0e,{fontSize:"inherit"})},Gw=z.forwardRef(function(e,o){const s=v0e({props:e,name:"MuiAlert"}),{action:c,children:u,className:p,closeText:m="Close",color:g,components:w={},componentsProps:_={},icon:C,iconMapping:y=_L,onClose:x,role:S="alert",severity:T="success",slotProps:R={},slots:D={},variant:N="standard"}=s,O=ye(s,w0e),j=V({},s,{color:g,severity:T,variant:N,colorSeverity:g||T}),$=y0e(j),H={slots:V({closeButton:w.CloseButton,closeIcon:w.CloseIcon},D),slotProps:V({},_,R)},[M,U]=gL("closeButton",{elementType:Zn,externalForwardedProps:H,ownerState:j}),[G,Y]=gL("closeIcon",{elementType:b0e,externalForwardedProps:H,ownerState:j});return B.jsxs(_0e,V({role:S,elevation:0,ownerState:j,className:Ce($.root,p),ref:o},O,{children:[C!==!1?B.jsx(C0e,{ownerState:j,className:$.icon,children:C||y[T]||_L[T]}):null,B.jsx(A0e,{ownerState:j,className:$.message,children:u}),c!=null?B.jsx(yL,{ownerState:j,className:$.action,children:c}):null,c==null&&x?B.jsx(yL,{ownerState:j,className:$.action,children:B.jsx(M,V({size:"small","aria-label":m,title:m,color:"inherit",onClick:x},U,{children:B.jsx(G,V({fontSize:"small"},Y))}))}):null]}))});function x0e(t){return Ue("MuiTypography",t)}$e("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const E0e=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],S0e=t=>{const{align:e,gutterBottom:o,noWrap:s,paragraph:c,variant:u,classes:p}=t,m={root:["root",u,t.align!=="inherit"&&`align${fe(e)}`,o&&"gutterBottom",s&&"noWrap",c&&"paragraph"]};return He(m,x0e,p)},T0e=ke("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.variant&&e[o.variant],o.align!=="inherit"&&e[`align${fe(o.align)}`],o.noWrap&&e.noWrap,o.gutterBottom&&e.gutterBottom,o.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>V({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),CL={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},I0e={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},D0e=t=>I0e[t]||t,dt=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTypography"}),c=D0e(s.color),u=Pw(V({},s,{color:c})),{align:p="inherit",className:m,component:g,gutterBottom:w=!1,noWrap:_=!1,paragraph:C=!1,variant:y="body1",variantMapping:x=CL}=u,S=ye(u,E0e),T=V({},u,{align:p,color:c,className:m,component:g,gutterBottom:w,noWrap:_,paragraph:C,variant:y,variantMapping:x}),R=g||(C?"p":x[y]||CL[y])||"span",D=S0e(T);return B.jsx(T0e,V({as:R,ref:o,ownerState:T,className:Ce(D.root,m)},S))}),G8="base";function M0e(t){return`${G8}--${t}`}function P0e(t,e){return`${G8}-${t}-${e}`}function K8(t,e){const o=A8[e];return o?M0e(o):P0e(t,e)}function N0e(t,e){const o={};return e.forEach(s=>{o[s]=K8(t,s)}),o}function AL(t){return t.substring(2).toLowerCase()}function R0e(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function O0e(t){const{children:e,disableReactTree:o=!1,mouseEvent:s="onClick",onClickAway:c,touchEvent:u="onTouchEnd"}=t,p=z.useRef(!1),m=z.useRef(null),g=z.useRef(!1),w=z.useRef(!1);z.useEffect(()=>(setTimeout(()=>{g.current=!0},0),()=>{g.current=!1}),[]);const _=gn(e.ref,m),C=jr(S=>{const T=w.current;w.current=!1;const R=Hn(m.current);if(!g.current||!m.current||"clientX"in S&&R0e(S,R))return;if(p.current){p.current=!1;return}let D;S.composedPath?D=S.composedPath().indexOf(m.current)>-1:D=!R.documentElement.contains(S.target)||m.current.contains(S.target),!D&&(o||!T)&&c(S)}),y=S=>T=>{w.current=!0;const R=e.props[S];R&&R(T)},x={ref:_};return u!==!1&&(x[u]=y(u)),z.useEffect(()=>{if(u!==!1){const S=AL(u),T=Hn(m.current),R=()=>{p.current=!0};return T.addEventListener(S,C),T.addEventListener("touchmove",R),()=>{T.removeEventListener(S,C),T.removeEventListener("touchmove",R)}}},[C,u]),s!==!1&&(x[s]=y(s)),z.useEffect(()=>{if(s!==!1){const S=AL(s),T=Hn(m.current);return T.addEventListener(S,C),()=>{T.removeEventListener(S,C)}}},[C,s]),B.jsx(z.Fragment,{children:z.cloneElement(e,x)})}const B0e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function L0e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function j0e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=s=>t.ownerDocument.querySelector(`input[type="radio"]${s}`);let o=e(`[name="${t.name}"]:checked`);return o||(o=e(`[name="${t.name}"]`)),o!==t}function z0e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||j0e(t))}function F0e(t){const e=[],o=[];return Array.from(t.querySelectorAll(B0e)).forEach((s,c)=>{const u=L0e(s);u===-1||!z0e(s)||(u===0?e.push(s):o.push({documentOrder:c,tabIndex:u,node:s}))}),o.sort((s,c)=>s.tabIndex===c.tabIndex?s.documentOrder-c.documentOrder:s.tabIndex-c.tabIndex).map(s=>s.node).concat(e)}function $0e(){return!0}function V0e(t){const{children:e,disableAutoFocus:o=!1,disableEnforceFocus:s=!1,disableRestoreFocus:c=!1,getTabbable:u=F0e,isEnabled:p=$0e,open:m}=t,g=z.useRef(!1),w=z.useRef(null),_=z.useRef(null),C=z.useRef(null),y=z.useRef(null),x=z.useRef(!1),S=z.useRef(null),T=gn(e.ref,S),R=z.useRef(null);z.useEffect(()=>{!m||!S.current||(x.current=!o)},[o,m]),z.useEffect(()=>{if(!m||!S.current)return;const O=Hn(S.current);return S.current.contains(O.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),x.current&&S.current.focus()),()=>{c||(C.current&&C.current.focus&&(g.current=!0,C.current.focus()),C.current=null)}},[m]),z.useEffect(()=>{if(!m||!S.current)return;const O=Hn(S.current),j=M=>{R.current=M,!(s||!p()||M.key!=="Tab")&&O.activeElement===S.current&&M.shiftKey&&(g.current=!0,_.current&&_.current.focus())},$=()=>{const M=S.current;if(M===null)return;if(!O.hasFocus()||!p()||g.current){g.current=!1;return}if(M.contains(O.activeElement)||s&&O.activeElement!==w.current&&O.activeElement!==_.current)return;if(O.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!x.current)return;let U=[];if((O.activeElement===w.current||O.activeElement===_.current)&&(U=u(S.current)),U.length>0){var G,Y;const Z=!!((G=R.current)!=null&&G.shiftKey&&((Y=R.current)==null?void 0:Y.key)==="Tab"),re=U[0],J=U[U.length-1];typeof re!="string"&&typeof J!="string"&&(Z?J.focus():re.focus())}else M.focus()};O.addEventListener("focusin",$),O.addEventListener("keydown",j,!0);const H=setInterval(()=>{O.activeElement&&O.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(H),O.removeEventListener("focusin",$),O.removeEventListener("keydown",j,!0)}},[o,s,c,p,m,u]);const D=O=>{C.current===null&&(C.current=O.relatedTarget),x.current=!0,y.current=O.target;const j=e.props.onFocus;j&&j(O)},N=O=>{C.current===null&&(C.current=O.relatedTarget),x.current=!0};return B.jsxs(z.Fragment,{children:[B.jsx("div",{tabIndex:m?0:-1,onFocus:N,ref:w,"data-testid":"sentinelStart"}),z.cloneElement(e,{ref:T,onFocus:D}),B.jsx("div",{tabIndex:m?0:-1,onFocus:N,ref:_,"data-testid":"sentinelEnd"})]})}function U0e(t){return typeof t=="function"?t():t}const Y8=z.forwardRef(function(e,o){const{children:s,container:c,disablePortal:u=!1}=e,[p,m]=z.useState(null),g=gn(z.isValidElement(s)?s.ref:null,o);if(ki(()=>{u||m(U0e(c)||document.body)},[c,u]),ki(()=>{if(p&&!u)return $b(o,p),()=>{$b(o,null)}},[o,p,u]),u){if(z.isValidElement(s)){const w={ref:g};return z.cloneElement(s,w)}return B.jsx(z.Fragment,{children:s})}return B.jsx(z.Fragment,{children:p&&Cx.createPortal(s,p)})});function H0e(t){const e=Hn(t);return e.body===t?Ta(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function up(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function xL(t){return parseInt(Ta(t).getComputedStyle(t).paddingRight,10)||0}function W0e(t){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,s=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return o||s}function EL(t,e,o,s,c){const u=[e,o,...s];[].forEach.call(t.children,p=>{const m=u.indexOf(p)===-1,g=!W0e(p);m&&g&&up(p,c)})}function vC(t,e){let o=-1;return t.some((s,c)=>e(s)?(o=c,!0):!1),o}function q0e(t,e){const o=[],s=t.container;if(!e.disableScrollLock){if(H0e(s)){const p=D8(Hn(s));o.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${xL(s)+p}px`;const m=Hn(s).querySelectorAll(".mui-fixed");[].forEach.call(m,g=>{o.push({value:g.style.paddingRight,property:"padding-right",el:g}),g.style.paddingRight=`${xL(g)+p}px`})}let u;if(s.parentNode instanceof DocumentFragment)u=Hn(s).body;else{const p=s.parentElement,m=Ta(s);u=(p==null?void 0:p.nodeName)==="HTML"&&m.getComputedStyle(p).overflowY==="scroll"?p:s}o.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return()=>{o.forEach(({value:u,el:p,property:m})=>{u?p.style.setProperty(m,u):p.style.removeProperty(m)})}}function G0e(t){const e=[];return[].forEach.call(t.children,o=>{o.getAttribute("aria-hidden")==="true"&&e.push(o)}),e}class K0e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,o){let s=this.modals.indexOf(e);if(s!==-1)return s;s=this.modals.length,this.modals.push(e),e.modalRef&&up(e.modalRef,!1);const c=G0e(o);EL(o,e.mount,e.modalRef,c,!0);const u=vC(this.containers,p=>p.container===o);return u!==-1?(this.containers[u].modals.push(e),s):(this.containers.push({modals:[e],container:o,restore:null,hiddenSiblings:c}),s)}mount(e,o){const s=vC(this.containers,u=>u.modals.indexOf(e)!==-1),c=this.containers[s];c.restore||(c.restore=q0e(c,o))}remove(e,o=!0){const s=this.modals.indexOf(e);if(s===-1)return s;const c=vC(this.containers,p=>p.modals.indexOf(e)!==-1),u=this.containers[c];if(u.modals.splice(u.modals.indexOf(e),1),this.modals.splice(s,1),u.modals.length===0)u.restore&&u.restore(),e.modalRef&&up(e.modalRef,o),EL(u.container,e.mount,e.modalRef,u.hiddenSiblings,!1),this.containers.splice(c,1);else{const p=u.modals[u.modals.length-1];p.modalRef&&up(p.modalRef,!1)}return s}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Y0e(t){return typeof t=="function"?t():t}function Q0e(t){return t?t.props.hasOwnProperty("in"):!1}const Z0e=new K0e;function J0e(t){const{container:e,disableEscapeKeyDown:o=!1,disableScrollLock:s=!1,manager:c=Z0e,closeAfterTransition:u=!1,onTransitionEnter:p,onTransitionExited:m,children:g,onClose:w,open:_,rootRef:C}=t,y=z.useRef({}),x=z.useRef(null),S=z.useRef(null),T=gn(S,C),[R,D]=z.useState(!_),N=Q0e(g);let O=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(O=!1);const j=()=>Hn(x.current),$=()=>(y.current.modalRef=S.current,y.current.mount=x.current,y.current),H=()=>{c.mount($(),{disableScrollLock:s}),S.current&&(S.current.scrollTop=0)},M=jr(()=>{const ie=Y0e(e)||j().body;c.add($(),ie),S.current&&H()}),U=z.useCallback(()=>c.isTopModal($()),[c]),G=jr(ie=>{x.current=ie,ie&&(_&&U()?H():S.current&&up(S.current,O))}),Y=z.useCallback(()=>{c.remove($(),O)},[O,c]);z.useEffect(()=>()=>{Y()},[Y]),z.useEffect(()=>{_?M():(!N||!u)&&Y()},[_,Y,N,u,M]);const Z=ie=>ae=>{var q;(q=ie.onKeyDown)==null||q.call(ie,ae),!(ae.key!=="Escape"||ae.which===229||!U())&&(o||(ae.stopPropagation(),w&&w(ae,"escapeKeyDown")))},re=ie=>ae=>{var q;(q=ie.onClick)==null||q.call(ie,ae),ae.target===ae.currentTarget&&w&&w(ae,"backdropClick")};return{getRootProps:(ie={})=>{const ae=Kb(t);delete ae.onTransitionEnter,delete ae.onTransitionExited;const q=V({},ae,ie);return V({role:"presentation"},q,{onKeyDown:Z(q),ref:T})},getBackdropProps:(ie={})=>{const ae=ie;return V({"aria-hidden":!0},ae,{onClick:re(ae),open:_})},getTransitionProps:()=>{const ie=()=>{D(!1),p&&p()},ae=()=>{D(!0),m&&m(),u&&Y()};return{onEnter:u1(ie,g==null?void 0:g.props.onEnter),onExited:u1(ae,g==null?void 0:g.props.onExited)}},rootRef:T,portalRef:G,isTopModal:U,exited:R,hasTransition:N}}var Zo="top",qr="bottom",Gr="right",Jo="left",b2="auto",Zf=[Zo,qr,Gr,Jo],Kd="start",sf="end",X0e="clippingParents",Q8="viewport",Sh="popper",ewe="reference",SL=Zf.reduce(function(t,e){return t.concat([e+"-"+Kd,e+"-"+sf])},[]),Z8=[].concat(Zf,[b2]).reduce(function(t,e){return t.concat([e,e+"-"+Kd,e+"-"+sf])},[]),twe="beforeRead",nwe="read",owe="afterRead",rwe="beforeMain",iwe="main",swe="afterMain",awe="beforeWrite",lwe="write",cwe="afterWrite",dwe=[twe,nwe,owe,rwe,iwe,swe,awe,lwe,cwe];function Wi(t){return t?(t.nodeName||"").toLowerCase():null}function wr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Wl(t){var e=wr(t).Element;return t instanceof e||t instanceof Element}function $r(t){var e=wr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function w2(t){if(typeof ShadowRoot>"u")return!1;var e=wr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function uwe(t){var e=t.state;Object.keys(e.elements).forEach(function(o){var s=e.styles[o]||{},c=e.attributes[o]||{},u=e.elements[o];!$r(u)||!Wi(u)||(Object.assign(u.style,s),Object.keys(c).forEach(function(p){var m=c[p];m===!1?u.removeAttribute(p):u.setAttribute(p,m===!0?"":m)}))})}function hwe(t){var e=t.state,o={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,o.popper),e.styles=o,e.elements.arrow&&Object.assign(e.elements.arrow.style,o.arrow),function(){Object.keys(e.elements).forEach(function(s){var c=e.elements[s],u=e.attributes[s]||{},p=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:o[s]),m=p.reduce(function(g,w){return g[w]="",g},{});!$r(c)||!Wi(c)||(Object.assign(c.style,m),Object.keys(u).forEach(function(g){c.removeAttribute(g)}))})}}const pwe={name:"applyStyles",enabled:!0,phase:"write",fn:uwe,effect:hwe,requires:["computeStyles"]};function Vi(t){return t.split("-")[0]}var Ml=Math.max,Yb=Math.min,Yd=Math.round;function b1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function J8(){return!/^((?!chrome|android).)*safari/i.test(b1())}function Qd(t,e,o){e===void 0&&(e=!1),o===void 0&&(o=!1);var s=t.getBoundingClientRect(),c=1,u=1;e&&$r(t)&&(c=t.offsetWidth>0&&Yd(s.width)/t.offsetWidth||1,u=t.offsetHeight>0&&Yd(s.height)/t.offsetHeight||1);var p=Wl(t)?wr(t):window,m=p.visualViewport,g=!J8()&&o,w=(s.left+(g&&m?m.offsetLeft:0))/c,_=(s.top+(g&&m?m.offsetTop:0))/u,C=s.width/c,y=s.height/u;return{width:C,height:y,top:_,right:w+C,bottom:_+y,left:w,x:w,y:_}}function v2(t){var e=Qd(t),o=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-o)<=1&&(o=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:s}}function X8(t,e){var o=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(o&&w2(o)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ps(t){return wr(t).getComputedStyle(t)}function fwe(t){return["table","td","th"].indexOf(Wi(t))>=0}function za(t){return((Wl(t)?t.ownerDocument:t.document)||window.document).documentElement}function Kw(t){return Wi(t)==="html"?t:t.assignedSlot||t.parentNode||(w2(t)?t.host:null)||za(t)}function TL(t){return!$r(t)||Ps(t).position==="fixed"?null:t.offsetParent}function gwe(t){var e=/firefox/i.test(b1()),o=/Trident/i.test(b1());if(o&&$r(t)){var s=Ps(t);if(s.position==="fixed")return null}var c=Kw(t);for(w2(c)&&(c=c.host);$r(c)&&["html","body"].indexOf(Wi(c))<0;){var u=Ps(c);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||e&&u.willChange==="filter"||e&&u.filter&&u.filter!=="none")return c;c=c.parentNode}return null}function Jf(t){for(var e=wr(t),o=TL(t);o&&fwe(o)&&Ps(o).position==="static";)o=TL(o);return o&&(Wi(o)==="html"||Wi(o)==="body"&&Ps(o).position==="static")?e:o||gwe(t)||e}function y2(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hp(t,e,o){return Ml(t,Yb(e,o))}function mwe(t,e,o){var s=hp(t,e,o);return s>o?o:s}function eV(){return{top:0,right:0,bottom:0,left:0}}function tV(t){return Object.assign({},eV(),t)}function nV(t,e){return e.reduce(function(o,s){return o[s]=t,o},{})}var kwe=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,tV(typeof e!="number"?e:nV(e,Zf))};function bwe(t){var e,o=t.state,s=t.name,c=t.options,u=o.elements.arrow,p=o.modifiersData.popperOffsets,m=Vi(o.placement),g=y2(m),w=[Jo,Gr].indexOf(m)>=0,_=w?"height":"width";if(!(!u||!p)){var C=kwe(c.padding,o),y=v2(u),x=g==="y"?Zo:Jo,S=g==="y"?qr:Gr,T=o.rects.reference[_]+o.rects.reference[g]-p[g]-o.rects.popper[_],R=p[g]-o.rects.reference[g],D=Jf(u),N=D?g==="y"?D.clientHeight||0:D.clientWidth||0:0,O=T/2-R/2,j=C[x],$=N-y[_]-C[S],H=N/2-y[_]/2+O,M=hp(j,H,$),U=g;o.modifiersData[s]=(e={},e[U]=M,e.centerOffset=M-H,e)}}function wwe(t){var e=t.state,o=t.options,s=o.element,c=s===void 0?"[data-popper-arrow]":s;c!=null&&(typeof c=="string"&&(c=e.elements.popper.querySelector(c),!c)||X8(e.elements.popper,c)&&(e.elements.arrow=c))}const vwe={name:"arrow",enabled:!0,phase:"main",fn:bwe,effect:wwe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zd(t){return t.split("-")[1]}var ywe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _we(t,e){var o=t.x,s=t.y,c=e.devicePixelRatio||1;return{x:Yd(o*c)/c||0,y:Yd(s*c)/c||0}}function IL(t){var e,o=t.popper,s=t.popperRect,c=t.placement,u=t.variation,p=t.offsets,m=t.position,g=t.gpuAcceleration,w=t.adaptive,_=t.roundOffsets,C=t.isFixed,y=p.x,x=y===void 0?0:y,S=p.y,T=S===void 0?0:S,R=typeof _=="function"?_({x,y:T}):{x,y:T};x=R.x,T=R.y;var D=p.hasOwnProperty("x"),N=p.hasOwnProperty("y"),O=Jo,j=Zo,$=window;if(w){var H=Jf(o),M="clientHeight",U="clientWidth";if(H===wr(o)&&(H=za(o),Ps(H).position!=="static"&&m==="absolute"&&(M="scrollHeight",U="scrollWidth")),H=H,c===Zo||(c===Jo||c===Gr)&&u===sf){j=qr;var G=C&&H===$&&$.visualViewport?$.visualViewport.height:H[M];T-=G-s.height,T*=g?1:-1}if(c===Jo||(c===Zo||c===qr)&&u===sf){O=Gr;var Y=C&&H===$&&$.visualViewport?$.visualViewport.width:H[U];x-=Y-s.width,x*=g?1:-1}}var Z=Object.assign({position:m},w&&ywe),re=_===!0?_we({x,y:T},wr(o)):{x,y:T};if(x=re.x,T=re.y,g){var J;return Object.assign({},Z,(J={},J[j]=N?"0":"",J[O]=D?"0":"",J.transform=($.devicePixelRatio||1)<=1?"translate("+x+"px, "+T+"px)":"translate3d("+x+"px, "+T+"px, 0)",J))}return Object.assign({},Z,(e={},e[j]=N?T+"px":"",e[O]=D?x+"px":"",e.transform="",e))}function Cwe(t){var e=t.state,o=t.options,s=o.gpuAcceleration,c=s===void 0?!0:s,u=o.adaptive,p=u===void 0?!0:u,m=o.roundOffsets,g=m===void 0?!0:m,w={placement:Vi(e.placement),variation:Zd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:c,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,IL(Object.assign({},w,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:p,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,IL(Object.assign({},w,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Awe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cwe,data:{}};var lk={passive:!0};function xwe(t){var e=t.state,o=t.instance,s=t.options,c=s.scroll,u=c===void 0?!0:c,p=s.resize,m=p===void 0?!0:p,g=wr(e.elements.popper),w=[].concat(e.scrollParents.reference,e.scrollParents.popper);return u&&w.forEach(function(_){_.addEventListener("scroll",o.update,lk)}),m&&g.addEventListener("resize",o.update,lk),function(){u&&w.forEach(function(_){_.removeEventListener("scroll",o.update,lk)}),m&&g.removeEventListener("resize",o.update,lk)}}const Ewe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xwe,data:{}};var Swe={left:"right",right:"left",bottom:"top",top:"bottom"};function Fk(t){return t.replace(/left|right|bottom|top/g,function(e){return Swe[e]})}var Twe={start:"end",end:"start"};function DL(t){return t.replace(/start|end/g,function(e){return Twe[e]})}function _2(t){var e=wr(t),o=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:o,scrollTop:s}}function C2(t){return Qd(za(t)).left+_2(t).scrollLeft}function Iwe(t,e){var o=wr(t),s=za(t),c=o.visualViewport,u=s.clientWidth,p=s.clientHeight,m=0,g=0;if(c){u=c.width,p=c.height;var w=J8();(w||!w&&e==="fixed")&&(m=c.offsetLeft,g=c.offsetTop)}return{width:u,height:p,x:m+C2(t),y:g}}function Dwe(t){var e,o=za(t),s=_2(t),c=(e=t.ownerDocument)==null?void 0:e.body,u=Ml(o.scrollWidth,o.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=Ml(o.scrollHeight,o.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),m=-s.scrollLeft+C2(t),g=-s.scrollTop;return Ps(c||o).direction==="rtl"&&(m+=Ml(o.clientWidth,c?c.clientWidth:0)-u),{width:u,height:p,x:m,y:g}}function A2(t){var e=Ps(t),o=e.overflow,s=e.overflowX,c=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+c+s)}function oV(t){return["html","body","#document"].indexOf(Wi(t))>=0?t.ownerDocument.body:$r(t)&&A2(t)?t:oV(Kw(t))}function pp(t,e){var o;e===void 0&&(e=[]);var s=oV(t),c=s===((o=t.ownerDocument)==null?void 0:o.body),u=wr(s),p=c?[u].concat(u.visualViewport||[],A2(s)?s:[]):s,m=e.concat(p);return c?m:m.concat(pp(Kw(p)))}function w1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Mwe(t,e){var o=Qd(t,!1,e==="fixed");return o.top=o.top+t.clientTop,o.left=o.left+t.clientLeft,o.bottom=o.top+t.clientHeight,o.right=o.left+t.clientWidth,o.width=t.clientWidth,o.height=t.clientHeight,o.x=o.left,o.y=o.top,o}function ML(t,e,o){return e===Q8?w1(Iwe(t,o)):Wl(e)?Mwe(e,o):w1(Dwe(za(t)))}function Pwe(t){var e=pp(Kw(t)),o=["absolute","fixed"].indexOf(Ps(t).position)>=0,s=o&&$r(t)?Jf(t):t;return Wl(s)?e.filter(function(c){return Wl(c)&&X8(c,s)&&Wi(c)!=="body"}):[]}function Nwe(t,e,o,s){var c=e==="clippingParents"?Pwe(t):[].concat(e),u=[].concat(c,[o]),p=u[0],m=u.reduce(function(g,w){var _=ML(t,w,s);return g.top=Ml(_.top,g.top),g.right=Yb(_.right,g.right),g.bottom=Yb(_.bottom,g.bottom),g.left=Ml(_.left,g.left),g},ML(t,p,s));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function rV(t){var e=t.reference,o=t.element,s=t.placement,c=s?Vi(s):null,u=s?Zd(s):null,p=e.x+e.width/2-o.width/2,m=e.y+e.height/2-o.height/2,g;switch(c){case Zo:g={x:p,y:e.y-o.height};break;case qr:g={x:p,y:e.y+e.height};break;case Gr:g={x:e.x+e.width,y:m};break;case Jo:g={x:e.x-o.width,y:m};break;default:g={x:e.x,y:e.y}}var w=c?y2(c):null;if(w!=null){var _=w==="y"?"height":"width";switch(u){case Kd:g[w]=g[w]-(e[_]/2-o[_]/2);break;case sf:g[w]=g[w]+(e[_]/2-o[_]/2);break}}return g}function af(t,e){e===void 0&&(e={});var o=e,s=o.placement,c=s===void 0?t.placement:s,u=o.strategy,p=u===void 0?t.strategy:u,m=o.boundary,g=m===void 0?X0e:m,w=o.rootBoundary,_=w===void 0?Q8:w,C=o.elementContext,y=C===void 0?Sh:C,x=o.altBoundary,S=x===void 0?!1:x,T=o.padding,R=T===void 0?0:T,D=tV(typeof R!="number"?R:nV(R,Zf)),N=y===Sh?ewe:Sh,O=t.rects.popper,j=t.elements[S?N:y],$=Nwe(Wl(j)?j:j.contextElement||za(t.elements.popper),g,_,p),H=Qd(t.elements.reference),M=rV({reference:H,element:O,strategy:"absolute",placement:c}),U=w1(Object.assign({},O,M)),G=y===Sh?U:H,Y={top:$.top-G.top+D.top,bottom:G.bottom-$.bottom+D.bottom,left:$.left-G.left+D.left,right:G.right-$.right+D.right},Z=t.modifiersData.offset;if(y===Sh&&Z){var re=Z[c];Object.keys(Y).forEach(function(J){var X=[Gr,qr].indexOf(J)>=0?1:-1,oe=[Zo,qr].indexOf(J)>=0?"y":"x";Y[J]+=re[oe]*X})}return Y}function Rwe(t,e){e===void 0&&(e={});var o=e,s=o.placement,c=o.boundary,u=o.rootBoundary,p=o.padding,m=o.flipVariations,g=o.allowedAutoPlacements,w=g===void 0?Z8:g,_=Zd(s),C=_?m?SL:SL.filter(function(S){return Zd(S)===_}):Zf,y=C.filter(function(S){return w.indexOf(S)>=0});y.length===0&&(y=C);var x=y.reduce(function(S,T){return S[T]=af(t,{placement:T,boundary:c,rootBoundary:u,padding:p})[Vi(T)],S},{});return Object.keys(x).sort(function(S,T){return x[S]-x[T]})}function Owe(t){if(Vi(t)===b2)return[];var e=Fk(t);return[DL(t),e,DL(e)]}function Bwe(t){var e=t.state,o=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var c=o.mainAxis,u=c===void 0?!0:c,p=o.altAxis,m=p===void 0?!0:p,g=o.fallbackPlacements,w=o.padding,_=o.boundary,C=o.rootBoundary,y=o.altBoundary,x=o.flipVariations,S=x===void 0?!0:x,T=o.allowedAutoPlacements,R=e.options.placement,D=Vi(R),N=D===R,O=g||(N||!S?[Fk(R)]:Owe(R)),j=[R].concat(O).reduce(function(Pe,Qe){return Pe.concat(Vi(Qe)===b2?Rwe(e,{placement:Qe,boundary:_,rootBoundary:C,padding:w,flipVariations:S,allowedAutoPlacements:T}):Qe)},[]),$=e.rects.reference,H=e.rects.popper,M=new Map,U=!0,G=j[0],Y=0;Y<j.length;Y++){var Z=j[Y],re=Vi(Z),J=Zd(Z)===Kd,X=[Zo,qr].indexOf(re)>=0,oe=X?"width":"height",ie=af(e,{placement:Z,boundary:_,rootBoundary:C,altBoundary:y,padding:w}),ae=X?J?Gr:Jo:J?qr:Zo;$[oe]>H[oe]&&(ae=Fk(ae));var q=Fk(ae),se=[];if(u&&se.push(ie[re]<=0),m&&se.push(ie[ae]<=0,ie[q]<=0),se.every(function(Pe){return Pe})){G=Z,U=!1;break}M.set(Z,se)}if(U)for(var he=S?3:1,Ie=function(Qe){var xe=j.find(function(ut){var lt=M.get(ut);if(lt)return lt.slice(0,Qe).every(function(st){return st})});if(xe)return G=xe,"break"},Me=he;Me>0;Me--){var Ye=Ie(Me);if(Ye==="break")break}e.placement!==G&&(e.modifiersData[s]._skip=!0,e.placement=G,e.reset=!0)}}const Lwe={name:"flip",enabled:!0,phase:"main",fn:Bwe,requiresIfExists:["offset"],data:{_skip:!1}};function PL(t,e,o){return o===void 0&&(o={x:0,y:0}),{top:t.top-e.height-o.y,right:t.right-e.width+o.x,bottom:t.bottom-e.height+o.y,left:t.left-e.width-o.x}}function NL(t){return[Zo,Gr,qr,Jo].some(function(e){return t[e]>=0})}function jwe(t){var e=t.state,o=t.name,s=e.rects.reference,c=e.rects.popper,u=e.modifiersData.preventOverflow,p=af(e,{elementContext:"reference"}),m=af(e,{altBoundary:!0}),g=PL(p,s),w=PL(m,c,u),_=NL(g),C=NL(w);e.modifiersData[o]={referenceClippingOffsets:g,popperEscapeOffsets:w,isReferenceHidden:_,hasPopperEscaped:C},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":C})}const zwe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jwe};function Fwe(t,e,o){var s=Vi(t),c=[Jo,Zo].indexOf(s)>=0?-1:1,u=typeof o=="function"?o(Object.assign({},e,{placement:t})):o,p=u[0],m=u[1];return p=p||0,m=(m||0)*c,[Jo,Gr].indexOf(s)>=0?{x:m,y:p}:{x:p,y:m}}function $we(t){var e=t.state,o=t.options,s=t.name,c=o.offset,u=c===void 0?[0,0]:c,p=Z8.reduce(function(_,C){return _[C]=Fwe(C,e.rects,u),_},{}),m=p[e.placement],g=m.x,w=m.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=w),e.modifiersData[s]=p}const Vwe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$we};function Uwe(t){var e=t.state,o=t.name;e.modifiersData[o]=rV({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Hwe={name:"popperOffsets",enabled:!0,phase:"read",fn:Uwe,data:{}};function Wwe(t){return t==="x"?"y":"x"}function qwe(t){var e=t.state,o=t.options,s=t.name,c=o.mainAxis,u=c===void 0?!0:c,p=o.altAxis,m=p===void 0?!1:p,g=o.boundary,w=o.rootBoundary,_=o.altBoundary,C=o.padding,y=o.tether,x=y===void 0?!0:y,S=o.tetherOffset,T=S===void 0?0:S,R=af(e,{boundary:g,rootBoundary:w,padding:C,altBoundary:_}),D=Vi(e.placement),N=Zd(e.placement),O=!N,j=y2(D),$=Wwe(j),H=e.modifiersData.popperOffsets,M=e.rects.reference,U=e.rects.popper,G=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,Y=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),Z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(H){if(u){var J,X=j==="y"?Zo:Jo,oe=j==="y"?qr:Gr,ie=j==="y"?"height":"width",ae=H[j],q=ae+R[X],se=ae-R[oe],he=x?-U[ie]/2:0,Ie=N===Kd?M[ie]:U[ie],Me=N===Kd?-U[ie]:-M[ie],Ye=e.elements.arrow,Pe=x&&Ye?v2(Ye):{width:0,height:0},Qe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:eV(),xe=Qe[X],ut=Qe[oe],lt=hp(0,M[ie],Pe[ie]),st=O?M[ie]/2-he-lt-xe-Y.mainAxis:Ie-lt-xe-Y.mainAxis,vt=O?-M[ie]/2+he+lt+ut+Y.mainAxis:Me+lt+ut+Y.mainAxis,qe=e.elements.arrow&&Jf(e.elements.arrow),Ee=qe?j==="y"?qe.clientTop||0:qe.clientLeft||0:0,Q=(J=Z==null?void 0:Z[j])!=null?J:0,te=ae+st-Q-Ee,le=ae+vt-Q,_e=hp(x?Yb(q,te):q,ae,x?Ml(se,le):se);H[j]=_e,re[j]=_e-ae}if(m){var De,Ke=j==="x"?Zo:Jo,Rt=j==="x"?qr:Gr,nt=H[$],Oe=$==="y"?"height":"width",et=nt+R[Ke],Je=nt-R[Rt],Ve=[Zo,Jo].indexOf(D)!==-1,gt=(De=Z==null?void 0:Z[$])!=null?De:0,Ht=Ve?et:nt-M[Oe]-U[Oe]-gt+Y.altAxis,Wn=Ve?nt+M[Oe]+U[Oe]-gt-Y.altAxis:Je,yt=x&&Ve?mwe(Ht,nt,Wn):hp(x?Ht:et,nt,x?Wn:Je);H[$]=yt,re[$]=yt-nt}e.modifiersData[s]=re}}const Gwe={name:"preventOverflow",enabled:!0,phase:"main",fn:qwe,requiresIfExists:["offset"]};function Kwe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Ywe(t){return t===wr(t)||!$r(t)?_2(t):Kwe(t)}function Qwe(t){var e=t.getBoundingClientRect(),o=Yd(e.width)/t.offsetWidth||1,s=Yd(e.height)/t.offsetHeight||1;return o!==1||s!==1}function Zwe(t,e,o){o===void 0&&(o=!1);var s=$r(e),c=$r(e)&&Qwe(e),u=za(e),p=Qd(t,c,o),m={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(s||!s&&!o)&&((Wi(e)!=="body"||A2(u))&&(m=Ywe(e)),$r(e)?(g=Qd(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):u&&(g.x=C2(u))),{x:p.left+m.scrollLeft-g.x,y:p.top+m.scrollTop-g.y,width:p.width,height:p.height}}function Jwe(t){var e=new Map,o=new Set,s=[];t.forEach(function(u){e.set(u.name,u)});function c(u){o.add(u.name);var p=[].concat(u.requires||[],u.requiresIfExists||[]);p.forEach(function(m){if(!o.has(m)){var g=e.get(m);g&&c(g)}}),s.push(u)}return t.forEach(function(u){o.has(u.name)||c(u)}),s}function Xwe(t){var e=Jwe(t);return dwe.reduce(function(o,s){return o.concat(e.filter(function(c){return c.phase===s}))},[])}function eve(t){var e;return function(){return e||(e=new Promise(function(o){Promise.resolve().then(function(){e=void 0,o(t())})})),e}}function tve(t){var e=t.reduce(function(o,s){var c=o[s.name];return o[s.name]=c?Object.assign({},c,s,{options:Object.assign({},c.options,s.options),data:Object.assign({},c.data,s.data)}):s,o},{});return Object.keys(e).map(function(o){return e[o]})}var RL={placement:"bottom",modifiers:[],strategy:"absolute"};function OL(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function nve(t){t===void 0&&(t={});var e=t,o=e.defaultModifiers,s=o===void 0?[]:o,c=e.defaultOptions,u=c===void 0?RL:c;return function(m,g,w){w===void 0&&(w=u);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},RL,u),modifiersData:{},elements:{reference:m,popper:g},attributes:{},styles:{}},C=[],y=!1,x={state:_,setOptions:function(D){var N=typeof D=="function"?D(_.options):D;T(),_.options=Object.assign({},u,_.options,N),_.scrollParents={reference:Wl(m)?pp(m):m.contextElement?pp(m.contextElement):[],popper:pp(g)};var O=Xwe(tve([].concat(s,_.options.modifiers)));return _.orderedModifiers=O.filter(function(j){return j.enabled}),S(),x.update()},forceUpdate:function(){if(!y){var D=_.elements,N=D.reference,O=D.popper;if(OL(N,O)){_.rects={reference:Zwe(N,Jf(O),_.options.strategy==="fixed"),popper:v2(O)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(Y){return _.modifiersData[Y.name]=Object.assign({},Y.data)});for(var j=0;j<_.orderedModifiers.length;j++){if(_.reset===!0){_.reset=!1,j=-1;continue}var $=_.orderedModifiers[j],H=$.fn,M=$.options,U=M===void 0?{}:M,G=$.name;typeof H=="function"&&(_=H({state:_,options:U,name:G,instance:x})||_)}}}},update:eve(function(){return new Promise(function(R){x.forceUpdate(),R(_)})}),destroy:function(){T(),y=!0}};if(!OL(m,g))return x;x.setOptions(w).then(function(R){!y&&w.onFirstUpdate&&w.onFirstUpdate(R)});function S(){_.orderedModifiers.forEach(function(R){var D=R.name,N=R.options,O=N===void 0?{}:N,j=R.effect;if(typeof j=="function"){var $=j({state:_,name:D,instance:x,options:O}),H=function(){};C.push($||H)}})}function T(){C.forEach(function(R){return R()}),C=[]}return x}}var ove=[Ewe,Hwe,Awe,pwe,Vwe,Lwe,Gwe,vwe,zwe],rve=nve({defaultModifiers:ove});const iV="Popper";function ive(t){return K8(iV,t)}N0e(iV,["root"]);const sve=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ave=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function lve(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function v1(t){return typeof t=="function"?t():t}function cve(t){return t.nodeType!==void 0}const dve=()=>He({root:["root"]},Ube(ive)),uve={},hve=z.forwardRef(function(e,o){var s;const{anchorEl:c,children:u,direction:p,disablePortal:m,modifiers:g,open:w,placement:_,popperOptions:C,popperRef:y,slotProps:x={},slots:S={},TransitionProps:T}=e,R=ye(e,sve),D=z.useRef(null),N=gn(D,o),O=z.useRef(null),j=gn(O,y),$=z.useRef(j);ki(()=>{$.current=j},[j]),z.useImperativeHandle(y,()=>O.current,[]);const H=lve(_,p),[M,U]=z.useState(H),[G,Y]=z.useState(v1(c));z.useEffect(()=>{O.current&&O.current.forceUpdate()}),z.useEffect(()=>{c&&Y(v1(c))},[c]),ki(()=>{if(!G||!w)return;const oe=q=>{U(q.placement)};let ie=[{name:"preventOverflow",options:{altBoundary:m}},{name:"flip",options:{altBoundary:m}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:q})=>{oe(q)}}];g!=null&&(ie=ie.concat(g)),C&&C.modifiers!=null&&(ie=ie.concat(C.modifiers));const ae=rve(G,D.current,V({placement:H},C,{modifiers:ie}));return $.current(ae),()=>{ae.destroy(),$.current(null)}},[G,m,g,w,C,H]);const Z={placement:M};T!==null&&(Z.TransitionProps=T);const re=dve(),J=(s=S.root)!=null?s:"div",X=Ia({elementType:J,externalSlotProps:x.root,externalForwardedProps:R,additionalProps:{role:"tooltip",ref:N},ownerState:e,className:re.root});return B.jsx(J,V({},X,{children:typeof u=="function"?u(Z):u}))}),pve=z.forwardRef(function(e,o){const{anchorEl:s,children:c,container:u,direction:p="ltr",disablePortal:m=!1,keepMounted:g=!1,modifiers:w,open:_,placement:C="bottom",popperOptions:y=uve,popperRef:x,style:S,transition:T=!1,slotProps:R={},slots:D={}}=e,N=ye(e,ave),[O,j]=z.useState(!0),$=()=>{j(!1)},H=()=>{j(!0)};if(!g&&!_&&(!T||O))return null;let M;if(u)M=u;else if(s){const Y=v1(s);M=Y&&cve(Y)?Hn(Y).body:Hn(null).body}const U=!_&&g&&(!T||O)?"none":void 0,G=T?{in:_,onEnter:$,onExited:H}:void 0;return B.jsx(Y8,{disablePortal:m,container:M,children:B.jsx(hve,V({anchorEl:s,direction:p,disablePortal:m,modifiers:w,ref:o,open:T?!O:_,placement:C,popperOptions:y,popperRef:x,slotProps:R,slots:D},N,{style:V({position:"fixed",top:0,left:0,display:U},S),TransitionProps:G,children:c}))})});function fve(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:o=!1,onClose:s,open:c,resumeHideDuration:u}=t,p=Cl();z.useEffect(()=>{if(!c)return;function D(N){N.defaultPrevented||(N.key==="Escape"||N.key==="Esc")&&(s==null||s(N,"escapeKeyDown"))}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[c,s]);const m=jr((D,N)=>{s==null||s(D,N)}),g=jr(D=>{!s||D==null||p.start(D,()=>{m(null,"timeout")})});z.useEffect(()=>(c&&g(e),p.clear),[c,e,g,p]);const w=D=>{s==null||s(D,"clickaway")},_=p.clear,C=z.useCallback(()=>{e!=null&&g(u??e*.5)},[e,u,g]),y=D=>N=>{const O=D.onBlur;O==null||O(N),C()},x=D=>N=>{const O=D.onFocus;O==null||O(N),_()},S=D=>N=>{const O=D.onMouseEnter;O==null||O(N),_()},T=D=>N=>{const O=D.onMouseLeave;O==null||O(N),C()};return z.useEffect(()=>{if(!o&&c)return window.addEventListener("focus",C),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",C),window.removeEventListener("blur",_)}},[o,c,C,_]),{getRootProps:(D={})=>{const N=V({},Kb(t),Kb(D));return V({role:"presentation"},D,N,{onBlur:y(N),onFocus:x(N),onMouseEnter:S(N),onMouseLeave:T(N)})},onClickAway:w}}const gve=["onChange","maxRows","minRows","style","value"];function ck(t){return parseInt(t,10)||0}const mve={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function kve(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const x2=z.forwardRef(function(e,o){const{onChange:s,maxRows:c,minRows:u=1,style:p,value:m}=e,g=ye(e,gve),{current:w}=z.useRef(m!=null),_=z.useRef(null),C=gn(o,_),y=z.useRef(null),x=z.useCallback(()=>{const R=_.current,N=Ta(R).getComputedStyle(R);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};const O=y.current;O.style.width=N.width,O.value=R.value||e.placeholder||"x",O.value.slice(-1)===`
`&&(O.value+=" ");const j=N.boxSizing,$=ck(N.paddingBottom)+ck(N.paddingTop),H=ck(N.borderBottomWidth)+ck(N.borderTopWidth),M=O.scrollHeight;O.value="x";const U=O.scrollHeight;let G=M;u&&(G=Math.max(Number(u)*U,G)),c&&(G=Math.min(Number(c)*U,G)),G=Math.max(G,U);const Y=G+(j==="border-box"?$+H:0),Z=Math.abs(G-M)<=1;return{outerHeightStyle:Y,overflowing:Z}},[c,u,e.placeholder]),S=z.useCallback(()=>{const R=x();if(kve(R))return;const D=_.current;D.style.height=`${R.outerHeightStyle}px`,D.style.overflow=R.overflowing?"hidden":""},[x]);ki(()=>{const R=()=>{S()};let D;const N=h2(R),O=_.current,j=Ta(O);j.addEventListener("resize",N);let $;return typeof ResizeObserver<"u"&&($=new ResizeObserver(R),$.observe(O)),()=>{N.clear(),cancelAnimationFrame(D),j.removeEventListener("resize",N),$&&$.disconnect()}},[x,S]),ki(()=>{S()});const T=R=>{w||S(),s&&s(R)};return B.jsxs(z.Fragment,{children:[B.jsx("textarea",V({value:m,onChange:T,ref:C,rows:u,style:p},g)),B.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:V({},mve.shadow,p,{paddingTop:0,paddingBottom:0})})]})});var E2={};Object.defineProperty(E2,"__esModule",{value:!0});var sV=E2.default=void 0,bve=vve(z),wve=F8;function aV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,o=new WeakMap;return(aV=function(s){return s?o:e})(t)}function vve(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=aV(e);if(o&&o.has(t))return o.get(t);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)){var p=c?Object.getOwnPropertyDescriptor(t,u):null;p&&(p.get||p.set)?Object.defineProperty(s,u,p):s[u]=t[u]}return s.default=t,o&&o.set(t,s),s}function yve(t){return Object.keys(t).length===0}function _ve(t=null){const e=bve.useContext(wve.ThemeContext);return!e||yve(e)?t:e}sV=E2.default=_ve;const Cve=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Ave=ke(pve,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),lV=z.forwardRef(function(e,o){var s;const c=sV(),u=We({props:e,name:"MuiPopper"}),{anchorEl:p,component:m,components:g,componentsProps:w,container:_,disablePortal:C,keepMounted:y,modifiers:x,open:S,placement:T,popperOptions:R,popperRef:D,transition:N,slots:O,slotProps:j}=u,$=ye(u,Cve),H=(s=O==null?void 0:O.root)!=null?s:g==null?void 0:g.Root,M=V({anchorEl:p,container:_,disablePortal:C,keepMounted:y,modifiers:x,open:S,placement:T,popperOptions:R,popperRef:D,transition:N},$);return B.jsx(Ave,V({as:m,direction:c==null?void 0:c.direction,slots:{root:H},slotProps:j??w},M,{ref:o}))}),xve=ja(B.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Eve(t){return Ue("MuiChip",t)}const Et=$e("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Sve=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Tve=t=>{const{classes:e,disabled:o,size:s,color:c,iconColor:u,onDelete:p,clickable:m,variant:g}=t,w={root:["root",g,o&&"disabled",`size${fe(s)}`,`color${fe(c)}`,m&&"clickable",m&&`clickableColor${fe(c)}`,p&&"deletable",p&&`deletableColor${fe(c)}`,`${g}${fe(c)}`],label:["label",`label${fe(s)}`],avatar:["avatar",`avatar${fe(s)}`,`avatarColor${fe(c)}`],icon:["icon",`icon${fe(s)}`,`iconColor${fe(u)}`],deleteIcon:["deleteIcon",`deleteIcon${fe(s)}`,`deleteIconColor${fe(c)}`,`deleteIcon${fe(g)}Color${fe(c)}`]};return He(w,Eve,e)},Ive=ke("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t,{color:s,iconColor:c,clickable:u,onDelete:p,size:m,variant:g}=o;return[{[`& .${Et.avatar}`]:e.avatar},{[`& .${Et.avatar}`]:e[`avatar${fe(m)}`]},{[`& .${Et.avatar}`]:e[`avatarColor${fe(s)}`]},{[`& .${Et.icon}`]:e.icon},{[`& .${Et.icon}`]:e[`icon${fe(m)}`]},{[`& .${Et.icon}`]:e[`iconColor${fe(c)}`]},{[`& .${Et.deleteIcon}`]:e.deleteIcon},{[`& .${Et.deleteIcon}`]:e[`deleteIcon${fe(m)}`]},{[`& .${Et.deleteIcon}`]:e[`deleteIconColor${fe(s)}`]},{[`& .${Et.deleteIcon}`]:e[`deleteIcon${fe(g)}Color${fe(s)}`]},e.root,e[`size${fe(m)}`],e[`color${fe(s)}`],u&&e.clickable,u&&s!=="default"&&e[`clickableColor${fe(s)})`],p&&e.deletable,p&&s!=="default"&&e[`deletableColor${fe(s)}`],e[g],e[`${g}${fe(s)}`]]}})(({theme:t,ownerState:e})=>{const o=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return V({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Et.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Et.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:o,fontSize:t.typography.pxToRem(12)},[`& .${Et.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Et.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Et.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Et.icon}`]:V({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&V({color:t.vars?t.vars.palette.Chip.defaultIconColor:o},e.color!=="default"&&{color:"inherit"})),[`& .${Et.deleteIcon}`]:V({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Nt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Nt(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Nt(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Et.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Nt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Et.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>V({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Nt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Et.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Nt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Et.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>V({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Et.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Et.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Et.avatar}`]:{marginLeft:4},[`& .${Et.avatarSmall}`]:{marginLeft:2},[`& .${Et.icon}`]:{marginLeft:4},[`& .${Et.iconSmall}`]:{marginLeft:2},[`& .${Et.deleteIcon}`]:{marginRight:5},[`& .${Et.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Nt(t.palette[e.color].main,.7)}`,[`&.${Et.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Nt(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Et.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Nt(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Et.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Nt(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),Dve=ke("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:o}=t,{size:s}=o;return[e.label,e[`label${fe(s)}`]]}})(({ownerState:t})=>V({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function BL(t){return t.key==="Backspace"||t.key==="Delete"}const yC=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiChip"}),{avatar:c,className:u,clickable:p,color:m="default",component:g,deleteIcon:w,disabled:_=!1,icon:C,label:y,onClick:x,onDelete:S,onKeyDown:T,onKeyUp:R,size:D="medium",variant:N="filled",tabIndex:O,skipFocusWhenDisabled:j=!1}=s,$=ye(s,Sve),H=z.useRef(null),M=gn(H,o),U=se=>{se.stopPropagation(),S&&S(se)},G=se=>{se.currentTarget===se.target&&BL(se)&&se.preventDefault(),T&&T(se)},Y=se=>{se.currentTarget===se.target&&(S&&BL(se)?S(se):se.key==="Escape"&&H.current&&H.current.blur()),R&&R(se)},Z=p!==!1&&x?!0:p,re=Z||S?Gd:g||"div",J=V({},s,{component:re,disabled:_,size:D,color:m,iconColor:z.isValidElement(C)&&C.props.color||m,onDelete:!!S,clickable:Z,variant:N}),X=Tve(J),oe=re===Gd?V({component:g||"div",focusVisibleClassName:X.focusVisible},S&&{disableRipple:!0}):{};let ie=null;S&&(ie=w&&z.isValidElement(w)?z.cloneElement(w,{className:Ce(w.props.className,X.deleteIcon),onClick:U}):B.jsx(xve,{className:Ce(X.deleteIcon),onClick:U}));let ae=null;c&&z.isValidElement(c)&&(ae=z.cloneElement(c,{className:Ce(X.avatar,c.props.className)}));let q=null;return C&&z.isValidElement(C)&&(q=z.cloneElement(C,{className:Ce(X.icon,C.props.className)})),B.jsxs(Ive,V({as:re,className:Ce(X.root,u),disabled:Z&&_?!0:void 0,onClick:x,onKeyDown:G,onKeyUp:Y,ref:M,tabIndex:j&&_?-1:O,ownerState:J},oe,$,{children:[ae||q,B.jsx(Dve,{className:Ce(X.label),ownerState:J,children:y}),ie]}))});function bu({props:t,states:e,muiFormControl:o}){return e.reduce((s,c)=>(s[c]=t[c],o&&typeof t[c]>"u"&&(s[c]=o[c]),s),{})}const S2=z.createContext(void 0);function wu(){return z.useContext(S2)}function Mve(t){return B.jsx(Tme,V({},t,{defaultTheme:Ww,themeId:Vf}))}function LL(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Qb(t,e=!1){return t&&(LL(t.value)&&t.value!==""||e&&LL(t.defaultValue)&&t.defaultValue!=="")}function Pve(t){return t.startAdornment}function Nve(t){return Ue("MuiInputBase",t)}const Jd=$e("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Rve=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Yw=(t,e)=>{const{ownerState:o}=t;return[e.root,o.formControl&&e.formControl,o.startAdornment&&e.adornedStart,o.endAdornment&&e.adornedEnd,o.error&&e.error,o.size==="small"&&e.sizeSmall,o.multiline&&e.multiline,o.color&&e[`color${fe(o.color)}`],o.fullWidth&&e.fullWidth,o.hiddenLabel&&e.hiddenLabel]},Qw=(t,e)=>{const{ownerState:o}=t;return[e.input,o.size==="small"&&e.inputSizeSmall,o.multiline&&e.inputMultiline,o.type==="search"&&e.inputTypeSearch,o.startAdornment&&e.inputAdornedStart,o.endAdornment&&e.inputAdornedEnd,o.hiddenLabel&&e.inputHiddenLabel]},Ove=t=>{const{classes:e,color:o,disabled:s,error:c,endAdornment:u,focused:p,formControl:m,fullWidth:g,hiddenLabel:w,multiline:_,readOnly:C,size:y,startAdornment:x,type:S}=t,T={root:["root",`color${fe(o)}`,s&&"disabled",c&&"error",g&&"fullWidth",p&&"focused",m&&"formControl",y&&y!=="medium"&&`size${fe(y)}`,_&&"multiline",x&&"adornedStart",u&&"adornedEnd",w&&"hiddenLabel",C&&"readOnly"],input:["input",s&&"disabled",S==="search"&&"inputTypeSearch",_&&"inputMultiline",y==="small"&&"inputSizeSmall",w&&"inputHiddenLabel",x&&"inputAdornedStart",u&&"inputAdornedEnd",C&&"readOnly"]};return He(T,Nve,e)},Zw=ke("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Yw})(({theme:t,ownerState:e})=>V({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Jd.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&V({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Jw=ke("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Qw})(({theme:t,ownerState:e})=>{const o=t.palette.mode==="light",s=V({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),c={opacity:"0 !important"},u=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5};return V({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Jd.formControl} &`]:{"&::-webkit-input-placeholder":c,"&::-moz-placeholder":c,"&:-ms-input-placeholder":c,"&::-ms-input-placeholder":c,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${Jd.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Bve=B.jsx(Mve,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Lve=z.forwardRef(function(e,o){var s;const c=We({props:e,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:p,autoFocus:m,className:g,components:w={},componentsProps:_={},defaultValue:C,disabled:y,disableInjectingGlobalStyles:x,endAdornment:S,fullWidth:T=!1,id:R,inputComponent:D="input",inputProps:N={},inputRef:O,maxRows:j,minRows:$,multiline:H=!1,name:M,onBlur:U,onChange:G,onClick:Y,onFocus:Z,onKeyDown:re,onKeyUp:J,placeholder:X,readOnly:oe,renderSuffix:ie,rows:ae,slotProps:q={},slots:se={},startAdornment:he,type:Ie="text",value:Me}=c,Ye=ye(c,Rve),Pe=N.value!=null?N.value:Me,{current:Qe}=z.useRef(Pe!=null),xe=z.useRef(),ut=z.useCallback(yt=>{},[]),lt=gn(xe,O,N.ref,ut),[st,vt]=z.useState(!1),qe=wu(),Ee=bu({props:c,muiFormControl:qe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ee.focused=qe?qe.focused:st,z.useEffect(()=>{!qe&&y&&st&&(vt(!1),U&&U())},[qe,y,st,U]);const Q=qe&&qe.onFilled,te=qe&&qe.onEmpty,le=z.useCallback(yt=>{Qb(yt)?Q&&Q():te&&te()},[Q,te]);ki(()=>{Qe&&le({value:Pe})},[Pe,le,Qe]);const _e=yt=>{if(Ee.disabled){yt.stopPropagation();return}Z&&Z(yt),N.onFocus&&N.onFocus(yt),qe&&qe.onFocus?qe.onFocus(yt):vt(!0)},De=yt=>{U&&U(yt),N.onBlur&&N.onBlur(yt),qe&&qe.onBlur?qe.onBlur(yt):vt(!1)},Ke=(yt,...ze)=>{if(!Qe){const Qt=yt.target||xe.current;if(Qt==null)throw new Error(Hl(1));le({value:Qt.value})}N.onChange&&N.onChange(yt,...ze),G&&G(yt,...ze)};z.useEffect(()=>{le(xe.current)},[]);const Rt=yt=>{xe.current&&yt.currentTarget===yt.target&&xe.current.focus(),Y&&Y(yt)};let nt=D,Oe=N;H&&nt==="input"&&(ae?Oe=V({type:void 0,minRows:ae,maxRows:ae},Oe):Oe=V({type:void 0,maxRows:j,minRows:$},Oe),nt=x2);const et=yt=>{le(yt.animationName==="mui-auto-fill-cancel"?xe.current:{value:"x"})};z.useEffect(()=>{qe&&qe.setAdornedStart(!!he)},[qe,he]);const Je=V({},c,{color:Ee.color||"primary",disabled:Ee.disabled,endAdornment:S,error:Ee.error,focused:Ee.focused,formControl:qe,fullWidth:T,hiddenLabel:Ee.hiddenLabel,multiline:H,size:Ee.size,startAdornment:he,type:Ie}),Ve=Ove(Je),gt=se.root||w.Root||Zw,Ht=q.root||_.root||{},Wn=se.input||w.Input||Jw;return Oe=V({},Oe,(s=q.input)!=null?s:_.input),B.jsxs(z.Fragment,{children:[!x&&Bve,B.jsxs(gt,V({},Ht,!qd(gt)&&{ownerState:V({},Je,Ht.ownerState)},{ref:o,onClick:Rt},Ye,{className:Ce(Ve.root,Ht.className,g,oe&&"MuiInputBase-readOnly"),children:[he,B.jsx(S2.Provider,{value:null,children:B.jsx(Wn,V({ownerState:Je,"aria-invalid":Ee.error,"aria-describedby":u,autoComplete:p,autoFocus:m,defaultValue:C,disabled:Ee.disabled,id:R,onAnimationStart:et,name:M,placeholder:X,readOnly:oe,required:Ee.required,rows:ae,value:Pe,onKeyDown:re,onKeyUp:J,type:Ie},Oe,!qd(Wn)&&{as:nt,ownerState:V({},Je,Oe.ownerState)},{ref:lt,className:Ce(Ve.input,Oe.className,oe&&"MuiInputBase-readOnly"),onBlur:De,onChange:Ke,onFocus:_e}))}),S,ie?ie(V({},Ee,{startAdornment:he})):null]}))]})}),T2=Lve;function jve(t){return Ue("MuiInput",t)}const Th=V({},Jd,$e("MuiInput",["root","underline","input"]));function zve(t){return Ue("MuiOutlinedInput",t)}const Ks=V({},Jd,$e("MuiOutlinedInput",["root","notchedOutline","input"]));function Fve(t){return Ue("MuiFilledInput",t)}const cl=V({},Jd,$e("MuiFilledInput",["root","underline","input"])),$ve=ja(B.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Vve=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Uve={entering:{opacity:1},entered:{opacity:1}},cV=z.forwardRef(function(e,o){const s=mu(),c={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:u,appear:p=!0,children:m,easing:g,in:w,onEnter:_,onEntered:C,onEntering:y,onExit:x,onExited:S,onExiting:T,style:R,timeout:D=c,TransitionComponent:N=Ki}=e,O=ye(e,Vve),j=z.useRef(null),$=gn(j,m.ref,o),H=X=>oe=>{if(X){const ie=j.current;oe===void 0?X(ie):X(ie,oe)}},M=H(y),U=H((X,oe)=>{H8(X);const ie=Gb({style:R,timeout:D,easing:g},{mode:"enter"});X.style.webkitTransition=s.transitions.create("opacity",ie),X.style.transition=s.transitions.create("opacity",ie),_&&_(X,oe)}),G=H(C),Y=H(T),Z=H(X=>{const oe=Gb({style:R,timeout:D,easing:g},{mode:"exit"});X.style.webkitTransition=s.transitions.create("opacity",oe),X.style.transition=s.transitions.create("opacity",oe),x&&x(X)}),re=H(S),J=X=>{u&&u(j.current,X)};return B.jsx(N,V({appear:p,in:w,nodeRef:j,onEnter:U,onEntered:G,onEntering:M,onExit:Z,onExited:re,onExiting:Y,addEndListener:J,timeout:D},O,{children:(X,oe)=>z.cloneElement(m,V({style:V({opacity:0,visibility:X==="exited"&&!w?"hidden":void 0},Uve[X],R,m.props.style),ref:$},oe))}))});function Hve(t){return Ue("MuiBackdrop",t)}$e("MuiBackdrop",["root","invisible"]);const Wve=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],qve=t=>{const{classes:e,invisible:o}=t;return He({root:["root",o&&"invisible"]},Hve,e)},Gve=ke("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.invisible&&e.invisible]}})(({ownerState:t})=>V({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),dV=z.forwardRef(function(e,o){var s,c,u;const p=We({props:e,name:"MuiBackdrop"}),{children:m,className:g,component:w="div",components:_={},componentsProps:C={},invisible:y=!1,open:x,slotProps:S={},slots:T={},TransitionComponent:R=cV,transitionDuration:D}=p,N=ye(p,Wve),O=V({},p,{component:w,invisible:y}),j=qve(O),$=(s=S.root)!=null?s:C.root;return B.jsx(R,V({in:x,timeout:D},N,{children:B.jsx(Gve,V({"aria-hidden":!0},$,{as:(c=(u=T.root)!=null?u:_.Root)!=null?c:w,className:Ce(j.root,g,$==null?void 0:$.className),ownerState:V({},O,$==null?void 0:$.ownerState),classes:j,ref:o,children:m}))}))}),Kve=$e("MuiBox",["root"]),Yve=z8(),Re=Rme({themeId:Vf,defaultTheme:Yve,defaultClassName:Kve.root,generateClassName:l2.generate});function Qve(t){return Ue("MuiButton",t)}const dk=$e("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Zve=z.createContext({}),Jve=z.createContext(void 0),Xve=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],eye=t=>{const{color:e,disableElevation:o,fullWidth:s,size:c,variant:u,classes:p}=t,m={root:["root",u,`${u}${fe(e)}`,`size${fe(c)}`,`${u}Size${fe(c)}`,`color${fe(e)}`,o&&"disableElevation",s&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${fe(c)}`],endIcon:["icon","endIcon",`iconSize${fe(c)}`]},g=He(m,Qve,p);return V({},p,g)},uV=t=>V({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),tye=ke(Gd,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.variant],e[`${o.variant}${fe(o.color)}`],e[`size${fe(o.size)}`],e[`${o.variant}Size${fe(o.size)}`],o.color==="inherit"&&e.colorInherit,o.disableElevation&&e.disableElevation,o.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var o,s;const c=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],u=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return V({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":V({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Nt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Nt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Nt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${dk.focusVisible}`]:V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${dk.disabled}`]:V({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Nt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(o=(s=t.palette).getContrastText)==null?void 0:o.call(s,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:c,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${dk.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${dk.disabled}`]:{boxShadow:"none"}}),nye=ke("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.startIcon,e[`iconSize${fe(o.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},uV(t))),oye=ke("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.endIcon,e[`iconSize${fe(o.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},uV(t))),hn=z.forwardRef(function(e,o){const s=z.useContext(Zve),c=z.useContext(Jve),u=u2(s,e),p=We({props:u,name:"MuiButton"}),{children:m,color:g="primary",component:w="button",className:_,disabled:C=!1,disableElevation:y=!1,disableFocusRipple:x=!1,endIcon:S,focusVisibleClassName:T,fullWidth:R=!1,size:D="medium",startIcon:N,type:O,variant:j="text"}=p,$=ye(p,Xve),H=V({},p,{color:g,component:w,disabled:C,disableElevation:y,disableFocusRipple:x,fullWidth:R,size:D,type:O,variant:j}),M=eye(H),U=N&&B.jsx(nye,{className:M.startIcon,ownerState:H,children:N}),G=S&&B.jsx(oye,{className:M.endIcon,ownerState:H,children:S}),Y=c||"";return B.jsxs(tye,V({ownerState:H,className:Ce(s.className,M.root,_,Y),component:w,disabled:C,focusRipple:!x,focusVisibleClassName:Ce(M.focusVisible,T),ref:o,type:O},$,{classes:M,children:[U,m,G]}))});function rye(t){return Ue("MuiCard",t)}$e("MuiCard",["root"]);const iye=["className","raised"],sye=t=>{const{classes:e}=t;return He({root:["root"]},rye,e)},aye=ke(tc,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),jL=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiCard"}),{className:c,raised:u=!1}=s,p=ye(s,iye),m=V({},s,{raised:u}),g=sye(m);return B.jsx(aye,V({className:Ce(g.root,c),elevation:u?8:void 0,ref:o,ownerState:m},p))});function lye(t){return Ue("MuiCardActionArea",t)}const _C=$e("MuiCardActionArea",["root","focusVisible","focusHighlight"]),cye=["children","className","focusVisibleClassName"],dye=t=>{const{classes:e}=t;return He({root:["root"],focusHighlight:["focusHighlight"]},lye,e)},uye=ke(Gd,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${_C.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${_C.focusVisible} .${_C.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),hye=ke("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),zL=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiCardActionArea"}),{children:c,className:u,focusVisibleClassName:p}=s,m=ye(s,cye),g=s,w=dye(g);return B.jsxs(uye,V({className:Ce(w.root,u),focusVisibleClassName:Ce(p,w.focusVisible),ref:o,ownerState:g},m,{children:[c,B.jsx(hye,{className:w.focusHighlight,ownerState:g})]}))});function pye(t){return Ue("MuiCardContent",t)}$e("MuiCardContent",["root"]);const fye=["className","component"],gye=t=>{const{classes:e}=t;return He({root:["root"]},pye,e)},mye=ke("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),FL=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiCardContent"}),{className:c,component:u="div"}=s,p=ye(s,fye),m=V({},s,{component:u}),g=gye(m);return B.jsx(mye,V({as:u,className:Ce(g.root,c),ownerState:m,ref:o},p))});function kye(t){return Ue("MuiCircularProgress",t)}$e("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const bye=["className","color","disableShrink","size","style","thickness","value","variant"];let Xw=t=>t,$L,VL,UL,HL;const Ys=44,wye=pu($L||($L=Xw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),vye=pu(VL||(VL=Xw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),yye=t=>{const{classes:e,variant:o,color:s,disableShrink:c}=t,u={root:["root",o,`color${fe(s)}`],svg:["svg"],circle:["circle",`circle${fe(o)}`,c&&"circleDisableShrink"]};return He(u,kye,e)},_ye=ke("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.variant],e[`color${fe(o.color)}`]]}})(({ownerState:t,theme:e})=>V({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Aw(UL||(UL=Xw`
      animation: ${0} 1.4s linear infinite;
    `),wye)),Cye=ke("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Aye=ke("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.circle,e[`circle${fe(o.variant)}`],o.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>V({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Aw(HL||(HL=Xw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),vye)),Zb=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiCircularProgress"}),{className:c,color:u="primary",disableShrink:p=!1,size:m=40,style:g,thickness:w=3.6,value:_=0,variant:C="indeterminate"}=s,y=ye(s,bye),x=V({},s,{color:u,disableShrink:p,size:m,thickness:w,value:_,variant:C}),S=yye(x),T={},R={},D={};if(C==="determinate"){const N=2*Math.PI*((Ys-w)/2);T.strokeDasharray=N.toFixed(3),D["aria-valuenow"]=Math.round(_),T.strokeDashoffset=`${((100-_)/100*N).toFixed(3)}px`,R.transform="rotate(-90deg)"}return B.jsx(_ye,V({className:Ce(S.root,c),style:V({width:m,height:m},R,g),ownerState:x,ref:o,role:"progressbar"},D,y,{children:B.jsx(Cye,{className:S.svg,ownerState:x,viewBox:`${Ys/2} ${Ys/2} ${Ys} ${Ys}`,children:B.jsx(Aye,{className:S.circle,style:T,ownerState:x,cx:Ys,cy:Ys,r:(Ys-w)/2,fill:"none",strokeWidth:w})})}))}),hV=wke({createStyledComponent:ke("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[`maxWidth${fe(String(o.maxWidth))}`],o.fixed&&e.fixed,o.disableGutters&&e.disableGutters]}}),useThemeProps:t=>We({props:t,name:"MuiContainer"})});function xye(t){return Ue("MuiModal",t)}$e("MuiModal",["root","hidden","backdrop"]);const Eye=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Sye=t=>{const{open:e,exited:o,classes:s}=t;return He({root:["root",!e&&o&&"hidden"],backdrop:["backdrop"]},xye,s)},Tye=ke("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.open&&o.exited&&e.hidden]}})(({theme:t,ownerState:e})=>V({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Iye=ke(dV,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),pV=z.forwardRef(function(e,o){var s,c,u,p,m,g;const w=We({name:"MuiModal",props:e}),{BackdropComponent:_=Iye,BackdropProps:C,className:y,closeAfterTransition:x=!1,children:S,container:T,component:R,components:D={},componentsProps:N={},disableAutoFocus:O=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:$=!1,disablePortal:H=!1,disableRestoreFocus:M=!1,disableScrollLock:U=!1,hideBackdrop:G=!1,keepMounted:Y=!1,onBackdropClick:Z,open:re,slotProps:J,slots:X}=w,oe=ye(w,Eye),ie=V({},w,{closeAfterTransition:x,disableAutoFocus:O,disableEnforceFocus:j,disableEscapeKeyDown:$,disablePortal:H,disableRestoreFocus:M,disableScrollLock:U,hideBackdrop:G,keepMounted:Y}),{getRootProps:ae,getBackdropProps:q,getTransitionProps:se,portalRef:he,isTopModal:Ie,exited:Me,hasTransition:Ye}=J0e(V({},ie,{rootRef:o})),Pe=V({},ie,{exited:Me}),Qe=Sye(Pe),xe={};if(S.props.tabIndex===void 0&&(xe.tabIndex="-1"),Ye){const{onEnter:Q,onExited:te}=se();xe.onEnter=Q,xe.onExited=te}const ut=(s=(c=X==null?void 0:X.root)!=null?c:D.Root)!=null?s:Tye,lt=(u=(p=X==null?void 0:X.backdrop)!=null?p:D.Backdrop)!=null?u:_,st=(m=J==null?void 0:J.root)!=null?m:N.root,vt=(g=J==null?void 0:J.backdrop)!=null?g:N.backdrop,qe=Ia({elementType:ut,externalSlotProps:st,externalForwardedProps:oe,getSlotProps:ae,additionalProps:{ref:o,as:R},ownerState:Pe,className:Ce(y,st==null?void 0:st.className,Qe==null?void 0:Qe.root,!Pe.open&&Pe.exited&&(Qe==null?void 0:Qe.hidden))}),Ee=Ia({elementType:lt,externalSlotProps:vt,additionalProps:C,getSlotProps:Q=>q(V({},Q,{onClick:te=>{Z&&Z(te),Q!=null&&Q.onClick&&Q.onClick(te)}})),className:Ce(vt==null?void 0:vt.className,C==null?void 0:C.className,Qe==null?void 0:Qe.backdrop),ownerState:Pe});return!Y&&!re&&(!Ye||Me)?null:B.jsx(Y8,{ref:he,container:T,disablePortal:H,children:B.jsxs(ut,V({},qe,{children:[!G&&_?B.jsx(lt,V({},Ee)):null,B.jsx(V0e,{disableEnforceFocus:j,disableAutoFocus:O,disableRestoreFocus:M,isEnabled:Ie,open:re,children:z.cloneElement(S,xe)})]}))})});function Dye(t){return Ue("MuiDialog",t)}const CC=$e("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),fV=z.createContext({}),Mye=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Pye=ke(dV,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Nye=t=>{const{classes:e,scroll:o,maxWidth:s,fullWidth:c,fullScreen:u}=t,p={root:["root"],container:["container",`scroll${fe(o)}`],paper:["paper",`paperScroll${fe(o)}`,`paperWidth${fe(String(s))}`,c&&"paperFullWidth",u&&"paperFullScreen"]};return He(p,Dye,e)},Rye=ke(pV,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Oye=ke("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.container,e[`scroll${fe(o.scroll)}`]]}})(({ownerState:t})=>V({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Bye=ke(tc,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.paper,e[`scrollPaper${fe(o.scroll)}`],e[`paperWidth${fe(String(o.maxWidth))}`],o.fullWidth&&e.paperFullWidth,o.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>V({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${CC.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${CC.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${CC.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),I2=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiDialog"}),c=mu(),u={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":m,BackdropComponent:g,BackdropProps:w,children:_,className:C,disableEscapeKeyDown:y=!1,fullScreen:x=!1,fullWidth:S=!1,maxWidth:T="sm",onBackdropClick:R,onClick:D,onClose:N,open:O,PaperComponent:j=tc,PaperProps:$={},scroll:H="paper",TransitionComponent:M=cV,transitionDuration:U=u,TransitionProps:G}=s,Y=ye(s,Mye),Z=V({},s,{disableEscapeKeyDown:y,fullScreen:x,fullWidth:S,maxWidth:T,scroll:H}),re=Nye(Z),J=z.useRef(),X=q=>{J.current=q.target===q.currentTarget},oe=q=>{D&&D(q),J.current&&(J.current=null,R&&R(q),N&&N(q,"backdropClick"))},ie=Kf(m),ae=z.useMemo(()=>({titleId:ie}),[ie]);return B.jsx(Rye,V({className:Ce(re.root,C),closeAfterTransition:!0,components:{Backdrop:Pye},componentsProps:{backdrop:V({transitionDuration:U,as:g},w)},disableEscapeKeyDown:y,onClose:N,open:O,ref:o,onClick:oe,ownerState:Z},Y,{children:B.jsx(M,V({appear:!0,in:O,timeout:U,role:"presentation"},G,{children:B.jsx(Oye,{className:Ce(re.container),onMouseDown:X,ownerState:Z,children:B.jsx(Bye,V({as:j,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":ie},$,{className:Ce(re.paper,$.className),ownerState:Z,children:B.jsx(fV.Provider,{value:ae,children:_})}))})}))}))});function Lye(t){return Ue("MuiDialogActions",t)}$e("MuiDialogActions",["root","spacing"]);const jye=["className","disableSpacing"],zye=t=>{const{classes:e,disableSpacing:o}=t;return He({root:["root",!o&&"spacing"]},Lye,e)},Fye=ke("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disableSpacing&&e.spacing]}})(({ownerState:t})=>V({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),D2=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiDialogActions"}),{className:c,disableSpacing:u=!1}=s,p=ye(s,jye),m=V({},s,{disableSpacing:u}),g=zye(m);return B.jsx(Fye,V({className:Ce(g.root,c),ownerState:m,ref:o},p))});function $ye(t){return Ue("MuiDialogContent",t)}$e("MuiDialogContent",["root","dividers"]);function Vye(t){return Ue("MuiDialogTitle",t)}const Uye=$e("MuiDialogTitle",["root"]),Hye=["className","dividers"],Wye=t=>{const{classes:e,dividers:o}=t;return He({root:["root",o&&"dividers"]},$ye,e)},qye=ke("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>V({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Uye.root} + &`]:{paddingTop:0}})),M2=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiDialogContent"}),{className:c,dividers:u=!1}=s,p=ye(s,Hye),m=V({},s,{dividers:u}),g=Wye(m);return B.jsx(qye,V({className:Ce(g.root,c),ownerState:m,ref:o},p))});function Gye(t){return Ue("MuiDialogContentText",t)}$e("MuiDialogContentText",["root"]);const Kye=["children","className"],Yye=t=>{const{classes:e}=t,s=He({root:["root"]},Gye,e);return V({},e,s)},Qye=ke(dt,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),P2=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiDialogContentText"}),{className:c}=s,u=ye(s,Kye),p=Yye(u);return B.jsx(Qye,V({component:"p",variant:"body1",color:"text.secondary",ref:o,ownerState:u,className:Ce(p.root,c)},s,{classes:p}))}),Zye=["className","id"],Jye=t=>{const{classes:e}=t;return He({root:["root"]},Vye,e)},Xye=ke(dt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),N2=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiDialogTitle"}),{className:c,id:u}=s,p=ye(s,Zye),m=s,g=Jye(m),{titleId:w=u}=z.useContext(fV);return B.jsx(Xye,V({component:"h2",className:Ce(g.root,c),ownerState:m,ref:o,variant:"h6",id:u??w},p))});function e_e(t){return Ue("MuiDivider",t)}const BTe=$e("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),t_e=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],n_e=t=>{const{absolute:e,children:o,classes:s,flexItem:c,light:u,orientation:p,textAlign:m,variant:g}=t;return He({root:["root",e&&"absolute",g,u&&"light",p==="vertical"&&"vertical",c&&"flexItem",o&&"withChildren",o&&p==="vertical"&&"withChildrenVertical",m==="right"&&p!=="vertical"&&"textAlignRight",m==="left"&&p!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",p==="vertical"&&"wrapperVertical"]},e_e,s)},o_e=ke("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.absolute&&e.absolute,e[o.variant],o.light&&e.light,o.orientation==="vertical"&&e.vertical,o.flexItem&&e.flexItem,o.children&&e.withChildren,o.children&&o.orientation==="vertical"&&e.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&e.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>V({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Nt(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>V({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>V({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),r_e=ke("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.wrapper,o.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>V({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),gV=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiDivider"}),{absolute:c=!1,children:u,className:p,component:m=u?"div":"hr",flexItem:g=!1,light:w=!1,orientation:_="horizontal",role:C=m!=="hr"?"separator":void 0,textAlign:y="center",variant:x="fullWidth"}=s,S=ye(s,t_e),T=V({},s,{absolute:c,component:m,flexItem:g,light:w,orientation:_,role:C,textAlign:y,variant:x}),R=n_e(T);return B.jsx(o_e,V({as:m,className:Ce(R.root,p),role:C,ref:o,ownerState:T},S,{children:u?B.jsx(r_e,{className:R.wrapper,ownerState:T,children:u}):null}))});gV.muiSkipListHighlight=!0;const i_e=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],s_e=t=>{const{classes:e,disableUnderline:o}=t,c=He({root:["root",!o&&"underline"],input:["input"]},Fve,e);return V({},e,c)},a_e=ke(Zw,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[...Yw(t,e),!o.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var o;const s=t.palette.mode==="light",c=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",p=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",m=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return V({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:p,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:u}},[`&.${cl.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:u},[`&.${cl.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:m}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(o=(t.vars||t).palette[e.color||"primary"])==null?void 0:o.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:c}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cl.disabled}, .${cl.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${cl.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&V({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),l_e=ke(Jw,{name:"MuiFilledInput",slot:"Input",overridesResolver:Qw})(({theme:t,ownerState:e})=>V({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),R2=z.forwardRef(function(e,o){var s,c,u,p;const m=We({props:e,name:"MuiFilledInput"}),{components:g={},componentsProps:w,fullWidth:_=!1,inputComponent:C="input",multiline:y=!1,slotProps:x,slots:S={},type:T="text"}=m,R=ye(m,i_e),D=V({},m,{fullWidth:_,inputComponent:C,multiline:y,type:T}),N=s_e(m),O={root:{ownerState:D},input:{ownerState:D}},j=x??w?Qo(O,x??w):O,$=(s=(c=S.root)!=null?c:g.Root)!=null?s:a_e,H=(u=(p=S.input)!=null?p:g.Input)!=null?u:l_e;return B.jsx(T2,V({slots:{root:$,input:H},componentsProps:j,fullWidth:_,inputComponent:C,multiline:y,ref:o,type:T},R,{classes:N}))});R2.muiName="Input";function c_e(t){return Ue("MuiFormControl",t)}$e("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const d_e=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],u_e=t=>{const{classes:e,margin:o,fullWidth:s}=t,c={root:["root",o!=="none"&&`margin${fe(o)}`,s&&"fullWidth"]};return He(c,c_e,e)},h_e=ke("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>V({},e.root,e[`margin${fe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>V({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),p_e=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiFormControl"}),{children:c,className:u,color:p="primary",component:m="div",disabled:g=!1,error:w=!1,focused:_,fullWidth:C=!1,hiddenLabel:y=!1,margin:x="none",required:S=!1,size:T="medium",variant:R="outlined"}=s,D=ye(s,d_e),N=V({},s,{color:p,component:m,disabled:g,error:w,fullWidth:C,hiddenLabel:y,margin:x,required:S,size:T,variant:R}),O=u_e(N),[j,$]=z.useState(()=>{let J=!1;return c&&z.Children.forEach(c,X=>{if(!dp(X,["Input","Select"]))return;const oe=dp(X,["Select"])?X.props.input:X;oe&&Pve(oe.props)&&(J=!0)}),J}),[H,M]=z.useState(()=>{let J=!1;return c&&z.Children.forEach(c,X=>{dp(X,["Input","Select"])&&(Qb(X.props,!0)||Qb(X.props.inputProps,!0))&&(J=!0)}),J}),[U,G]=z.useState(!1);g&&U&&G(!1);const Y=_!==void 0&&!g?_:U;let Z;const re=z.useMemo(()=>({adornedStart:j,setAdornedStart:$,color:p,disabled:g,error:w,filled:H,focused:Y,fullWidth:C,hiddenLabel:y,size:T,onBlur:()=>{G(!1)},onEmpty:()=>{M(!1)},onFilled:()=>{M(!0)},onFocus:()=>{G(!0)},registerEffect:Z,required:S,variant:R}),[j,p,g,w,H,Y,C,y,Z,S,T,R]);return B.jsx(S2.Provider,{value:re,children:B.jsx(h_e,V({as:m,ownerState:N,className:Ce(O.root,u),ref:o},D,{children:c}))})});function f_e(t){return Ue("MuiFormHelperText",t)}const WL=$e("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var qL;const g_e=["children","className","component","disabled","error","filled","focused","margin","required","variant"],m_e=t=>{const{classes:e,contained:o,size:s,disabled:c,error:u,filled:p,focused:m,required:g}=t,w={root:["root",c&&"disabled",u&&"error",s&&`size${fe(s)}`,o&&"contained",m&&"focused",p&&"filled",g&&"required"]};return He(w,f_e,e)},k_e=ke("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.size&&e[`size${fe(o.size)}`],o.contained&&e.contained,o.filled&&e.filled]}})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${WL.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${WL.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),b_e=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiFormHelperText"}),{children:c,className:u,component:p="p"}=s,m=ye(s,g_e),g=wu(),w=bu({props:s,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),_=V({},s,{component:p,contained:w.variant==="filled"||w.variant==="outlined",variant:w.variant,size:w.size,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),C=m_e(_);return B.jsx(k_e,V({as:p,ownerState:_,className:Ce(C.root,u),ref:o},m,{children:c===" "?qL||(qL=B.jsx("span",{className:"notranslate",children:"​"})):c}))});function w_e(t){return Ue("MuiFormLabel",t)}const fp=$e("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),v_e=["children","className","color","component","disabled","error","filled","focused","required"],y_e=t=>{const{classes:e,color:o,focused:s,disabled:c,error:u,filled:p,required:m}=t,g={root:["root",`color${fe(o)}`,c&&"disabled",u&&"error",p&&"filled",s&&"focused",m&&"required"],asterisk:["asterisk",u&&"error"]};return He(g,w_e,e)},__e=ke("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>V({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${fp.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${fp.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${fp.error}`]:{color:(t.vars||t).palette.error.main}})),C_e=ke("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${fp.error}`]:{color:(t.vars||t).palette.error.main}})),A_e=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiFormLabel"}),{children:c,className:u,component:p="label"}=s,m=ye(s,v_e),g=wu(),w=bu({props:s,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),_=V({},s,{color:w.color||"primary",component:p,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),C=y_e(_);return B.jsxs(__e,V({as:p,ownerState:_,className:Ce(C.root,u),ref:o},m,{children:[c,w.required&&B.jsxs(C_e,{ownerState:_,"aria-hidden":!0,className:C.asterisk,children:[" ","*"]})]}))}),GL=z.createContext();function x_e(t){return Ue("MuiGrid",t)}const E_e=[0,1,2,3,4,5,6,7,8,9,10],S_e=["column-reverse","column","row-reverse","row"],T_e=["nowrap","wrap-reverse","wrap"],Ih=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],lf=$e("MuiGrid",["root","container","item","zeroMinWidth",...E_e.map(t=>`spacing-xs-${t}`),...S_e.map(t=>`direction-xs-${t}`),...T_e.map(t=>`wrap-xs-${t}`),...Ih.map(t=>`grid-xs-${t}`),...Ih.map(t=>`grid-sm-${t}`),...Ih.map(t=>`grid-md-${t}`),...Ih.map(t=>`grid-lg-${t}`),...Ih.map(t=>`grid-xl-${t}`)]),I_e=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ed(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function D_e({theme:t,ownerState:e}){let o;return t.breakpoints.keys.reduce((s,c)=>{let u={};if(e[c]&&(o=e[c]),!o)return s;if(o===!0)u={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(o==="auto")u={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const p=xw({values:e.columns,breakpoints:t.breakpoints.values}),m=typeof p=="object"?p[c]:p;if(m==null)return s;const g=`${Math.round(o/m*1e8)/1e6}%`;let w={};if(e.container&&e.item&&e.columnSpacing!==0){const _=t.spacing(e.columnSpacing);if(_!=="0px"){const C=`calc(${g} + ${Ed(_)})`;w={flexBasis:C,maxWidth:C}}}u=V({flexBasis:g,flexGrow:0,maxWidth:g},w)}return t.breakpoints.values[c]===0?Object.assign(s,u):s[t.breakpoints.up(c)]=u,s},{})}function M_e({theme:t,ownerState:e}){const o=xw({values:e.direction,breakpoints:t.breakpoints.values});return Hr({theme:t},o,s=>{const c={flexDirection:s};return s.indexOf("column")===0&&(c[`& > .${lf.item}`]={maxWidth:"none"}),c})}function mV({breakpoints:t,values:e}){let o="";Object.keys(e).forEach(c=>{o===""&&e[c]!==0&&(o=c)});const s=Object.keys(t).sort((c,u)=>t[c]-t[u]);return s.slice(0,s.indexOf(o))}function P_e({theme:t,ownerState:e}){const{container:o,rowSpacing:s}=e;let c={};if(o&&s!==0){const u=xw({values:s,breakpoints:t.breakpoints.values});let p;typeof u=="object"&&(p=mV({breakpoints:t.breakpoints.values,values:u})),c=Hr({theme:t},u,(m,g)=>{var w;const _=t.spacing(m);return _!=="0px"?{marginTop:`-${Ed(_)}`,[`& > .${lf.item}`]:{paddingTop:Ed(_)}}:(w=p)!=null&&w.includes(g)?{}:{marginTop:0,[`& > .${lf.item}`]:{paddingTop:0}}})}return c}function N_e({theme:t,ownerState:e}){const{container:o,columnSpacing:s}=e;let c={};if(o&&s!==0){const u=xw({values:s,breakpoints:t.breakpoints.values});let p;typeof u=="object"&&(p=mV({breakpoints:t.breakpoints.values,values:u})),c=Hr({theme:t},u,(m,g)=>{var w;const _=t.spacing(m);return _!=="0px"?{width:`calc(100% + ${Ed(_)})`,marginLeft:`-${Ed(_)}`,[`& > .${lf.item}`]:{paddingLeft:Ed(_)}}:(w=p)!=null&&w.includes(g)?{}:{width:"100%",marginLeft:0,[`& > .${lf.item}`]:{paddingLeft:0}}})}return c}function R_e(t,e,o={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[o[`spacing-xs-${String(t)}`]];const s=[];return e.forEach(c=>{const u=t[c];Number(u)>0&&s.push(o[`spacing-${c}-${String(u)}`])}),s}const O_e=ke("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t,{container:s,direction:c,item:u,spacing:p,wrap:m,zeroMinWidth:g,breakpoints:w}=o;let _=[];s&&(_=R_e(p,w,e));const C=[];return w.forEach(y=>{const x=o[y];x&&C.push(e[`grid-${y}-${String(x)}`])}),[e.root,s&&e.container,u&&e.item,g&&e.zeroMinWidth,..._,c!=="row"&&e[`direction-xs-${String(c)}`],m!=="wrap"&&e[`wrap-xs-${String(m)}`],...C]}})(({ownerState:t})=>V({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),M_e,P_e,N_e,D_e);function B_e(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const o=[];return e.forEach(s=>{const c=t[s];if(Number(c)>0){const u=`spacing-${s}-${String(c)}`;o.push(u)}}),o}const L_e=t=>{const{classes:e,container:o,direction:s,item:c,spacing:u,wrap:p,zeroMinWidth:m,breakpoints:g}=t;let w=[];o&&(w=B_e(u,g));const _=[];g.forEach(y=>{const x=t[y];x&&_.push(`grid-${y}-${String(x)}`)});const C={root:["root",o&&"container",c&&"item",m&&"zeroMinWidth",...w,s!=="row"&&`direction-xs-${String(s)}`,p!=="wrap"&&`wrap-xs-${String(p)}`,..._]};return He(C,x_e,e)},qc=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiGrid"}),{breakpoints:c}=mu(),u=Pw(s),{className:p,columns:m,columnSpacing:g,component:w="div",container:_=!1,direction:C="row",item:y=!1,rowSpacing:x,spacing:S=0,wrap:T="wrap",zeroMinWidth:R=!1}=u,D=ye(u,I_e),N=x||S,O=g||S,j=z.useContext(GL),$=_?m||12:j,H={},M=V({},D);c.keys.forEach(Y=>{D[Y]!=null&&(H[Y]=D[Y],delete M[Y])});const U=V({},u,{columns:$,container:_,direction:C,item:y,rowSpacing:N,columnSpacing:O,wrap:T,zeroMinWidth:R,spacing:S},H,{breakpoints:c.keys}),G=L_e(U);return B.jsx(GL.Provider,{value:$,children:B.jsx(O_e,V({ownerState:U,className:Ce(G.root,p),as:w,ref:o},M))})}),j_e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function y1(t){return`scale(${t}, ${t**2})`}const z_e={entering:{opacity:1,transform:y1(1)},entered:{opacity:1,transform:"none"}},AC=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),cf=z.forwardRef(function(e,o){const{addEndListener:s,appear:c=!0,children:u,easing:p,in:m,onEnter:g,onEntered:w,onEntering:_,onExit:C,onExited:y,onExiting:x,style:S,timeout:T="auto",TransitionComponent:R=Ki}=e,D=ye(e,j_e),N=Cl(),O=z.useRef(),j=mu(),$=z.useRef(null),H=gn($,u.ref,o),M=oe=>ie=>{if(oe){const ae=$.current;ie===void 0?oe(ae):oe(ae,ie)}},U=M(_),G=M((oe,ie)=>{H8(oe);const{duration:ae,delay:q,easing:se}=Gb({style:S,timeout:T,easing:p},{mode:"enter"});let he;T==="auto"?(he=j.transitions.getAutoHeightDuration(oe.clientHeight),O.current=he):he=ae,oe.style.transition=[j.transitions.create("opacity",{duration:he,delay:q}),j.transitions.create("transform",{duration:AC?he:he*.666,delay:q,easing:se})].join(","),g&&g(oe,ie)}),Y=M(w),Z=M(x),re=M(oe=>{const{duration:ie,delay:ae,easing:q}=Gb({style:S,timeout:T,easing:p},{mode:"exit"});let se;T==="auto"?(se=j.transitions.getAutoHeightDuration(oe.clientHeight),O.current=se):se=ie,oe.style.transition=[j.transitions.create("opacity",{duration:se,delay:ae}),j.transitions.create("transform",{duration:AC?se:se*.666,delay:AC?ae:ae||se*.333,easing:q})].join(","),oe.style.opacity=0,oe.style.transform=y1(.75),C&&C(oe)}),J=M(y),X=oe=>{T==="auto"&&N.start(O.current||0,oe),s&&s($.current,oe)};return B.jsx(R,V({appear:c,in:m,nodeRef:$,onEnter:G,onEntered:Y,onEntering:U,onExit:re,onExited:J,onExiting:Z,addEndListener:X,timeout:T==="auto"?null:T},D,{children:(oe,ie)=>z.cloneElement(u,V({style:V({opacity:0,transform:y1(.75),visibility:oe==="exited"&&!m?"hidden":void 0},z_e[oe],S,u.props.style),ref:H},ie))}))});cf.muiSupportAuto=!0;const F_e=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],$_e=t=>{const{classes:e,disableUnderline:o}=t,c=He({root:["root",!o&&"underline"],input:["input"]},jve,e);return V({},e,c)},V_e=ke(Zw,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[...Yw(t,e),!o.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(s=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),V({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Th.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Th.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Th.disabled}, .${Th.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${Th.disabled}:before`]:{borderBottomStyle:"dotted"}})}),U_e=ke(Jw,{name:"MuiInput",slot:"Input",overridesResolver:Qw})({}),O2=z.forwardRef(function(e,o){var s,c,u,p;const m=We({props:e,name:"MuiInput"}),{disableUnderline:g,components:w={},componentsProps:_,fullWidth:C=!1,inputComponent:y="input",multiline:x=!1,slotProps:S,slots:T={},type:R="text"}=m,D=ye(m,F_e),N=$_e(m),j={root:{ownerState:{disableUnderline:g}}},$=S??_?Qo(S??_,j):j,H=(s=(c=T.root)!=null?c:w.Root)!=null?s:V_e,M=(u=(p=T.input)!=null?p:w.Input)!=null?u:U_e;return B.jsx(T2,V({slots:{root:H,input:M},slotProps:$,fullWidth:C,inputComponent:y,multiline:x,ref:o,type:R},D,{classes:N}))});O2.muiName="Input";function H_e(t){return Ue("MuiInputLabel",t)}$e("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const W_e=["disableAnimation","margin","shrink","variant","className"],q_e=t=>{const{classes:e,formControl:o,size:s,shrink:c,disableAnimation:u,variant:p,required:m}=t,g={root:["root",o&&"formControl",!u&&"animated",c&&"shrink",s&&s!=="normal"&&`size${fe(s)}`,p],asterisk:[m&&"asterisk"]},w=He(g,H_e,e);return V({},e,w)},G_e=ke(A_e,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${fp.asterisk}`]:e.asterisk},e.root,o.formControl&&e.formControl,o.size==="small"&&e.sizeSmall,o.shrink&&e.shrink,!o.disableAnimation&&e.animated,o.focused&&e.focused,e[o.variant]]}})(({theme:t,ownerState:e})=>V({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&V({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&V({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&V({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),K_e=z.forwardRef(function(e,o){const s=We({name:"MuiInputLabel",props:e}),{disableAnimation:c=!1,shrink:u,className:p}=s,m=ye(s,W_e),g=wu();let w=u;typeof w>"u"&&g&&(w=g.filled||g.focused||g.adornedStart);const _=bu({props:s,muiFormControl:g,states:["size","variant","required","focused"]}),C=V({},s,{disableAnimation:c,formControl:g,shrink:w,size:_.size,variant:_.variant,required:_.required,focused:_.focused}),y=q_e(C);return B.jsx(G_e,V({"data-shrink":w,ownerState:C,ref:o,className:Ce(y.root,p)},m,{classes:y}))});function Y_e(t){return Ue("MuiLink",t)}const Q_e=$e("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),kV={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Z_e=t=>kV[t]||t,J_e=({theme:t,ownerState:e})=>{const o=Z_e(e.color),s=Wd(t,`palette.${o}`,!1)||e.color,c=Wd(t,`palette.${o}Channel`);return"vars"in t&&c?`rgba(${c} / 0.4)`:Nt(s,.4)},X_e=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],eCe=t=>{const{classes:e,component:o,focusVisible:s,underline:c}=t,u={root:["root",`underline${fe(c)}`,o==="button"&&"button",s&&"focusVisible"]};return He(u,Y_e,e)},tCe=ke(dt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[`underline${fe(o.underline)}`],o.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>V({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&V({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:J_e({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Q_e.focusVisible}`]:{outline:"auto"}})),bV=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiLink"}),{className:c,color:u="primary",component:p="a",onBlur:m,onFocus:g,TypographyClasses:w,underline:_="always",variant:C="inherit",sx:y}=s,x=ye(s,X_e),{isFocusVisibleRef:S,onBlur:T,onFocus:R,ref:D}=Hw(),[N,O]=z.useState(!1),j=gn(o,D),$=G=>{T(G),S.current===!1&&O(!1),m&&m(G)},H=G=>{R(G),S.current===!0&&O(!0),g&&g(G)},M=V({},s,{color:u,component:p,focusVisible:N,underline:_,variant:C}),U=eCe(M);return B.jsx(tCe,V({color:u,className:Ce(U.root,c),classes:w,component:p,onBlur:$,onFocus:H,ref:j,ownerState:M,variant:C,sx:[...Object.keys(kV).includes(u)?[]:[{color:u}],...Array.isArray(y)?y:[y]]},x))}),Sd=z.createContext({});function nCe(t){return Ue("MuiList",t)}$e("MuiList",["root","padding","dense","subheader"]);const oCe=["children","className","component","dense","disablePadding","subheader"],rCe=t=>{const{classes:e,disablePadding:o,dense:s,subheader:c}=t;return He({root:["root",!o&&"padding",s&&"dense",c&&"subheader"]},nCe,e)},iCe=ke("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disablePadding&&e.padding,o.dense&&e.dense,o.subheader&&e.subheader]}})(({ownerState:t})=>V({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),$k=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiList"}),{children:c,className:u,component:p="ul",dense:m=!1,disablePadding:g=!1,subheader:w}=s,_=ye(s,oCe),C=z.useMemo(()=>({dense:m}),[m]),y=V({},s,{component:p,dense:m,disablePadding:g}),x=rCe(y);return B.jsx(Sd.Provider,{value:C,children:B.jsxs(iCe,V({as:p,className:Ce(x.root,u),ref:o,ownerState:y},_,{children:[w,c]}))})});function sCe(t){return Ue("MuiListItem",t)}const Qc=$e("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),aCe=$e("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function lCe(t){return Ue("MuiListItemSecondaryAction",t)}$e("MuiListItemSecondaryAction",["root","disableGutters"]);const cCe=["className"],dCe=t=>{const{disableGutters:e,classes:o}=t;return He({root:["root",e&&"disableGutters"]},lCe,o)},uCe=ke("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.disableGutters&&e.disableGutters]}})(({ownerState:t})=>V({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),wV=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiListItemSecondaryAction"}),{className:c}=s,u=ye(s,cCe),p=z.useContext(Sd),m=V({},s,{disableGutters:p.disableGutters}),g=dCe(m);return B.jsx(uCe,V({className:Ce(g.root,c),ownerState:m,ref:o},u))});wV.muiName="ListItemSecondaryAction";const hCe=["className"],pCe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],fCe=(t,e)=>{const{ownerState:o}=t;return[e.root,o.dense&&e.dense,o.alignItems==="flex-start"&&e.alignItemsFlexStart,o.divider&&e.divider,!o.disableGutters&&e.gutters,!o.disablePadding&&e.padding,o.button&&e.button,o.hasSecondaryAction&&e.secondaryAction]},gCe=t=>{const{alignItems:e,button:o,classes:s,dense:c,disabled:u,disableGutters:p,disablePadding:m,divider:g,hasSecondaryAction:w,selected:_}=t;return He({root:["root",c&&"dense",!p&&"gutters",!m&&"padding",g&&"divider",u&&"disabled",o&&"button",e==="flex-start"&&"alignItemsFlexStart",w&&"secondaryAction",_&&"selected"],container:["container"]},sCe,s)},mCe=ke("div",{name:"MuiListItem",slot:"Root",overridesResolver:fCe})(({theme:t,ownerState:e})=>V({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&V({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${aCe.root}`]:{paddingRight:48}},{[`&.${Qc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Qc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Nt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Qc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Nt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Qc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Qc.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Nt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Nt(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),kCe=ke("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Dh=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiListItem"}),{alignItems:c="center",autoFocus:u=!1,button:p=!1,children:m,className:g,component:w,components:_={},componentsProps:C={},ContainerComponent:y="li",ContainerProps:{className:x}={},dense:S=!1,disabled:T=!1,disableGutters:R=!1,disablePadding:D=!1,divider:N=!1,focusVisibleClassName:O,secondaryAction:j,selected:$=!1,slotProps:H={},slots:M={}}=s,U=ye(s.ContainerProps,hCe),G=ye(s,pCe),Y=z.useContext(Sd),Z=z.useMemo(()=>({dense:S||Y.dense||!1,alignItems:c,disableGutters:R}),[c,Y.dense,S,R]),re=z.useRef(null);ki(()=>{u&&re.current&&re.current.focus()},[u]);const J=z.Children.toArray(m),X=J.length&&dp(J[J.length-1],["ListItemSecondaryAction"]),oe=V({},s,{alignItems:c,autoFocus:u,button:p,dense:Z.dense,disabled:T,disableGutters:R,disablePadding:D,divider:N,hasSecondaryAction:X,selected:$}),ie=gCe(oe),ae=gn(re,o),q=M.root||_.Root||mCe,se=H.root||C.root||{},he=V({className:Ce(ie.root,se.className,g),disabled:T},G);let Ie=w||"li";return p&&(he.component=w||"div",he.focusVisibleClassName=Ce(Qc.focusVisible,O),Ie=Gd),X?(Ie=!he.component&&!w?"div":Ie,y==="li"&&(Ie==="li"?Ie="div":he.component==="li"&&(he.component="div")),B.jsx(Sd.Provider,{value:Z,children:B.jsxs(kCe,V({as:y,className:Ce(ie.container,x),ref:ae,ownerState:oe},U,{children:[B.jsx(q,V({},se,!qd(q)&&{as:Ie,ownerState:V({},oe,se.ownerState)},he,{children:J})),J.pop()]}))})):B.jsx(Sd.Provider,{value:Z,children:B.jsxs(q,V({},se,{as:Ie,ref:ae},!qd(q)&&{ownerState:V({},oe,se.ownerState)},he,{children:[J,j&&B.jsx(wV,{children:j})]}))})});function bCe(t){return Ue("MuiListItemText",t)}const KL=$e("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),wCe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],vCe=t=>{const{classes:e,inset:o,primary:s,secondary:c,dense:u}=t;return He({root:["root",o&&"inset",u&&"dense",s&&c&&"multiline"],primary:["primary"],secondary:["secondary"]},bCe,e)},yCe=ke("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${KL.primary}`]:e.primary},{[`& .${KL.secondary}`]:e.secondary},e.root,o.inset&&e.inset,o.primary&&o.secondary&&e.multiline,o.dense&&e.dense]}})(({ownerState:t})=>V({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Mh=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiListItemText"}),{children:c,className:u,disableTypography:p=!1,inset:m=!1,primary:g,primaryTypographyProps:w,secondary:_,secondaryTypographyProps:C}=s,y=ye(s,wCe),{dense:x}=z.useContext(Sd);let S=g??c,T=_;const R=V({},s,{disableTypography:p,inset:m,primary:!!S,secondary:!!T,dense:x}),D=vCe(R);return S!=null&&S.type!==dt&&!p&&(S=B.jsx(dt,V({variant:x?"body2":"body1",className:D.primary,component:w!=null&&w.variant?void 0:"span",display:"block"},w,{children:S}))),T!=null&&T.type!==dt&&!p&&(T=B.jsx(dt,V({variant:"body2",className:D.secondary,color:"text.secondary",display:"block"},C,{children:T}))),B.jsxs(yCe,V({className:Ce(D.root,u),ownerState:R,ref:o},y,{children:[S,T]}))}),_Ce=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function xC(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function YL(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function vV(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function Ph(t,e,o,s,c,u){let p=!1,m=c(t,e,e?o:!1);for(;m;){if(m===t.firstChild){if(p)return!1;p=!0}const g=s?!1:m.disabled||m.getAttribute("aria-disabled")==="true";if(!m.hasAttribute("tabindex")||!vV(m,u)||g)m=c(t,m,o);else return m.focus(),!0}return!1}const CCe=z.forwardRef(function(e,o){const{actions:s,autoFocus:c=!1,autoFocusItem:u=!1,children:p,className:m,disabledItemsFocusable:g=!1,disableListWrap:w=!1,onKeyDown:_,variant:C="selectedMenu"}=e,y=ye(e,_Ce),x=z.useRef(null),S=z.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ki(()=>{c&&x.current.focus()},[c]),z.useImperativeHandle(s,()=>({adjustStyleForScrollbar:(O,{direction:j})=>{const $=!x.current.style.width;if(O.clientHeight<x.current.clientHeight&&$){const H=`${D8(Hn(O))}px`;x.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=H,x.current.style.width=`calc(100% + ${H})`}return x.current}}),[]);const T=O=>{const j=x.current,$=O.key,H=Hn(j).activeElement;if($==="ArrowDown")O.preventDefault(),Ph(j,H,w,g,xC);else if($==="ArrowUp")O.preventDefault(),Ph(j,H,w,g,YL);else if($==="Home")O.preventDefault(),Ph(j,null,w,g,xC);else if($==="End")O.preventDefault(),Ph(j,null,w,g,YL);else if($.length===1){const M=S.current,U=$.toLowerCase(),G=performance.now();M.keys.length>0&&(G-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&U!==M.keys[0]&&(M.repeating=!1)),M.lastTime=G,M.keys.push(U);const Y=H&&!M.repeating&&vV(H,M);M.previousKeyMatched&&(Y||Ph(j,H,!1,g,xC,M))?O.preventDefault():M.previousKeyMatched=!1}_&&_(O)},R=gn(x,o);let D=-1;z.Children.forEach(p,(O,j)=>{if(!z.isValidElement(O)){D===j&&(D+=1,D>=p.length&&(D=-1));return}O.props.disabled||(C==="selectedMenu"&&O.props.selected||D===-1)&&(D=j),D===j&&(O.props.disabled||O.props.muiSkipListHighlight||O.type.muiSkipListHighlight)&&(D+=1,D>=p.length&&(D=-1))});const N=z.Children.map(p,(O,j)=>{if(j===D){const $={};return u&&($.autoFocus=!0),O.props.tabIndex===void 0&&C==="selectedMenu"&&($.tabIndex=0),z.cloneElement(O,$)}return O});return B.jsx($k,V({role:"menu",ref:R,className:m,onKeyDown:T,tabIndex:c?0:-1},y,{children:N}))});function ACe(t){return Ue("MuiPopover",t)}$e("MuiPopover",["root","paper"]);const xCe=["onEntering"],ECe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],SCe=["slotProps"];function QL(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function ZL(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function JL(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function EC(t){return typeof t=="function"?t():t}const TCe=t=>{const{classes:e}=t;return He({root:["root"],paper:["paper"]},ACe,e)},ICe=ke(pV,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),yV=ke(tc,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),DCe=z.forwardRef(function(e,o){var s,c,u;const p=We({props:e,name:"MuiPopover"}),{action:m,anchorEl:g,anchorOrigin:w={vertical:"top",horizontal:"left"},anchorPosition:_,anchorReference:C="anchorEl",children:y,className:x,container:S,elevation:T=8,marginThreshold:R=16,open:D,PaperProps:N={},slots:O,slotProps:j,transformOrigin:$={vertical:"top",horizontal:"left"},TransitionComponent:H=cf,transitionDuration:M="auto",TransitionProps:{onEntering:U}={},disableScrollLock:G=!1}=p,Y=ye(p.TransitionProps,xCe),Z=ye(p,ECe),re=(s=j==null?void 0:j.paper)!=null?s:N,J=z.useRef(),X=gn(J,re.ref),oe=V({},p,{anchorOrigin:w,anchorReference:C,elevation:T,marginThreshold:R,externalPaperSlotProps:re,transformOrigin:$,TransitionComponent:H,transitionDuration:M,TransitionProps:Y}),ie=TCe(oe),ae=z.useCallback(()=>{if(C==="anchorPosition")return _;const Q=EC(g),le=(Q&&Q.nodeType===1?Q:Hn(J.current).body).getBoundingClientRect();return{top:le.top+QL(le,w.vertical),left:le.left+ZL(le,w.horizontal)}},[g,w.horizontal,w.vertical,_,C]),q=z.useCallback(Q=>({vertical:QL(Q,$.vertical),horizontal:ZL(Q,$.horizontal)}),[$.horizontal,$.vertical]),se=z.useCallback(Q=>{const te={width:Q.offsetWidth,height:Q.offsetHeight},le=q(te);if(C==="none")return{top:null,left:null,transformOrigin:JL(le)};const _e=ae();let De=_e.top-le.vertical,Ke=_e.left-le.horizontal;const Rt=De+te.height,nt=Ke+te.width,Oe=Ta(EC(g)),et=Oe.innerHeight-R,Je=Oe.innerWidth-R;if(R!==null&&De<R){const Ve=De-R;De-=Ve,le.vertical+=Ve}else if(R!==null&&Rt>et){const Ve=Rt-et;De-=Ve,le.vertical+=Ve}if(R!==null&&Ke<R){const Ve=Ke-R;Ke-=Ve,le.horizontal+=Ve}else if(nt>Je){const Ve=nt-Je;Ke-=Ve,le.horizontal+=Ve}return{top:`${Math.round(De)}px`,left:`${Math.round(Ke)}px`,transformOrigin:JL(le)}},[g,C,ae,q,R]),[he,Ie]=z.useState(D),Me=z.useCallback(()=>{const Q=J.current;if(!Q)return;const te=se(Q);te.top!==null&&(Q.style.top=te.top),te.left!==null&&(Q.style.left=te.left),Q.style.transformOrigin=te.transformOrigin,Ie(!0)},[se]);z.useEffect(()=>(G&&window.addEventListener("scroll",Me),()=>window.removeEventListener("scroll",Me)),[g,G,Me]);const Ye=(Q,te)=>{U&&U(Q,te),Me()},Pe=()=>{Ie(!1)};z.useEffect(()=>{D&&Me()}),z.useImperativeHandle(m,()=>D?{updatePosition:()=>{Me()}}:null,[D,Me]),z.useEffect(()=>{if(!D)return;const Q=h2(()=>{Me()}),te=Ta(g);return te.addEventListener("resize",Q),()=>{Q.clear(),te.removeEventListener("resize",Q)}},[g,D,Me]);let Qe=M;M==="auto"&&!H.muiSupportAuto&&(Qe=void 0);const xe=S||(g?Hn(EC(g)).body:void 0),ut=(c=O==null?void 0:O.root)!=null?c:ICe,lt=(u=O==null?void 0:O.paper)!=null?u:yV,st=Ia({elementType:lt,externalSlotProps:V({},re,{style:he?re.style:V({},re.style,{opacity:0})}),additionalProps:{elevation:T,ref:X},ownerState:oe,className:Ce(ie.paper,re==null?void 0:re.className)}),vt=Ia({elementType:ut,externalSlotProps:(j==null?void 0:j.root)||{},externalForwardedProps:Z,additionalProps:{ref:o,slotProps:{backdrop:{invisible:!0}},container:xe,open:D},ownerState:oe,className:Ce(ie.root,x)}),{slotProps:qe}=vt,Ee=ye(vt,SCe);return B.jsx(ut,V({},Ee,!qd(ut)&&{slotProps:qe,disableScrollLock:G},{children:B.jsx(H,V({appear:!0,in:D,onEntering:Ye,onExited:Pe,timeout:Qe},Y,{children:B.jsx(lt,V({},st,{children:y}))}))}))});function MCe(t){return Ue("MuiMenu",t)}$e("MuiMenu",["root","paper","list"]);const PCe=["onEntering"],NCe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RCe={vertical:"top",horizontal:"right"},OCe={vertical:"top",horizontal:"left"},BCe=t=>{const{classes:e}=t;return He({root:["root"],paper:["paper"],list:["list"]},MCe,e)},LCe=ke(DCe,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),jCe=ke(yV,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),zCe=ke(CCe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),FCe=z.forwardRef(function(e,o){var s,c;const u=We({props:e,name:"MuiMenu"}),{autoFocus:p=!0,children:m,className:g,disableAutoFocusItem:w=!1,MenuListProps:_={},onClose:C,open:y,PaperProps:x={},PopoverClasses:S,transitionDuration:T="auto",TransitionProps:{onEntering:R}={},variant:D="selectedMenu",slots:N={},slotProps:O={}}=u,j=ye(u.TransitionProps,PCe),$=ye(u,NCe),H=M8(),M=V({},u,{autoFocus:p,disableAutoFocusItem:w,MenuListProps:_,onEntering:R,PaperProps:x,transitionDuration:T,TransitionProps:j,variant:D}),U=BCe(M),G=p&&!w&&y,Y=z.useRef(null),Z=(q,se)=>{Y.current&&Y.current.adjustStyleForScrollbar(q,{direction:H?"rtl":"ltr"}),R&&R(q,se)},re=q=>{q.key==="Tab"&&(q.preventDefault(),C&&C(q,"tabKeyDown"))};let J=-1;z.Children.map(m,(q,se)=>{z.isValidElement(q)&&(q.props.disabled||(D==="selectedMenu"&&q.props.selected||J===-1)&&(J=se))});const X=(s=N.paper)!=null?s:jCe,oe=(c=O.paper)!=null?c:x,ie=Ia({elementType:N.root,externalSlotProps:O.root,ownerState:M,className:[U.root,g]}),ae=Ia({elementType:X,externalSlotProps:oe,ownerState:M,className:U.paper});return B.jsx(LCe,V({onClose:C,anchorOrigin:{vertical:"bottom",horizontal:H?"right":"left"},transformOrigin:H?RCe:OCe,slots:{paper:X,root:N.root},slotProps:{root:ie,paper:ae},open:y,ref:o,transitionDuration:T,TransitionProps:V({onEntering:Z},j),ownerState:M},$,{classes:S,children:B.jsx(zCe,V({onKeyDown:re,actions:Y,autoFocus:p&&(J===-1||w),autoFocusItem:G,variant:D},_,{className:Ce(U.list,_.className),children:m}))}))});function $Ce(t){return Ue("MuiNativeSelect",t)}const B2=$e("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),VCe=["className","disabled","error","IconComponent","inputRef","variant"],UCe=t=>{const{classes:e,variant:o,disabled:s,multiple:c,open:u,error:p}=t,m={select:["select",o,s&&"disabled",c&&"multiple",p&&"error"],icon:["icon",`icon${fe(o)}`,u&&"iconOpen",s&&"disabled"]};return He(m,$Ce,e)},_V=({ownerState:t,theme:e})=>V({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":V({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${B2.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),HCe=ke("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Zr,overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.select,e[o.variant],o.error&&e.error,{[`&.${B2.multiple}`]:e.multiple}]}})(_V),CV=({ownerState:t,theme:e})=>V({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${B2.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),WCe=ke("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.icon,o.variant&&e[`icon${fe(o.variant)}`],o.open&&e.iconOpen]}})(CV),qCe=z.forwardRef(function(e,o){const{className:s,disabled:c,error:u,IconComponent:p,inputRef:m,variant:g="standard"}=e,w=ye(e,VCe),_=V({},e,{disabled:c,variant:g,error:u}),C=UCe(_);return B.jsxs(z.Fragment,{children:[B.jsx(HCe,V({ownerState:_,className:Ce(C.select,s),disabled:c,ref:m||o},w)),e.multiple?null:B.jsx(WCe,{as:p,ownerState:_,className:C.icon})]})});var XL;const GCe=["children","classes","className","label","notched"],KCe=ke("fieldset",{shouldForwardProp:Zr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),YCe=ke("legend",{shouldForwardProp:Zr})(({ownerState:t,theme:e})=>V({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&V({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function QCe(t){const{className:e,label:o,notched:s}=t,c=ye(t,GCe),u=o!=null&&o!=="",p=V({},t,{notched:s,withLabel:u});return B.jsx(KCe,V({"aria-hidden":!0,className:e,ownerState:p},c,{children:B.jsx(YCe,{ownerState:p,children:u?B.jsx("span",{children:o}):XL||(XL=B.jsx("span",{className:"notranslate",children:"​"}))})}))}const ZCe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],JCe=t=>{const{classes:e}=t,s=He({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},zve,e);return V({},e,s)},XCe=ke(Zw,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Yw})(({theme:t,ownerState:e})=>{const o=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return V({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ks.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ks.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:o}},[`&.${Ks.focused} .${Ks.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ks.error} .${Ks.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ks.disabled} .${Ks.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&V({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),eAe=ke(QCe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),tAe=ke(Jw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Qw})(({theme:t,ownerState:e})=>V({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),L2=z.forwardRef(function(e,o){var s,c,u,p,m;const g=We({props:e,name:"MuiOutlinedInput"}),{components:w={},fullWidth:_=!1,inputComponent:C="input",label:y,multiline:x=!1,notched:S,slots:T={},type:R="text"}=g,D=ye(g,ZCe),N=JCe(g),O=wu(),j=bu({props:g,muiFormControl:O,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),$=V({},g,{color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:O,fullWidth:_,hiddenLabel:j.hiddenLabel,multiline:x,size:j.size,type:R}),H=(s=(c=T.root)!=null?c:w.Root)!=null?s:XCe,M=(u=(p=T.input)!=null?p:w.Input)!=null?u:tAe;return B.jsx(T2,V({slots:{root:H,input:M},renderSuffix:U=>B.jsx(eAe,{ownerState:$,className:N.notchedOutline,label:y!=null&&y!==""&&j.required?m||(m=B.jsxs(z.Fragment,{children:[y," ","*"]})):y,notched:typeof S<"u"?S:!!(U.startAdornment||U.filled||U.focused)}),fullWidth:_,inputComponent:C,multiline:x,ref:o,type:R},D,{classes:V({},N,{notchedOutline:null})}))});L2.muiName="Input";function nAe(t){return Ue("MuiSelect",t)}const Nh=$e("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var ej;const oAe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],rAe=ke("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`&.${Nh.select}`]:e.select},{[`&.${Nh.select}`]:e[o.variant]},{[`&.${Nh.error}`]:e.error},{[`&.${Nh.multiple}`]:e.multiple}]}})(_V,{[`&.${Nh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),iAe=ke("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.icon,o.variant&&e[`icon${fe(o.variant)}`],o.open&&e.iconOpen]}})(CV),sAe=ke("input",{shouldForwardProp:t=>V8(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function tj(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function aAe(t){return t==null||typeof t=="string"&&!t.trim()}const lAe=t=>{const{classes:e,variant:o,disabled:s,multiple:c,open:u,error:p}=t,m={select:["select",o,s&&"disabled",c&&"multiple",p&&"error"],icon:["icon",`icon${fe(o)}`,u&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return He(m,nAe,e)},cAe=z.forwardRef(function(e,o){var s;const{"aria-describedby":c,"aria-label":u,autoFocus:p,autoWidth:m,children:g,className:w,defaultOpen:_,defaultValue:C,disabled:y,displayEmpty:x,error:S=!1,IconComponent:T,inputRef:R,labelId:D,MenuProps:N={},multiple:O,name:j,onBlur:$,onChange:H,onClose:M,onFocus:U,onOpen:G,open:Y,readOnly:Z,renderValue:re,SelectDisplayProps:J={},tabIndex:X,value:oe,variant:ie="standard"}=e,ae=ye(e,oAe),[q,se]=Vb({controlled:oe,default:C,name:"Select"}),[he,Ie]=Vb({controlled:Y,default:_,name:"Select"}),Me=z.useRef(null),Ye=z.useRef(null),[Pe,Qe]=z.useState(null),{current:xe}=z.useRef(Y!=null),[ut,lt]=z.useState(),st=gn(o,R),vt=z.useCallback(Be=>{Ye.current=Be,Be&&Qe(Be)},[]),qe=Pe==null?void 0:Pe.parentNode;z.useImperativeHandle(st,()=>({focus:()=>{Ye.current.focus()},node:Me.current,value:q}),[q]),z.useEffect(()=>{_&&he&&Pe&&!xe&&(lt(m?null:qe.clientWidth),Ye.current.focus())},[Pe,m]),z.useEffect(()=>{p&&Ye.current.focus()},[p]),z.useEffect(()=>{if(!D)return;const Be=Hn(Ye.current).getElementById(D);if(Be){const Tt=()=>{getSelection().isCollapsed&&Ye.current.focus()};return Be.addEventListener("click",Tt),()=>{Be.removeEventListener("click",Tt)}}},[D]);const Ee=(Be,Tt)=>{Be?G&&G(Tt):M&&M(Tt),xe||(lt(m?null:qe.clientWidth),Ie(Be))},Q=Be=>{Be.button===0&&(Be.preventDefault(),Ye.current.focus(),Ee(!0,Be))},te=Be=>{Ee(!1,Be)},le=z.Children.toArray(g),_e=Be=>{const Tt=le.find(It=>It.props.value===Be.target.value);Tt!==void 0&&(se(Tt.props.value),H&&H(Be,Tt))},De=Be=>Tt=>{let It;if(Tt.currentTarget.hasAttribute("tabindex")){if(O){It=Array.isArray(q)?q.slice():[];const Zt=q.indexOf(Be.props.value);Zt===-1?It.push(Be.props.value):It.splice(Zt,1)}else It=Be.props.value;if(Be.props.onClick&&Be.props.onClick(Tt),q!==It&&(se(It),H)){const Zt=Tt.nativeEvent||Tt,Ln=new Zt.constructor(Zt.type,Zt);Object.defineProperty(Ln,"target",{writable:!0,value:{value:It,name:j}}),H(Ln,Be)}O||Ee(!1,Tt)}},Ke=Be=>{Z||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Be.key)!==-1&&(Be.preventDefault(),Ee(!0,Be))},Rt=Pe!==null&&he,nt=Be=>{!Rt&&$&&(Object.defineProperty(Be,"target",{writable:!0,value:{value:q,name:j}}),$(Be))};delete ae["aria-invalid"];let Oe,et;const Je=[];let Ve=!1;(Qb({value:q})||x)&&(re?Oe=re(q):Ve=!0);const gt=le.map(Be=>{if(!z.isValidElement(Be))return null;let Tt;if(O){if(!Array.isArray(q))throw new Error(Hl(2));Tt=q.some(It=>tj(It,Be.props.value)),Tt&&Ve&&Je.push(Be.props.children)}else Tt=tj(q,Be.props.value),Tt&&Ve&&(et=Be.props.children);return z.cloneElement(Be,{"aria-selected":Tt?"true":"false",onClick:De(Be),onKeyUp:It=>{It.key===" "&&It.preventDefault(),Be.props.onKeyUp&&Be.props.onKeyUp(It)},role:"option",selected:Tt,value:void 0,"data-value":Be.props.value})});Ve&&(O?Je.length===0?Oe=null:Oe=Je.reduce((Be,Tt,It)=>(Be.push(Tt),It<Je.length-1&&Be.push(", "),Be),[]):Oe=et);let Ht=ut;!m&&xe&&Pe&&(Ht=qe.clientWidth);let Wn;typeof X<"u"?Wn=X:Wn=y?null:0;const yt=J.id||(j?`mui-component-select-${j}`:void 0),ze=V({},e,{variant:ie,value:q,open:Rt,error:S}),Qt=lAe(ze),Jr=V({},N.PaperProps,(s=N.slotProps)==null?void 0:s.paper),tr=Kf();return B.jsxs(z.Fragment,{children:[B.jsx(rAe,V({ref:vt,tabIndex:Wn,role:"combobox","aria-controls":tr,"aria-disabled":y?"true":void 0,"aria-expanded":Rt?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[D,yt].filter(Boolean).join(" ")||void 0,"aria-describedby":c,onKeyDown:Ke,onMouseDown:y||Z?null:Q,onBlur:nt,onFocus:U},J,{ownerState:ze,className:Ce(J.className,Qt.select,w),id:yt,children:aAe(Oe)?ej||(ej=B.jsx("span",{className:"notranslate",children:"​"})):Oe})),B.jsx(sAe,V({"aria-invalid":S,value:Array.isArray(q)?q.join(","):q,name:j,ref:Me,"aria-hidden":!0,onChange:_e,tabIndex:-1,disabled:y,className:Qt.nativeInput,autoFocus:p,ownerState:ze},ae)),B.jsx(iAe,{as:T,className:Qt.icon,ownerState:ze}),B.jsx(FCe,V({id:`menu-${j||""}`,anchorEl:qe,open:Rt,onClose:te,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},N,{MenuListProps:V({"aria-labelledby":D,role:"listbox","aria-multiselectable":O?"true":void 0,disableListWrap:!0,id:tr},N.MenuListProps),slotProps:V({},N.slotProps,{paper:V({},Jr,{style:V({minWidth:Ht},Jr!=null?Jr.style:null)})}),children:gt}))]})}),dAe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],uAe=["root"],hAe=t=>{const{classes:e}=t;return e},j2={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Zr(t)&&t!=="variant",slot:"Root"},pAe=ke(O2,j2)(""),fAe=ke(L2,j2)(""),gAe=ke(R2,j2)(""),AV=z.forwardRef(function(e,o){const s=We({name:"MuiSelect",props:e}),{autoWidth:c=!1,children:u,classes:p={},className:m,defaultOpen:g=!1,displayEmpty:w=!1,IconComponent:_=$ve,id:C,input:y,inputProps:x,label:S,labelId:T,MenuProps:R,multiple:D=!1,native:N=!1,onClose:O,onOpen:j,open:$,renderValue:H,SelectDisplayProps:M,variant:U="outlined"}=s,G=ye(s,dAe),Y=N?qCe:cAe,Z=wu(),re=bu({props:s,muiFormControl:Z,states:["variant","error"]}),J=re.variant||U,X=V({},s,{variant:J,classes:p}),oe=hAe(X),ie=ye(oe,uAe),ae=y||{standard:B.jsx(pAe,{ownerState:X}),outlined:B.jsx(fAe,{label:S,ownerState:X}),filled:B.jsx(gAe,{ownerState:X})}[J],q=gn(o,ae.ref);return B.jsx(z.Fragment,{children:z.cloneElement(ae,V({inputComponent:Y,inputProps:V({children:u,error:re.error,IconComponent:_,variant:J,type:void 0,multiple:D},N?{id:C}:{autoWidth:c,defaultOpen:g,displayEmpty:w,labelId:T,MenuProps:R,onClose:O,onOpen:j,open:$,renderValue:H,SelectDisplayProps:V({id:C},M)},x,{classes:x?Qo(ie,x.classes):ie},y?y.props.inputProps:{})},(D&&N||w)&&J==="outlined"?{notched:!0}:{},{ref:q,className:Ce(ae.props.className,m,oe.root)},!y&&{variant:J},G))})});AV.muiName="Select";function mAe(t){return Ue("MuiSnackbarContent",t)}$e("MuiSnackbarContent",["root","message","action"]);const kAe=["action","className","message","role"],bAe=t=>{const{classes:e}=t;return He({root:["root"],action:["action"],message:["message"]},mAe,e)},wAe=ke(tc,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,o=Cke(t.palette.background.default,e);return V({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(o),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:o,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),vAe=ke("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),yAe=ke("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),_Ae=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiSnackbarContent"}),{action:c,className:u,message:p,role:m="alert"}=s,g=ye(s,kAe),w=s,_=bAe(w);return B.jsxs(wAe,V({role:m,square:!0,elevation:6,className:Ce(_.root,u),ownerState:w,ref:o},g,{children:[B.jsx(vAe,{className:_.message,ownerState:w,children:p}),c?B.jsx(yAe,{className:_.action,ownerState:w,children:c}):null]}))});function CAe(t){return Ue("MuiSnackbar",t)}$e("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const AAe=["onEnter","onExited"],xAe=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],EAe=t=>{const{classes:e,anchorOrigin:o}=t,s={root:["root",`anchorOrigin${fe(o.vertical)}${fe(o.horizontal)}`]};return He(s,CAe,e)},nj=ke("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[`anchorOrigin${fe(o.anchorOrigin.vertical)}${fe(o.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const o={left:"50%",right:"auto",transform:"translateX(-50%)"};return V({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:V({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&o,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),ev=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiSnackbar"}),c=mu(),u={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{action:p,anchorOrigin:{vertical:m,horizontal:g}={vertical:"bottom",horizontal:"left"},autoHideDuration:w=null,children:_,className:C,ClickAwayListenerProps:y,ContentProps:x,disableWindowBlurListener:S=!1,message:T,open:R,TransitionComponent:D=cf,transitionDuration:N=u,TransitionProps:{onEnter:O,onExited:j}={}}=s,$=ye(s.TransitionProps,AAe),H=ye(s,xAe),M=V({},s,{anchorOrigin:{vertical:m,horizontal:g},autoHideDuration:w,disableWindowBlurListener:S,TransitionComponent:D,transitionDuration:N}),U=EAe(M),{getRootProps:G,onClickAway:Y}=fve(V({},M)),[Z,re]=z.useState(!0),J=Ia({elementType:nj,getSlotProps:G,externalForwardedProps:H,ownerState:M,additionalProps:{ref:o},className:[U.root,C]}),X=ie=>{re(!0),j&&j(ie)},oe=(ie,ae)=>{re(!1),O&&O(ie,ae)};return!R&&Z?null:B.jsx(O0e,V({onClickAway:Y},y,{children:B.jsx(nj,V({},J,{children:B.jsx(D,V({appear:!0,in:R,timeout:N,direction:m==="top"?"down":"up",onEnter:oe,onExited:X},$,{children:_||B.jsx(_Ae,V({message:T,action:p},x))}))}))}))});function SAe(t){return Ue("MuiTooltip",t)}const da=$e("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),TAe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function IAe(t){return Math.round(t*1e5)/1e5}const DAe=t=>{const{classes:e,disableInteractive:o,arrow:s,touch:c,placement:u}=t,p={popper:["popper",!o&&"popperInteractive",s&&"popperArrow"],tooltip:["tooltip",s&&"tooltipArrow",c&&"touch",`tooltipPlacement${fe(u.split("-")[0])}`],arrow:["arrow"]};return He(p,SAe,e)},MAe=ke(lV,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.popper,!o.disableInteractive&&e.popperInteractive,o.arrow&&e.popperArrow,!o.open&&e.popperClose]}})(({theme:t,ownerState:e,open:o})=>V({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!o&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${da.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${da.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${da.arrow}`]:V({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${da.arrow}`]:V({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),PAe=ke("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.tooltip,o.touch&&e.touch,o.arrow&&e.tooltipArrow,e[`tooltipPlacement${fe(o.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>V({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Nt(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${IAe(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${da.popper}[data-popper-placement*="left"] &`]:V({transformOrigin:"right center"},e.isRtl?V({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):V({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${da.popper}[data-popper-placement*="right"] &`]:V({transformOrigin:"left center"},e.isRtl?V({marginRight:"14px"},e.touch&&{marginRight:"24px"}):V({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${da.popper}[data-popper-placement*="top"] &`]:V({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${da.popper}[data-popper-placement*="bottom"] &`]:V({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),NAe=ke("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Nt(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let uk=!1;const oj=new Yf;let Rh={x:0,y:0};function hk(t,e){return(o,...s)=>{e&&e(o,...s),t(o,...s)}}const df=z.forwardRef(function(e,o){var s,c,u,p,m,g,w,_,C,y,x,S,T,R,D,N,O,j,$;const H=We({props:e,name:"MuiTooltip"}),{arrow:M=!1,children:U,components:G={},componentsProps:Y={},describeChild:Z=!1,disableFocusListener:re=!1,disableHoverListener:J=!1,disableInteractive:X=!1,disableTouchListener:oe=!1,enterDelay:ie=100,enterNextDelay:ae=0,enterTouchDelay:q=700,followCursor:se=!1,id:he,leaveDelay:Ie=0,leaveTouchDelay:Me=1500,onClose:Ye,onOpen:Pe,open:Qe,placement:xe="bottom",PopperComponent:ut,PopperProps:lt={},slotProps:st={},slots:vt={},title:qe,TransitionComponent:Ee=cf,TransitionProps:Q}=H,te=ye(H,TAe),le=z.isValidElement(U)?U:B.jsx("span",{children:U}),_e=mu(),De=M8(),[Ke,Rt]=z.useState(),[nt,Oe]=z.useState(null),et=z.useRef(!1),Je=X||se,Ve=Cl(),gt=Cl(),Ht=Cl(),Wn=Cl(),[yt,ze]=Vb({controlled:Qe,default:!1,name:"Tooltip",state:"open"});let Qt=yt;const Jr=Kf(he),tr=z.useRef(),Be=jr(()=>{tr.current!==void 0&&(document.body.style.WebkitUserSelect=tr.current,tr.current=void 0),Wn.clear()});z.useEffect(()=>Be,[Be]);const Tt=ht=>{oj.clear(),uk=!0,ze(!0),Pe&&!Qt&&Pe(ht)},It=jr(ht=>{oj.start(800+Ie,()=>{uk=!1}),ze(!1),Ye&&Qt&&Ye(ht),Ve.start(_e.transitions.duration.shortest,()=>{et.current=!1})}),Zt=ht=>{et.current&&ht.type!=="touchstart"||(Ke&&Ke.removeAttribute("title"),gt.clear(),Ht.clear(),ie||uk&&ae?gt.start(uk?ae:ie,()=>{Tt(ht)}):Tt(ht))},Ln=ht=>{gt.clear(),Ht.start(Ie,()=>{It(ht)})},{isFocusVisibleRef:_u,onBlur:Bo,onFocus:eg,ref:Cu}=Hw(),[,tg]=z.useState(!1),ng=ht=>{Bo(ht),_u.current===!1&&(tg(!1),Ln(ht))},Au=ht=>{Ke||Rt(ht.currentTarget),eg(ht),_u.current===!0&&(tg(!0),Zt(ht))},og=ht=>{et.current=!0;const Cn=le.props;Cn.onTouchStart&&Cn.onTouchStart(ht)},iv=ht=>{og(ht),Ht.clear(),Ve.clear(),Be(),tr.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Wn.start(q,()=>{document.body.style.WebkitUserSelect=tr.current,Zt(ht)})},To=ht=>{le.props.onTouchEnd&&le.props.onTouchEnd(ht),Be(),Ht.start(Me,()=>{It(ht)})};z.useEffect(()=>{if(!Qt)return;function ht(Cn){(Cn.key==="Escape"||Cn.key==="Esc")&&It(Cn)}return document.addEventListener("keydown",ht),()=>{document.removeEventListener("keydown",ht)}},[It,Qt]);const sv=gn(le.ref,Cu,Rt,o);!qe&&qe!==0&&(Qt=!1);const Qi=z.useRef(),ic=ht=>{const Cn=le.props;Cn.onMouseMove&&Cn.onMouseMove(ht),Rh={x:ht.clientX,y:ht.clientY},Qi.current&&Qi.current.update()},$a={},xu=typeof qe=="string";Z?($a.title=!Qt&&xu&&!J?qe:null,$a["aria-describedby"]=Qt?Jr:null):($a["aria-label"]=xu?qe:null,$a["aria-labelledby"]=Qt&&!xu?Jr:null);const nr=V({},$a,te,le.props,{className:Ce(te.className,le.props.className),onTouchStart:og,ref:sv},se?{onMouseMove:ic}:{}),Va={};oe||(nr.onTouchStart=iv,nr.onTouchEnd=To),J||(nr.onMouseOver=hk(Zt,nr.onMouseOver),nr.onMouseLeave=hk(Ln,nr.onMouseLeave),Je||(Va.onMouseOver=Zt,Va.onMouseLeave=Ln)),re||(nr.onFocus=hk(Au,nr.onFocus),nr.onBlur=hk(ng,nr.onBlur),Je||(Va.onFocus=Au,Va.onBlur=ng));const av=z.useMemo(()=>{var ht;let Cn=[{name:"arrow",enabled:!!nt,options:{element:nt,padding:4}}];return(ht=lt.popperOptions)!=null&&ht.modifiers&&(Cn=Cn.concat(lt.popperOptions.modifiers)),V({},lt.popperOptions,{modifiers:Cn})},[nt,lt]),Cr=V({},H,{isRtl:De,arrow:M,disableInteractive:Je,placement:xe,PopperComponentProp:ut,touch:et.current}),Ls=DAe(Cr),rg=(s=(c=vt.popper)!=null?c:G.Popper)!=null?s:MAe,ig=(u=(p=(m=vt.transition)!=null?m:G.Transition)!=null?p:Ee)!=null?u:cf,sg=(g=(w=vt.tooltip)!=null?w:G.Tooltip)!=null?g:PAe,ag=(_=(C=vt.arrow)!=null?C:G.Arrow)!=null?_:NAe,Zi=dd(rg,V({},lt,(y=st.popper)!=null?y:Y.popper,{className:Ce(Ls.popper,lt==null?void 0:lt.className,(x=(S=st.popper)!=null?S:Y.popper)==null?void 0:x.className)}),Cr),Eu=dd(ig,V({},Q,(T=st.transition)!=null?T:Y.transition),Cr),lg=dd(sg,V({},(R=st.tooltip)!=null?R:Y.tooltip,{className:Ce(Ls.tooltip,(D=(N=st.tooltip)!=null?N:Y.tooltip)==null?void 0:D.className)}),Cr),lv=dd(ag,V({},(O=st.arrow)!=null?O:Y.arrow,{className:Ce(Ls.arrow,(j=($=st.arrow)!=null?$:Y.arrow)==null?void 0:j.className)}),Cr);return B.jsxs(z.Fragment,{children:[z.cloneElement(le,nr),B.jsx(rg,V({as:ut??lV,placement:xe,anchorEl:se?{getBoundingClientRect:()=>({top:Rh.y,left:Rh.x,right:Rh.x,bottom:Rh.y,width:0,height:0})}:Ke,popperRef:Qi,open:Ke?Qt:!1,id:Jr,transition:!0},Va,Zi,{popperOptions:av,children:({TransitionProps:ht})=>B.jsx(ig,V({timeout:_e.transitions.duration.shorter},ht,Eu,{children:B.jsxs(sg,V({},lg,{children:[qe,M?B.jsx(ag,V({},lv,{ref:Oe})):null]}))}))}))]})}),xV=z.createContext();function RAe(t){return Ue("MuiTable",t)}$e("MuiTable",["root","stickyHeader"]);const OAe=["className","component","padding","size","stickyHeader"],BAe=t=>{const{classes:e,stickyHeader:o}=t;return He({root:["root",o&&"stickyHeader"]},RAe,e)},LAe=ke("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>V({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":V({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),rj="table",jAe=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTable"}),{className:c,component:u=rj,padding:p="normal",size:m="medium",stickyHeader:g=!1}=s,w=ye(s,OAe),_=V({},s,{component:u,padding:p,size:m,stickyHeader:g}),C=BAe(_),y=z.useMemo(()=>({padding:p,size:m,stickyHeader:g}),[p,m,g]);return B.jsx(xV.Provider,{value:y,children:B.jsx(LAe,V({as:u,role:u===rj?null:"table",ref:o,className:Ce(C.root,c),ownerState:_},w))})}),tv=z.createContext();function zAe(t){return Ue("MuiTableBody",t)}$e("MuiTableBody",["root"]);const FAe=["className","component"],$Ae=t=>{const{classes:e}=t;return He({root:["root"]},zAe,e)},VAe=ke("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),UAe={variant:"body"},ij="tbody",HAe=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTableBody"}),{className:c,component:u=ij}=s,p=ye(s,FAe),m=V({},s,{component:u}),g=$Ae(m);return B.jsx(tv.Provider,{value:UAe,children:B.jsx(VAe,V({className:Ce(g.root,c),as:u,ref:o,role:u===ij?null:"rowgroup",ownerState:m},p))})});function WAe(t){return Ue("MuiTableCell",t)}const qAe=$e("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),GAe=["align","className","component","padding","scope","size","sortDirection","variant"],KAe=t=>{const{classes:e,variant:o,align:s,padding:c,size:u,stickyHeader:p}=t,m={root:["root",o,p&&"stickyHeader",s!=="inherit"&&`align${fe(s)}`,c!=="normal"&&`padding${fe(c)}`,`size${fe(u)}`]};return He(m,WAe,e)},YAe=ke("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,e[o.variant],e[`size${fe(o.size)}`],o.padding!=="normal"&&e[`padding${fe(o.padding)}`],o.align!=="inherit"&&e[`align${fe(o.align)}`],o.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>V({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Hb(Nt(t.palette.divider,1),.88):Ub(Nt(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${qAe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),Qs=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTableCell"}),{align:c="inherit",className:u,component:p,padding:m,scope:g,size:w,sortDirection:_,variant:C}=s,y=ye(s,GAe),x=z.useContext(xV),S=z.useContext(tv),T=S&&S.variant==="head";let R;p?R=p:R=T?"th":"td";let D=g;R==="td"?D=void 0:!D&&T&&(D="col");const N=C||S&&S.variant,O=V({},s,{align:c,component:R,padding:m||(x&&x.padding?x.padding:"normal"),size:w||(x&&x.size?x.size:"medium"),sortDirection:_,stickyHeader:N==="head"&&x&&x.stickyHeader,variant:N}),j=KAe(O);let $=null;return _&&($=_==="asc"?"ascending":"descending"),B.jsx(YAe,V({as:R,ref:o,className:Ce(j.root,u),"aria-sort":$,scope:D,ownerState:O},y))});function QAe(t){return Ue("MuiTableContainer",t)}$e("MuiTableContainer",["root"]);const ZAe=["className","component"],JAe=t=>{const{classes:e}=t;return He({root:["root"]},QAe,e)},XAe=ke("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),e1e=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTableContainer"}),{className:c,component:u="div"}=s,p=ye(s,ZAe),m=V({},s,{component:u}),g=JAe(m);return B.jsx(XAe,V({ref:o,as:u,className:Ce(g.root,c),ownerState:m},p))});function t1e(t){return Ue("MuiTableHead",t)}$e("MuiTableHead",["root"]);const n1e=["className","component"],o1e=t=>{const{classes:e}=t;return He({root:["root"]},t1e,e)},r1e=ke("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),i1e={variant:"head"},sj="thead",s1e=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTableHead"}),{className:c,component:u=sj}=s,p=ye(s,n1e),m=V({},s,{component:u}),g=o1e(m);return B.jsx(tv.Provider,{value:i1e,children:B.jsx(r1e,V({as:u,className:Ce(g.root,c),ref:o,role:u===sj?null:"rowgroup",ownerState:m},p))})});function a1e(t){return Ue("MuiTableRow",t)}const aj=$e("MuiTableRow",["root","selected","hover","head","footer"]),l1e=["className","component","hover","selected"],c1e=t=>{const{classes:e,selected:o,hover:s,head:c,footer:u}=t;return He({root:["root",o&&"selected",s&&"hover",c&&"head",u&&"footer"]},a1e,e)},d1e=ke("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.head&&e.head,o.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${aj.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${aj.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Nt(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Nt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),lj="tr",cj=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTableRow"}),{className:c,component:u=lj,hover:p=!1,selected:m=!1}=s,g=ye(s,l1e),w=z.useContext(tv),_=V({},s,{component:u,hover:p,selected:m,head:w&&w.variant==="head",footer:w&&w.variant==="footer"}),C=c1e(_);return B.jsx(d1e,V({as:u,ref:o,className:Ce(C.root,c),role:u===lj?null:"row",ownerState:_},g))});function u1e(t){return Ue("MuiTextField",t)}$e("MuiTextField",["root"]);const h1e=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],p1e={standard:O2,filled:R2,outlined:L2},f1e=t=>{const{classes:e}=t;return He({root:["root"]},u1e,e)},g1e=ke(p_e,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Xo=z.forwardRef(function(e,o){const s=We({props:e,name:"MuiTextField"}),{autoComplete:c,autoFocus:u=!1,children:p,className:m,color:g="primary",defaultValue:w,disabled:_=!1,error:C=!1,FormHelperTextProps:y,fullWidth:x=!1,helperText:S,id:T,InputLabelProps:R,inputProps:D,InputProps:N,inputRef:O,label:j,maxRows:$,minRows:H,multiline:M=!1,name:U,onBlur:G,onChange:Y,onFocus:Z,placeholder:re,required:J=!1,rows:X,select:oe=!1,SelectProps:ie,type:ae,value:q,variant:se="outlined"}=s,he=ye(s,h1e),Ie=V({},s,{autoFocus:u,color:g,disabled:_,error:C,fullWidth:x,multiline:M,required:J,select:oe,variant:se}),Me=f1e(Ie),Ye={};se==="outlined"&&(R&&typeof R.shrink<"u"&&(Ye.notched=R.shrink),Ye.label=j),oe&&((!ie||!ie.native)&&(Ye.id=void 0),Ye["aria-describedby"]=void 0);const Pe=Kf(T),Qe=S&&Pe?`${Pe}-helper-text`:void 0,xe=j&&Pe?`${Pe}-label`:void 0,ut=p1e[se],lt=B.jsx(ut,V({"aria-describedby":Qe,autoComplete:c,autoFocus:u,defaultValue:w,fullWidth:x,multiline:M,name:U,rows:X,maxRows:$,minRows:H,type:ae,value:q,id:Pe,inputRef:O,onBlur:G,onChange:Y,onFocus:Z,placeholder:re,inputProps:D},Ye,N));return B.jsxs(g1e,V({className:Ce(Me.root,m),disabled:_,error:C,fullWidth:x,ref:o,required:J,color:g,variant:se,ownerState:Ie},he,{children:[j!=null&&j!==""&&B.jsx(K_e,V({htmlFor:Pe,id:xe},R,{children:j})),oe?B.jsx(AV,V({"aria-describedby":Qe,id:Pe,labelId:xe,value:q,input:lt},ie,{children:p})):lt,S&&B.jsx(b_e,V({id:Qe},y,{children:S}))]}))});function m1e(){return B.jsxs(Re,{component:"footer",sx:{width:"100%",textAlign:"center",py:2},children:[B.jsx(gV,{}),B.jsxs(Re,{sx:{my:2},children:[B.jsx("img",{src:"/ate-micr/FooterLogoLong.png",alt:"Logo",style:{maxWidth:"500px",maxHeight:"400px",width:"auto",height:"auto"}}),B.jsx(dt,{variant:"body2",children:"© 2024 Institute for Future Intelligence and Kapiʻolani Community College Antibody Engineering & Research Projects"})]})]})}const k1e=ur.forwardRef(function(e,o){return B.jsx(Gw,{elevation:6,ref:o,variant:"filled",...e})}),b1e=()=>{const[t,e]=z.useState(!1),[o,s]=z.useState(!1),[c,u]=z.useState(""),p=Yl();console.log("Logout loaded");const m=()=>{e(!0)},g=()=>{e(!1)},w=()=>{const _=o9();$ae(_).then(()=>{e(!1),s(!0),u("Logged out successfully"),p("/")}).catch(C=>{e(!1),s(!0),u("Logout failed: "+C.message)})};return B.jsxs(B.Fragment,{children:[B.jsx(hn,{variant:"outlined",onClick:m,sx:{fontSize:"1rem",mt:2,textTransform:"none",minWidth:"100px",color:"currentColor",borderColor:"rgba(255, 0, 0, 0.5)",boxShadow:"none","&:hover":{borderColor:"rgba(255, 0, 0, 0.7)",backgroundColor:"rgba(255, 0, 0, 0.1)",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",color:"currentColor",transform:"scale(1.05)"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:"Logout"}),B.jsxs(I2,{open:t,onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[B.jsx(N2,{id:"alert-dialog-title",children:"Logging Out"}),B.jsx(M2,{children:B.jsx(P2,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),B.jsxs(D2,{children:[B.jsx(hn,{onClick:w,autoFocus:!0,children:"Yes"}),B.jsx(hn,{onClick:g,children:"No"})]})]}),B.jsx(ev,{open:o,autoHideDuration:6e3,onClose:()=>s(!1),children:B.jsx(k1e,{onClose:()=>s(!1),severity:"info",sx:{width:"100%"},children:c})})]})};var z2={},SC={};const w1e=qi(Tbe);var dj;function Yi(){return dj||(dj=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=w1e}(SC)),SC}var v1e=Qr;Object.defineProperty(z2,"__esModule",{value:!0});var gp=z2.default=void 0,y1e=v1e(Yi()),_1e=B;gp=z2.default=(0,y1e.default)((0,_1e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var F2={},C1e=Qr;Object.defineProperty(F2,"__esModule",{value:!0});var Xf=F2.default=void 0,A1e=C1e(Yi()),x1e=B;Xf=F2.default=(0,A1e.default)((0,x1e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const E1e=({messageId:t,onDelete:e})=>{const[o,s]=z.useState(!1),c=Os(),u=()=>{s(!0)},p=()=>{s(!1)},m=async()=>{try{await tpe(Ds(c,"messages",t)),e(t),p()}catch(g){console.error("Error deleting message: ",g)}};return B.jsxs(B.Fragment,{children:[B.jsx(Zn,{onClick:u,children:B.jsx(Xf,{})}),B.jsxs(I2,{open:o,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[B.jsx(N2,{id:"alert-dialog-title",children:"Confirm Delete"}),B.jsx(M2,{children:B.jsx(P2,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),B.jsxs(D2,{children:[B.jsx(hn,{onClick:p,color:"primary",children:"Cancel"}),B.jsx(hn,{onClick:m,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},S1e=()=>{const t=Yl(),{userDetails:e}=cw(),[o,s]=z.useState(!1),[c,u]=z.useState(!1),[p,m]=z.useState([]),g=Os();z.useEffect(()=>{(async()=>{const x=Yhe(NE(g,"messages"),Qhe("postedOn","desc")),T=(await Xhe(x)).docs.map(R=>({id:R.id,...R.data()}));m(T)})()},[g]);const w=()=>{e!=null&&e.uid?navigator.clipboard.writeText(e.uid).then(()=>{s(!0),u(!0)}).catch(y=>{console.error("Could not copy text: ",y)}):console.error("User details are null or undefined")},_=(y,x)=>{x!=="clickaway"&&s(!1)},C=y=>{m(p.filter(x=>x.id!==y))};return B.jsxs(Re,{sx:{flexGrow:1,padding:3},children:[B.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",mb:2,alignItems:"center"},children:[B.jsx(dt,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"Home Page / ATE 2.0"}),B.jsxs(Re,{sx:{display:"flex",alignItems:"center"},children:[(e==null?void 0:e.isAdmin)&&B.jsx(yC,{label:"Educator (Admin User)",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:1}}),!(e!=null&&e.isAdmin)&&B.jsx(yC,{label:"Student (Regular User)",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:1}}),e&&B.jsx(df,{title:c?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:B.jsx(yC,{label:`User ID: ${e.uid}`,variant:"outlined",onClick:w,sx:{borderRadius:"15px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2}})}),B.jsx(b1e,{})]})]}),B.jsxs(qc,{container:!0,spacing:3,children:[B.jsxs(qc,{item:!0,xs:12,md:8,children:[B.jsx(Re,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:B.jsx(dt,{variant:"h6",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline"},children:"Educator Messages"})}),(e==null?void 0:e.isAdmin)&&B.jsx(Re,{sx:{mb:2},children:B.jsx(hn,{variant:"contained",onClick:()=>t("/add-message"),sx:{backgroundColor:"#FFF9C4",color:"#6D4C41","&:hover":{backgroundColor:"#FFF176"}},children:"+ Add Message"})}),B.jsx(e1e,{component:tc,children:B.jsxs(jAe,{children:[B.jsx(s1e,{sx:{backgroundColor:"#FFF9C4"},children:B.jsxs(cj,{children:[B.jsx(Qs,{sx:{fontWeight:"bold",color:"#6D4C41",width:"10%"},children:"Posted On"}),B.jsx(Qs,{sx:{fontWeight:"bold",color:"#6D4C41",width:"30%"},children:"Subject"}),B.jsx(Qs,{sx:{fontWeight:"bold",color:"#6D4C41",width:"50%",whiteSpace:"pre-wrap"},children:"Description"}),(e==null?void 0:e.isAdmin)&&B.jsx(Qs,{sx:{fontWeight:"bold",color:"#6D4C41",width:"10%"},children:"Actions"})]})}),B.jsx(HAe,{children:p.map(y=>B.jsxs(cj,{sx:{backgroundColor:"#FFFDE7"},children:[B.jsx(Qs,{children:new Date(y.postedOn.seconds*1e3).toLocaleString()}),B.jsx(Qs,{sx:{fontStyle:"italic"},children:y.title}),B.jsxs(Qs,{sx:{whiteSpace:"pre-wrap"},children:[y.description,y.links&&y.links.some(x=>x.title&&x.url)&&B.jsxs(Re,{sx:{mt:2},children:[B.jsx(dt,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Links:"}),y.links.map((x,S)=>x.title&&x.url&&B.jsxs(Re,{sx:{mb:1},children:[B.jsxs(dt,{variant:"body2",component:"span",children:["🔗 ",x.title,": "]}),B.jsx(bV,{href:x.url,target:"_blank",rel:"noopener",children:x.url})]},S))]})]}),(e==null?void 0:e.isAdmin)&&B.jsxs(Qs,{children:[B.jsx(Zn,{onClick:()=>t(`/edit-message/${y.id}`),children:B.jsx(gp,{})}),B.jsx(E1e,{messageId:y.id,onDelete:C})]})]},y.id))})]})})]}),B.jsxs(qc,{item:!0,xs:12,md:4,children:[B.jsx(dt,{variant:"h6",align:"left",component:"h2",sx:{fontWeight:"bold",textDecoration:"underline"},gutterBottom:!0,children:"Navigation"}),B.jsxs(qc,{container:!0,spacing:3,justifyContent:"center",children:[B.jsx(qc,{item:!0,xs:12,children:B.jsx(jL,{children:B.jsx(zL,{onClick:()=>t("/laboratory-notebooks"),children:B.jsx(FL,{children:B.jsx(dt,{variant:"h5",component:"div",children:"My Laboratory Notebook"})})})})}),B.jsx(qc,{item:!0,xs:12,children:B.jsx(jL,{children:B.jsx(zL,{onClick:()=>t("/supplemental-materials"),children:B.jsx(FL,{children:B.jsx(dt,{variant:"h5",component:"div",children:"Course Materials"})})})})})]})]})]}),B.jsx(ev,{open:o,autoHideDuration:6e3,onClose:_,children:B.jsx(Gw,{onClose:_,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let pk;const T1e=new Uint8Array(16);function I1e(){if(!pk&&(pk=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pk(T1e)}const ro=[];for(let t=0;t<256;++t)ro.push((t+256).toString(16).slice(1));function D1e(t,e=0){return ro[t[e+0]]+ro[t[e+1]]+ro[t[e+2]]+ro[t[e+3]]+"-"+ro[t[e+4]]+ro[t[e+5]]+"-"+ro[t[e+6]]+ro[t[e+7]]+"-"+ro[t[e+8]]+ro[t[e+9]]+"-"+ro[t[e+10]]+ro[t[e+11]]+ro[t[e+12]]+ro[t[e+13]]+ro[t[e+14]]+ro[t[e+15]]}const M1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uj={randomUUID:M1e};function qh(t,e,o){if(uj.randomUUID&&!e&&!t)return uj.randomUUID();t=t||{};const s=t.random||(t.rng||I1e)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,D1e(s)}var $2={},P1e=Qr;Object.defineProperty($2,"__esModule",{value:!0});var Vk=$2.default=void 0,N1e=P1e(Yi()),R1e=B;Vk=$2.default=(0,N1e.default)((0,R1e.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");const TC=({onDelete:t,itemType:e})=>{const[o,s]=ur.useState(!1),c=()=>{s(!0)},u=()=>{s(!1)},p=()=>{t(),u()};return B.jsxs(B.Fragment,{children:[B.jsx(Zn,{onClick:c,size:"small",children:B.jsx(Xf,{})}),B.jsxs(I2,{open:o,onClose:u,children:[B.jsx(N2,{children:`Delete ${e}`}),B.jsx(M2,{children:B.jsx(P2,{children:`Are you sure you want to delete this ${e}? This action cannot be undone.`})}),B.jsxs(D2,{children:[B.jsx(hn,{onClick:u,color:"primary",children:"Cancel"}),B.jsx(hn,{onClick:p,color:"secondary",children:"Delete"})]})]})]})};var V2={},O1e=Qr;Object.defineProperty(V2,"__esModule",{value:!0});var _1=V2.default=void 0,B1e=O1e(Yi()),L1e=B;_1=V2.default=(0,B1e.default)((0,L1e.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");var U2={},j1e=Qr;Object.defineProperty(U2,"__esModule",{value:!0});var C1=U2.default=void 0,z1e=j1e(Yi()),F1e=B;C1=U2.default=(0,z1e.default)((0,F1e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const EV=({sections:t,selected:e,onAddSection:o,onAddSubsection:s,onAddSubSubsection:c,onSelectSection:u,onUpdateSectionTitle:p,onUpdateSubsectionTitle:m,onUpdateSubSubsectionTitle:g,onDeleteSection:w,onDeleteSubsection:_,onDeleteSubSubsection:C,isViewMode:y})=>{const[x,S]=z.useState(null),[T,R]=z.useState(null),[D,N]=z.useState(null),[O,j]=z.useState(""),[$,H]=z.useState(t.map(()=>!0)),[M,U]=z.useState(t.reduce((ae,q,se)=>(ae[se]=q.subsections.map(()=>!0),ae),{}));z.useEffect(()=>{H(t.map(()=>!0))},[t]),z.useEffect(()=>{const ae=t.reduce((q,se,he)=>(q[he]=se.subsections.map(()=>!0),q),{});U(ae)},[t]);const G=ae=>{const q=[...$];q[ae]=!q[ae],H(q)},Y=(ae,q)=>{const se={...M};se[ae][q]=!se[ae][q],U(se)},Z=(ae,q)=>{x!==null?p(x,O):T?m(T.section,T.subsection,O):D&&g(D.section,D.subsection,D.subSubsection,O),S(ae),R(null),N(null),j(q)},re=ae=>{p(ae,O),S(null),j("")},J=(ae,q,se)=>{x!==null?p(x,O):T?m(T.section,T.subsection,O):D&&g(D.section,D.subsection,D.subSubsection,O),S(null),R({section:ae,subsection:q}),N(null),j(se)},X=(ae,q)=>{m(ae,q,O),R(null),j("")},oe=(ae,q,se,he)=>{x!==null?p(x,O):T?m(T.section,T.subsection,O):D&&g(D.section,D.subsection,D.subSubsection,O),S(null),R(null),N({section:ae,subsection:q,subSubsection:se}),j(he)},ie=(ae,q,se)=>{g(ae,q,se,O),N(null),j("")};return B.jsxs(Re,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[B.jsx(dt,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!y&&B.jsx(hn,{variant:"contained",color:"primary",onClick:o,sx:{mb:2},children:"+ Add Section"}),B.jsxs($k,{children:[B.jsx(Dh,{button:!0,onClick:()=>u("header"),sx:{backgroundColor:e.type==="header"?"lightgray":"transparent"},children:B.jsx(Mh,{primary:"Header"})}),t.map((ae,q)=>B.jsxs(Re,{children:[B.jsxs(Dh,{button:!0,onClick:()=>u(q),sx:{backgroundColor:e.sectionIndex===q&&e.subsectionIndex===void 0?"lightgray":"transparent"},children:[x===q?B.jsxs(B.Fragment,{children:[B.jsx(Xo,{value:O,onChange:se=>j(se.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&B.jsx(Zn,{onClick:()=>re(q),size:"small",children:B.jsx(Vk,{})})]}):B.jsxs(B.Fragment,{children:[B.jsx(Mh,{primary:ae.title}),!y&&B.jsxs(B.Fragment,{children:[B.jsx(Zn,{onClick:()=>Z(q,ae.title),size:"small",children:B.jsx(gp,{})}),B.jsx(TC,{onDelete:()=>w(q),itemType:"section"})]})]}),ae.subsections.length>0&&B.jsx(Zn,{onClick:()=>G(q),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:$[q]?B.jsx(_1,{sx:{fontSize:"20px"}}):B.jsx(C1,{sx:{fontSize:"20px"}})}),!y&&B.jsx(hn,{variant:"text",onClick:()=>s(q),size:"small",children:"+ Add Subsection"})]}),$[q]&&B.jsx($k,{sx:{pl:4},children:ae.subsections.map((se,he)=>B.jsxs(Re,{children:[B.jsxs(Dh,{button:!0,onClick:()=>u(q,he),sx:{backgroundColor:e.sectionIndex===q&&e.subsectionIndex===he&&e.subSubsectionIndex===void 0?"lightgray":"transparent"},children:[T&&T.section===q&&T.subsection===he?B.jsxs(B.Fragment,{children:[B.jsx(Xo,{value:O,onChange:Ie=>j(Ie.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&B.jsx(Zn,{onClick:()=>X(q,he),size:"small",children:B.jsx(Vk,{})})]}):B.jsxs(B.Fragment,{children:[B.jsx(Mh,{primary:se.title}),!y&&B.jsxs(B.Fragment,{children:[B.jsx(Zn,{onClick:()=>J(q,he,se.title),size:"small",children:B.jsx(gp,{})}),B.jsx(TC,{onDelete:()=>_(q,he),itemType:"subsection"})]})]}),se.subSubsections.length>0&&B.jsx(Zn,{onClick:()=>Y(q,he),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:M[q][he]?B.jsx(_1,{sx:{fontSize:"20px"}}):B.jsx(C1,{sx:{fontSize:"20px"}})}),!y&&B.jsx(hn,{variant:"text",onClick:()=>c(q,he),size:"small",children:"+ Add Sub-Subsection"})]}),M[q][he]&&B.jsx($k,{sx:{pl:4},children:se.subSubsections.map((Ie,Me)=>B.jsx(Dh,{button:!0,onClick:()=>u(q,he,Me),sx:{backgroundColor:e.sectionIndex===q&&e.subsectionIndex===he&&e.subSubsectionIndex===Me?"lightgray":"transparent"},children:D&&D.section===q&&D.subsection===he&&D.subSubsection===Me?B.jsxs(B.Fragment,{children:[B.jsx(Xo,{value:O,onChange:Ye=>j(Ye.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&B.jsx(Zn,{onClick:()=>ie(q,he,Me),size:"small",children:B.jsx(Vk,{})})]}):B.jsxs(B.Fragment,{children:[B.jsx(Mh,{primary:Ie.title}),!y&&B.jsxs(B.Fragment,{children:[B.jsx(Zn,{onClick:()=>oe(q,he,Me,Ie.title),size:"small",children:B.jsx(gp,{})}),B.jsx(TC,{onDelete:()=>C(q,he,Me),itemType:"subSubsection"})]})]})},Ie.id))})]},se.id))})]},ae.id)),B.jsx(Dh,{button:!0,onClick:()=>u("footer"),sx:{backgroundColor:e.type==="footer"?"lightgray":"transparent"},children:B.jsx(Mh,{primary:"Footer"})})]})]})};var H2={},$1e=Qr;Object.defineProperty(H2,"__esModule",{value:!0});var W2=H2.default=void 0,V1e=$1e(Yi()),U1e=B;W2=H2.default=(0,V1e.default)((0,U1e.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");var q2={},H1e=Qr;Object.defineProperty(q2,"__esModule",{value:!0});var G2=q2.default=void 0,W1e=H1e(Yi()),q1e=B;G2=q2.default=(0,W1e.default)((0,q1e.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");var K2={},G1e=Qr;Object.defineProperty(K2,"__esModule",{value:!0});var SV=K2.default=void 0,K1e=G1e(Yi()),Y1e=B;SV=K2.default=(0,K1e.default)((0,Y1e.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const TV=()=>{const t=Yl(),e=()=>{t("/supplemental-materials")};return B.jsx(hn,{variant:"outlined",color:"primary",startIcon:B.jsx(SV,{}),onClick:e,sx:{mb:2,padding:"4px 8px",backgroundColor:"transparent",borderColor:"blue",color:"blue"},children:"All Materials"})};var IV={exports:{}};(()=>{var t={d:(u,p)=>{for(var m in p)t.o(p,m)&&!t.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:p[m]})},o:(u,p)=>Object.prototype.hasOwnProperty.call(u,p),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},e={};function o(u,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}t.r(e),t.d(e,{default:()=>c});var s=function(){function u(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u)}var p,m;return p=u,m=[{key:"changeHeightWidth",value:function(g,w,_,C,y,x){return _>C&&(g=Math.round(g*C/_),_=C),g>w&&(_=Math.round(_*w/g),g=w),y&&_<y&&(g=Math.round(g*y/_),_=y),x&&g<x&&(_=Math.round(_*x/g),g=x),{height:g,width:_}}},{key:"resizeAndRotateImage",value:function(g,w,_,C,y){var x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",S=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,T=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,R=S/100,D=document.createElement("canvas"),N=g.width,O=g.height,j=this.changeHeightWidth(O,_,N,w,C,y);!T||T!==90&&T!==270?(D.width=j.width,D.height=j.height):(D.width=j.height,D.height=j.width),N=j.width,O=j.height;var $=D.getContext("2d");return $.fillStyle="rgba(0, 0, 0, 0)",$.fillRect(0,0,N,O),$.imageSmoothingEnabled&&$.imageSmoothingQuality&&($.imageSmoothingQuality="high"),T&&($.rotate(T*Math.PI/180),T===90?$.translate(0,-D.width):T===180?$.translate(-D.width,-D.height):T===270?$.translate(-D.height,0):T!==0&&T!==360||$.translate(0,0)),$.drawImage(g,0,0,N,O),D.toDataURL("image/".concat(x),R)}},{key:"b64toByteArrays",value:function(g,w){for(var _=atob(g.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),C=[],y=0;y<_.length;y+=512){for(var x=_.slice(y,y+512),S=new Array(x.length),T=0;T<x.length;T++)S[T]=x.charCodeAt(T);var R=new Uint8Array(S);C.push(R)}return C}},{key:"b64toBlob",value:function(g,w){var _=this.b64toByteArrays(g,w);return new Blob(_,{type:w,lastModified:new Date})}},{key:"b64toFile",value:function(g,w,_){var C=this.b64toByteArrays(g,_);return new File(C,w,{type:_,lastModified:new Date})}},{key:"createResizedImage",value:function(g,w,_,C,y,x,S){var T=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",R=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,D=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,N=new FileReader;if(!g)throw Error("File Not Found!");if(g.type&&!g.type.includes("image"))throw Error("File Is NOT Image!");N.readAsDataURL(g),N.onload=function(){var O=new Image;O.src=N.result,O.onload=function(){var j=u.resizeAndRotateImage(O,w,_,R,D,C,y,x),$="image/".concat(C);switch(T){case"blob":var H=u.b64toBlob(j,$);S(H);break;case"base64":S(j);break;case"file":var M=g.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(C.toString()),U=u.b64toFile(j,M,$);S(U);break;default:S(j)}}},N.onerror=function(O){throw Error(O)}}}],m&&o(p,m),u}();const c={imageFileResizer:function(u,p,m,g,w,_,C,y,x,S){return s.createResizedImage(u,p,m,g,w,_,C,y,x,S)}};IV.exports=e})();var Q1e=IV.exports;const Z1e=Xb(Q1e);var Y2={},J1e=Qr;Object.defineProperty(Y2,"__esModule",{value:!0});var DV=Y2.default=void 0,X1e=J1e(Yi()),exe=B;DV=Y2.default=(0,X1e.default)((0,exe.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");const txe=({sectionId:t,onImagesUploaded:e})=>{const[o,s]=z.useState(!1),[c,u]=z.useState(""),[p,m]=z.useState("success"),g=$$(),w=async y=>{if(y.target.files){const x=Array.from(y.target.files),S=[];for(const T of x)try{const R=await _(T),D=await C(R);S.push({url:D.url,title:`Image ${qh()}`})}catch{u("Failed to upload images"),m("error"),s(!0)}e(S),u("Image(s) uploaded successfully"),m("success"),s(!0)}},_=y=>new Promise((x,S)=>{y.size>5*1024*1024?Z1e.imageFileResizer(y,500,500,"JPEG",70,0,T=>{typeof T=="string"?S(new Error("Compression returned a string instead of a file")):x(T)},"file"):x(y)}),C=y=>new Promise((x,S)=>{const T=mfe(g,`materials/${t}/${y.name}`);ffe(T,y).then(R=>{gfe(R.ref).then(D=>{x({url:D,path:R.ref.fullPath})})}).catch(R=>S(R))});return B.jsxs(Re,{children:[B.jsxs(Re,{sx:{mt:2,display:"flex",alignItems:"center"},children:[B.jsx(DV,{sx:{mr:1}}),B.jsx(dt,{variant:"h6",children:"Images"})]}),B.jsxs(Re,{sx:{mt:2},children:[B.jsxs(hn,{variant:"contained",component:"label",color:"primary",children:["Add Image",B.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:w})]}),B.jsx(ev,{open:o,autoHideDuration:6e3,onClose:()=>s(!1),children:B.jsx(Gw,{onClose:()=>s(!1),severity:p,sx:{width:"100%"},children:c})})]})]})},nxe=({imageTitle:t,onTitleChange:e})=>B.jsx(Xo,{variant:"outlined",fullWidth:!0,value:t,onChange:o=>e(o.target.value),placeholder:"Image Title",sx:{mt:1}});var Q2={},oxe=Qr;Object.defineProperty(Q2,"__esModule",{value:!0});var MV=Q2.default=void 0,rxe=oxe(Yi()),ixe=B;MV=Q2.default=(0,rxe.default)((0,ixe.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const sxe=({links:t,onLinksChange:e})=>{const o=()=>{const c={title:"",url:"",description:""};e([...t,c])},s=c=>{const u=t.filter((p,m)=>m!==c);e(u)};return B.jsxs(Re,{children:[B.jsxs(Re,{sx:{mt:2,display:"flex",alignItems:"center"},children:[B.jsx(MV,{sx:{mr:1}}),B.jsx(dt,{variant:"h6",children:"Links"})]}),B.jsx(Re,{sx:{mt:1},children:t.map((c,u)=>B.jsxs(Re,{sx:{display:"flex",alignItems:"center",mb:1},children:[B.jsx(Xo,{label:"Title",value:c.title,onChange:p=>{const m=[...t];m[u].title=p.target.value,e(m)},sx:{flexBasis:"20%",mr:1}}),B.jsx(Xo,{label:"URL",value:c.url,onChange:p=>{const m=[...t];m[u].url=p.target.value,e(m)},sx:{flexBasis:"40%",mr:1}}),B.jsx(Xo,{label:"Description",value:c.description,onChange:p=>{const m=[...t];m[u].description=p.target.value,e(m)},sx:{flexBasis:"40%"}}),B.jsx(Zn,{onClick:()=>s(u),children:B.jsx(Xf,{})})]},u))}),B.jsx(hn,{variant:"contained",onClick:o,sx:{mt:2},children:"Add Link"})]})};var PV={exports:{}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Z2{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=o=>{const s="error"in o?o.error:o.reason;s instanceof Error&&this._handleError(s,o)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,o){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(o)}off(e,o){this._listeners[e]=this._listeners[e].filter(s=>s!==o)}_fire(e,...o){const s=this._listeners[e]||[];for(const c of s)c.apply(this,[null,...o])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,o){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:o instanceof ErrorEvent?o.filename:void 0,lineno:o instanceof ErrorEvent?o.lineno:void 0,colno:o instanceof ErrorEvent?o.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,o=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-o)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function A1(t,e=new Set){const o=[t],s=new Set;let c=0;for(;o.length>c;){const u=o[c++];if(!(s.has(u)||!axe(u)||e.has(u)))if(s.add(u),Symbol.iterator in u)try{for(const p of u)o.push(p)}catch{}else for(const p in u)p!=="defaultValue"&&o.push(u[p])}return s}function axe(t){const e=Object.prototype.toString.call(t),o=typeof t;return!(o==="number"||o==="boolean"||o==="string"||o==="symbol"||o==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||t===void 0||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function NV(t,e,o=new Set){if(t===e&&lxe(t))return!0;const s=A1(t,o),c=A1(e,o);for(const u of s)if(c.has(u))return!0;return!1}function lxe(t){return typeof t=="object"&&t!==null}var RV=typeof global=="object"&&global&&global.Object===Object&&global,cxe=typeof self=="object"&&self&&self.Object===Object&&self,bi=RV||cxe||Function("return this")(),Xd=bi.Symbol,OV=Object.prototype,dxe=OV.hasOwnProperty,uxe=OV.toString,Oh=Xd?Xd.toStringTag:void 0;function hxe(t){var e=dxe.call(t,Oh),o=t[Oh];try{t[Oh]=void 0;var s=!0}catch{}var c=uxe.call(t);return s&&(e?t[Oh]=o:delete t[Oh]),c}var pxe=Object.prototype,fxe=pxe.toString;function gxe(t){return fxe.call(t)}var mxe="[object Null]",kxe="[object Undefined]",hj=Xd?Xd.toStringTag:void 0;function nc(t){return t==null?t===void 0?kxe:mxe:hj&&hj in Object(t)?hxe(t):gxe(t)}function Fa(t){return t!=null&&typeof t=="object"}var bxe="[object Symbol]";function wxe(t){return typeof t=="symbol"||Fa(t)&&nc(t)==bxe}var J2=Array.isArray,vxe=/\s/;function yxe(t){for(var e=t.length;e--&&vxe.test(t.charAt(e)););return e}var _xe=/^\s+/;function Cxe(t){return t&&t.slice(0,yxe(t)+1).replace(_xe,"")}function Ns(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pj=NaN,Axe=/^[-+]0x[0-9a-f]+$/i,xxe=/^0b[01]+$/i,Exe=/^0o[0-7]+$/i,Sxe=parseInt;function fj(t){if(typeof t=="number")return t;if(wxe(t))return pj;if(Ns(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ns(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Cxe(t);var o=xxe.test(t);return o||Exe.test(t)?Sxe(t.slice(2),o?2:8):Axe.test(t)?pj:+t}var Txe="[object AsyncFunction]",Ixe="[object Function]",Dxe="[object GeneratorFunction]",Mxe="[object Proxy]";function BV(t){if(!Ns(t))return!1;var e=nc(t);return e==Ixe||e==Dxe||e==Txe||e==Mxe}var IC=bi["__core-js_shared__"],gj=function(){var t=/[^.]+$/.exec(IC&&IC.keys&&IC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Pxe(t){return!!gj&&gj in t}var Nxe=Function.prototype,Rxe=Nxe.toString;function oc(t){if(t!=null){try{return Rxe.call(t)}catch{}try{return t+""}catch{}}return""}var Oxe=/[\\^$.*+?()[\]{}|]/g,Bxe=/^\[object .+?Constructor\]$/,Lxe=Function.prototype,jxe=Object.prototype,zxe=Lxe.toString,Fxe=jxe.hasOwnProperty,$xe=RegExp("^"+zxe.call(Fxe).replace(Oxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vxe(t){if(!Ns(t)||Pxe(t))return!1;var e=BV(t)?$xe:Bxe;return e.test(oc(t))}function Uxe(t,e){return t==null?void 0:t[e]}function rc(t,e){var o=Uxe(t,e);return Vxe(o)?o:void 0}var x1=rc(bi,"WeakMap"),mj=Object.create,Hxe=function(){function t(){}return function(e){if(!Ns(e))return{};if(mj)return mj(e);t.prototype=e;var o=new t;return t.prototype=void 0,o}}();function Wxe(t,e){var o=-1,s=t.length;for(e||(e=Array(s));++o<s;)e[o]=t[o];return e}var kj=function(){try{var t=rc(Object,"defineProperty");return t({},"",{}),t}catch{}}();function qxe(t,e){for(var o=-1,s=t==null?0:t.length;++o<s&&e(t[o],o,t)!==!1;);return t}var Gxe=9007199254740991,Kxe=/^(?:0|[1-9]\d*)$/;function Yxe(t,e){var o=typeof t;return e=e??Gxe,!!e&&(o=="number"||o!="symbol"&&Kxe.test(t))&&t>-1&&t%1==0&&t<e}function LV(t,e,o){e=="__proto__"&&kj?kj(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}function jV(t,e){return t===e||t!==t&&e!==e}var Qxe=Object.prototype,Zxe=Qxe.hasOwnProperty;function zV(t,e,o){var s=t[e];(!(Zxe.call(t,e)&&jV(s,o))||o===void 0&&!(e in t))&&LV(t,e,o)}function nv(t,e,o,s){var c=!o;o||(o={});for(var u=-1,p=e.length;++u<p;){var m=e[u],g=void 0;g===void 0&&(g=t[m]),c?LV(o,m,g):zV(o,m,g)}return o}var Jxe=9007199254740991;function FV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Jxe}function $V(t){return t!=null&&FV(t.length)&&!BV(t)}var Xxe=Object.prototype;function X2(t){var e=t&&t.constructor,o=typeof e=="function"&&e.prototype||Xxe;return t===o}function eEe(t,e){for(var o=-1,s=Array(t);++o<t;)s[o]=e(o);return s}var tEe="[object Arguments]";function bj(t){return Fa(t)&&nc(t)==tEe}var VV=Object.prototype,nEe=VV.hasOwnProperty,oEe=VV.propertyIsEnumerable,rEe=bj(function(){return arguments}())?bj:function(t){return Fa(t)&&nEe.call(t,"callee")&&!oEe.call(t,"callee")};function iEe(){return!1}var UV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wj=UV&&typeof module=="object"&&module&&!module.nodeType&&module,sEe=wj&&wj.exports===UV,vj=sEe?bi.Buffer:void 0,aEe=vj?vj.isBuffer:void 0,HV=aEe||iEe,lEe="[object Arguments]",cEe="[object Array]",dEe="[object Boolean]",uEe="[object Date]",hEe="[object Error]",pEe="[object Function]",fEe="[object Map]",gEe="[object Number]",mEe="[object Object]",kEe="[object RegExp]",bEe="[object Set]",wEe="[object String]",vEe="[object WeakMap]",yEe="[object ArrayBuffer]",_Ee="[object DataView]",CEe="[object Float32Array]",AEe="[object Float64Array]",xEe="[object Int8Array]",EEe="[object Int16Array]",SEe="[object Int32Array]",TEe="[object Uint8Array]",IEe="[object Uint8ClampedArray]",DEe="[object Uint16Array]",MEe="[object Uint32Array]",en={};en[CEe]=en[AEe]=en[xEe]=en[EEe]=en[SEe]=en[TEe]=en[IEe]=en[DEe]=en[MEe]=!0;en[lEe]=en[cEe]=en[yEe]=en[dEe]=en[_Ee]=en[uEe]=en[hEe]=en[pEe]=en[fEe]=en[gEe]=en[mEe]=en[kEe]=en[bEe]=en[wEe]=en[vEe]=!1;function PEe(t){return Fa(t)&&FV(t.length)&&!!en[nc(t)]}function eS(t){return function(e){return t(e)}}var WV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mp=WV&&typeof module=="object"&&module&&!module.nodeType&&module,NEe=mp&&mp.exports===WV,DC=NEe&&RV.process,eu=function(){try{var t=mp&&mp.require&&mp.require("util").types;return t||DC&&DC.binding&&DC.binding("util")}catch{}}(),yj=eu&&eu.isTypedArray,REe=yj?eS(yj):PEe,OEe=Object.prototype,BEe=OEe.hasOwnProperty;function qV(t,e){var o=J2(t),s=!o&&rEe(t),c=!o&&!s&&HV(t),u=!o&&!s&&!c&&REe(t),p=o||s||c||u,m=p?eEe(t.length,String):[],g=m.length;for(var w in t)(e||BEe.call(t,w))&&!(p&&(w=="length"||c&&(w=="offset"||w=="parent")||u&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||Yxe(w,g)))&&m.push(w);return m}function GV(t,e){return function(o){return t(e(o))}}var LEe=GV(Object.keys,Object),jEe=Object.prototype,zEe=jEe.hasOwnProperty;function FEe(t){if(!X2(t))return LEe(t);var e=[];for(var o in Object(t))zEe.call(t,o)&&o!="constructor"&&e.push(o);return e}function tS(t){return $V(t)?qV(t):FEe(t)}function $Ee(t){var e=[];if(t!=null)for(var o in Object(t))e.push(o);return e}var VEe=Object.prototype,UEe=VEe.hasOwnProperty;function HEe(t){if(!Ns(t))return $Ee(t);var e=X2(t),o=[];for(var s in t)s=="constructor"&&(e||!UEe.call(t,s))||o.push(s);return o}function nS(t){return $V(t)?qV(t,!0):HEe(t)}var uf=rc(Object,"create");function WEe(){this.__data__=uf?uf(null):{},this.size=0}function qEe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var GEe="__lodash_hash_undefined__",KEe=Object.prototype,YEe=KEe.hasOwnProperty;function QEe(t){var e=this.__data__;if(uf){var o=e[t];return o===GEe?void 0:o}return YEe.call(e,t)?e[t]:void 0}var ZEe=Object.prototype,JEe=ZEe.hasOwnProperty;function XEe(t){var e=this.__data__;return uf?e[t]!==void 0:JEe.call(e,t)}var e2e="__lodash_hash_undefined__";function t2e(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=uf&&e===void 0?e2e:e,this}function ql(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var s=t[e];this.set(s[0],s[1])}}ql.prototype.clear=WEe;ql.prototype.delete=qEe;ql.prototype.get=QEe;ql.prototype.has=XEe;ql.prototype.set=t2e;function n2e(){this.__data__=[],this.size=0}function ov(t,e){for(var o=t.length;o--;)if(jV(t[o][0],e))return o;return-1}var o2e=Array.prototype,r2e=o2e.splice;function i2e(t){var e=this.__data__,o=ov(e,t);if(o<0)return!1;var s=e.length-1;return o==s?e.pop():r2e.call(e,o,1),--this.size,!0}function s2e(t){var e=this.__data__,o=ov(e,t);return o<0?void 0:e[o][1]}function a2e(t){return ov(this.__data__,t)>-1}function l2e(t,e){var o=this.__data__,s=ov(o,t);return s<0?(++this.size,o.push([t,e])):o[s][1]=e,this}function Bs(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var s=t[e];this.set(s[0],s[1])}}Bs.prototype.clear=n2e;Bs.prototype.delete=i2e;Bs.prototype.get=s2e;Bs.prototype.has=a2e;Bs.prototype.set=l2e;var hf=rc(bi,"Map");function c2e(){this.size=0,this.__data__={hash:new ql,map:new(hf||Bs),string:new ql}}function d2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function rv(t,e){var o=t.__data__;return d2e(e)?o[typeof e=="string"?"string":"hash"]:o.map}function u2e(t){var e=rv(this,t).delete(t);return this.size-=e?1:0,e}function h2e(t){return rv(this,t).get(t)}function p2e(t){return rv(this,t).has(t)}function f2e(t,e){var o=rv(this,t),s=o.size;return o.set(t,e),this.size+=o.size==s?0:1,this}function vu(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var s=t[e];this.set(s[0],s[1])}}vu.prototype.clear=c2e;vu.prototype.delete=u2e;vu.prototype.get=h2e;vu.prototype.has=p2e;vu.prototype.set=f2e;function KV(t,e){for(var o=-1,s=e.length,c=t.length;++o<s;)t[c+o]=e[o];return t}var oS=GV(Object.getPrototypeOf,Object),g2e="[object Object]",m2e=Function.prototype,k2e=Object.prototype,YV=m2e.toString,b2e=k2e.hasOwnProperty,w2e=YV.call(Object);function v2e(t){if(!Fa(t)||nc(t)!=g2e)return!1;var e=oS(t);if(e===null)return!0;var o=b2e.call(e,"constructor")&&e.constructor;return typeof o=="function"&&o instanceof o&&YV.call(o)==w2e}function y2e(){this.__data__=new Bs,this.size=0}function _2e(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o}function C2e(t){return this.__data__.get(t)}function A2e(t){return this.__data__.has(t)}var x2e=200;function E2e(t,e){var o=this.__data__;if(o instanceof Bs){var s=o.__data__;if(!hf||s.length<x2e-1)return s.push([t,e]),this.size=++o.size,this;o=this.__data__=new vu(s)}return o.set(t,e),this.size=o.size,this}function yu(t){var e=this.__data__=new Bs(t);this.size=e.size}yu.prototype.clear=y2e;yu.prototype.delete=_2e;yu.prototype.get=C2e;yu.prototype.has=A2e;yu.prototype.set=E2e;function S2e(t,e){return t&&nv(e,tS(e),t)}function T2e(t,e){return t&&nv(e,nS(e),t)}var QV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_j=QV&&typeof module=="object"&&module&&!module.nodeType&&module,I2e=_j&&_j.exports===QV,Cj=I2e?bi.Buffer:void 0,Aj=Cj?Cj.allocUnsafe:void 0;function D2e(t,e){if(e)return t.slice();var o=t.length,s=Aj?Aj(o):new t.constructor(o);return t.copy(s),s}function M2e(t,e){for(var o=-1,s=t==null?0:t.length,c=0,u=[];++o<s;){var p=t[o];e(p,o,t)&&(u[c++]=p)}return u}function ZV(){return[]}var P2e=Object.prototype,N2e=P2e.propertyIsEnumerable,xj=Object.getOwnPropertySymbols,rS=xj?function(t){return t==null?[]:(t=Object(t),M2e(xj(t),function(e){return N2e.call(t,e)}))}:ZV;function R2e(t,e){return nv(t,rS(t),e)}var O2e=Object.getOwnPropertySymbols,JV=O2e?function(t){for(var e=[];t;)KV(e,rS(t)),t=oS(t);return e}:ZV;function B2e(t,e){return nv(t,JV(t),e)}function XV(t,e,o){var s=e(t);return J2(t)?s:KV(s,o(t))}function L2e(t){return XV(t,tS,rS)}function j2e(t){return XV(t,nS,JV)}var E1=rc(bi,"DataView"),S1=rc(bi,"Promise"),T1=rc(bi,"Set"),Ej="[object Map]",z2e="[object Object]",Sj="[object Promise]",Tj="[object Set]",Ij="[object WeakMap]",Dj="[object DataView]",F2e=oc(E1),$2e=oc(hf),V2e=oc(S1),U2e=oc(T1),H2e=oc(x1),ds=nc;(E1&&ds(new E1(new ArrayBuffer(1)))!=Dj||hf&&ds(new hf)!=Ej||S1&&ds(S1.resolve())!=Sj||T1&&ds(new T1)!=Tj||x1&&ds(new x1)!=Ij)&&(ds=function(t){var e=nc(t),o=e==z2e?t.constructor:void 0,s=o?oc(o):"";if(s)switch(s){case F2e:return Dj;case $2e:return Ej;case V2e:return Sj;case U2e:return Tj;case H2e:return Ij}return e});var W2e=Object.prototype,q2e=W2e.hasOwnProperty;function G2e(t){var e=t.length,o=new t.constructor(e);return e&&typeof t[0]=="string"&&q2e.call(t,"index")&&(o.index=t.index,o.input=t.input),o}var Mj=bi.Uint8Array;function iS(t){var e=new t.constructor(t.byteLength);return new Mj(e).set(new Mj(t)),e}function K2e(t,e){var o=e?iS(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}var Y2e=/\w*$/;function Q2e(t){var e=new t.constructor(t.source,Y2e.exec(t));return e.lastIndex=t.lastIndex,e}var Pj=Xd?Xd.prototype:void 0,Nj=Pj?Pj.valueOf:void 0;function Z2e(t){return Nj?Object(Nj.call(t)):{}}function J2e(t,e){var o=e?iS(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}var X2e="[object Boolean]",eSe="[object Date]",tSe="[object Map]",nSe="[object Number]",oSe="[object RegExp]",rSe="[object Set]",iSe="[object String]",sSe="[object Symbol]",aSe="[object ArrayBuffer]",lSe="[object DataView]",cSe="[object Float32Array]",dSe="[object Float64Array]",uSe="[object Int8Array]",hSe="[object Int16Array]",pSe="[object Int32Array]",fSe="[object Uint8Array]",gSe="[object Uint8ClampedArray]",mSe="[object Uint16Array]",kSe="[object Uint32Array]";function bSe(t,e,o){var s=t.constructor;switch(e){case aSe:return iS(t);case X2e:case eSe:return new s(+t);case lSe:return K2e(t,o);case cSe:case dSe:case uSe:case hSe:case pSe:case fSe:case gSe:case mSe:case kSe:return J2e(t,o);case tSe:return new s;case nSe:case iSe:return new s(t);case oSe:return Q2e(t);case rSe:return new s;case sSe:return Z2e(t)}}function wSe(t){return typeof t.constructor=="function"&&!X2(t)?Hxe(oS(t)):{}}var vSe="[object Map]";function ySe(t){return Fa(t)&&ds(t)==vSe}var Rj=eu&&eu.isMap,_Se=Rj?eS(Rj):ySe,CSe="[object Set]";function ASe(t){return Fa(t)&&ds(t)==CSe}var Oj=eu&&eu.isSet,xSe=Oj?eS(Oj):ASe,ESe=1,SSe=2,TSe=4,eU="[object Arguments]",ISe="[object Array]",DSe="[object Boolean]",MSe="[object Date]",PSe="[object Error]",tU="[object Function]",NSe="[object GeneratorFunction]",RSe="[object Map]",OSe="[object Number]",nU="[object Object]",BSe="[object RegExp]",LSe="[object Set]",jSe="[object String]",zSe="[object Symbol]",FSe="[object WeakMap]",$Se="[object ArrayBuffer]",VSe="[object DataView]",USe="[object Float32Array]",HSe="[object Float64Array]",WSe="[object Int8Array]",qSe="[object Int16Array]",GSe="[object Int32Array]",KSe="[object Uint8Array]",YSe="[object Uint8ClampedArray]",QSe="[object Uint16Array]",ZSe="[object Uint32Array]",Kt={};Kt[eU]=Kt[ISe]=Kt[$Se]=Kt[VSe]=Kt[DSe]=Kt[MSe]=Kt[USe]=Kt[HSe]=Kt[WSe]=Kt[qSe]=Kt[GSe]=Kt[RSe]=Kt[OSe]=Kt[nU]=Kt[BSe]=Kt[LSe]=Kt[jSe]=Kt[zSe]=Kt[KSe]=Kt[YSe]=Kt[QSe]=Kt[ZSe]=!0;Kt[PSe]=Kt[tU]=Kt[FSe]=!1;function Uk(t,e,o,s,c,u){var p,m=e&ESe,g=e&SSe,w=e&TSe;if(o&&(p=c?o(t,s,c,u):o(t)),p!==void 0)return p;if(!Ns(t))return t;var _=J2(t);if(_){if(p=G2e(t),!m)return Wxe(t,p)}else{var C=ds(t),y=C==tU||C==NSe;if(HV(t))return D2e(t,m);if(C==nU||C==eU||y&&!c){if(p=g||y?{}:wSe(t),!m)return g?B2e(t,T2e(p,t)):R2e(t,S2e(p,t))}else{if(!Kt[C])return c?t:{};p=bSe(t,C,m)}}u||(u=new yu);var x=u.get(t);if(x)return x;u.set(t,p),xSe(t)?t.forEach(function(R){p.add(Uk(R,e,o,R,t,u))}):_Se(t)&&t.forEach(function(R,D){p.set(D,Uk(R,e,o,D,t,u))});var S=w?g?j2e:L2e:g?nS:tS,T=_?void 0:S(t);return qxe(T||t,function(R,D){T&&(D=R,R=t[D]),zV(p,D,Uk(R,e,o,D,t,u))}),p}var JSe=1,XSe=4;function eTe(t,e){return e=typeof e=="function"?e:void 0,Uk(t,JSe|XSe,e)}var MC=function(){return bi.Date.now()},tTe="Expected a function",nTe=Math.max,oTe=Math.min;function rTe(t,e,o){var s,c,u,p,m,g,w=0,_=!1,C=!1,y=!0;if(typeof t!="function")throw new TypeError(tTe);e=fj(e)||0,Ns(o)&&(_=!!o.leading,C="maxWait"in o,u=C?nTe(fj(o.maxWait)||0,e):u,y="trailing"in o?!!o.trailing:y);function x(H){var M=s,U=c;return s=c=void 0,w=H,p=t.apply(U,M),p}function S(H){return w=H,m=setTimeout(D,e),_?x(H):p}function T(H){var M=H-g,U=H-w,G=e-M;return C?oTe(G,u-U):G}function R(H){var M=H-g,U=H-w;return g===void 0||M>=e||M<0||C&&U>=u}function D(){var H=MC();if(R(H))return N(H);m=setTimeout(D,T(H))}function N(H){return m=void 0,y&&s?x(H):(s=c=void 0,p)}function O(){m!==void 0&&clearTimeout(m),w=0,s=g=c=m=void 0}function j(){return m===void 0?p:N(MC())}function $(){var H=MC(),M=R(H);if(s=arguments,c=this,g=H,M){if(m===void 0)return S(g);if(C)return clearTimeout(m),m=setTimeout(D,e),x(g)}return m===void 0&&(m=setTimeout(D,e)),p}return $.cancel=O,$.flush=j,$}function Bj(t){return Fa(t)&&t.nodeType===1&&!v2e(t)}var iTe="Expected a function";function sTe(t,e,o){var s=!0,c=!0;if(typeof t!="function")throw new TypeError(iTe);return Ns(o)&&(s="leading"in o?!!o.leading:s,c="trailing"in o?!!o.trailing:c),rTe(t,e,{leading:s,maxWait:e,trailing:c})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oU extends Z2{constructor(e,o={}){super(o),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=sTe(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),e&&(this._creator=(s,c)=>e.create(s,c)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},o=[],s=this._config.rootsAttributes||{},c={};for(const[p,m]of Object.entries(this._data.roots))m.isLoaded?(e[p]="",c[p]=s[p]||{}):o.push(p);const u={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:c,_watchdogInitialData:this._data};return delete u.initialData,u.extraPlugins.push(aTe),this._initUsingData?this.create(e,u,u.context):Bj(this._elementOrData)?this.create(this._elementOrData,u,u.context):this.create(this._editables,u,u.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,o=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=s,this._creator(e,this._config))).then(c=>{this._editor=c,c.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=c.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,o=e.model.document.roots.filter(m=>m.isAttached()&&m.rootName!="$graveyard"),{plugins:s}=e,c=s.has("CommentsRepository")&&s.get("CommentsRepository"),u=s.has("TrackChanges")&&s.get("TrackChanges"),p={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(m=>{p.roots[m.rootName]={content:JSON.stringify(Array.from(m.getChildren())),attributes:JSON.stringify(Array.from(m.getAttributes())),isLoaded:m._isLoaded}});for(const m of e.model.markers)m._affectsData&&(p.markers[m.name]={rangeJSON:m.getRange().toJSON(),usingOperation:m._managedUsingOperations,affectsData:m._affectsData});return c&&(p.commentThreads=JSON.stringify(c.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),u&&(p.suggestions=JSON.stringify(u.getSuggestions({toJSON:!0,skipNotAttached:!0}))),p}_getEditables(){const e={};for(const o of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(o);s&&(e[o]=s)}return e}_isErrorComingFromThisItem(e){return NV(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return eTe(e,(o,s)=>{if(Bj(o)||s==="context")return o})}}class aTe{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},o=>{this._restoreCollaborationData(),this._restoreEditorData(o)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,o){if("name"in o){const s=e.createElement(o.name,o.attributes);if(o.children)for(const c of o.children)s._appendChild(this._createNode(e,c));return s}else return e.createText(o.data,o.attributes)}_restoreEditorData(e){const o=this.editor;Object.entries(this._data.roots).forEach(([s,{content:c,attributes:u}])=>{const p=JSON.parse(c),m=JSON.parse(u),g=o.model.document.getRoot(s);for(const[w,_]of m)e.setAttribute(w,_,g);for(const w of p){const _=this._createNode(e,w);e.insert(_,g,"end")}}),Object.entries(this._data.markers).forEach(([s,c])=>{const{document:u}=o.model,{rangeJSON:{start:p,end:m},...g}=c,w=u.getRoot(p.root),_=e.createPositionFromPath(w,p.path,p.stickiness),C=e.createPositionFromPath(w,m.path,m.stickiness),y=e.createRange(_,C);e.addMarker(s,{range:y,...g})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),o=JSON.parse(this._data.suggestions);e.forEach(s=>{const c=this.editor.config.get("collaboration.channelId"),u=this.editor.plugins.get("CommentsRepository");u.hasCommentThread(s.threadId)&&u.getCommentThread(s.threadId).remove(),u.addCommentThread({channelId:c,...s})}),o.forEach(s=>{const c=this.editor.plugins.get("TrackChangesEditing");if(c.hasSuggestion(s.id)){const u=c.getSuggestion(s.id);u.attributes=s.attributes}else c.addSuggestionData(s)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const kp=Symbol("MainQueueId");class lTe extends Z2{constructor(e,o={}){super(o),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new cTe,this._watchdogConfig=o,this._creator=s=>e.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(kp,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const o=Lj(e);return Promise.all(o.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let c;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return c=new oU(null,this._watchdogConfig),c.setCreator(s.creator),c._setExcludedProperties(this._contextProps),s.destructor&&c.setDestructor(s.destructor),this._watchdogs.set(s.id,c),c.on("error",(u,{error:p,causesRestart:m})=>{this._fire("itemError",{itemId:s.id,error:p}),m&&this._actionQueues.enqueue(s.id,()=>new Promise(g=>{const w=()=>{c.off("restart",w),this._fire("itemRestart",{itemId:s.id}),g()};c.on("restart",w)}))}),c.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(e){const o=Lj(e);return Promise.all(o.map(s=>this._actionQueues.enqueue(s,()=>{const c=this._getWatchdog(s);return this._watchdogs.delete(s),c.destroy()})))}destroy(){return this._actionQueues.enqueue(kp,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(kp,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=A1(this._context),Promise.all(Array.from(this._watchdogs.values()).map(o=>(o._setExcludedProperties(this._contextProps),o.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(o=>o.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const o=this._watchdogs.get(e);if(!o)throw new Error(`Item with the given id was not registered: ${e}.`);return o}_isErrorComingFromThisItem(e){for(const o of this._watchdogs.values())if(o._isErrorComingFromThisItem(e))return!1;return NV(this._context,e.context)}}class cTe{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,o){const s=e===kp;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const u=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(kp),this._queues.get(e)])).then(o),p=u.catch(()=>{});return this._queues.set(e,p),u.finally(()=>{this._activeActions--,this._queues.get(e)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function Lj(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const dTe=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:lTe,EditorWatchdog:oU,Watchdog:Z2},Symbol.toStringTag,{value:"Module"})),uTe=qi(dTe);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(t,e){(function(o,s){t.exports=s(z,Tge,uTe)})(self,(o,s,c)=>(()=>{var u={546:w=>{w.exports=c},949:w=>{w.exports=s},155:w=>{w.exports=o}},p={};function m(w){var _=p[w];if(_!==void 0)return _.exports;var C=p[w]={exports:{}};return u[w](C,C.exports,m),C.exports}m.n=w=>{var _=w&&w.__esModule?()=>w.default:()=>w;return m.d(_,{a:_}),_},m.d=(w,_)=>{for(var C in _)m.o(_,C)&&!m.o(w,C)&&Object.defineProperty(w,C,{enumerable:!0,get:_[C]})},m.o=(w,_)=>Object.prototype.hasOwnProperty.call(w,_),m.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var g={};return(()=>{m.r(g),m.d(g,{CKEditor:()=>N,CKEditorContext:()=>R,useMultiRootEditor:()=>H});var w=m(155),_=m.n(w),C=m(949),y=m.n(C);const x=new Array(256).fill("").map((M,U)=>("0"+U.toString(16)).slice(-2));var S=m(546);const T=_().createContext("contextWatchdog");class R extends _().Component{constructor(U,G){super(U,G),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(U){return this._shouldComponentUpdate(U)}async _shouldComponentUpdate(U){return U.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(U.config)),U.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(U.config),!0):this.props.children!==U.children}render(){return _().createElement(T.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(U){this.contextWatchdog=new S.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(G,Y)=>{this.props.onError(Y.error,{phase:"runtime",willContextRestart:Y.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(U).catch(G=>{this.props.onError(G,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}R.defaultProps={isLayoutReady:!0,onError:(M,U)=>console.error(M,U)},R.propTypes={id:y().string,isLayoutReady:y().bool,context:y().func,watchdogConfig:y().object,config:y().object,onReady:y().func,onError:y().func};const D="Lock from React integration (@ckeditor/ckeditor5-react)";class N extends _().Component{constructor(U){super(U),this.editorDestructionInProgress=null,this.domContainer=_().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:G}=window;if(G){const[Y]=G.split(".").map(Number);Y<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(U){return!!this.editor&&(U.id!==this.props.id||U.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(U)&&this.editor.data.set(U.data),"disabled"in U&&(U.disabled?this.editor.enableReadOnlyMode(D):this.editor.disableReadOnlyMode(D)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return _().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof S.ContextWatchdog?this.watchdog=new O(this.context):this.watchdog=new N._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((U,G)=>this._createEditor(U,G)),this.watchdog.on("error",(U,{error:G,causesRestart:Y})=>{(this.props.onError||console.error)(G,{phase:"runtime",willEditorRestart:Y})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(U=>{(this.props.onError||console.error)(U,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(U,G){return this.props.editor.create(U,G).then(Y=>{"disabled"in this.props&&this.props.disabled&&Y.enableReadOnlyMode(D);const Z=Y.model.document,re=Y.editing.view.document;return Z.on("change:data",J=>{this.props.onChange&&this.props.onChange(J,Y)}),re.on("focus",J=>{this.props.onFocus&&this.props.onFocus(J,Y)}),re.on("blur",J=>{this.props.onBlur&&this.props.onBlur(J,Y)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Y)}),Y})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(U=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,U()):this.instance?(await this.instance.destroy(),this.instance=null,U()):void U())})}_shouldUpdateEditor(U){return this.props.data!==U.data&&this.editor.data.get()!==U.data}_getConfig(){const U=this.props.config||{};return this.props.data&&U.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...U,initialData:U.initialData||this.props.data||""}}}N.contextType=T,N.propTypes={editor:y().func.isRequired,data:y().string,config:y().object,disableWatchdog:y().bool,watchdogConfig:y().object,onChange:y().func,onReady:y().func,onFocus:y().func,onBlur:y().func,onError:y().func,disabled:y().bool,id:y().any},N._EditorWatchdog=S.EditorWatchdog;class O{constructor(U){this._contextWatchdog=U,this._id=function(){const G=4294967296*Math.random()>>>0,Y=4294967296*Math.random()>>>0,Z=4294967296*Math.random()>>>0,re=4294967296*Math.random()>>>0;return"e"+x[255&G]+x[G>>8&255]+x[G>>16&255]+x[G>>24&255]+x[255&Y]+x[Y>>8&255]+x[Y>>16&255]+x[Y>>24&255]+x[255&Z]+x[Z>>8&255]+x[Z>>16&255]+x[Z>>24&255]+x[255&re]+x[re>>8&255]+x[re>>16&255]+x[re>>24&255]}()}setCreator(U){this._creator=U}create(U,G){return this._contextWatchdog.add({sourceElementOrData:U,config:G,creator:this._creator,id:this._id,type:"editor"})}on(U,G){this._contextWatchdog.on("itemError",(Y,{itemId:Z,error:re})=>{Z===this._id&&G(null,{error:re,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const j="Lock from React integration (@ckeditor/ckeditor5-react)",$=({editor:M})=>{const U=(0,w.useRef)(null);return(0,w.useEffect)(()=>{const G=U.current;if(!M||!G)return;const Y=M.ui.view.toolbar.element;return G&&G.appendChild(Y),()=>{G&&G.removeChild(Y)}},[M&&M.id]),_().createElement("div",{ref:U})},H=M=>{const U=(0,w.useRef)(null),G=(0,w.useRef)(null),Y=(0,w.useContext)(T),[Z,re]=(0,w.useState)(null),[J,X]=(0,w.useState)(M.data),[oe,ie]=(0,w.useState)(M.rootsAttributes||{}),[ae,q]=(0,w.useState)([]),se=(0,w.useRef)(!0);(0,w.useEffect)(()=>((async()=>(await G.current,M.isLayoutReady!==!1&&await Pe()))(),()=>{Ye().then(()=>{G.current=null})}),[M.isLayoutReady]),(0,w.useEffect)(()=>{Z&&(M.disabled?Z.enableReadOnlyMode(j):Z.disableReadOnlyMode(j))},[M.disabled]),(0,w.useEffect)(()=>{if(Z&&!G.current){const Ee=Z.getFullData();X({...Ee}),ie({...Z.getRootsAttributes()}),q([...Object.keys(Ee).map(Q=>Ie(Z,Q))])}},[Z&&Z.id]);const he=()=>{const Ee=M.config||{};return M.data&&Ee.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Ee,rootsAttributes:oe}},Ie=(Ee,Q)=>_().createElement("div",{id:Q,key:Q,ref:te=>{if(te){const le=Ee.ui.view.createEditable(Q,te);Ee.ui.addEditable(le),Ee.editing.view.forceRender()}}}),Me=(Ee,Q)=>M.editor.create(Ee,Q).then(te=>{M.disabled&&M.disabled&&te.enableReadOnlyMode(j);const le=te.model.document,_e=te.editing.view.document;return le.on("change:data",De=>((Ke,Rt)=>{const nt=Ke.model.document;if(!M.disableTwoWayDataBinding){const Oe={},et={};nt.differ.getChanges().forEach(Je=>{let Ve;if(Ve=Je.type=="insert"||Je.type=="remove"?Je.position.root:Je.range.root,!Ve.isAttached())return;const{rootName:gt}=Ve;Oe[gt]=Ke.getData({rootName:gt})}),nt.differ.getChangedRoots().forEach(Je=>{if(Je.state)return void(Oe[Je.name]!==void 0&&delete Oe[Je.name]);const Ve=Je.name;et[Ve]=Ke.getRootAttributes(Ve)}),Object.keys(Oe).length&&X(Je=>({...Je,...Oe})),Object.keys(et).length&&ie(Je=>({...Je,...et}))}M.onChange&&M.onChange(Rt,Ke)})(te,De)),te.on("addRoot",(De,Ke)=>((Rt,nt,Oe)=>{const et=Oe.rootName,Je=Ie(Rt,et);M.disableTwoWayDataBinding||(X(Ve=>({...Ve,[et]:Rt.getData({rootName:et})})),ie(Ve=>({...Ve,[et]:Rt.getRootAttributes(et)}))),q(Ve=>[...Ve,Je])})(te,0,Ke)),te.on("detachRoot",(De,Ke)=>((Rt,nt,Oe)=>{const et=Oe.rootName;q(Je=>Je.filter(Ve=>Ve.props.id!==et)),M.disableTwoWayDataBinding||(X(Je=>{const{[et]:Ve,...gt}=Je;return{...gt}}),ie(Je=>{const{[et]:Ve,...gt}=Je;return{...gt}})),Rt.detachEditable(Oe)})(te,0,Ke)),_e.on("focus",De=>{M.onFocus&&M.onFocus(De,te)}),_e.on("blur",De=>{M.onBlur&&M.onBlur(De,te)}),re(te),M.onReady&&M.onReady(te),te}),Ye=async()=>{re(null),X({}),ie({}),q([]),G.current=new Promise(Ee=>{setTimeout(async()=>U.current?(await U.current.destroy(),U.current=null,Ee()):Z?(await Z.destroy(),Ee()):void Ee())})},Pe=async()=>{if(M.disableWatchdog)return void await Me(M.data,he());if(U.current)return;Y instanceof S.ContextWatchdog?U.current=new O(Y):U.current=new S.EditorWatchdog(M.editor,M.watchdogConfig);const Ee=U.current;Ee.setCreator((Q,te)=>Me(Q,te)),Ee.on("error",(Q,{error:te,causesRestart:le})=>{(M.onError||console.error)(te,{phase:"runtime",willEditorRestart:le})}),await Ee.create(J,he()).catch(Q=>{(M.onError||console.error)(Q,{phase:"initialization",willEditorRestart:!1})})};(0,w.useEffect)(()=>{if(Z&&se.current){se.current=!1;const Ee=Object.keys(J),Q=Object.keys(oe);if(!Ee.every(nt=>Q.includes(nt)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const te=Z.getFullData(),le=Z.getRootsAttributes(),{addedKeys:_e,removedKeys:De}=Qe(te,J||{}),Ke=Ee.some(nt=>te[nt]!==void 0&&JSON.stringify(te[nt])!==JSON.stringify(J[nt])),Rt=Q.filter(nt=>JSON.stringify(le[nt])!==JSON.stringify(oe[nt]));Z.model.change(nt=>{xe(_e),ut(De),Ke&&lt(),Rt.length&&st(nt,Rt)})}},[J,oe]);const Qe=(Ee,Q)=>{const te=Object.keys(Ee),le=Object.keys(Q);return{addedKeys:le.filter(_e=>!te.includes(_e)),removedKeys:te.filter(_e=>!le.includes(_e))}},xe=Ee=>{Ee.forEach(Q=>{Z.addRoot(Q,{data:J[Q]||"",attributes:(oe==null?void 0:oe[Q])||{},isUndoable:!0})})},ut=Ee=>{Ee.forEach(Q=>{Z.detachRoot(Q,!0)})},lt=()=>{Z.data.set(J,{suppressErrorInCollaboration:!0})},st=(Ee,Q)=>{Q.forEach(te=>{Object.keys(oe[te]).forEach(le=>{Z.registerRootAttribute(le)}),Ee.clearAttributes(Z.model.document.getRoot(te)),Ee.setAttributes(oe[te],Z.model.document.getRoot(te))})},vt=(0,w.useCallback)(Ee=>{se.current=!0,X(Ee)},[X]),qe=(0,w.useCallback)(Ee=>{se.current=!0,ie(Ee)},[ie]);return{editor:Z,editableElements:ae,toolbarElement:_().createElement($,{editor:Z}),data:J,setData:vt,attributes:oe,setAttributes:qe}}})(),g})())})(PV);var rU=PV.exports,Jb={exports:{}};Jb.exports;(function(t,e){(function(o){const s=o.en=o.en||{};s.dictionary=Object.assign(s.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(o,s){t.exports=s()}(self,()=>(()=>{var o={9246:(p,m,g)=>{const w=g(6931),_={};for(const y of Object.keys(w))_[w[y]]=y;const C={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};p.exports=C;for(const y of Object.keys(C)){if(!("channels"in C[y]))throw new Error("missing channels property: "+y);if(!("labels"in C[y]))throw new Error("missing channel labels property: "+y);if(C[y].labels.length!==C[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:x,labels:S}=C[y];delete C[y].channels,delete C[y].labels,Object.defineProperty(C[y],"channels",{value:x}),Object.defineProperty(C[y],"labels",{value:S})}C.rgb.hsl=function(y){const x=y[0]/255,S=y[1]/255,T=y[2]/255,R=Math.min(x,S,T),D=Math.max(x,S,T),N=D-R;let O,j;D===R?O=0:x===D?O=(S-T)/N:S===D?O=2+(T-x)/N:T===D&&(O=4+(x-S)/N),O=Math.min(60*O,360),O<0&&(O+=360);const $=(R+D)/2;return j=D===R?0:$<=.5?N/(D+R):N/(2-D-R),[O,100*j,100*$]},C.rgb.hsv=function(y){let x,S,T,R,D;const N=y[0]/255,O=y[1]/255,j=y[2]/255,$=Math.max(N,O,j),H=$-Math.min(N,O,j),M=function(U){return($-U)/6/H+.5};return H===0?(R=0,D=0):(D=H/$,x=M(N),S=M(O),T=M(j),N===$?R=T-S:O===$?R=.3333333333333333+x-T:j===$&&(R=.6666666666666666+S-x),R<0?R+=1:R>1&&(R-=1)),[360*R,100*D,100*$]},C.rgb.hwb=function(y){const x=y[0],S=y[1];let T=y[2];const R=C.rgb.hsl(y)[0],D=1/255*Math.min(x,Math.min(S,T));return T=1-.00392156862745098*Math.max(x,Math.max(S,T)),[R,100*D,100*T]},C.rgb.cmyk=function(y){const x=y[0]/255,S=y[1]/255,T=y[2]/255,R=Math.min(1-x,1-S,1-T);return[100*((1-x-R)/(1-R)||0),100*((1-S-R)/(1-R)||0),100*((1-T-R)/(1-R)||0),100*R]},C.rgb.keyword=function(y){const x=_[y];if(x)return x;let S,T=1/0;for(const N of Object.keys(w)){const O=w[N],j=(D=O,((R=y)[0]-D[0])**2+(R[1]-D[1])**2+(R[2]-D[2])**2);j<T&&(T=j,S=N)}var R,D;return S},C.keyword.rgb=function(y){return w[y]},C.rgb.xyz=function(y){let x=y[0]/255,S=y[1]/255,T=y[2]/255;return x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,[100*(.4124*x+.3576*S+.1805*T),100*(.2126*x+.7152*S+.0722*T),100*(.0193*x+.1192*S+.9505*T)]},C.rgb.lab=function(y){const x=C.rgb.xyz(y);let S=x[0],T=x[1],R=x[2];return S/=95.047,T/=100,R/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,[116*T-16,500*(S-T),200*(T-R)]},C.hsl.rgb=function(y){const x=y[0]/360,S=y[1]/100,T=y[2]/100;let R,D,N;if(S===0)return N=255*T,[N,N,N];R=T<.5?T*(1+S):T+S-T*S;const O=2*T-R,j=[0,0,0];for(let $=0;$<3;$++)D=x+.3333333333333333*-($-1),D<0&&D++,D>1&&D--,N=6*D<1?O+6*(R-O)*D:2*D<1?R:3*D<2?O+(R-O)*(.6666666666666666-D)*6:O,j[$]=255*N;return j},C.hsl.hsv=function(y){const x=y[0];let S=y[1]/100,T=y[2]/100,R=S;const D=Math.max(T,.01);return T*=2,S*=T<=1?T:2-T,R*=D<=1?D:2-D,[x,100*(T===0?2*R/(D+R):2*S/(T+S)),100*((T+S)/2)]},C.hsv.rgb=function(y){const x=y[0]/60,S=y[1]/100;let T=y[2]/100;const R=Math.floor(x)%6,D=x-Math.floor(x),N=255*T*(1-S),O=255*T*(1-S*D),j=255*T*(1-S*(1-D));switch(T*=255,R){case 0:return[T,j,N];case 1:return[O,T,N];case 2:return[N,T,j];case 3:return[N,O,T];case 4:return[j,N,T];case 5:return[T,N,O]}},C.hsv.hsl=function(y){const x=y[0],S=y[1]/100,T=y[2]/100,R=Math.max(T,.01);let D,N;N=(2-S)*T;const O=(2-S)*R;return D=S*R,D/=O<=1?O:2-O,D=D||0,N/=2,[x,100*D,100*N]},C.hwb.rgb=function(y){const x=y[0]/360;let S=y[1]/100,T=y[2]/100;const R=S+T;let D;R>1&&(S/=R,T/=R);const N=Math.floor(6*x),O=1-T;D=6*x-N,1&N&&(D=1-D);const j=S+D*(O-S);let $,H,M;switch(N){default:case 6:case 0:$=O,H=j,M=S;break;case 1:$=j,H=O,M=S;break;case 2:$=S,H=O,M=j;break;case 3:$=S,H=j,M=O;break;case 4:$=j,H=S,M=O;break;case 5:$=O,H=S,M=j}return[255*$,255*H,255*M]},C.cmyk.rgb=function(y){const x=y[0]/100,S=y[1]/100,T=y[2]/100,R=y[3]/100;return[255*(1-Math.min(1,x*(1-R)+R)),255*(1-Math.min(1,S*(1-R)+R)),255*(1-Math.min(1,T*(1-R)+R))]},C.xyz.rgb=function(y){const x=y[0]/100,S=y[1]/100,T=y[2]/100;let R,D,N;return R=3.2406*x+-1.5372*S+-.4986*T,D=-.9689*x+1.8758*S+.0415*T,N=.0557*x+-.204*S+1.057*T,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,D=D>.0031308?1.055*D**.4166666666666667-.055:12.92*D,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,R=Math.min(Math.max(0,R),1),D=Math.min(Math.max(0,D),1),N=Math.min(Math.max(0,N),1),[255*R,255*D,255*N]},C.xyz.lab=function(y){let x=y[0],S=y[1],T=y[2];return x/=95.047,S/=100,T/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,[116*S-16,500*(x-S),200*(S-T)]},C.lab.xyz=function(y){let x,S,T;S=(y[0]+16)/116,x=y[1]/500+S,T=S-y[2]/200;const R=S**3,D=x**3,N=T**3;return S=R>.008856?R:(S-.13793103448275862)/7.787,x=D>.008856?D:(x-.13793103448275862)/7.787,T=N>.008856?N:(T-.13793103448275862)/7.787,x*=95.047,S*=100,T*=108.883,[x,S,T]},C.lab.lch=function(y){const x=y[0],S=y[1],T=y[2];let R;return R=360*Math.atan2(T,S)/2/Math.PI,R<0&&(R+=360),[x,Math.sqrt(S*S+T*T),R]},C.lch.lab=function(y){const x=y[0],S=y[1],T=y[2]/360*2*Math.PI;return[x,S*Math.cos(T),S*Math.sin(T)]},C.rgb.ansi16=function(y,x=null){const[S,T,R]=y;let D=x===null?C.rgb.hsv(y)[2]:x;if(D=Math.round(D/50),D===0)return 30;let N=30+(Math.round(R/255)<<2|Math.round(T/255)<<1|Math.round(S/255));return D===2&&(N+=60),N},C.hsv.ansi16=function(y){return C.rgb.ansi16(C.hsv.rgb(y),y[2])},C.rgb.ansi256=function(y){const x=y[0],S=y[1],T=y[2];return x===S&&S===T?x<8?16:x>248?231:Math.round((x-8)/247*24)+232:16+36*Math.round(x/255*5)+6*Math.round(S/255*5)+Math.round(T/255*5)},C.ansi16.rgb=function(y){let x=y%10;if(x===0||x===7)return y>50&&(x+=3.5),x=x/10.5*255,[x,x,x];const S=.5*(1+~~(y>50));return[(1&x)*S*255,(x>>1&1)*S*255,(x>>2&1)*S*255]},C.ansi256.rgb=function(y){if(y>=232){const S=10*(y-232)+8;return[S,S,S]}let x;return y-=16,[Math.floor(y/36)/5*255,Math.floor((x=y%36)/6)/5*255,x%6/5*255]},C.rgb.hex=function(y){const x=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(x.length)+x},C.hex.rgb=function(y){const x=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!x)return[0,0,0];let S=x[0];x[0].length===3&&(S=S.split("").map(R=>R+R).join(""));const T=parseInt(S,16);return[T>>16&255,T>>8&255,255&T]},C.rgb.hcg=function(y){const x=y[0]/255,S=y[1]/255,T=y[2]/255,R=Math.max(Math.max(x,S),T),D=Math.min(Math.min(x,S),T),N=R-D;let O,j;return O=N<1?D/(1-N):0,j=N<=0?0:R===x?(S-T)/N%6:R===S?2+(T-x)/N:4+(x-S)/N,j/=6,j%=1,[360*j,100*N,100*O]},C.hsl.hcg=function(y){const x=y[1]/100,S=y[2]/100,T=S<.5?2*x*S:2*x*(1-S);let R=0;return T<1&&(R=(S-.5*T)/(1-T)),[y[0],100*T,100*R]},C.hsv.hcg=function(y){const x=y[1]/100,S=y[2]/100,T=x*S;let R=0;return T<1&&(R=(S-T)/(1-T)),[y[0],100*T,100*R]},C.hcg.rgb=function(y){const x=y[0]/360,S=y[1]/100,T=y[2]/100;if(S===0)return[255*T,255*T,255*T];const R=[0,0,0],D=x%1*6,N=D%1,O=1-N;let j=0;switch(Math.floor(D)){case 0:R[0]=1,R[1]=N,R[2]=0;break;case 1:R[0]=O,R[1]=1,R[2]=0;break;case 2:R[0]=0,R[1]=1,R[2]=N;break;case 3:R[0]=0,R[1]=O,R[2]=1;break;case 4:R[0]=N,R[1]=0,R[2]=1;break;default:R[0]=1,R[1]=0,R[2]=O}return j=(1-S)*T,[255*(S*R[0]+j),255*(S*R[1]+j),255*(S*R[2]+j)]},C.hcg.hsv=function(y){const x=y[1]/100,S=x+y[2]/100*(1-x);let T=0;return S>0&&(T=x/S),[y[0],100*T,100*S]},C.hcg.hsl=function(y){const x=y[1]/100,S=y[2]/100*(1-x)+.5*x;let T=0;return S>0&&S<.5?T=x/(2*S):S>=.5&&S<1&&(T=x/(2*(1-S))),[y[0],100*T,100*S]},C.hcg.hwb=function(y){const x=y[1]/100,S=x+y[2]/100*(1-x);return[y[0],100*(S-x),100*(1-S)]},C.hwb.hcg=function(y){const x=y[1]/100,S=1-y[2]/100,T=S-x;let R=0;return T<1&&(R=(S-T)/(1-T)),[y[0],100*T,100*R]},C.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},C.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},C.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},C.gray.hsl=function(y){return[0,0,y[0]]},C.gray.hsv=C.gray.hsl,C.gray.hwb=function(y){return[0,100,y[0]]},C.gray.cmyk=function(y){return[0,0,0,y[0]]},C.gray.lab=function(y){return[y[0],0,0]},C.gray.hex=function(y){const x=255&Math.round(y[0]/100*255),S=((x<<16)+(x<<8)+x).toString(16).toUpperCase();return"000000".substring(S.length)+S},C.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},9047:(p,m,g)=>{const w=g(9246),_=g(802),C={};Object.keys(w).forEach(y=>{C[y]={},Object.defineProperty(C[y],"channels",{value:w[y].channels}),Object.defineProperty(C[y],"labels",{value:w[y].labels});const x=_(y);Object.keys(x).forEach(S=>{const T=x[S];C[y][S]=function(R){const D=function(...N){const O=N[0];if(O==null)return O;O.length>1&&(N=O);const j=R(N);if(typeof j=="object")for(let $=j.length,H=0;H<$;H++)j[H]=Math.round(j[H]);return j};return"conversion"in R&&(D.conversion=R.conversion),D}(T),C[y][S].raw=function(R){const D=function(...N){const O=N[0];return O==null?O:(O.length>1&&(N=O),R(N))};return"conversion"in R&&(D.conversion=R.conversion),D}(T)})}),p.exports=C},802:(p,m,g)=>{const w=g(9246);function _(x){const S=function(){const R={},D=Object.keys(w);for(let N=D.length,O=0;O<N;O++)R[D[O]]={distance:-1,parent:null};return R}(),T=[x];for(S[x].distance=0;T.length;){const R=T.pop(),D=Object.keys(w[R]);for(let N=D.length,O=0;O<N;O++){const j=D[O],$=S[j];$.distance===-1&&($.distance=S[R].distance+1,$.parent=R,T.unshift(j))}}return S}function C(x,S){return function(T){return S(x(T))}}function y(x,S){const T=[S[x].parent,x];let R=w[S[x].parent][x],D=S[x].parent;for(;S[D].parent;)T.unshift(S[D].parent),R=C(w[S[D].parent][D],R),D=S[D].parent;return R.conversion=T,R}p.exports=function(x){const S=_(x),T={},R=Object.keys(S);for(let D=R.length,N=0;N<D;N++){const O=R[N];S[O].parent!==null&&(T[O]=y(O,S))}return T}},6931:p=>{p.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const x=y},8708:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const x=y},1866:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const x=y},7793:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const x=y},7388:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},4098:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const x=y},8264:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const x=y},6269:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const x=y},265:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const x=y},5247:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=y},4642:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},3350:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const x=y},7378:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const x=y},3469:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const x=y},6386:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},7693:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const x=y},1559:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const x=y},2267:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const x=y},4062:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},7719:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const x=y},8762:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},3817:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},4808:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const x=y},1232:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const x=y},6903:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},9968:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const x=y},7141:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const x=y},8991:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const x=y},70:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const x=y},7048:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},5651:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},5506:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},4043:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},2655:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const x=y},5032:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const x=y},2329:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const x=y},4143:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=y},8986:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},8795:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const x=y},8137:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const x=y},1623:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},5562:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},8423:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},1801:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const x=y},5727:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},9715:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=y},4391:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=y},25:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const x=y},7317:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=y},1905:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const x=y},6309:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const x=y},9819:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},9822:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const x=y},8149:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},3629:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},1792:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},1666:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const x=y},8527:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},1185:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},7913:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const x=y},9529:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const x=y},7621:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},253:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},7801:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const x=y},4962:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},5199:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},497:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const x=y},4:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const x=y},3344:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=y},9481:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const x=y},977:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const x=y},9108:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},3710:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},991:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const x=y},5380:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},8298:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=y},2722:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=y},8107:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const x=y},109:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const x=y},1671:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const x=y},2710:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const x=y},9677:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=y},9205:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const x=y},7676:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const x=y},695:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const x=y},4095:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const x=y},8508:(p,m,g)=>{g.d(m,{A:()=>x});var w=g(9372),_=g.n(w),C=g(935),y=g.n(C)()(_());y.push([p.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const x=y},935:p=>{p.exports=function(m){var g=[];return g.toString=function(){return this.map(function(w){var _=m(w);return w[2]?"@media ".concat(w[2]," {").concat(_,"}"):_}).join("")},g.i=function(w,_,C){typeof w=="string"&&(w=[[null,w,""]]);var y={};if(C)for(var x=0;x<this.length;x++){var S=this[x][0];S!=null&&(y[S]=!0)}for(var T=0;T<w.length;T++){var R=[].concat(w[T]);C&&y[R[0]]||(_&&(R[2]?R[2]="".concat(_," and ").concat(R[2]):R[2]=_),g.push(R))}},g}},9372:p=>{function m(w,_){return function(C){if(Array.isArray(C))return C}(w)||function(C,y){var x=C&&(typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"]);if(x!=null){var S,T,R=[],D=!0,N=!1;try{for(x=x.call(C);!(D=(S=x.next()).done)&&(R.push(S.value),!y||R.length!==y);D=!0);}catch(O){N=!0,T=O}finally{try{D||x.return==null||x.return()}finally{if(N)throw T}}return R}}(w,_)||function(C,y){if(C){if(typeof C=="string")return g(C,y);var x=Object.prototype.toString.call(C).slice(8,-1);if(x==="Object"&&C.constructor&&(x=C.constructor.name),x==="Map"||x==="Set")return Array.from(C);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return g(C,y)}}(w,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(w,_){(_==null||_>w.length)&&(_=w.length);for(var C=0,y=new Array(_);C<_;C++)y[C]=w[C];return y}p.exports=function(w){var _=m(w,4),C=_[1],y=_[3];if(!y)return C;if(typeof btoa=="function"){var x=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),S="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),T="/*# ".concat(S," */"),R=y.sources.map(function(D){return"/*# sourceURL=".concat(y.sourceRoot||"").concat(D," */")});return[C].concat(R).concat([T]).join(`
`)}return[C].join(`
`)}},2591:(p,m,g)=>{var w,_=function(){return w===void 0&&(w=!!(window&&document&&document.all&&!window.atob)),w},C=function(){var M={};return function(U){if(M[U]===void 0){var G=document.querySelector(U);if(window.HTMLIFrameElement&&G instanceof window.HTMLIFrameElement)try{G=G.contentDocument.head}catch{G=null}M[U]=G}return M[U]}}(),y=[];function x(M){for(var U=-1,G=0;G<y.length;G++)if(y[G].identifier===M){U=G;break}return U}function S(M,U){for(var G={},Y=[],Z=0;Z<M.length;Z++){var re=M[Z],J=U.base?re[0]+U.base:re[0],X=G[J]||0,oe="".concat(J," ").concat(X);G[J]=X+1;var ie=x(oe),ae={css:re[1],media:re[2],sourceMap:re[3]};ie!==-1?(y[ie].references++,y[ie].updater(ae)):y.push({identifier:oe,updater:H(ae,U),references:1}),Y.push(oe)}return Y}function T(M){var U=document.createElement("style"),G=M.attributes||{};if(G.nonce===void 0){var Y=g.nc;Y&&(G.nonce=Y)}if(Object.keys(G).forEach(function(re){U.setAttribute(re,G[re])}),typeof M.insert=="function")M.insert(U);else{var Z=C(M.insert||"head");if(!Z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Z.appendChild(U)}return U}var R,D=(R=[],function(M,U){return R[M]=U,R.filter(Boolean).join(`
`)});function N(M,U,G,Y){var Z=G?"":Y.media?"@media ".concat(Y.media," {").concat(Y.css,"}"):Y.css;if(M.styleSheet)M.styleSheet.cssText=D(U,Z);else{var re=document.createTextNode(Z),J=M.childNodes;J[U]&&M.removeChild(J[U]),J.length?M.insertBefore(re,J[U]):M.appendChild(re)}}function O(M,U,G){var Y=G.css,Z=G.media,re=G.sourceMap;if(Z?M.setAttribute("media",Z):M.removeAttribute("media"),re&&typeof btoa<"u"&&(Y+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(re))))," */")),M.styleSheet)M.styleSheet.cssText=Y;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(Y))}}var j=null,$=0;function H(M,U){var G,Y,Z;if(U.singleton){var re=$++;G=j||(j=T(U)),Y=N.bind(null,G,re,!1),Z=N.bind(null,G,re,!0)}else G=T(U),Y=O.bind(null,G,U),Z=function(){(function(J){if(J.parentNode===null)return!1;J.parentNode.removeChild(J)})(G)};return Y(M),function(J){if(J){if(J.css===M.css&&J.media===M.media&&J.sourceMap===M.sourceMap)return;Y(M=J)}else Z()}}p.exports=function(M,U){(U=U||{}).singleton||typeof U.singleton=="boolean"||(U.singleton=_());var G=S(M=M||[],U);return function(Y){if(Y=Y||[],Object.prototype.toString.call(Y)==="[object Array]"){for(var Z=0;Z<G.length;Z++){var re=x(G[Z]);y[re].references--}for(var J=S(Y,U),X=0;X<G.length;X++){var oe=x(G[X]);y[oe].references===0&&(y[oe].updater(),y.splice(oe,1))}G=J}}}}},s={};function c(p){var m=s[p];if(m!==void 0)return m.exports;var g=s[p]={id:p,exports:{}};return o[p](g,g.exports,c),g.exports}c.n=p=>{var m=p&&p.__esModule?()=>p.default:()=>p;return c.d(m,{a:m}),m},c.d=(p,m)=>{for(var g in m)c.o(m,g)&&!c.o(p,g)&&Object.defineProperty(p,g,{enumerable:!0,get:m[g]})},c.o=(p,m)=>Object.prototype.hasOwnProperty.call(p,m),c.nc=void 0;var u={};return(()=>{let p;c.d(u,{default:()=>b_});try{p={window,document}}catch{p={window:{},document:{}}}const m=p,g=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var w;const _={isMac:C(g),isWindows:(w=g,w.indexOf("windows")>-1),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(g),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(g),isiOS:function(a){return!!a.match(/iphone|ipad/i)||C(a)&&navigator.maxTouchPoints>0}(g),isAndroid:function(a){return a.indexOf("android")>-1}(g),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(g),get isMediaForcedColors(){return!!m.window.matchMedia&&m.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!m.window.matchMedia&&m.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}};function C(a){return a.indexOf("macintosh")>-1}function y(a,n,r,i){r=r||function(k,b){return k===b};const l=Array.isArray(a)?a:Array.prototype.slice.call(a),d=Array.isArray(n)?n:Array.prototype.slice.call(n),h=function(k,b,v){const A=x(k,b,v);if(A===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const E=S(k,A),I=S(b,A),P=x(E,I,v),L=k.length-P,F=b.length-P;return{firstIndex:A,lastIndexOld:L,lastIndexNew:F}}(l,d,r);return i?function(k,b){const{firstIndex:v,lastIndexOld:A,lastIndexNew:E}=k;if(v===-1)return Array(b).fill("equal");let I=[];return v>0&&(I=I.concat(Array(v).fill("equal"))),E-v>0&&(I=I.concat(Array(E-v).fill("insert"))),A-v>0&&(I=I.concat(Array(A-v).fill("delete"))),E<b&&(I=I.concat(Array(b-E).fill("equal"))),I}(h,d.length):function(k,b){const v=[],{firstIndex:A,lastIndexOld:E,lastIndexNew:I}=b;return I-A>0&&v.push({index:A,type:"insert",values:k.slice(A,I)}),E-A>0&&v.push({index:A+(I-A),type:"delete",howMany:E-A}),v}(d,h)}function x(a,n,r){for(let i=0;i<Math.max(a.length,n.length);i++)if(a[i]===void 0||n[i]===void 0||!r(a[i],n[i]))return i;return-1}function S(a,n){return a.slice(n).reverse()}function T(a,n,r){r=r||function(L,F){return L===F};const i=a.length,l=n.length;if(i>200||l>200||i+l>300)return T.fastDiff(a,n,r,!0);let d,h;if(l<i){const L=a;a=n,n=L,d="delete",h="insert"}else d="insert",h="delete";const f=a.length,k=n.length,b=k-f,v={},A={};function E(L){const F=(A[L-1]!==void 0?A[L-1]:-1)+1,W=A[L+1]!==void 0?A[L+1]:-1,K=F>W?-1:1;v[L+K]&&(v[L]=v[L+K].slice(0)),v[L]||(v[L]=[]),v[L].push(F>W?d:h);let ee=Math.max(F,W),ce=ee-L;for(;ce<f&&ee<k&&r(a[ce],n[ee]);)ce++,ee++,v[L].push("equal");return ee}let I,P=0;do{for(I=-P;I<b;I++)A[I]=E(I);for(I=b+P;I>b;I--)A[I]=E(I);A[b]=E(b),P++}while(A[b]!==k);return v[b].slice(1)}T.fastDiff=y;const R=function(){return function a(){a.called=!0}};class D{constructor(n,r){this.source=n,this.name=r,this.path=[],this.stop=R(),this.off=R()}}const N=new Array(256).fill("").map((a,n)=>("0"+n.toString(16)).slice(-2));function O(){const a=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+N[255&a]+N[a>>8&255]+N[a>>16&255]+N[a>>24&255]+N[255&n]+N[n>>8&255]+N[n>>16&255]+N[n>>24&255]+N[255&r]+N[r>>8&255]+N[r>>16&255]+N[r>>24&255]+N[255&i]+N[i>>8&255]+N[i>>16&255]+N[i>>24&255]}const j={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function $(a,n){const r=j.get(n.priority);for(let i=0;i<a.length;i++)if(j.get(a[i].priority)<r)return void a.splice(i,0,n);a.push(n)}const H="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class M extends Error{constructor(n,r,i){super(function(l,d){const h=new WeakSet,f=(v,A)=>{if(typeof A=="object"&&A!==null){if(h.has(A))return`[object ${A.constructor.name}]`;h.add(A)}return A},k=d?` ${JSON.stringify(d,f)}`:"",b=Y(l);return l+k+b}(n,i)),this.name="CKEditorError",this.context=r,this.data=i}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,r){if(n.is&&n.is("CKEditorError"))throw n;const i=new M(n.message,r);throw i.stack=n.stack,i}}function U(a,n){console.warn(...Z(a,n))}function G(a,n){console.error(...Z(a,n))}function Y(a){return`
Read more: ${H}#error-${a}`}function Z(a,n){const r=Y(a);return n?[a,n,r]:[a,r]}const re="41.4.2",J=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new M("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=re;const X=Symbol("listeningTo"),oe=Symbol("emitterId"),ie=Symbol("delegations"),ae=q(Object);function q(a){return a?class extends a{on(n,r,i){this.listenTo(this,n,r,i)}once(n,r,i){let l=!1;this.listenTo(this,n,(d,...h)=>{l||(l=!0,d.off(),r.call(this,d,...h))},i)}off(n,r){this.stopListening(this,n,r)}listenTo(n,r,i,l={}){let d,h;this[X]||(this[X]={});const f=this[X];he(n)||se(n);const k=he(n);(d=f[k])||(d=f[k]={emitter:n,callbacks:{}}),(h=d.callbacks[r])||(h=d.callbacks[r]=[]),h.push(i),function(b,v,A,E,I){v._addEventListener?v._addEventListener(A,E,I):b._addEventListener.call(v,A,E,I)}(this,n,r,i,l)}stopListening(n,r,i){const l=this[X];let d=n&&he(n);const h=l&&d?l[d]:void 0,f=h&&r?h.callbacks[r]:void 0;if(!(!l||n&&!h||r&&!f))if(i)Qe(this,n,r,i),f.indexOf(i)!==-1&&(f.length===1?delete h.callbacks[r]:Qe(this,n,r,i));else if(f){for(;i=f.pop();)Qe(this,n,r,i);delete h.callbacks[r]}else if(h){for(r in h.callbacks)this.stopListening(n,r);delete l[d]}else{for(d in l)this.stopListening(l[d].emitter);delete this[X]}}fire(n,...r){try{const i=n instanceof D?n:new D(this,n),l=i.name;let d=Ye(this,l);if(i.path.push(this),d){const f=[i,...r];d=Array.from(d);for(let k=0;k<d.length&&(d[k].callback.apply(this,f),i.off.called&&(delete i.off.called,this._removeEventListener(l,d[k].callback)),!i.stop.called);k++);}const h=this[ie];if(h){const f=h.get(l),k=h.get("*");f&&Pe(f,i,r),k&&Pe(k,i,r)}return i.return}catch(i){M.rethrowUnexpectedError(i,this)}}delegate(...n){return{to:(r,i)=>{this[ie]||(this[ie]=new Map),n.forEach(l=>{const d=this[ie].get(l);d?d.set(r,i):this[ie].set(l,new Map([[r,i]]))})}}}stopDelegating(n,r){if(this[ie])if(n)if(r){const i=this[ie].get(n);i&&i.delete(r)}else this[ie].delete(n);else this[ie].clear()}_addEventListener(n,r,i){(function(h,f){const k=Ie(h);if(k[f])return;let b=f,v=null;const A=[];for(;b!==""&&!k[b];)k[b]={callbacks:[],childEvents:[]},A.push(k[b]),v&&k[b].childEvents.push(v),v=b,b=b.substr(0,b.lastIndexOf(":"));if(b!==""){for(const E of A)E.callbacks=k[b].callbacks.slice();k[b].childEvents.push(v)}})(this,n);const l=Me(this,n),d={callback:r,priority:j.get(i.priority)};for(const h of l)$(h,d)}_removeEventListener(n,r){const i=Me(this,n);for(const l of i)for(let d=0;d<l.length;d++)l[d].callback==r&&(l.splice(d,1),d--)}}:ae}function se(a,n){a[oe]||(a[oe]=n||O())}function he(a){return a[oe]}function Ie(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function Me(a,n){const r=Ie(a)[n];if(!r)return[];let i=[r.callbacks];for(let l=0;l<r.childEvents.length;l++){const d=Me(a,r.childEvents[l]);i=i.concat(d)}return i}function Ye(a,n){let r;return a._events&&(r=a._events[n])&&r.callbacks.length?r.callbacks:n.indexOf(":")>-1?Ye(a,n.substr(0,n.lastIndexOf(":"))):null}function Pe(a,n,r){for(let[i,l]of a){l?typeof l=="function"&&(l=l(n.name)):l=n.name;const d=new D(n.source,l);d.path=[...n.path],i.fire(d,...r)}}function Qe(a,n,r,i){n._removeEventListener?n._removeEventListener(r,i):a._removeEventListener.call(n,r,i)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{q[a]=ae.prototype[a]});const xe=function(a){var n=typeof a;return a!=null&&(n=="object"||n=="function")},ut=Symbol("observableProperties"),lt=Symbol("boundObservables"),st=Symbol("boundProperties"),vt=Symbol("decoratedMethods"),qe=Symbol("decoratedOriginal"),Ee=Q(q());function Q(a){return a?class extends a{set(n,r){if(xe(n))return void Object.keys(n).forEach(l=>{this.set(l,n[l])},this);te(this);const i=this[ut];if(n in this&&!i.has(n))throw new M("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:()=>i.get(n),set(l){const d=i.get(n);let h=this.fire(`set:${n}`,n,l,d);h===void 0&&(h=l),d===h&&i.has(n)||(i.set(n,h),this.fire(`change:${n}`,n,h,d))}}),this[n]=r}bind(...n){if(!n.length||!De(n))throw new M("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new M("observable-bind-duplicate-properties",this);te(this);const r=this[st];n.forEach(l=>{if(r.has(l))throw new M("observable-bind-rebind",this)});const i=new Map;return n.forEach(l=>{const d={property:l,to:[]};r.set(l,d),i.set(l,d)}),{to:le,toMany:_e,_observable:this,_bindProperties:n,_to:[],_bindings:i}}unbind(...n){if(!this[ut])return;const r=this[st],i=this[lt];if(n.length){if(!De(n))throw new M("observable-unbind-wrong-properties",this);n.forEach(l=>{const d=r.get(l);d&&(d.to.forEach(([h,f])=>{const k=i.get(h),b=k[f];b.delete(d),b.size||delete k[f],Object.keys(k).length||(i.delete(h),this.stopListening(h,"change"))}),r.delete(l))})}else i.forEach((l,d)=>{this.stopListening(d,"change")}),i.clear(),r.clear()}decorate(n){te(this);const r=this[n];if(!r)throw new M("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(i,l)=>{i.return=r.apply(this,l)}),this[n]=function(...i){return this.fire(n,i)},this[n][qe]=r,this[vt]||(this[vt]=[]),this[vt].push(n)}stopListening(n,r,i){if(!n&&this[vt]){for(const l of this[vt])this[l]=this[l][qe];delete this[vt]}super.stopListening(n,r,i)}}:Ee}function te(a){a[ut]||(Object.defineProperty(a,ut,{value:new Map}),Object.defineProperty(a,lt,{value:new Map}),Object.defineProperty(a,st,{value:new Map}))}function le(...a){const n=function(...d){if(!d.length)throw new M("observable-bind-to-parse-error",null);const h={to:[]};let f;return typeof d[d.length-1]=="function"&&(h.callback=d.pop()),d.forEach(k=>{if(typeof k=="string")f.properties.push(k);else{if(typeof k!="object")throw new M("observable-bind-to-parse-error",null);f={observable:k,properties:[]},h.to.push(f)}}),h}(...a),r=Array.from(this._bindings.keys()),i=r.length;if(!n.callback&&n.to.length>1)throw new M("observable-bind-to-no-callback",this);if(i>1&&n.callback)throw new M("observable-bind-to-extra-callback",this);var l;n.to.forEach(d=>{if(d.properties.length&&d.properties.length!==i)throw new M("observable-bind-to-properties-length",this);d.properties.length||(d.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(r[0]).callback=n.callback),l=this._observable,this._to.forEach(d=>{const h=l[lt];let f;h.get(d.observable)||l.listenTo(d.observable,"change",(k,b)=>{f=h.get(d.observable)[b],f&&f.forEach(v=>{Ke(l,v.property)})})}),function(d){let h;d._bindings.forEach((f,k)=>{d._to.forEach(b=>{h=b.properties[f.callback?0:d._bindProperties.indexOf(k)],f.to.push([b.observable,h]),function(v,A,E,I){const P=v[lt],L=P.get(E),F=L||{};F[I]||(F[I]=new Set),F[I].add(A),L||P.set(E,F)}(d._observable,f,b.observable,h)})})}(this),this._bindProperties.forEach(d=>{Ke(this._observable,d)})}function _e(a,n,r){if(this._bindings.size>1)throw new M("observable-bind-to-many-not-one-binding",this);this.to(...function(i,l){const d=i.map(h=>[h,l]);return Array.prototype.concat.apply([],d)}(a,n),r)}function De(a){return a.every(n=>typeof n=="string")}function Ke(a,n){const r=a[st].get(n);let i;r.callback?i=r.callback.apply(a,r.to.map(l=>l[0][l[1]])):(i=r.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(a,n)?a[n]=i:a.set(n,i)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Q[a]=Ee.prototype[a]});class Rt{constructor(){this._replacedElements=[]}replace(n,r){this._replacedElements.push({element:n,newElement:r}),n.style.display="none",r&&n.parentNode.insertBefore(r,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:r})=>{n.style.display="",r&&r.remove()}),this._replacedElements=[]}}function nt(a){let n=0;for(const r of a)n++;return n}function Oe(a,n){const r=Math.min(a.length,n.length);for(let i=0;i<r;i++)if(a[i]!=n[i])return i;return a.length==n.length?"same":a.length<n.length?"prefix":"extension"}function et(a){return!(!a||!a[Symbol.iterator])}const Je=typeof Tm=="object"&&Tm&&Tm.Object===Object&&Tm;var Ve=typeof self=="object"&&self&&self.Object===Object&&self;const gt=Je||Ve||Function("return this")(),Ht=gt.Symbol;var Wn=Object.prototype,yt=Wn.hasOwnProperty,ze=Wn.toString,Qt=Ht?Ht.toStringTag:void 0;const Jr=function(a){var n=yt.call(a,Qt),r=a[Qt];try{a[Qt]=void 0;var i=!0}catch{}var l=ze.call(a);return i&&(n?a[Qt]=r:delete a[Qt]),l};var tr=Object.prototype.toString;const Be=function(a){return tr.call(a)};var Tt=Ht?Ht.toStringTag:void 0;const It=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Tt&&Tt in Object(a)?Jr(a):Be(a)},Zt=Array.isArray,Ln=function(a){return a!=null&&typeof a=="object"},_u=function(a){return typeof a=="string"||!Zt(a)&&Ln(a)&&It(a)=="[object String]"};function Bo(a,n,r={},i=[]){const l=r&&r.xmlns,d=l?a.createElementNS(l,n):a.createElement(n);for(const h in r)d.setAttribute(h,r[h]);!_u(i)&&et(i)||(i=[i]);for(let h of i)_u(h)&&(h=a.createTextNode(h)),d.appendChild(h);return d}const eg=function(a,n){return function(r){return a(n(r))}},Cu=eg(Object.getPrototypeOf,Object);var tg=Function.prototype,ng=Object.prototype,Au=tg.toString,og=ng.hasOwnProperty,iv=Au.call(Object);const To=function(a){if(!Ln(a)||It(a)!="[object Object]")return!1;var n=Cu(a);if(n===null)return!0;var r=og.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&Au.call(r)==iv},sv=function(){this.__data__=[],this.size=0},Qi=function(a,n){return a===n||a!=a&&n!=n},ic=function(a,n){for(var r=a.length;r--;)if(Qi(a[r][0],n))return r;return-1};var $a=Array.prototype.splice;const xu=function(a){var n=this.__data__,r=ic(n,a);return!(r<0)&&(r==n.length-1?n.pop():$a.call(n,r,1),--this.size,!0)},nr=function(a){var n=this.__data__,r=ic(n,a);return r<0?void 0:n[r][1]},Va=function(a){return ic(this.__data__,a)>-1},av=function(a,n){var r=this.__data__,i=ic(r,a);return i<0?(++this.size,r.push([a,n])):r[i][1]=n,this};function Cr(a){var n=-1,r=a==null?0:a.length;for(this.clear();++n<r;){var i=a[n];this.set(i[0],i[1])}}Cr.prototype.clear=sv,Cr.prototype.delete=xu,Cr.prototype.get=nr,Cr.prototype.has=Va,Cr.prototype.set=av;const Ls=Cr,rg=function(){this.__data__=new Ls,this.size=0},ig=function(a){var n=this.__data__,r=n.delete(a);return this.size=n.size,r},sg=function(a){return this.__data__.get(a)},ag=function(a){return this.__data__.has(a)},Zi=function(a){if(!xe(a))return!1;var n=It(a);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},Eu=gt["__core-js_shared__"];var lg=function(){var a=/[^.]+$/.exec(Eu&&Eu.keys&&Eu.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const lv=function(a){return!!lg&&lg in a};var ht=Function.prototype.toString;const Cn=function(a){if(a!=null){try{return ht.call(a)}catch{}try{return a+""}catch{}}return""};var aU=/^\[object .+?Constructor\]$/,lU=Function.prototype,cU=Object.prototype,dU=lU.toString,uU=cU.hasOwnProperty,hU=RegExp("^"+dU.call(uU).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const pU=function(a){return!(!xe(a)||lv(a))&&(Zi(a)?hU:aU).test(Cn(a))},fU=function(a,n){return a==null?void 0:a[n]},Ua=function(a,n){var r=fU(a,n);return pU(r)?r:void 0},Su=Ua(gt,"Map"),Tu=Ua(Object,"create"),gU=function(){this.__data__=Tu?Tu(null):{},this.size=0},mU=function(a){var n=this.has(a)&&delete this.__data__[a];return this.size-=n?1:0,n};var kU=Object.prototype.hasOwnProperty;const bU=function(a){var n=this.__data__;if(Tu){var r=n[a];return r==="__lodash_hash_undefined__"?void 0:r}return kU.call(n,a)?n[a]:void 0};var wU=Object.prototype.hasOwnProperty;const vU=function(a){var n=this.__data__;return Tu?n[a]!==void 0:wU.call(n,a)},yU=function(a,n){var r=this.__data__;return this.size+=this.has(a)?0:1,r[a]=Tu&&n===void 0?"__lodash_hash_undefined__":n,this};function sc(a){var n=-1,r=a==null?0:a.length;for(this.clear();++n<r;){var i=a[n];this.set(i[0],i[1])}}sc.prototype.clear=gU,sc.prototype.delete=mU,sc.prototype.get=bU,sc.prototype.has=vU,sc.prototype.set=yU;const sS=sc,_U=function(){this.size=0,this.__data__={hash:new sS,map:new(Su||Ls),string:new sS}},CU=function(a){var n=typeof a;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?a!=="__proto__":a===null},cg=function(a,n){var r=a.__data__;return CU(n)?r[typeof n=="string"?"string":"hash"]:r.map},AU=function(a){var n=cg(this,a).delete(a);return this.size-=n?1:0,n},xU=function(a){return cg(this,a).get(a)},EU=function(a){return cg(this,a).has(a)},SU=function(a,n){var r=cg(this,a),i=r.size;return r.set(a,n),this.size+=r.size==i?0:1,this};function ac(a){var n=-1,r=a==null?0:a.length;for(this.clear();++n<r;){var i=a[n];this.set(i[0],i[1])}}ac.prototype.clear=_U,ac.prototype.delete=AU,ac.prototype.get=xU,ac.prototype.has=EU,ac.prototype.set=SU;const dg=ac,TU=function(a,n){var r=this.__data__;if(r instanceof Ls){var i=r.__data__;if(!Su||i.length<199)return i.push([a,n]),this.size=++r.size,this;r=this.__data__=new dg(i)}return r.set(a,n),this.size=r.size,this};function lc(a){var n=this.__data__=new Ls(a);this.size=n.size}lc.prototype.clear=rg,lc.prototype.delete=ig,lc.prototype.get=sg,lc.prototype.has=ag,lc.prototype.set=TU;const cc=lc,IU=function(a,n){for(var r=-1,i=a==null?0:a.length;++r<i&&n(a[r],r,a)!==!1;);return a},ug=function(){try{var a=Ua(Object,"defineProperty");return a({},"",{}),a}catch{}}(),hg=function(a,n,r){n=="__proto__"&&ug?ug(a,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):a[n]=r};var DU=Object.prototype.hasOwnProperty;const cv=function(a,n,r){var i=a[n];DU.call(a,n)&&Qi(i,r)&&(r!==void 0||n in a)||hg(a,n,r)},dc=function(a,n,r,i){var l=!r;r||(r={});for(var d=-1,h=n.length;++d<h;){var f=n[d],k=void 0;k===void 0&&(k=a[f]),l?hg(r,f,k):cv(r,f,k)}return r},MU=function(a,n){for(var r=-1,i=Array(a);++r<a;)i[r]=n(r);return i},aS=function(a){return Ln(a)&&It(a)=="[object Arguments]"};var lS=Object.prototype,PU=lS.hasOwnProperty,NU=lS.propertyIsEnumerable;const pg=aS(function(){return arguments}())?aS:function(a){return Ln(a)&&PU.call(a,"callee")&&!NU.call(a,"callee")},RU=function(){return!1};var cS=e&&!e.nodeType&&e,dS=cS&&!0&&t&&!t.nodeType&&t,uS=dS&&dS.exports===cS?gt.Buffer:void 0;const Iu=(uS?uS.isBuffer:void 0)||RU;var OU=/^(?:0|[1-9]\d*)$/;const fg=function(a,n){var r=typeof a;return!!(n=n??9007199254740991)&&(r=="number"||r!="symbol"&&OU.test(a))&&a>-1&&a%1==0&&a<n},dv=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var Jt={};Jt["[object Float32Array]"]=Jt["[object Float64Array]"]=Jt["[object Int8Array]"]=Jt["[object Int16Array]"]=Jt["[object Int32Array]"]=Jt["[object Uint8Array]"]=Jt["[object Uint8ClampedArray]"]=Jt["[object Uint16Array]"]=Jt["[object Uint32Array]"]=!0,Jt["[object Arguments]"]=Jt["[object Array]"]=Jt["[object ArrayBuffer]"]=Jt["[object Boolean]"]=Jt["[object DataView]"]=Jt["[object Date]"]=Jt["[object Error]"]=Jt["[object Function]"]=Jt["[object Map]"]=Jt["[object Number]"]=Jt["[object Object]"]=Jt["[object RegExp]"]=Jt["[object Set]"]=Jt["[object String]"]=Jt["[object WeakMap]"]=!1;const BU=function(a){return Ln(a)&&dv(a.length)&&!!Jt[It(a)]},uv=function(a){return function(n){return a(n)}};var hS=e&&!e.nodeType&&e,Du=hS&&!0&&t&&!t.nodeType&&t,hv=Du&&Du.exports===hS&&Je.process;const uc=function(){try{var a=Du&&Du.require&&Du.require("util").types;return a||hv&&hv.binding&&hv.binding("util")}catch{}}();var pS=uc&&uc.isTypedArray;const pv=pS?uv(pS):BU;var LU=Object.prototype.hasOwnProperty;const fS=function(a,n){var r=Zt(a),i=!r&&pg(a),l=!r&&!i&&Iu(a),d=!r&&!i&&!l&&pv(a),h=r||i||l||d,f=h?MU(a.length,String):[],k=f.length;for(var b in a)!n&&!LU.call(a,b)||h&&(b=="length"||l&&(b=="offset"||b=="parent")||d&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||fg(b,k))||f.push(b);return f};var jU=Object.prototype;const fv=function(a){var n=a&&a.constructor;return a===(typeof n=="function"&&n.prototype||jU)},zU=eg(Object.keys,Object);var FU=Object.prototype.hasOwnProperty;const $U=function(a){if(!fv(a))return zU(a);var n=[];for(var r in Object(a))FU.call(a,r)&&r!="constructor"&&n.push(r);return n},gg=function(a){return a!=null&&dv(a.length)&&!Zi(a)},Mu=function(a){return gg(a)?fS(a):$U(a)},VU=function(a,n){return a&&dc(n,Mu(n),a)},UU=function(a){var n=[];if(a!=null)for(var r in Object(a))n.push(r);return n};var HU=Object.prototype.hasOwnProperty;const WU=function(a){if(!xe(a))return UU(a);var n=fv(a),r=[];for(var i in a)(i!="constructor"||!n&&HU.call(a,i))&&r.push(i);return r},hc=function(a){return gg(a)?fS(a,!0):WU(a)},qU=function(a,n){return a&&dc(n,hc(n),a)};var gS=e&&!e.nodeType&&e,mS=gS&&!0&&t&&!t.nodeType&&t,kS=mS&&mS.exports===gS?gt.Buffer:void 0,bS=kS?kS.allocUnsafe:void 0;const wS=function(a,n){if(n)return a.slice();var r=a.length,i=bS?bS(r):new a.constructor(r);return a.copy(i),i},vS=function(a,n){var r=-1,i=a.length;for(n||(n=Array(i));++r<i;)n[r]=a[r];return n},GU=function(a,n){for(var r=-1,i=a==null?0:a.length,l=0,d=[];++r<i;){var h=a[r];n(h,r,a)&&(d[l++]=h)}return d},yS=function(){return[]};var KU=Object.prototype.propertyIsEnumerable,_S=Object.getOwnPropertySymbols;const gv=_S?function(a){return a==null?[]:(a=Object(a),GU(_S(a),function(n){return KU.call(a,n)}))}:yS,YU=function(a,n){return dc(a,gv(a),n)},CS=function(a,n){for(var r=-1,i=n.length,l=a.length;++r<i;)a[l+r]=n[r];return a},AS=Object.getOwnPropertySymbols?function(a){for(var n=[];a;)CS(n,gv(a)),a=Cu(a);return n}:yS,QU=function(a,n){return dc(a,AS(a),n)},xS=function(a,n,r){var i=n(a);return Zt(a)?i:CS(i,r(a))},mv=function(a){return xS(a,Mu,gv)},ZU=function(a){return xS(a,hc,AS)},kv=Ua(gt,"DataView"),bv=Ua(gt,"Promise"),wv=Ua(gt,"Set"),vv=Ua(gt,"WeakMap");var ES="[object Map]",SS="[object Promise]",TS="[object Set]",IS="[object WeakMap]",DS="[object DataView]",JU=Cn(kv),XU=Cn(Su),eH=Cn(bv),tH=Cn(wv),nH=Cn(vv),Ha=It;(kv&&Ha(new kv(new ArrayBuffer(1)))!=DS||Su&&Ha(new Su)!=ES||bv&&Ha(bv.resolve())!=SS||wv&&Ha(new wv)!=TS||vv&&Ha(new vv)!=IS)&&(Ha=function(a){var n=It(a),r=n=="[object Object]"?a.constructor:void 0,i=r?Cn(r):"";if(i)switch(i){case JU:return DS;case XU:return ES;case eH:return SS;case tH:return TS;case nH:return IS}return n});const Pu=Ha;var oH=Object.prototype.hasOwnProperty;const rH=function(a){var n=a.length,r=new a.constructor(n);return n&&typeof a[0]=="string"&&oH.call(a,"index")&&(r.index=a.index,r.input=a.input),r},mg=gt.Uint8Array,yv=function(a){var n=new a.constructor(a.byteLength);return new mg(n).set(new mg(a)),n},iH=function(a,n){var r=n?yv(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.byteLength)};var sH=/\w*$/;const aH=function(a){var n=new a.constructor(a.source,sH.exec(a));return n.lastIndex=a.lastIndex,n};var MS=Ht?Ht.prototype:void 0,PS=MS?MS.valueOf:void 0;const lH=function(a){return PS?Object(PS.call(a)):{}},NS=function(a,n){var r=n?yv(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.length)},cH=function(a,n,r){var i=a.constructor;switch(n){case"[object ArrayBuffer]":return yv(a);case"[object Boolean]":case"[object Date]":return new i(+a);case"[object DataView]":return iH(a,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return NS(a,r);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(a);case"[object RegExp]":return aH(a);case"[object Symbol]":return lH(a)}};var RS=Object.create;const dH=function(){function a(){}return function(n){if(!xe(n))return{};if(RS)return RS(n);a.prototype=n;var r=new a;return a.prototype=void 0,r}}(),OS=function(a){return typeof a.constructor!="function"||fv(a)?{}:dH(Cu(a))},uH=function(a){return Ln(a)&&Pu(a)=="[object Map]"};var BS=uc&&uc.isMap;const hH=BS?uv(BS):uH,pH=function(a){return Ln(a)&&Pu(a)=="[object Set]"};var LS=uc&&uc.isSet;const fH=LS?uv(LS):pH;var jS="[object Arguments]",zS="[object Function]",FS="[object Object]",Gt={};Gt[jS]=Gt["[object Array]"]=Gt["[object ArrayBuffer]"]=Gt["[object DataView]"]=Gt["[object Boolean]"]=Gt["[object Date]"]=Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Map]"]=Gt["[object Number]"]=Gt[FS]=Gt["[object RegExp]"]=Gt["[object Set]"]=Gt["[object String]"]=Gt["[object Symbol]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt["[object Error]"]=Gt[zS]=Gt["[object WeakMap]"]=!1;const _v=function a(n,r,i,l,d,h){var f,k=1&r,b=2&r,v=4&r;if(i&&(f=d?i(n,l,d,h):i(n)),f!==void 0)return f;if(!xe(n))return n;var A=Zt(n);if(A){if(f=rH(n),!k)return vS(n,f)}else{var E=Pu(n),I=E==zS||E=="[object GeneratorFunction]";if(Iu(n))return wS(n,k);if(E==FS||E==jS||I&&!d){if(f=b||I?{}:OS(n),!k)return b?QU(n,qU(f,n)):YU(n,VU(f,n))}else{if(!Gt[E])return d?n:{};f=cH(n,E,k)}}h||(h=new cc);var P=h.get(n);if(P)return P;h.set(n,f),fH(n)?n.forEach(function(F){f.add(a(F,r,i,F,n,h))}):hH(n)&&n.forEach(function(F,W){f.set(W,a(F,r,i,W,n,h))});var L=A?void 0:(v?b?ZU:mv:b?hc:Mu)(n);return IU(L||n,function(F,W){L&&(F=n[W=F]),cv(f,W,a(F,r,i,W,n,h))}),f},Cv=function(a,n){return _v(a,5,n=typeof n=="function"?n:void 0)},Wa=function(a){return Ln(a)&&a.nodeType===1&&!To(a)};class $S{constructor(n,r){this._config={},r&&this.define(VS(r)),n&&this._setObjectToTarget(this._config,n)}set(n,r){this._setToTarget(this._config,n,r)}define(n,r){this._setToTarget(this._config,n,r,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,r,i,l=!1){if(To(r))return void this._setObjectToTarget(n,r,l);const d=r.split(".");r=d.pop();for(const h of d)To(n[h])||(n[h]={}),n=n[h];if(To(i))return To(n[r])||(n[r]={}),n=n[r],void this._setObjectToTarget(n,i,l);l&&n[r]!==void 0||(n[r]=i)}_getFromSource(n,r){const i=r.split(".");r=i.pop();for(const l of i){if(!To(n[l])){n=null;break}n=n[l]}return n?VS(n[r]):void 0}_setObjectToTarget(n,r,i){Object.keys(r).forEach(l=>{this._setToTarget(n,l,r[l],i)})}}function VS(a){return Cv(a,gH)}function gH(a){return Wa(a)||typeof a=="function"?a:void 0}function js(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function kg(a){const n=Object.prototype.toString.apply(a);return n=="[object Window]"||n=="[object global]"}const US=Ar(q());function Ar(a){return a?class extends a{listenTo(n,r,i,l={}){if(js(n)||kg(n)){const d={capture:!!l.useCapture,passive:!!l.usePassive},h=this._getProxyEmitter(n,d)||new mH(n,d);this.listenTo(h,r,i,l)}else super.listenTo(n,r,i,l)}stopListening(n,r,i){if(js(n)||kg(n)){const l=this._getAllProxyEmitters(n);for(const d of l)this.stopListening(d,r,i)}else super.stopListening(n,r,i)}_getProxyEmitter(n,r){return function(i,l){const d=i[X];return d&&d[l]?d[l].emitter:null}(this,HS(n,r))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(n,r)).filter(r=>!!r)}}:US}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Ar[a]=US.prototype[a]});class mH extends q(){constructor(n,r){super(),se(this,HS(n,r)),this._domNode=n,this._options=r}attach(n){if(this._domListeners&&this._domListeners[n])return;const r=this._createDomListener(n);this._domNode.addEventListener(n,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=r}detach(n){let r;!this._domListeners[n]||(r=this._events[n])&&r.callbacks.length||this._domListeners[n].removeListener()}_addEventListener(n,r,i){this.attach(n),q().prototype._addEventListener.call(this,n,r,i)}_removeEventListener(n,r){q().prototype._removeEventListener.call(this,n,r),this.detach(n)}_createDomListener(n){const r=i=>{this.fire(n,i)};return r.removeListener=()=>{this._domNode.removeEventListener(n,r,this._options),delete this._domListeners[n]},r}}function HS(a,n){let r=function(i){return i["data-ck-expando"]||(i["data-ck-expando"]=O())}(a);for(const i of Object.keys(n).sort())n[i]&&(r+="-"+i);return r}function WS(a){const n=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}function An(a){return Object.prototype.toString.call(a)=="[object Text]"}function bg(a){return Object.prototype.toString.apply(a)=="[object Range]"}function qS(a){return a&&a.parentNode?a.offsetParent===m.document.body?null:a.offsetParent:null}const GS=["top","right","bottom","left","width","height"];class pt{constructor(n){const r=bg(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),Av(n)||r)if(r){const i=pt.getDomRangeRects(n);wg(this,pt.getBoundingRect(i))}else wg(this,n.getBoundingClientRect());else if(kg(n)){const{innerWidth:i,innerHeight:l}=n;wg(this,{top:0,right:i,bottom:l,left:0,width:i,height:l})}else wg(this,n)}clone(){return new pt(this)}moveTo(n,r){return this.top=r,this.right=n+this.width,this.bottom=r+this.height,this.left=n,this}moveBy(n,r){return this.top+=r,this.right+=n,this.left+=n,this.bottom+=r,this}getIntersection(n){const r={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};if(r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0)return null;{const i=new pt(r);return i._source=this._source,i}}getIntersectionArea(n){const r=this.getIntersection(n);return r?r.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let r=this.clone();if(KS(n))return r;let i,l=n,d=n.parentNode||n.commonAncestorContainer;for(;d&&!KS(d);){const f=((h=d)instanceof HTMLElement?h.ownerDocument.defaultView.getComputedStyle(h).overflow:"visible")==="visible";l instanceof HTMLElement&&YS(l)==="absolute"&&(i=l);const k=YS(d);if(f||i&&(k==="relative"&&f||k!=="relative")){l=d,d=d.parentNode;continue}const b=new pt(d),v=r.getIntersection(b);if(!v)return null;v.getArea()<r.getArea()&&(r=v),l=d,d=d.parentNode}var h;return r}isEqual(n){for(const r of GS)if(this[r]!==n[r])return!1;return!0}contains(n){const r=this.getIntersection(n);return!(!r||!r.isEqual(n))}toAbsoluteRect(){const{scrollX:n,scrollY:r}=m.window,i=this.clone().moveBy(n,r);if(Av(i._source)){const l=qS(i._source);l&&function(d,h){const f=new pt(h),k=WS(h);let b=0,v=0;b-=f.left,v-=f.top,b+=h.scrollLeft,v+=h.scrollTop,b-=k.left,v-=k.top,d.moveBy(b,v)}(i,l)}return i}excludeScrollbarsAndBorders(){const n=this._source;let r,i,l;if(kg(n))r=n.innerWidth-n.document.documentElement.clientWidth,i=n.innerHeight-n.document.documentElement.clientHeight,l=n.getComputedStyle(n.document.documentElement).direction;else{const d=WS(n);r=n.offsetWidth-n.clientWidth-d.left-d.right,i=n.offsetHeight-n.clientHeight-d.top-d.bottom,l=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=d.left,this.top+=d.top,this.right-=d.right,this.bottom-=d.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,l==="ltr"?this.right-=r:this.left+=r,this.height-=i,this.bottom-=i,this}static getDomRangeRects(n){const r=[],i=Array.from(n.getClientRects());if(i.length)for(const l of i)r.push(new pt(l));else{let l=n.startContainer;An(l)&&(l=l.parentNode);const d=new pt(l.getBoundingClientRect());d.right=d.left,d.width=0,r.push(d)}return r}static getBoundingRect(n){const r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const l of n)i++,r.left=Math.min(r.left,l.left),r.top=Math.min(r.top,l.top),r.right=Math.max(r.right,l.right),r.bottom=Math.max(r.bottom,l.bottom);return i==0?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new pt(r))}}function wg(a,n){for(const r of GS)a[r]=n[r]}function KS(a){return!!Av(a)&&a===a.ownerDocument.body}function Av(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}function YS(a){return a instanceof HTMLElement?a.ownerDocument.defaultView.getComputedStyle(a).position:"static"}const xn=class{constructor(a,n){xn._observerInstance||xn._createObserver(),this._element=a,this._callback=n,xn._addElementCallback(a,n),xn._observerInstance.observe(a)}get element(){return this._element}destroy(){xn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(a,n){xn._elementCallbacks||(xn._elementCallbacks=new Map);let r=xn._elementCallbacks.get(a);r||(r=new Set,xn._elementCallbacks.set(a,r)),r.add(n)}static _deleteElementCallback(a,n){const r=xn._getElementCallbacks(a);r&&(r.delete(n),r.size||(xn._elementCallbacks.delete(a),xn._observerInstance.unobserve(a))),xn._elementCallbacks&&!xn._elementCallbacks.size&&(xn._observerInstance=null,xn._elementCallbacks=null)}static _getElementCallbacks(a){return xn._elementCallbacks?xn._elementCallbacks.get(a):null}static _createObserver(){xn._observerInstance=new m.window.ResizeObserver(a=>{for(const n of a){const r=xn._getElementCallbacks(n.target);if(r)for(const i of r)i(n)}})}};let Nu=xn;function QS(a,n){a instanceof HTMLTextAreaElement&&(a.value=n),a.innerHTML=n}function pc(a){return n=>n+a}function Ru(a){let n=0;for(;a.previousSibling;)a=a.previousSibling,n++;return n}function ZS(a,n,r){a.insertBefore(r,a.childNodes[n]||null)}function Ou(a){return a&&a.nodeType===Node.COMMENT_NODE}function qa(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}Nu._observerInstance=null,Nu._elementCallbacks=null;var JS=Math.pow;function vg({element:a,target:n,positions:r,limiter:i,fitInViewport:l,viewportOffsetConfig:d}){Zi(n)&&(n=n()),Zi(i)&&(i=i());const h=qS(a),f=function(E){E=Object.assign({top:0,bottom:0,left:0,right:0},E);const I=new pt(m.window);return I.top+=E.top,I.height-=E.top,I.bottom-=E.bottom,I.height-=E.bottom,I}(d),k=new pt(a),b=XS(n,f);let v;if(!b||!f.getIntersection(b))return null;const A={targetRect:b,elementRect:k,positionedElementAncestor:h,viewportRect:f};if(i||l){if(i){const E=XS(i,f);E&&(A.limiterRect=E)}v=function(E,I){const{elementRect:P}=I,L=P.getArea(),F=E.map(ee=>new eT(ee,I)).filter(ee=>!!ee.name);let W=0,K=null;for(const ee of F){const{limiterIntersectionArea:ce,viewportIntersectionArea:ve}=ee;if(ce===L)return ee;const Fe=JS(ve,2)+JS(ce,2);Fe>W&&(W=Fe,K=ee)}return K}(r,A)}else v=new eT(r[0],A);return v}function XS(a,n){const r=new pt(a).getVisible();return r?r.getIntersection(n):null}class eT{constructor(n,r){const i=n(r.targetRect,r.elementRect,r.viewportRect,r.limiterRect);if(!i)return;const{left:l,top:d,name:h,config:f}=i;this.name=h,this.config=f,this._positioningFunctionCoordinates={left:l,top:d},this._options=r}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;return n?n.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function tT(a){const n=a.parentNode;n&&n.removeChild(a)}function kH({window:a,rect:n,alignToTop:r,forceScroll:i,viewportOffset:l}){const d=n.clone().moveBy(0,l.bottom),h=n.clone().moveBy(0,-l.top),f=new pt(a).excludeScrollbarsAndBorders(),k=r&&i,b=[h,d].every(P=>f.contains(P));let{scrollX:v,scrollY:A}=a;const E=v,I=A;k?A-=f.top-n.top+l.top:b||(oT(h,f)?A-=f.top-n.top+l.top:nT(d,f)&&(A+=r?n.top-f.top-l.top:n.bottom-f.bottom+l.bottom)),b||(rT(n,f)?v-=f.left-n.left+l.left:iT(n,f)&&(v+=n.right-f.right+l.right)),v==E&&A===I||a.scrollTo(v,A)}function bH({parent:a,getRect:n,alignToTop:r,forceScroll:i,ancestorOffset:l=0,limiterElement:d}){const h=xv(a),f=r&&i;let k,b,v;const A=d||h.document.body;for(;a!=A;)b=n(),k=new pt(a).excludeScrollbarsAndBorders(),v=k.contains(b),f?a.scrollTop-=k.top-b.top+l:v||(oT(b,k)?a.scrollTop-=k.top-b.top+l:nT(b,k)&&(a.scrollTop+=r?b.top-k.top-l:b.bottom-k.bottom+l)),v||(rT(b,k)?a.scrollLeft-=k.left-b.left+l:iT(b,k)&&(a.scrollLeft+=b.right-k.right+l)),a=a.parentNode}function nT(a,n){return a.bottom>n.bottom}function oT(a,n){return a.top<n.top}function rT(a,n){return a.left<n.left}function iT(a,n){return a.right>n.right}function xv(a){return bg(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function wH(a){if(bg(a)){let n=a.commonAncestorContainer;return An(n)&&(n=n.parentNode),n}return a.parentNode}function sT(a,n){const r=xv(a),i=new pt(a);if(r===n)return i;{let l=r;for(;l!=n;){const d=l.frameElement,h=new pt(d).excludeScrollbarsAndBorders();i.moveBy(h.left,h.top),l=l.parent}}return i}const vH={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},yH={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},aT={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},kt=function(){const a={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++)a[String.fromCharCode(n).toLowerCase()]=n;for(let n=48;n<=57;n++)a[n-48]=n;for(let n=112;n<=123;n++)a["f"+(n-111)]=n;return Object.assign(a,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),a}(),_H=Object.fromEntries(Object.entries(kt).map(([a,n])=>{let r;return r=n in aT?aT[n]:a.charAt(0).toUpperCase()+a.slice(1),[n,r]}));function fc(a){let n;if(typeof a=="string"){if(n=kt[a.toLowerCase()],!n)throw new M("keyboard-unknown-key",null,{key:a})}else n=a.keyCode+(a.altKey?kt.alt:0)+(a.ctrlKey?kt.ctrl:0)+(a.shiftKey?kt.shift:0)+(a.metaKey?kt.cmd:0);return n}function Bu(a){return typeof a=="string"&&(a=function(n){return n.split("+").map(r=>r.trim())}(a)),a.map(n=>typeof n=="string"?function(r){if(r.endsWith("!"))return fc(r.slice(0,-1));const i=fc(r);return(_.isMac||_.isiOS)&&i==kt.ctrl?kt.cmd:i}(n):n).reduce((n,r)=>r+n,0)}function yg(a){let n=Bu(a);return Object.entries(_.isMac||_.isiOS?vH:yH).reduce((r,[i,l])=>(n&kt[i]&&(n&=~kt[i],r+=l),r),"")+(n?_H[n]:"")}function Ev(a,n){const r=n==="ltr";switch(a){case kt.arrowleft:return r?"left":"right";case kt.arrowright:return r?"right":"left";case kt.arrowup:return"up";case kt.arrowdown:return"down"}}function Wt(a){return Array.isArray(a)?a:[a]}const Sv=function(a,n,r){(r!==void 0&&!Qi(a[n],r)||r===void 0&&!(n in a))&&hg(a,n,r)},lT=function(a){return function(n,r,i){for(var l=-1,d=Object(n),h=i(n),f=h.length;f--;){var k=h[++l];if(r(d[k],k,d)===!1)break}return n}}(),CH=function(a){return Ln(a)&&gg(a)},cT=function(a,n){if((n!=="constructor"||typeof a[n]!="function")&&n!="__proto__")return a[n]},AH=function(a){return dc(a,hc(a))},xH=function(a,n,r,i,l,d,h){var f=cT(a,r),k=cT(n,r),b=h.get(k);if(b)Sv(a,r,b);else{var v=void 0,A=v===void 0;if(A){var E=Zt(k),I=!E&&Iu(k),P=!E&&!I&&pv(k);v=k,E||I||P?Zt(f)?v=f:CH(f)?v=vS(f):I?(A=!1,v=wS(k,!0)):P?(A=!1,v=NS(k,!0)):v=[]:To(k)||pg(k)?(v=f,pg(f)?v=AH(f):xe(f)&&!Zi(f)||(v=OS(k))):A=!1}A&&(h.set(k,v),l(v,k,i,d,h),h.delete(k)),Sv(a,r,v)}},EH=function a(n,r,i,l,d){n!==r&&lT(r,function(h,f){if(d||(d=new cc),xe(h))xH(n,r,f,i,a,l,d);else{var k=void 0;k===void 0&&(k=h),Sv(n,f,k)}},hc)},zs=function(a){return a},SH=function(a,n,r){switch(r.length){case 0:return a.call(n);case 1:return a.call(n,r[0]);case 2:return a.call(n,r[0],r[1]);case 3:return a.call(n,r[0],r[1],r[2])}return a.apply(n,r)};var dT=Math.max;const TH=function(a,n,r){return n=dT(n===void 0?a.length-1:n,0),function(){for(var i=arguments,l=-1,d=dT(i.length-n,0),h=Array(d);++l<d;)h[l]=i[n+l];l=-1;for(var f=Array(n+1);++l<n;)f[l]=i[l];return f[n]=r(h),SH(a,this,f)}},IH=function(a){return function(){return a}},DH=ug?function(a,n){return ug(a,"toString",{configurable:!0,enumerable:!1,value:IH(n),writable:!0})}:zs;var MH=Date.now;const PH=function(a){var n=0,r=0;return function(){var i=MH(),l=16-(i-r);if(r=i,l>0){if(++n>=800)return arguments[0]}else n=0;return a.apply(void 0,arguments)}}(DH),NH=function(a,n){return PH(TH(a,n,zs),a+"")},RH=function(a,n,r){if(!xe(r))return!1;var i=typeof n;return!!(i=="number"?gg(r)&&fg(n,r.length):i=="string"&&n in r)&&Qi(r[n],a)},uT=function(a){return NH(function(n,r){var i=-1,l=r.length,d=l>1?r[l-1]:void 0,h=l>2?r[2]:void 0;for(d=a.length>3&&typeof d=="function"?(l--,d):void 0,h&&RH(r[0],r[1],h)&&(d=l<3?void 0:d,l=1),n=Object(n);++i<l;){var f=r[i];f&&a(n,f,i,d)}return n})},Tv=uT(function(a,n,r){EH(a,n,r)});function OH(a,n,r=1,i){if(typeof r!="number")throw new M("translation-service-quantity-not-a-number",null,{quantity:r});const l=i||m.window.CKEDITOR_TRANSLATIONS,d=function(v){return Object.keys(v).length}(l);d===1&&(a=Object.keys(l)[0]);const h=n.id||n.string;if(d===0||!function(v,A,E){return!!E[v]&&!!E[v].dictionary[A]}(a,h,l))return r!==1?n.plural:n.string;const f=l[a].dictionary,k=l[a].getPluralForm||(v=>v===1?0:1),b=f[h];return typeof b=="string"?b:b[Number(k(r))]}m.window.CKEDITOR_TRANSLATIONS||(m.window.CKEDITOR_TRANSLATIONS={});const BH=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function hT(a){return BH.includes(a)?"rtl":"ltr"}class LH{constructor({uiLanguage:n="en",contentLanguage:r,translations:i}={}){this.uiLanguage=n,this.contentLanguage=r||this.uiLanguage,this.uiLanguageDirection=hT(this.uiLanguage),this.contentLanguageDirection=hT(this.contentLanguage),this.translations=function(l){return Array.isArray(l)?l.reduce((d,h)=>Tv(d,h)):l}(i),this.t=(l,d)=>this._t(l,d)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,r=[]){r=Wt(r),typeof n=="string"&&(n={string:n});const i=n.plural?r[0]:1;return function(l,d){return l.replace(/%(\d+)/g,(h,f)=>f<d.length?d[f]:h)}(OH(this.uiLanguage,n,i,this.translations),r)}}class Xr extends q(){constructor(n={},r={}){super();const i=et(n);if(i||(r=n),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const l of n)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,r){return this.addMany([n],r)}addMany(n,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new M("collection-add-item-invalid-index",this);let i=0;for(const l of n){const d=this._getItemIdBeforeAdding(l),h=r+i;this._items.splice(h,0,l),this._itemMap.set(d,l),this.fire("add",l,h),i++}return this.fire("change",{added:n,removed:[],index:r}),this}get(n){let r;if(typeof n=="string")r=this._itemMap.get(n);else{if(typeof n!="number")throw new M("collection-get-invalid-arg",this);r=this._items[n]}return r||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const r=n[this._idProperty];return r&&this._itemMap.has(r)}}getIndex(n){let r;return r=typeof n=="string"?this._itemMap.get(n):n,r?this._items.indexOf(r):-1}remove(n){const[r,i]=this._remove(n);return this.fire("change",{added:[],removed:[r],index:i}),r}map(n,r){return this._items.map(n,r)}forEach(n,r){this._items.forEach(n,r)}find(n,r){return this._items.find(n,r)}filter(n,r){return this._items.filter(n,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new M("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:r=>{this._setUpBindToBinding(i=>new r(i))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(i=>i[r])}}}_setUpBindToBinding(n){const r=this._bindToCollection,i=(l,d,h)=>{const f=r._bindToCollection==this,k=r._bindToInternalToExternalMap.get(d);if(f&&k)this._bindToExternalToInternalMap.set(d,k),this._bindToInternalToExternalMap.set(k,d);else{const b=n(d);if(!b)return void this._skippedIndexesFromExternal.push(h);let v=h;for(const A of this._skippedIndexesFromExternal)h>A&&v--;for(const A of r._skippedIndexesFromExternal)v>=A&&v++;this._bindToExternalToInternalMap.set(d,b),this._bindToInternalToExternalMap.set(b,d),this.add(b,v);for(let A=0;A<r._skippedIndexesFromExternal.length;A++)v<=r._skippedIndexesFromExternal[A]&&r._skippedIndexesFromExternal[A]++}};for(const l of r)i(0,l,r.getIndex(l));this.listenTo(r,"add",i),this.listenTo(r,"remove",(l,d,h)=>{const f=this._bindToExternalToInternalMap.get(d);f&&this.remove(f),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((k,b)=>(h<b&&k.push(b-1),h>b&&k.push(b),k),[])})}_getItemIdBeforeAdding(n){const r=this._idProperty;let i;if(r in n){if(i=n[r],typeof i!="string")throw new M("collection-add-invalid-id",this);if(this.get(i))throw new M("collection-add-item-already-exists",this)}else n[r]=i=O();return i}_remove(n){let r,i,l,d=!1;const h=this._idProperty;if(typeof n=="string"?(i=n,l=this._itemMap.get(i),d=!l,l&&(r=this._items.indexOf(l))):typeof n=="number"?(r=n,l=this._items[r],d=!l,l&&(i=l[h])):(l=n,i=l[h],r=this._items.indexOf(l),d=r==-1||!this._itemMap.get(i)),d)throw new M("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(i);const f=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(f),this.fire("remove",l,r),[l,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function qn(a){const n=a.next();return n.done?null:n.value}class Gn extends Ar(Q()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new M("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Io{constructor(){this._listener=new(Ar())}listenTo(n){this._listener.listenTo(n,"keydown",(r,i)=>{this._listener.fire("_keydown:"+fc(i),i)})}set(n,r,i={}){const l=Bu(n),d=i.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(h,f)=>{r(f,()=>{f.preventDefault(),f.stopPropagation(),h.stop()}),h.return=!0},{priority:d})}press(n){return!!this._listener.fire("_keydown:"+fc(n),n)}stopListening(n){this._listener.stopListening(n)}destroy(){this.stopListening()}}function wi(a){return et(a)?new Map(a):function(n){const r=new Map;for(const i in n)r.set(i,n[i]);return r}(a)}function Iv(a,n){let r;function i(...l){i.cancel(),r=setTimeout(()=>a(...l),n)}return i.cancel=()=>{clearTimeout(r)},i}function Dv(a,n){return!!(r=a.charAt(n-1))&&r.length==1&&/[\ud800-\udbff]/.test(r)&&function(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}(a.charAt(n));var r}function Mv(a,n){return!!(r=a.charAt(n))&&r.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r);var r}const jH=function(){const a=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],n=new RegExp("\\p{Regional_Indicator}{2}","u").source,r="(?:"+a.map(i=>i.source).join("|")+")";return new RegExp(`${n}|${r}(?:‍${r})*`,"ug")}();function pT(a,n){const r=String(a).matchAll(jH);return Array.from(r).some(i=>i.index<n&&n<i.index+i[0].length)}class xr extends Xr{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(r,i,l)=>{this._renderViewIntoCollectionParent(i,l)}),this.on("remove",(r,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...n){if(!n.length||!n.every(r=>typeof r=="string"))throw new M("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const i of this)for(const l of n)i.delegate(l).to(r);this.on("add",(i,l)=>{for(const d of n)l.delegate(d).to(r)}),this.on("remove",(i,l)=>{for(const d of n)l.stopDelegating(d,r)})}}}_renderViewIntoCollectionParent(n,r){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[r])}remove(n){return super.remove(n)}}class ei extends q(){constructor(n){super(),Object.assign(this,kT(mT(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new M("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){yield*function*n(r){if(r.children)for(const i of r.children)Cg(i)?yield i:Pv(i)&&(yield*n(i))}(this)}static bind(n,r){return{to:(i,l)=>new zH({eventNameOrFunction:i,attribute:i,observable:n,emitter:r,callback:l}),if:(i,l,d)=>new fT({observable:n,emitter:r,attribute:i,valueIfTrue:l,callback:d})}}static extend(n,r){if(n._isRendered)throw new M("template-extend-render",[this,n]);yT(n,kT(mT(r)))}_renderNode(n){let r;if(r=n.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new M("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let r=n.node;return r||(r=n.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),r}_renderText(n){let r=n.node;return r?n.revertData.text=r.textContent:r=n.node=document.createTextNode(""),_g(this.text)?this._bindToObservable({schema:this.text,updater:FH(r),data:n}):r.textContent=this.text.join(""),r}_renderAttributes(n){if(!this.attributes)return;const r=n.node,i=n.revertData;for(const l in this.attributes){const d=r.getAttribute(l),h=this.attributes[l];i&&(i.attributes[l]=d);const f=_T(h)?h[0].ns:null;if(_g(h)){const k=_T(h)?h[0].value:h;i&&CT(l)&&k.unshift(d),this._bindToObservable({schema:k,updater:$H(r,l,f),data:n})}else if(l=="style"&&typeof h[0]!="string")this._renderStyleAttribute(h[0],n);else{i&&d&&CT(l)&&h.unshift(d);const k=h.map(b=>b&&b.value||b).reduce((b,v)=>b.concat(v),[]).reduce(wT,"");gc(k)||r.setAttributeNS(f,l,k)}}}_renderStyleAttribute(n,r){const i=r.node;for(const l in n){const d=n[l];_g(d)?this._bindToObservable({schema:[d],updater:VH(i,l),data:r}):i.style[l]=d}}_renderElementChildren(n){const r=n.node,i=n.intoFragment?document.createDocumentFragment():r,l=n.isApplying;let d=0;for(const h of this.children)if(Nv(h)){if(!l){h.setParent(r);for(const f of h)i.appendChild(f.element)}}else if(Cg(h))l||(h.isRendered||h.render(),i.appendChild(h.element));else if(js(h))i.appendChild(h);else if(l){const f={children:[],bindings:[],attributes:{}};n.revertData.children.push(f),h._renderNode({intoFragment:!1,node:i.childNodes[d++],isApplying:!0,revertData:f})}else i.appendChild(h.render());n.intoFragment&&r.appendChild(i)}_setUpListeners(n){if(this.eventListeners)for(const r in this.eventListeners){const i=this.eventListeners[r].map(l=>{const[d,h]=r.split("@");return l.activateDomEventListener(d,h,n)});n.revertData&&n.revertData.bindings.push(i)}}_bindToObservable({schema:n,updater:r,data:i}){const l=i.revertData;gT(n,r,i);const d=n.filter(h=>!gc(h)).filter(h=>h.observable).map(h=>h.activateAttributeListener(n,r,i));l&&l.bindings.push(d)}_revertTemplateFromNode(n,r){for(const l of r.bindings)for(const d of l)d();if(r.text)return void(n.textContent=r.text);const i=n;for(const l in r.attributes){const d=r.attributes[l];d===null?i.removeAttribute(l):i.setAttribute(l,d)}for(let l=0;l<r.children.length;++l)this._revertTemplateFromNode(i.childNodes[l],r.children[l])}}class Lu{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const r=this.observable[this.attribute];return this.callback?this.callback(r,n):r}activateAttributeListener(n,r,i){const l=()=>gT(n,r,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class zH extends Lu{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,r,i){const l=(d,h)=>{r&&!h.target.matches(r)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(h):this.observable.fire(this.eventNameOrFunction,h))};return this.emitter.listenTo(i.node,n,l),()=>{this.emitter.stopListening(i.node,n,l)}}}class fT extends Lu{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){return!gc(super.getValue(n))&&(this.valueIfTrue||!0)}}function _g(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(_g):a instanceof Lu)}function gT(a,n,{node:r}){const i=function(d,h){return d.map(f=>f instanceof Lu?f.getValue(h):f)}(a,r);let l;l=a.length==1&&a[0]instanceof fT?i[0]:i.reduce(wT,""),gc(l)?n.remove():n.set(l)}function FH(a){return{set(n){a.textContent=n},remove(){a.textContent=""}}}function $H(a,n,r){return{set(i){a.setAttributeNS(r,n,i)},remove(){a.removeAttributeNS(r,n)}}}function VH(a,n){return{set(r){a.style[n]=r},remove(){a.style[n]=null}}}function mT(a){return Cv(a,n=>{if(n&&(n instanceof Lu||Pv(n)||Cg(n)||Nv(n)))return n})}function kT(a){if(typeof a=="string"?a=function(n){return{text:[n]}}(a):a.text&&function(n){n.text=Wt(n.text)}(a),a.on&&(a.eventListeners=function(n){for(const r in n)bT(n,r);return n}(a.on),delete a.on),!a.text){a.attributes&&function(r){for(const i in r)r[i].value&&(r[i].value=Wt(r[i].value)),bT(r,i)}(a.attributes);const n=[];if(a.children)if(Nv(a.children))n.push(a.children);else for(const r of a.children)Pv(r)||Cg(r)||js(r)?n.push(r):n.push(new ei(r));a.children=n}return a}function bT(a,n){a[n]=Wt(a[n])}function wT(a,n){return gc(n)?a:gc(a)?n:`${a} ${n}`}function vT(a,n){for(const r in n)a[r]?a[r].push(...n[r]):a[r]=n[r]}function yT(a,n){if(n.attributes&&(a.attributes||(a.attributes={}),vT(a.attributes,n.attributes)),n.eventListeners&&(a.eventListeners||(a.eventListeners={}),vT(a.eventListeners,n.eventListeners)),n.text&&a.text.push(...n.text),n.children&&n.children.length){if(a.children.length!=n.children.length)throw new M("ui-template-extend-children-mismatch",a);let r=0;for(const i of n.children)yT(a.children[r++],i)}}function gc(a){return!a&&a!==0}function Cg(a){return a instanceof Le}function Pv(a){return a instanceof ei}function Nv(a){return a instanceof xr}function _T(a){return xe(a[0])&&a[0].ns}function CT(a){return a=="class"||a=="style"}var UH=c(2591),be=c.n(UH),AT=c(7676),HH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(AT.A,HH),AT.A.locals;class Le extends Ar(Q()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new Xr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,i)=>{i.locale=n,i.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ei.bind(this,this)}createCollection(n){const r=new xr(n);return this._viewCollections.add(r),r}registerChild(n){et(n)||(n=[n]);for(const r of n)this._unboundChildren.add(r)}deregisterChild(n){et(n)||(n=[n]);for(const r of n)this._unboundChildren.remove(r)}setTemplate(n){this.template=new ei(n)}extendTemplate(n){ei.extend(this.template,n)}render(){if(this.isRendered)throw new M("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Ag({emitter:a,activator:n,callback:r,contextElements:i}){a.listenTo(document,"mousedown",(l,d)=>{if(!n())return;const h=typeof d.composedPath=="function"?d.composedPath():[],f=typeof i=="function"?i():i;for(const k of f)if(k.contains(d.target)||h.includes(k))return;r()})}function Rv(a){return class extends a{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function xg({view:a}){a.listenTo(a.element,"submit",(n,r)=>{r.preventDefault(),a.fire("submit")},{useCapture:!0})}function WH({keystrokeHandler:a,focusTracker:n,gridItems:r,numberOfColumns:i,uiLanguageDirection:l}){const d=typeof i=="number"?()=>i:i;function h(b){return v=>{const A=r.find(P=>P.element===n.focusedElement),E=r.getIndex(A),I=b(E,r);r.get(I).focus(),v.stopPropagation(),v.preventDefault()}}function f(b,v){return b===v-1?0:b+1}function k(b,v){return b===0?v-1:b-1}a.set("arrowright",h((b,v)=>l==="rtl"?k(b,v.length):f(b,v.length))),a.set("arrowleft",h((b,v)=>l==="rtl"?f(b,v.length):k(b,v.length))),a.set("arrowup",h((b,v)=>{let A=b-d();return A<0&&(A=b+d()*Math.floor(v.length/d()),A>v.length-1&&(A-=d())),A})),a.set("arrowdown",h((b,v)=>{let A=b+d();return A>v.length-1&&(A=b%d()),A}))}class pe extends Q(){constructor(n){super(),this._disableStack=new Set,this.editor=n,this.set("isEnabled",!0)}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",xT,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",xT),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function xT(a){a.return=!1,a.stop()}class ct extends Q(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(n,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",r=>{if(!this.affectsData)return;const i=n.model.document.selection,l=i.getFirstPosition().root.rootName!="$graveyard"&&n.model.canEditAt(i);(n.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(r.return=!1,r.stop())},{priority:"highest"}),this.on("execute",r=>{this.isEnabled||r.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",ET,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",ET),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function ET(a){a.return=!1,a.stop()}class ST extends ct{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const r=this._getFirstEnabledCommand();return!!r&&r.execute(n)}registerChildCommand(n,r={}){$(this._childCommandsDefinitions,{command:n,priority:r.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:r})=>r.isEnabled);return n&&n.command}}class TT extends q(){constructor(n,r=[],i=[]){super(),this._plugins=new Map,this._context=n,this._availablePlugins=new Map;for(const l of r)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,d]of i)this._contextPlugins.set(l,d),this._contextPlugins.set(d,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const r=this._plugins.get(n);if(!r){let i=n;throw typeof n=="function"&&(i=n.pluginName||n.name),new M("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return r}has(n){return this._plugins.has(n)}init(n,r=[],i=[]){const l=this,d=this._context;(function P(L,F=new Set){L.forEach(W=>{k(W)&&(F.has(W)||(F.add(W),W.pluginName&&!l._availablePlugins.has(W.pluginName)&&l._availablePlugins.set(W.pluginName,W),W.requires&&P(W.requires,F)))})})(n),E(n);const h=[...function P(L,F=new Set){return L.map(W=>k(W)?W:l._availablePlugins.get(W)).reduce((W,K)=>F.has(K)?W:(F.add(K),K.requires&&(E(K.requires,K),P(K.requires,F).forEach(ee=>W.add(ee))),W.add(K)),new Set)}(n.filter(P=>!v(P,r)))];(function(P,L){for(const F of L){if(typeof F!="function")throw new M("plugincollection-replace-plugin-invalid-type",null,{pluginItem:F});const W=F.pluginName;if(!W)throw new M("plugincollection-replace-plugin-missing-name",null,{pluginItem:F});if(F.requires&&F.requires.length)throw new M("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:W});const K=l._availablePlugins.get(W);if(!K)throw new M("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:W});const ee=P.indexOf(K);if(ee===-1){if(l._contextPlugins.has(K))return;throw new M("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:W})}if(K.requires&&K.requires.length)throw new M("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:W});P.splice(ee,1,F),l._availablePlugins.set(W,F)}})(h,i);const f=h.map(P=>{let L=l._contextPlugins.get(P);return L=L||new P(d),l._add(P,L),L});return I(f,"init").then(()=>I(f,"afterInit")).then(()=>f);function k(P){return typeof P=="function"}function b(P){return k(P)&&!!P.isContextPlugin}function v(P,L){return L.some(F=>F===P||A(P)===F||A(F)===P)}function A(P){return k(P)?P.pluginName||P.name:P}function E(P,L=null){P.map(F=>k(F)?F:l._availablePlugins.get(F)||F).forEach(F=>{(function(W,K){if(!k(W))throw K?new M("plugincollection-soft-required",d,{missingPlugin:W,requiredBy:A(K)}):new M("plugincollection-plugin-not-found",d,{plugin:W})})(F,L),function(W,K){if(b(K)&&!b(W))throw new M("plugincollection-context-required",d,{plugin:A(W),requiredBy:A(K)})}(F,L),function(W,K){if(K&&v(W,r))throw new M("plugincollection-required",d,{plugin:A(W),requiredBy:A(K)})}(F,L)})}function I(P,L){return P.reduce((F,W)=>W[L]?l._contextPlugins.has(W)?F:F.then(W[L].bind(W)):F,Promise.resolve())}}destroy(){const n=[];for(const[,r]of this)typeof r.destroy!="function"||this._contextPlugins.has(r)||n.push(r.destroy());return Promise.all(n)}_add(n,r){this._plugins.set(n,r);const i=n.pluginName;if(i){if(this._plugins.has(i))throw new M("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:n});this._plugins.set(i,r)}}}var IT=Object.getOwnPropertySymbols,qH=Object.prototype.hasOwnProperty,GH=Object.prototype.propertyIsEnumerable;class DT{constructor(n){this._contextOwner=null;const r=n||{},{translations:i}=r,l=((f,k)=>{var b={};for(var v in f)qH.call(f,v)&&k.indexOf(v)<0&&(b[v]=f[v]);if(f!=null&&IT)for(var v of IT(f))k.indexOf(v)<0&&GH.call(f,v)&&(b[v]=f[v]);return b})(r,["translations"]);this.config=new $S(l,this.constructor.defaultConfig);const d=this.constructor.builtinPlugins;this.config.define("plugins",d),this.plugins=new TT(this,d);const h=this.config.get("language")||{};this.locale=new LH({uiLanguage:typeof h=="string"?h:h.ui,contentLanguage:this.config.get("language.content"),translations:i}),this.t=this.locale.t,this.editors=new Xr}initPlugins(){const n=this.config.get("plugins")||[],r=this.config.get("substitutePlugins")||[];for(const i of n.concat(r)){if(typeof i!="function")throw new M("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new M("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(n,[],r)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,r){if(this._contextOwner)throw new M("context-addeditor-private-context");this.editors.add(n),r&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const r of this.config.names())["plugins","removePlugins","extraPlugins"].includes(r)||(n[r]=this.config.get(r));return n}static create(n){return new Promise(r=>{const i=new this(n);r(i.initPlugins().then(()=>i))})}}class Eg extends Q(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class KH extends Io{constructor(n){super(),this.editor=n}set(n,r,i={}){if(typeof r=="string"){const l=r;r=(d,h)=>{this.editor.execute(l),h()}}super.set(n,r,i)}}var MT=c(4098),YH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(MT.A,YH),MT.A.locals;const Sg=new WeakMap;let PT=!1;function NT({view:a,element:n,text:r,isDirectHost:i=!0,keepOnFocus:l=!1}){const d=a.document;function h(f){Sg.get(d).set(n,{text:f,isDirectHost:i,keepOnFocus:l,hostElement:i?n:null}),a.change(k=>Ov(d,k))}Sg.has(d)||(Sg.set(d,new Map),d.registerPostFixer(f=>Ov(d,f)),d.on("change:isComposing",()=>{a.change(f=>Ov(d,f))},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",(f,k,b)=>{h(b)}),n.placeholder?h(n.placeholder):r&&h(r),r&&function(){PT||U("enableplaceholder-deprecated-text-option"),PT=!0}()}function QH(a,n){return!n.hasClass("ck-placeholder")&&(a.addClass("ck-placeholder",n),!0)}function ZH(a,n){return!!n.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",n),!0)}function JH(a,n){if(!a.isAttached()||Array.from(a.getChildren()).some(l=>!l.is("uiElement")))return!1;const r=a.document,i=r.selection.anchor;return(!r.isComposing||!i||i.parent!==a)&&(!!n||!r.isFocused||!!i&&i.parent!==a)}function Ov(a,n){const r=Sg.get(a),i=[];let l=!1;for(const[d,h]of r)h.isDirectHost&&(i.push(d),RT(n,d,h)&&(l=!0));for(const[d,h]of r){if(h.isDirectHost)continue;const f=XH(d);f&&(i.includes(f)||(h.hostElement=f,RT(n,d,h)&&(l=!0)))}return l}function RT(a,n,r){const{text:i,isDirectHost:l,hostElement:d}=r;let h=!1;return d.getAttribute("data-placeholder")!==i&&(a.setAttribute("data-placeholder",i,d),h=!0),(l||n.childCount==1)&&JH(d,r.keepOnFocus)?QH(a,d)&&(h=!0):ZH(a,d)&&(h=!0),h}function XH(a){if(a.childCount){const n=a.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class Ga{is(){throw new Error("is() method is abstract")}}const OT=function(a){return _v(a,4)};class Ka extends q(Ga){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new M("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.index),r=r.parent;return n}getAncestors(n={}){const r=[];let i=n.includeSelf?this:this.parent;for(;i;)r[n.parentFirst?"push":"unshift"](i),i=i.parent;return r}getCommonAncestor(n,r={}){const i=this.getAncestors(r),l=n.getAncestors(r);let d=0;for(;i[d]==l[d]&&i[d];)d++;return d===0?null:i[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),i=n.getPath(),l=Oe(r,i);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<i[l]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,r){this.fire(`change:${n}`,r),this.parent&&this.parent._fireChange(n,r)}toJSON(){const n=OT(this);return delete n.parent,n}}Ka.prototype.is=function(a){return a==="node"||a==="view:node"};class $t extends Ka{constructor(n,r){super(n),this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof $t&&(this===n||this.data===n.data)}_clone(){return new $t(this.document,this.data)}}$t.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class vi extends Ga{constructor(n,r,i){if(super(),this.textNode=n,r<0||r>n.data.length)throw new M("view-textproxy-wrong-offsetintext",this);if(i<0||r+i>n.data.length)throw new M("view-textproxy-wrong-length",this);this.data=n.data.substring(r,r+i),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const r=[];let i=n.includeSelf?this.textNode:this.parent;for(;i!==null;)r[n.parentFirst?"push":"unshift"](i),i=i.parent;return r}}vi.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class yi{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let r of n)(typeof r=="string"||r instanceof RegExp)&&(r={name:r}),this._patterns.push(r)}match(...n){for(const r of n)for(const i of this._patterns){const l=BT(r,i);if(l)return{element:r,pattern:i,match:l}}return null}matchAll(...n){const r=[];for(const i of n)for(const l of this._patterns){const d=BT(i,l);d&&r.push({element:i,pattern:l,match:d})}return r.length>0?r:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],r=n.name;return typeof n=="function"||!r||r instanceof RegExp?null:r}}function BT(a,n){if(typeof n=="function")return n(a);const r={};return n.name&&(r.name=function(i,l){return i instanceof RegExp?!!l.match(i):i===l}(n.name,a.name),!r.name)||n.attributes&&(r.attributes=function(i,l){const d=new Set(l.getAttributeKeys());return To(i)?(i.style!==void 0&&U("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&U("matcher-pattern-deprecated-attributes-class-key",i)):(d.delete("style"),d.delete("class")),Bv(i,d,h=>l.getAttribute(h))}(n.attributes,a),!r.attributes)||n.classes&&(r.classes=function(i,l){return Bv(i,l.getClassNames(),()=>{})}(n.classes,a),!r.classes)||n.styles&&(r.styles=function(i,l){return Bv(i,l.getStyleNames(!0),d=>l.getStyle(d))}(n.styles,a),!r.styles)?null:r}function Bv(a,n,r){const i=function(h){return Array.isArray(h)?h.map(f=>To(f)?(f.key!==void 0&&f.value!==void 0||U("matcher-pattern-missing-key-or-value",f),[f.key,f.value]):[f,!0]):To(h)?Object.entries(h):[[h,!0]]}(a),l=Array.from(n),d=[];if(i.forEach(([h,f])=>{l.forEach(k=>{(function(b,v){return b===!0||b===v||b instanceof RegExp&&v.match(b)})(h,k)&&function(b,v,A){if(b===!0)return!0;const E=A(v);return b===E||b instanceof RegExp&&!!String(E).match(b)}(f,k,r)&&d.push(k)})}),i.length&&!(d.length<i.length))return d}const Tg=function(a){return typeof a=="symbol"||Ln(a)&&It(a)=="[object Symbol]"};var eW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tW=/^\w*$/;const Lv=function(a,n){if(Zt(a))return!1;var r=typeof a;return!(r!="number"&&r!="symbol"&&r!="boolean"&&a!=null&&!Tg(a))||tW.test(a)||!eW.test(a)||n!=null&&a in Object(n)};function jv(a,n){if(typeof a!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var r=function(){var i=arguments,l=n?n.apply(this,i):i[0],d=r.cache;if(d.has(l))return d.get(l);var h=a.apply(this,i);return r.cache=d.set(l,h)||d,h};return r.cache=new(jv.Cache||dg),r}jv.Cache=dg;const nW=jv,oW=function(a){var n=nW(a,function(i){return r.size===500&&r.clear(),i}),r=n.cache;return n};var rW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iW=/\\(\\)?/g,sW=oW(function(a){var n=[];return a.charCodeAt(0)===46&&n.push(""),a.replace(rW,function(r,i,l,d){n.push(l?d.replace(iW,"$1"):i||r)}),n});const aW=sW,lW=function(a,n){for(var r=-1,i=a==null?0:a.length,l=Array(i);++r<i;)l[r]=n(a[r],r,a);return l};var LT=Ht?Ht.prototype:void 0,jT=LT?LT.toString:void 0;const cW=function a(n){if(typeof n=="string")return n;if(Zt(n))return lW(n,a)+"";if(Tg(n))return jT?jT.call(n):"";var r=n+"";return r=="0"&&1/n==-1/0?"-0":r},zv=function(a){return a==null?"":cW(a)},Ig=function(a,n){return Zt(a)?a:Lv(a,n)?[a]:aW(zv(a))},dW=function(a){var n=a==null?0:a.length;return n?a[n-1]:void 0},mc=function(a){if(typeof a=="string"||Tg(a))return a;var n=a+"";return n=="0"&&1/a==-1/0?"-0":n},Fv=function(a,n){for(var r=0,i=(n=Ig(n,a)).length;a!=null&&r<i;)a=a[mc(n[r++])];return r&&r==i?a:void 0},zT=function(a,n,r){var i=-1,l=a.length;n<0&&(n=-n>l?0:l+n),(r=r>l?l:r)<0&&(r+=l),l=n>r?0:r-n>>>0,n>>>=0;for(var d=Array(l);++i<l;)d[i]=a[i+n];return d},uW=function(a,n){return n.length<2?a:Fv(a,zT(n,0,-1))},hW=function(a,n){return n=Ig(n,a),(a=uW(a,n))==null||delete a[mc(dW(n))]},pW=function(a,n){return a==null||hW(a,n)},ju=function(a,n,r){var i=a==null?void 0:Fv(a,n);return i===void 0?r:i},fW=function(a,n,r,i){if(!xe(a))return a;for(var l=-1,d=(n=Ig(n,a)).length,h=d-1,f=a;f!=null&&++l<d;){var k=mc(n[l]),b=r;if(k==="__proto__"||k==="constructor"||k==="prototype")return a;if(l!=h){var v=f[k];(b=void 0)==void 0&&(b=xe(v)?v:fg(n[l+1])?[]:{})}cv(f,k,b),f=f[k]}return a},gW=function(a,n,r){return a==null?a:fW(a,n,r)};class $v{constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const r=function(i){let l=null,d=0,h=0,f=null;const k=new Map;if(i==="")return k;i.charAt(i.length-1)!=";"&&(i+=";");for(let b=0;b<i.length;b++){const v=i.charAt(b);if(l===null)switch(v){case":":f||(f=i.substr(d,b-d),h=b+1);break;case'"':case"'":l=v;break;case";":{const A=i.substr(h,b-h);f&&k.set(f.trim(),A.trim()),f=null,d=b+1;break}}else v===l&&(l=null)}return k}(n);for(const[i,l]of r)this._styleProcessor.toNormalizedForm(i,l,this._styles)}has(n){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(n,this._styles).find(([i])=>i===n);return Array.isArray(r)}set(n,r){if(xe(n))for(const[i,l]of Object.entries(n))this._styleProcessor.toNormalizedForm(i,l,this._styles);else this._styleProcessor.toNormalizedForm(n,r,this._styles)}remove(n){const r=Vv(n);pW(this._styles,r),delete this._styles[n],this._cleanEmptyObjectsOnPath(r)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!xe(this._styles[n]))return this._styles[n];const r=this._styleProcessor.getReducedForm(n,this._styles).find(([i])=>i===n);return Array.isArray(r)?r[1]:void 0}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([r])=>r)}clear(){this._styles={}}getStylesEntries(){const n=[],r=Object.keys(this._styles);for(const i of r)n.push(...this._styleProcessor.getReducedForm(i,this._styles));return n}_cleanEmptyObjectsOnPath(n){const r=n.split(".");if(!(r.length>1))return;const i=r.splice(0,r.length-1).join("."),l=ju(this._styles,i);l&&!Object.keys(l).length&&this.remove(i)}}class mW{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,r,i){if(xe(r))Uv(i,Vv(n),r);else if(this._normalizers.has(n)){const l=this._normalizers.get(n),{path:d,value:h}=l(r);Uv(i,d,h)}else Uv(i,n,r)}getNormalized(n,r){if(!n)return Tv({},r);if(r[n]!==void 0)return r[n];if(this._extractors.has(n)){const i=this._extractors.get(n);if(typeof i=="string")return ju(r,i);const l=i(n,r);if(l)return l}return ju(r,Vv(n))}getReducedForm(n,r){const i=this.getNormalized(n,r);return i===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(i):[[n,i]]}getStyleNames(n){const r=Array.from(this._consumables.keys()).filter(l=>{const d=this.getNormalized(l,n);return d&&typeof d=="object"?Object.keys(d).length:d}),i=new Set([...r,...Object.keys(n)]);return Array.from(i)}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,r){this._normalizers.set(n,r)}setExtractor(n,r){this._extractors.set(n,r)}setReducer(n,r){this._reducers.set(n,r)}setStyleRelation(n,r){this._mapStyleNames(n,r);for(const i of r)this._mapStyleNames(i,[n])}_mapStyleNames(n,r){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...r)}}function Vv(a){return a.replace("-",".")}function Uv(a,n,r){let i=r;xe(r)&&(i=Tv({},ju(a,n),r)),gW(a,n,i)}class or extends Ka{constructor(n,r,i,l){if(super(n),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=r,this._attrs=function(d){const h=wi(d);for(const[f,k]of h)k===null?h.delete(f):typeof k!="string"&&h.set(f,String(k));return h}(i),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const d=this._attrs.get("class");FT(this._classes,d),this._attrs.delete("class")}this._styles=new $v(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const r=this._styles.toString();return r==""?void 0:r}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof or))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[r,i]of this._attrs)if(!n._attrs.has(r)||n._attrs.get(r)!==i)return!1;for(const r of this._classes)if(!n._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!n._styles.has(r)||n._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...n){for(const r of n)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const r of n)if(!this._styles.has(r))return!1;return!0}findAncestor(...n){const r=new yi(...n);let i=this.parent;for(;i&&!i.is("documentFragment");){if(r.match(i))return i;i=i.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),r=this._styles.toString(),i=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(r?` style="${r}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const r=[];if(n)for(const l of this.getChildren())r.push(l._clone(n));const i=new this.constructor(this.document,this.name,this._attrs,r);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,r){this._fireChange("children",this);let i=0;const l=function(d,h){return typeof h=="string"?[new $t(d,h)]:(et(h)||(h=[h]),Array.from(h).map(f=>typeof f=="string"?new $t(d,f):f instanceof vi?new $t(d,f.data):f))}(this.document,r);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(n,0,d),n++,i++;return i}_removeChildren(n,r=1){this._fireChange("children",this);for(let i=n;i<n+r;i++)this._children[i].parent=null;return this._children.splice(n,r)}_setAttribute(n,r){const i=String(r);this._fireChange("attributes",this),n=="class"?FT(this._classes,i):n=="style"?this._styles.setTo(i):this._attrs.set(n,i)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0&&(this._classes.clear(),!0):n=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const r of Wt(n))this._classes.add(r)}_removeClass(n){this._fireChange("attributes",this);for(const r of Wt(n))this._classes.delete(r)}_setStyle(n,r){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,r)}_removeStyle(n){this._fireChange("attributes",this);for(const r of Wt(n))this._styles.remove(r)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}}function FT(a,n){const r=n.split(/\s+/);a.clear(),r.forEach(i=>a.add(i))}or.prototype.is=function(a,n){return n?n===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class zu extends or{constructor(n,r,i,l){super(n,r,i,l),this.getFillerOffset=kW}}function kW(){const a=[...this.getChildren()],n=a[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const r of a)if(!r.is("uiElement"))return null;return this.childCount}zu.prototype.is=function(a,n){return n?n===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Dg extends Q(zu){constructor(n,r,i,l){super(n,r,i,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(n),this.bind("isFocused").to(n,"isFocused",d=>d&&n.selection.editableElement==this),this.listenTo(n.selection,"change",()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}destroy(){this.stopListening()}}Dg.prototype.is=function(a,n){return n?n===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const $T=Symbol("rootName");class VT extends Dg{constructor(n,r){super(n,r),this.rootName="main"}get rootName(){return this.getCustomProperty($T)}set rootName(n){this._setCustomProperty($T,n)}set _name(n){this.name=n}}VT.prototype.is=function(a,n){return n?n===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Ya{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new M("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new M("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=we._createAt(n.startPosition):this._position=we._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let r,i;do i=this.position,r=this.next();while(!r.done&&n(r.value));r.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const r=this.position,i=n.parent;if(i.parent===null&&n.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(i instanceof $t){if(n.isAtEnd)return this._position=we._createAfter(i),this._next();l=i.data[n.offset]}else l=i.getChild(n.offset);if(l instanceof or){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n=new we(l,0);return this._position=n,this._formatReturnValue("elementStart",l,r,n,1)}if(l instanceof $t){if(this.singleCharacters)return n=new we(l,0),this._position=n,this._next();let d,h=l.data.length;return l==this._boundaryEndParent?(h=this.boundaries.end.offset,d=new vi(l,0,h),n=we._createAfter(d)):(d=new vi(l,0,l.data.length),n.offset++),this._position=n,this._formatReturnValue("text",d,r,n,h)}if(typeof l=="string"){let d;this.singleCharacters?d=1:d=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-n.offset;const h=new vi(i,n.offset,d);return n.offset+=d,this._position=n,this._formatReturnValue("text",h,r,n,d)}return n=we._createAfter(i),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,r,n)}_previous(){let n=this.position.clone();const r=this.position,i=n.parent;if(i.parent===null&&n.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(i instanceof $t){if(n.isAtStart)return this._position=we._createBefore(i),this._previous();l=i.data[n.offset-1]}else l=i.getChild(n.offset-1);if(l instanceof or)return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",l,r,n,1)):(n=new we(l,l.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,r,n));if(l instanceof $t){if(this.singleCharacters)return n=new we(l,l.data.length),this._position=n,this._previous();let d,h=l.data.length;if(l==this._boundaryStartParent){const f=this.boundaries.start.offset;d=new vi(l,f,l.data.length-f),h=d.data.length,n=we._createBefore(d)}else d=new vi(l,0,l.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",d,r,n,h)}if(typeof l=="string"){let d;if(this.singleCharacters)d=1;else{const f=i===this._boundaryStartParent?this.boundaries.start.offset:0;d=n.offset-f}n.offset-=d;const h=new vi(i,n.offset,d);return this._position=n,this._formatReturnValue("text",h,r,n,d)}return n=we._createBefore(i),this._position=n,this._formatReturnValue("elementStart",i,r,n,1)}_formatReturnValue(n,r,i,l,d){return r instanceof vi&&(r.offsetInText+r.data.length==r.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=we._createAfter(r.textNode):(l=we._createAfter(r.textNode),this._position=l)),r.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=we._createBefore(r.textNode):(l=we._createBefore(r.textNode),this._position=l))),{done:!1,value:{type:n,item:r,previousPosition:i,nextPosition:l,length:d}}}}class we extends Ga{constructor(n,r){super(),this.parent=n,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof Dg);){if(!n.parent)return null;n=n.parent}return n}getShiftedBy(n){const r=we._createAt(this),i=r.offset+n;return r.offset=i<0?0:i,r}getLastMatchingPosition(n,r={}){r.startPosition=this;const i=new Ya(r);return i.skip(n),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const r=this.getAncestors(),i=n.getAncestors();let l=0;for(;r[l]==i[l]&&r[l];)l++;return l===0?null:r[l-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const r=this.parent.is("node")?this.parent.getPath():[],i=n.parent.is("node")?n.parent.getPath():[];r.push(this.offset),i.push(n.offset);const l=Oe(r,i);switch(l){case"prefix":return"before";case"extension":return"after";default:return r[l]<i[l]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new Ya(n)}clone(){return new we(this.parent,this.offset)}static _createAt(n,r){if(n instanceof we)return new this(n.parent,n.offset);{const i=n;if(r=="end")r=i.is("$text")?i.data.length:i.childCount;else{if(r=="before")return this._createBefore(i);if(r=="after")return this._createAfter(i);if(r!==0&&!r)throw new M("view-createpositionat-offset-required",i)}return new we(i,r)}}static _createAfter(n){if(n.is("$textProxy"))return new we(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new M("view-position-after-root",n,{root:n});return new we(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new we(n.textNode,n.offsetInText);if(!n.parent)throw new M("view-position-before-root",n,{root:n});return new we(n.parent,n.index)}}we.prototype.is=function(a){return a==="position"||a==="view:position"};class Ge extends Ga{constructor(n,r=null){super(),this.start=n.clone(),this.end=r?r.clone():n.clone()}*[Symbol.iterator](){yield*new Ya({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(Mg,{direction:"backward"}),r=this.end.getLastMatchingPosition(Mg);return n.parent.is("$text")&&n.isAtStart&&(n=we._createBefore(n.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=we._createAfter(r.parent)),new Ge(n,r)}getTrimmed(){let n=this.start.getLastMatchingPosition(Mg);if(n.isAfter(this.end)||n.isEqual(this.end))return new Ge(n,n);let r=this.end.getLastMatchingPosition(Mg,{direction:"backward"});const i=n.nodeAfter,l=r.nodeBefore;return i&&i.is("$text")&&(n=new we(i,0)),l&&l.is("$text")&&(r=new we(l,l.data.length)),new Ge(n,r)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const i=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return i&&l}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new Ge(this.start,n.start)),this.containsPosition(n.end)&&r.push(new Ge(n.end,this.end))):r.push(this.clone()),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,i=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(i=n.end),new Ge(r,i)}return null}getWalker(n={}){return n.boundaries=this,new Ya(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),n&&n.is("element")&&n===r?n:null}clone(){return new Ge(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new Ya(n);for(const i of r)yield i.item}*getPositions(n={}){n.boundaries=this;const r=new Ya(n);yield r.position;for(const i of r)yield i.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,r,i,l){return new this(new we(n,r),new we(i,l))}static _createFromPositionAndShift(n,r){const i=n,l=n.getShiftedBy(r);return r>0?new this(i,l):new this(l,i)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const r=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(we._createBefore(n),r)}}function Mg(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}Ge.prototype.is=function(a){return a==="range"||a==="view:range"};class ti extends q(Ga){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const r of this._ranges)n&&!r.start.isBefore(n.start)||(n=r);return n?n.clone():null}getLastRange(){let n=null;for(const r of this._ranges)n&&!r.end.isAfter(n.end)||(n=r);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let i=!1;for(const l of n._ranges)if(r.isEqual(l)){i=!0;break}if(!i)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const r=nt(this.getRanges());if(r!=nt(n.getRanges()))return!1;if(r==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let l=!1;for(let d of n.getRanges())if(d=d.getTrimmed(),i.start.isEqual(d.start)&&i.end.isEqual(d.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[r,i,l]=n;if(typeof i=="object"&&(l=i,i=void 0),r===null)this._setRanges([]),this._setFakeOptions(l);else if(r instanceof ti||r instanceof Hv)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof Ge)this._setRanges([r],l&&l.backward),this._setFakeOptions(l);else if(r instanceof we)this._setRanges([new Ge(r)]),this._setFakeOptions(l);else if(r instanceof Ka){const d=!!l&&!!l.backward;let h;if(i===void 0)throw new M("view-selection-setto-required-second-parameter",this);h=i=="in"?Ge._createIn(r):i=="on"?Ge._createOn(r):new Ge(we._createAt(r,i)),this._setRanges([h],d),this._setFakeOptions(l)}else{if(!et(r))throw new M("view-selection-setto-not-selectable",this);this._setRanges(r,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(n,r){if(this.anchor===null)throw new M("view-selection-setfocus-no-ranges",this);const i=we._createAt(n,r);if(i.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),i.compareWith(l)=="before"?this._addRange(new Ge(i,l),!0):this._addRange(new Ge(l,i)),this.fire("change")}_setRanges(n,r=!1){n=Array.from(n),this._ranges=[];for(const i of n)this._addRange(i);this._lastRangeBackward=!!r}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,r=!1){if(!(n instanceof Ge))throw new M("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!r}_pushRange(n){for(const r of this._ranges)if(n.isIntersecting(r))throw new M("view-selection-range-intersects",this,{addedRange:n,intersectingRange:r});this._ranges.push(new Ge(n.start,n.end))}}ti.prototype.is=function(a){return a==="selection"||a==="view:selection"};class Hv extends q(Ga){constructor(...n){super(),this._selection=new ti,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,r){this._selection.setFocus(n,r)}}Hv.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class kc extends D{constructor(n,r,i){super(n,r),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Wv=Symbol("bubbling contexts");function qv(a){return class extends a{fire(n,...r){try{const i=n instanceof D?n:new D(this,n),l=Gv(this);if(!l.size)return;if(Fu(i,"capturing",this),bc(l,"$capture",i,...r))return i.return;const d=i.startRange||this.selection.getFirstRange(),h=d?d.getContainedElement():null,f=!!h&&!!UT(l,h);let k=h||function(b){if(!b)return null;const v=b.start.parent,A=b.end.parent,E=v.getPath(),I=A.getPath();return E.length>I.length?v:A}(d);if(Fu(i,"atTarget",k),!f){if(bc(l,"$text",i,...r))return i.return;Fu(i,"bubbling",k)}for(;k;){if(k.is("rootElement")){if(bc(l,"$root",i,...r))return i.return}else if(k.is("element")&&bc(l,k.name,i,...r))return i.return;if(bc(l,k,i,...r))return i.return;k=k.parent,Fu(i,"bubbling",k)}return Fu(i,"bubbling",this),bc(l,"$document",i,...r),i.return}catch(i){M.rethrowUnexpectedError(i,this)}}_addEventListener(n,r,i){const l=Wt(i.context||"$document"),d=Gv(this);for(const h of l){let f=d.get(h);f||(f=new(q()),d.set(h,f)),this.listenTo(f,n,r,i)}}_removeEventListener(n,r){const i=Gv(this);for(const l of i.values())this.stopListening(l,n,r)}}}{const a=qv(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{qv[n]=a.prototype[n]})}function Fu(a,n,r){a instanceof kc&&(a._eventPhase=n,a._currentTarget=r)}function bc(a,n,r,...i){const l=typeof n=="string"?a.get(n):UT(a,n);return!!l&&(l.fire(r,...i),r.stop.called)}function UT(a,n){for(const[r,i]of a)if(typeof r=="function"&&r(n))return i;return null}function Gv(a){return a[Wv]||(a[Wv]=new Map),a[Wv]}class Pg extends qv(Q()){constructor(n){super(),this._postFixers=new Set,this.selection=new Hv,this.roots=new Xr({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.forEach(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let r=!1;do for(const i of this._postFixers)if(r=i(n),r)break;while(r)}}class Qa extends or{constructor(n,r,i,l){super(n,r,i,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=bW}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new M("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const r=super._clone(n);return r._priority=this._priority,r._id=this._id,r}}function bW(){if(Kv(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(Kv(a)>1)return null;a=a.parent}return!a||Kv(a)>1?null:this.childCount}function Kv(a){return Array.from(a.getChildren()).filter(n=>!n.is("uiElement")).length}Qa.DEFAULT_PRIORITY=10,Qa.prototype.is=function(a,n){return n?n===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Yv extends or{constructor(n,r,i,l){super(n,r,i,l),this.getFillerOffset=wW}_insertChild(n,r){if(r&&(r instanceof Ka||Array.from(r).length>0))throw new M("view-emptyelement-cannot-add",[this,r]);return 0}}function wW(){return null}Yv.prototype.is=function(a,n){return n?n===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Ng extends or{constructor(n,r,i,l){super(n,r,i,l),this.getFillerOffset=yW}_insertChild(n,r){if(r&&(r instanceof Ka||Array.from(r).length>0))throw new M("view-uielement-cannot-add",[this,r]);return 0}render(n,r){return this.toDomElement(n)}toDomElement(n){const r=n.createElement(this.name);for(const i of this.getAttributeKeys())r.setAttribute(i,this.getAttribute(i));return r}}function vW(a){a.document.on("arrowKey",(n,r)=>function(i,l,d){if(l.keyCode==kt.arrowright){const h=l.domTarget.ownerDocument.defaultView.getSelection(),f=h.rangeCount==1&&h.getRangeAt(0).collapsed;if(f||l.shiftKey){const k=h.focusNode,b=h.focusOffset,v=d.domPositionToView(k,b);if(v===null)return;let A=!1;const E=v.getLastMatchingPosition(I=>(I.item.is("uiElement")&&(A=!0),!(!I.item.is("uiElement")&&!I.item.is("attributeElement"))));if(A){const I=d.viewPositionToDom(E);f?h.collapse(I.parent,I.offset):h.extend(I.parent,I.offset)}}}}(0,r,a.domConverter),{priority:"low"})}function yW(){return null}Ng.prototype.is=function(a,n){return n?n===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Qv extends or{constructor(n,r,i,l){super(n,r,i,l),this.getFillerOffset=_W}_insertChild(n,r){if(r&&(r instanceof Ka||Array.from(r).length>0))throw new M("view-rawelement-cannot-add",[this,r]);return 0}render(n,r){}}function _W(){return null}Qv.prototype.is=function(a,n){return n?n===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Za extends q(Ga){constructor(n,r){super(),this._children=[],this._customProperties=new Map,this.document=n,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,r){this._fireChange("children",this);let i=0;const l=function(d,h){return typeof h=="string"?[new $t(d,h)]:(et(h)||(h=[h]),Array.from(h).map(f=>typeof f=="string"?new $t(d,f):f instanceof vi?new $t(d,f.data):f))}(this.document,r);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,this._children.splice(n,0,d),n++,i++;return i}_removeChildren(n,r=1){this._fireChange("children",this);for(let i=n;i<n+r;i++)this._children[i].parent=null;return this._children.splice(n,r)}_fireChange(n,r){this.fire("change:"+n,r)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}}Za.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class HT{constructor(n){this._cloneGroups=new Map,this._slotFactory=null,this.document=n}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(n,r){this.document.selection._setFocus(n,r)}createDocumentFragment(n){return new Za(this.document,n)}createText(n){return new $t(this.document,n)}createAttributeElement(n,r,i={}){const l=new Qa(this.document,n,r);return typeof i.priority=="number"&&(l._priority=i.priority),i.id&&(l._id=i.id),i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createContainerElement(n,r,i={},l={}){let d=null;To(i)?l=i:d=i;const h=new zu(this.document,n,r,d);return l.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),h}createEditableElement(n,r,i={}){const l=new Dg(this.document,n,r);return i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createEmptyElement(n,r,i={}){const l=new Yv(this.document,n,r);return i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createUIElement(n,r,i){const l=new Ng(this.document,n,r);return i&&(l.render=i),l}createRawElement(n,r,i,l={}){const d=new Qv(this.document,n,r);return i&&(d.render=i),l.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),d}setAttribute(n,r,i){i._setAttribute(n,r)}removeAttribute(n,r){r._removeAttribute(n)}addClass(n,r){r._addClass(n)}removeClass(n,r){r._removeClass(n)}setStyle(n,r,i){To(n)&&i===void 0?r._setStyle(n):i._setStyle(n,r)}removeStyle(n,r){r._removeStyle(n)}setCustomProperty(n,r,i){i._setCustomProperty(n,r)}removeCustomProperty(n,r){return r._removeCustomProperty(n)}breakAttributes(n){return n instanceof we?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const r=n.parent;if(!r.is("containerElement"))throw new M("view-writer-break-non-container-element",this.document);if(!r.parent)throw new M("view-writer-break-root",this.document);if(n.isAtStart)return we._createBefore(r);if(!n.isAtEnd){const i=r._clone(!1);this.insert(we._createAfter(r),i);const l=new Ge(n,we._createAt(r,"end")),d=new we(i,0);this.move(l,d)}return we._createAfter(r)}mergeAttributes(n){const r=n.offset,i=n.parent;if(i.is("$text"))return n;if(i.is("attributeElement")&&i.childCount===0){const h=i.parent,f=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new we(h,f))}const l=i.getChild(r-1),d=i.getChild(r);if(!l||!d)return n;if(l.is("$text")&&d.is("$text"))return qT(l,d);if(l.is("attributeElement")&&d.is("attributeElement")&&l.isSimilar(d)){const h=l.childCount;return l._appendChild(d.getChildren()),d._remove(),this._removeFromClonedElementsGroup(d),this.mergeAttributes(new we(l,h))}return n}mergeContainers(n){const r=n.nodeBefore,i=n.nodeAfter;if(!(r&&i&&r.is("containerElement")&&i.is("containerElement")))throw new M("view-writer-merge-containers-invalid-position",this.document);const l=r.getChild(r.childCount-1),d=l instanceof $t?we._createAt(l,"end"):we._createAt(r,"end");return this.move(Ge._createIn(i),we._createAt(r,"end")),this.remove(Ge._createOn(i)),d}insert(n,r){GT(r=et(r)?[...r]:[r],this.document);const i=r.reduce((h,f)=>{const k=h[h.length-1],b=!f.is("uiElement");return k&&k.breakAttributes==b?k.nodes.push(f):h.push({breakAttributes:b,nodes:[f]}),h},[]);let l=null,d=n;for(const{nodes:h,breakAttributes:f}of i){const k=this._insertNodes(d,h,f);l||(l=k.start),d=k.end}return l?new Ge(l,d):new Ge(n)}remove(n){const r=n instanceof Ge?n:Ge._createOn(n);if($u(r,this.document),r.isCollapsed)return new Za(this.document);const{start:i,end:l}=this._breakAttributesRange(r,!0),d=i.parent,h=l.offset-i.offset,f=d._removeChildren(i.offset,h);for(const b of f)this._removeFromClonedElementsGroup(b);const k=this.mergeAttributes(i);return r.start=k,r.end=k.clone(),new Za(this.document,f)}clear(n,r){$u(n,this.document);const i=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of i){const d=l.item;let h;if(d.is("element")&&r.isSimilar(d))h=Ge._createOn(d);else if(!l.nextPosition.isAfter(n.start)&&d.is("$textProxy")){const f=d.getAncestors().find(k=>k.is("element")&&r.isSimilar(k));f&&(h=Ge._createIn(f))}h&&(h.end.isAfter(n.end)&&(h.end=n.end),h.start.isBefore(n.start)&&(h.start=n.start),this.remove(h))}}move(n,r){let i;if(r.isAfter(n.end)){const l=(r=this._breakAttributes(r,!0)).parent,d=l.childCount;n=this._breakAttributesRange(n,!0),i=this.remove(n),r.offset+=l.childCount-d}else i=this.remove(n);return this.insert(r,i)}wrap(n,r){if(!(r instanceof Qa))throw new M("view-writer-wrap-invalid-attribute",this.document);if($u(n,this.document),n.isCollapsed){let l=n.start;l.parent.is("element")&&(i=l.parent,!Array.from(i.getChildren()).some(h=>!h.is("uiElement")))&&(l=l.getLastMatchingPosition(h=>h.item.is("uiElement"))),l=this._wrapPosition(l,r);const d=this.document.selection;return d.isCollapsed&&d.getFirstPosition().isEqual(n.start)&&this.setSelection(l),new Ge(l)}return this._wrapRange(n,r);var i}unwrap(n,r){if(!(r instanceof Qa))throw new M("view-writer-unwrap-invalid-attribute",this.document);if($u(n,this.document),n.isCollapsed)return n;const{start:i,end:l}=this._breakAttributesRange(n,!0),d=i.parent,h=this._unwrapChildren(d,i.offset,l.offset,r),f=this.mergeAttributes(h.start);f.isEqual(h.start)||h.end.offset--;const k=this.mergeAttributes(h.end);return new Ge(f,k)}rename(n,r){const i=new zu(this.document,n,r.getAttributes());return this.insert(we._createAfter(r),i),this.move(Ge._createIn(r),we._createAt(i,0)),this.remove(Ge._createOn(r)),i}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,r){return we._createAt(n,r)}createPositionAfter(n){return we._createAfter(n)}createPositionBefore(n){return we._createBefore(n)}createRange(n,r){return new Ge(n,r)}createRangeOn(n){return Ge._createOn(n)}createRangeIn(n){return Ge._createIn(n)}createSelection(...n){return new ti(...n)}createSlot(n="children"){if(!this._slotFactory)throw new M("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,r,i){let l,d;if(l=i?Zv(n):n.parent.is("$text")?n.parent.parent:n.parent,!l)throw new M("view-writer-invalid-position-container",this.document);d=i?this._breakAttributes(n,!0):n.parent.is("$text")?Jv(n):n;const h=l._insertChild(d.offset,r);for(const v of r)this._addToClonedElementsGroup(v);const f=d.getShiftedBy(h),k=this.mergeAttributes(d);k.isEqual(d)||f.offset--;const b=this.mergeAttributes(f);return new Ge(k,b)}_wrapChildren(n,r,i,l){let d=r;const h=[];for(;d<i;){const k=n.getChild(d),b=k.is("$text"),v=k.is("attributeElement");if(v&&this._wrapAttributeElement(l,k))h.push(new we(n,d));else if(b||!v||CW(l,k)){const A=l._clone();k._remove(),A._appendChild(k),n._insertChild(d,A),this._addToClonedElementsGroup(A),h.push(new we(n,d))}else this._wrapChildren(k,0,k.childCount,l);d++}let f=0;for(const k of h)k.offset-=f,k.offset!=r&&(this.mergeAttributes(k).isEqual(k)||(f++,i--));return Ge._createFromParentsAndOffsets(n,r,n,i)}_unwrapChildren(n,r,i,l){let d=r;const h=[];for(;d<i;){const k=n.getChild(d);if(k.is("attributeElement"))if(k.isSimilar(l)){const b=k.getChildren(),v=k.childCount;k._remove(),n._insertChild(d,b),this._removeFromClonedElementsGroup(k),h.push(new we(n,d),new we(n,d+v)),d+=v,i+=v-1}else this._unwrapAttributeElement(l,k)?(h.push(new we(n,d),new we(n,d+1)),d++):(this._unwrapChildren(k,0,k.childCount,l),d++);else d++}let f=0;for(const k of h)k.offset-=f,!(k.offset==r||k.offset==i)&&(this.mergeAttributes(k).isEqual(k)||(f++,i--));return Ge._createFromParentsAndOffsets(n,r,n,i)}_wrapRange(n,r){const{start:i,end:l}=this._breakAttributesRange(n,!0),d=i.parent,h=this._wrapChildren(d,i.offset,l.offset,r),f=this.mergeAttributes(h.start);f.isEqual(h.start)||h.end.offset--;const k=this.mergeAttributes(h.end);return new Ge(f,k)}_wrapPosition(n,r){if(r.isSimilar(n.parent))return WT(n.clone());n.parent.is("$text")&&(n=Jv(n));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,n.parent._insertChild(n.offset,i);const l=new Ge(n,n.getShiftedBy(1));this.wrap(l,r);const d=new we(i.parent,i.index);i._remove();const h=d.nodeBefore,f=d.nodeAfter;return h instanceof $t&&f instanceof $t?qT(h,f):WT(d)}_wrapAttributeElement(n,r){if(!KT(n,r)||n.name!==r.name||n.priority!==r.priority)return!1;for(const i of n.getAttributeKeys())if(i!=="class"&&i!=="style"&&r.hasAttribute(i)&&r.getAttribute(i)!==n.getAttribute(i))return!1;for(const i of n.getStyleNames())if(r.hasStyle(i)&&r.getStyle(i)!==n.getStyle(i))return!1;for(const i of n.getAttributeKeys())i!=="class"&&i!=="style"&&(r.hasAttribute(i)||this.setAttribute(i,n.getAttribute(i),r));for(const i of n.getStyleNames())r.hasStyle(i)||this.setStyle(i,n.getStyle(i),r);for(const i of n.getClassNames())r.hasClass(i)||this.addClass(i,r);return!0}_unwrapAttributeElement(n,r){if(!KT(n,r)||n.name!==r.name||n.priority!==r.priority)return!1;for(const i of n.getAttributeKeys())if(i!=="class"&&i!=="style"&&(!r.hasAttribute(i)||r.getAttribute(i)!==n.getAttribute(i)))return!1;if(!r.hasClass(...n.getClassNames()))return!1;for(const i of n.getStyleNames())if(!r.hasStyle(i)||r.getStyle(i)!==n.getStyle(i))return!1;for(const i of n.getAttributeKeys())i!=="class"&&i!=="style"&&this.removeAttribute(i,r);return this.removeClass(Array.from(n.getClassNames()),r),this.removeStyle(Array.from(n.getStyleNames()),r),!0}_breakAttributesRange(n,r=!1){const i=n.start,l=n.end;if($u(n,this.document),n.isCollapsed){const k=this._breakAttributes(n.start,r);return new Ge(k,k)}const d=this._breakAttributes(l,r),h=d.parent.childCount,f=this._breakAttributes(i,r);return d.offset+=d.parent.childCount-h,new Ge(f,d)}_breakAttributes(n,r=!1){const i=n.offset,l=n.parent;if(n.parent.is("emptyElement"))throw new M("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new M("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new M("view-writer-cannot-break-raw-element",this.document);if(!r&&l.is("$text")&&Xv(l.parent)||Xv(l))return n.clone();if(l.is("$text"))return this._breakAttributes(Jv(n),r);if(i==l.childCount){const d=new we(l.parent,l.index+1);return this._breakAttributes(d,r)}if(i===0){const d=new we(l.parent,l.index);return this._breakAttributes(d,r)}{const d=l.index+1,h=l._clone();l.parent._insertChild(d,h),this._addToClonedElementsGroup(h);const f=l.childCount-i,k=l._removeChildren(i,f);h._appendChild(k);const b=new we(l.parent,d);return this._breakAttributes(b,r)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const l of n.getChildren())this._addToClonedElementsGroup(l);const r=n.id;if(!r)return;let i=this._cloneGroups.get(r);i||(i=new Set,this._cloneGroups.set(r,i)),i.add(n),n._clonesGroup=i}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const l of n.getChildren())this._removeFromClonedElementsGroup(l);const r=n.id;if(!r)return;const i=this._cloneGroups.get(r);i&&i.delete(n)}}function Zv(a){let n=a.parent;for(;!Xv(n);){if(!n)return;n=n.parent}return n}function CW(a,n){return a.priority<n.priority||!(a.priority>n.priority)&&a.getIdentity()<n.getIdentity()}function WT(a){const n=a.nodeBefore;if(n&&n.is("$text"))return new we(n,n.data.length);const r=a.nodeAfter;return r&&r.is("$text")?new we(r,0):a}function Jv(a){if(a.offset==a.parent.data.length)return new we(a.parent.parent,a.parent.index+1);if(a.offset===0)return new we(a.parent.parent,a.parent.index);const n=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new $t(a.root.document,n)),new we(a.parent.parent,a.parent.index+1)}function qT(a,n){const r=a.data.length;return a._data+=n.data,n._remove(),new we(a,r)}const AW=[$t,Qa,zu,Yv,Qv,Ng];function GT(a,n){for(const r of a){if(!AW.some(i=>r instanceof i))throw new M("view-writer-insert-invalid-node-type",n);r.is("$text")||GT(r.getChildren(),n)}}function Xv(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function $u(a,n){const r=Zv(a.start),i=Zv(a.end);if(!r||!i||r!==i)throw new M("view-writer-invalid-range-container",n)}function KT(a,n){return a.id===null&&n.id===null}const YT=a=>a.createTextNode(" "),QT=a=>{const n=a.createElement("span");return n.dataset.ckeFiller="true",n.innerText=" ",n},ZT=a=>{const n=a.createElement("br");return n.dataset.ckeFiller="true",n},ni=7,Vu="⁠".repeat(ni);function rr(a){return typeof a=="string"?a.substr(0,ni)===Vu:An(a)&&a.data.substr(0,ni)===Vu}function wc(a){return a.data.length==ni&&rr(a)}function JT(a){const n=typeof a=="string"?a:a.data;return rr(a)?n.slice(ni):n}function xW(a,n){if(n.keyCode==kt.arrowleft){const r=n.domTarget.ownerDocument.defaultView.getSelection();if(r.rangeCount==1&&r.getRangeAt(0).collapsed){const i=r.getRangeAt(0).startContainer,l=r.getRangeAt(0).startOffset;rr(i)&&l<=ni&&r.collapse(i,0)}}}var XT=c(8264),EW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(XT.A,EW),XT.A.locals;class SW extends Q(){constructor(n,r){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=n,this.selection=r,this.set("isFocused",!1),this.set("isSelecting",!1),_.isBlink&&!_.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(n,r){if(n==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(n==="attributes")this.markedAttributes.add(r);else{if(n!=="children")throw new M("view-renderer-unknown-type",this);this.markedChildren.add(r)}}}render(){if(this.isComposing&&!_.isAndroid)return;let n=null;const r=!(_.isBlink&&!_.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);r?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=we._createBefore(n.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:n});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:n});if(r)if(n){const i=this.domConverter.viewPositionToDom(n),l=i.parent.ownerDocument;rr(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=eI(l,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){const r=this.domConverter.mapViewToDom(n);if(!r)return;const i=Array.from(r.childNodes),l=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),d=this._diffNodeLists(i,l),h=this._findUpdateActions(d,i,l,TW);if(h.indexOf("update")!==-1){const f={equal:0,insert:0,delete:0};for(const k of h)if(k==="update"){const b=f.equal+f.insert,v=f.equal+f.delete,A=n.getChild(b);!A||A.is("uiElement")||A.is("rawElement")||this._updateElementMappings(A,i[v]),tT(l[b]),f.equal++}else f[k]++}}_updateElementMappings(n,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?we._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(n);return!!(r&&An(r.parent)&&rr(r.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!rr(n))throw new M("view-renderer-filler-was-lost",this);wc(n)?n.remove():n.data=n.data.substr(ni),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),r=n.parent,i=n.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!function(h){if(h.getAttribute("contenteditable")=="false")return!1;const f=h.findAncestor(k=>k.hasAttribute("contenteditable"));return!f||f.getAttribute("contenteditable")=="true"}(r))return!1;const l=n.nodeBefore,d=n.nodeAfter;return!(l instanceof $t||d instanceof $t)&&!!(i!==r.getFillerOffset()||l&&l.is("element","br"))&&(!_.isAndroid||!l&&!d)}_updateText(n,r){const i=this.domConverter.findCorrespondingDomText(n);let l=this.domConverter.viewToDom(n).data;const d=r.inlineFillerPosition;d&&d.parent==n.parent&&d.offset==n.index&&(l=Vu+l),tI(i,l)}_updateAttrs(n){const r=this.domConverter.mapViewToDom(n);if(!r)return;const i=Array.from(r.attributes).map(d=>d.name),l=n.getAttributeKeys();for(const d of l)this.domConverter.setDomElementAttribute(r,d,n.getAttribute(d),n);for(const d of i)n.hasAttribute(d)||this.domConverter.removeDomElementAttribute(r,d)}_updateChildren(n,r){const i=this.domConverter.mapViewToDom(n);if(!i)return;if(_.isAndroid){let A=null;for(const E of Array.from(i.childNodes)){if(A&&An(A)&&An(E)){i.normalize();break}A=E}}const l=r.inlineFillerPosition,d=i.childNodes,h=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));l&&l.parent===n&&eI(i.ownerDocument,h,l.offset);const f=this._diffNodeLists(d,h),k=this._findUpdateActions(f,d,h,IW);let b=0;const v=new Set;for(const A of k)A==="delete"?(v.add(d[b]),tT(d[b])):A!=="equal"&&A!=="update"||b++;b=0;for(const A of k)A==="insert"?(ZS(i,b,h[b]),b++):A==="update"?(tI(d[b],h[b].data),b++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(h[b])),b++);for(const A of v)A.parentNode||this.domConverter.unbindDomElement(A)}_diffNodeLists(n,r){return n=function(i,l){const d=Array.from(i);return d.length==0||!l||d[d.length-1]==l&&d.pop(),d}(n,this._fakeSelectionContainer),T(n,r,DW.bind(null,this.domConverter))}_findUpdateActions(n,r,i,l){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let d=[],h=[],f=[];const k={equal:0,insert:0,delete:0};for(const b of n)b==="insert"?f.push(i[k.equal+k.insert]):b==="delete"?h.push(r[k.equal+k.delete]):(d=d.concat(T(h,f,l).map(v=>v==="equal"?"update":v)),d.push("equal"),h=[],f=[]),k[b]++;return d.concat(T(h,f,l).map(b=>b==="equal"?"update":b))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const r of n.getChildren())this._markDescendantTextToSync(r)}}_updateSelection(){if(_.isBlink&&!_.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const n=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&n&&(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&_.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const r=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(h){const f=h.createElement("div");return f.className="ck-fake-selection-container",Object.assign(f.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),f.textContent=" ",f}(r));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(n))return;i.parentElement&&i.parentElement==n||n.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||" ";const l=r.getSelection(),d=r.createRange();l.removeAllRanges(),d.selectNodeContents(i),l.addRange(d)}_updateDomSelection(n){const r=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(r))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);r.setBaseAndExtent(i.parent,i.offset,l.parent,l.offset),_.isGecko&&function(d,h){let f=d.parent,k=d.offset;if(An(f)&&wc(f)&&(k=Ru(f)+1,f=f.parentNode),f.nodeType!=Node.ELEMENT_NODE||k!=f.childNodes.length-1)return;const b=f.childNodes[k];b&&b.tagName=="BR"&&h.addRange(h.getRangeAt(0))}(l,r)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const r=n&&this.domConverter.domSelectionToView(n);return(!r||!this.selection.isEqual(r))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(r))}_fakeSelectionNeedsUpdate(n){const r=this._fakeSelectionContainer,i=n.ownerDocument.getSelection();return!r||r.parentElement!==n||i.anchorNode!==r&&!r.contains(i.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const r=n.getSelection();if(r.rangeCount){const i=n.activeElement,l=this.domConverter.mapDomToView(i);i&&l&&r.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function eI(a,n,r){const i=n instanceof Array?n:n.childNodes,l=i[r];if(An(l))return l.data=Vu+l.data,l;{const d=a.createTextNode(Vu);return Array.isArray(n)?i.splice(r,0,d):ZS(n,r,d),d}}function TW(a,n){return js(a)&&js(n)&&!An(a)&&!An(n)&&!Ou(a)&&!Ou(n)&&a.tagName.toLowerCase()===n.tagName.toLowerCase()}function IW(a,n){return js(a)&&js(n)&&An(a)&&An(n)}function DW(a,n,r){return n===r||(An(n)&&An(r)?n.data===r.data:!(!a.isBlockFiller(n)||!a.isBlockFiller(r)))}function tI(a,n){const r=a.data;if(r==n)return;const i=y(r,n);for(const l of i)l.type==="insert"?a.insertData(l.index,l.values.join("")):a.deleteData(l.index,l.howMany)}const MW=ZT(m.document),PW=YT(m.document),NW=QT(m.document),Rg="data-ck-unsafe-attribute-",nI="data-ck-unsafe-element";class Og{constructor(n,{blockFillerMode:r,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new yi,this._inlineObjectElementMatcher=new yi,this._elementsWithTemporaryCustomProperties=new Set,this.document=n,this.renderingMode=i,this.blockFillerMode=r||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?m.document:m.document.implementation.createHTMLDocument("")}bindFakeSelection(n,r){this._fakeSelectionMapping.set(n,new ti(r))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,r){this._domToViewMapping.set(n,r),this._viewToDomMapping.set(r,n)}unbindDomElement(n){const r=this._domToViewMapping.get(n);if(r){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(r);for(const i of Array.from(n.children))this.unbindDomElement(i)}}bindDocumentFragments(n,r){this._domToViewMapping.set(n,r),this._viewToDomMapping.set(r,n)}shouldRenderAttribute(n,r,i){return this.renderingMode==="data"||!(n=n.toLowerCase()).startsWith("on")&&(n!=="srcdoc"||!r.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(n==="src"||n==="srcset")||i==="source"&&n==="srcset"||!r.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,r){if(this.renderingMode==="data")return void(n.innerHTML=r);const i=new DOMParser().parseFromString(r,"text/html"),l=i.createDocumentFragment(),d=i.body.childNodes;for(;d.length>0;)l.appendChild(d[0]);const h=i.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),f=[];let k;for(;k=h.nextNode();)f.push(k);for(const b of f){for(const A of b.getAttributeNames())this.setDomElementAttribute(b,A,b.getAttribute(A));const v=b.tagName.toLowerCase();this._shouldRenameElement(v)&&(iI(v),b.replaceWith(this._createReplacementDomElement(v,b)))}for(;n.firstChild;)n.firstChild.remove();n.append(l)}viewToDom(n,r={}){if(n.is("$text")){const i=this._processDataFromViewText(n);return this._domDocument.createTextNode(i)}{const i=n;if(this.mapViewToDom(i)){if(!i.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(i);this._elementsWithTemporaryCustomProperties.add(i)}let l;if(i.is("documentFragment"))l=this._domDocument.createDocumentFragment(),r.bind&&this.bindDocumentFragments(l,i);else{if(i.is("uiElement"))return l=i.name==="$comment"?this._domDocument.createComment(i.getCustomProperty("$rawContent")):i.render(this._domDocument,this),r.bind&&this.bindElements(l,i),l;this._shouldRenameElement(i.name)?(iI(i.name),l=this._createReplacementDomElement(i.name)):l=i.hasAttribute("xmlns")?this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(l,this),r.bind&&this.bindElements(l,i);for(const d of i.getAttributeKeys())this.setDomElementAttribute(l,d,i.getAttribute(d),i)}if(r.withChildren!==!1)for(const d of this.viewChildrenToDom(i,r))l instanceof HTMLTemplateElement?l.content.appendChild(d):l.appendChild(d);return l}}setDomElementAttribute(n,r,i,l){const d=this.shouldRenderAttribute(r,i,n.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(r);d||U("domconverter-unsafe-attribute-detected",{domElement:n,key:r,value:i}),function(h){try{m.document.createAttribute(h)}catch{return!1}return!0}(r)?(n.hasAttribute(r)&&!d?n.removeAttribute(r):n.hasAttribute(Rg+r)&&d&&n.removeAttribute(Rg+r),n.setAttribute(d?r:Rg+r,i)):U("domconverter-invalid-attribute-detected",{domElement:n,key:r,value:i})}removeDomElementAttribute(n,r){r!=nI&&(n.removeAttribute(r),n.removeAttribute(Rg+r))}*viewChildrenToDom(n,r={}){const i=n.getFillerOffset&&n.getFillerOffset();let l=0;for(const d of n.getChildren()){i===l&&(yield this._getBlockFiller());const h=d.is("element")&&!!d.getCustomProperty("dataPipeline:transparentRendering")&&!qn(d.getAttributes());h&&this.renderingMode=="data"?yield*this.viewChildrenToDom(d,r):(h&&U("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:d}),yield this.viewToDom(d,r)),l++}i===l&&(yield this._getBlockFiller())}viewRangeToDom(n){const r=this.viewPositionToDom(n.start),i=this.viewPositionToDom(n.end),l=this._domDocument.createRange();return l.setStart(r.parent,r.offset),l.setEnd(i.parent,i.offset),l}viewPositionToDom(n){const r=n.parent;if(r.is("$text")){const i=this.findCorrespondingDomText(r);if(!i)return null;let l=n.offset;return rr(i)&&(l+=ni),{parent:i,offset:l}}{let i,l,d;if(n.offset===0){if(i=this.mapViewToDom(r),!i)return null;d=i.childNodes[0]}else{const h=n.nodeBefore;if(l=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(h),!l)return null;i=l.parentNode,d=l.nextSibling}return An(d)&&rr(d)?{parent:d,offset:ni}:{parent:i,offset:l?Ru(l)+1:0}}}domToView(n,r={}){const i=[],l=this._domToView(n,r,i),d=l.next().value;return d?(l.next(),this._processDomInlineNodes(null,i,r),d.is("$text")&&d.data.length==0?null:d):null}*domChildrenToView(n,r={},i=[]){let l=[];l=n instanceof HTMLTemplateElement?[...n.content.childNodes]:[...n.childNodes];for(let d=0;d<l.length;d++){const h=l[d],f=this._domToView(h,r,i),k=f.next().value;k!==null&&(this._isBlockViewElement(k)&&this._processDomInlineNodes(n,i,r),yield k,f.next())}this._processDomInlineNodes(n,i,r)}domSelectionToView(n){if(function(l){if(!_.isGecko||!l.rangeCount)return!1;const d=l.getRangeAt(0).startContainer;try{Object.prototype.toString.call(d)}catch{return!0}return!1}(n))return new ti([]);if(n.rangeCount===1){let l=n.getRangeAt(0).startContainer;An(l)&&(l=l.parentNode);const d=this.fakeSelectionToView(l);if(d)return d}const r=this.isDomSelectionBackward(n),i=[];for(let l=0;l<n.rangeCount;l++){const d=n.getRangeAt(l),h=this.domRangeToView(d);h&&i.push(h)}return new ti(i,{backward:r})}domRangeToView(n){const r=this.domPositionToView(n.startContainer,n.startOffset),i=this.domPositionToView(n.endContainer,n.endOffset);return r&&i?new Ge(r,i):null}domPositionToView(n,r=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,Ru(n));const i=this.mapDomToView(n);if(i&&(i.is("uiElement")||i.is("rawElement")))return we._createBefore(i);if(An(n)){if(wc(n))return this.domPositionToView(n.parentNode,Ru(n));const l=this.findCorrespondingViewText(n);let d=r;return l?(rr(n)&&(d-=ni,d=d<0?0:d),new we(l,d)):null}if(r===0){const l=this.mapDomToView(n);if(l)return new we(l,0)}else{const l=n.childNodes[r-1];if(An(l)&&wc(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,Ru(l));const d=An(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(d&&d.parent)return new we(d.parent,d.index+1)}return null}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(wc(n))return null;const r=this.getHostViewElement(n);if(r)return r;const i=n.previousSibling;if(i){if(!this.isElement(i))return null;const l=this.mapDomToView(i);if(l){const d=l.nextSibling;return d instanceof $t?d:null}}else{const l=this.mapDomToView(n.parentNode);if(l){const d=l.getChild(0);return d instanceof $t?d:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const r=n.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const r=this.mapViewToDom(n);if(r&&r.ownerDocument.activeElement!==r){const{scrollX:i,scrollY:l}=m.window,d=[];oI(r,h=>{const{scrollLeft:f,scrollTop:k}=h;d.push([f,k])}),r.focus(),oI(r,h=>{const[f,k]=d.shift();h.scrollLeft=f,h.scrollTop=k}),m.window.scrollTo(i,l)}}_clearDomSelection(){const n=this.mapViewToDom(this.document.selection.editableElement);if(!n)return;const r=n.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(r);i&&i.rangeCount>0&&r.removeAllRanges()}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(MW):!(n.tagName!=="BR"||!rI(n,this.blockElements)||n.parentNode.childNodes.length!==1)||n.isEqualNode(NW)||function(r,i){return r.isEqualNode(PW)&&rI(r,i)&&r.parentNode.childNodes.length===1}(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const r=this._domDocument.createRange();try{r.setStart(n.anchorNode,n.anchorOffset),r.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const i=r.collapsed;return r.detach(),i}getHostViewElement(n){const r=function(i){const l=[];let d=i;for(;d&&d.nodeType!=Node.DOCUMENT_NODE;)l.unshift(d),d=d.parentNode;return l}(n);for(r.pop();r.length;){const i=r.pop(),l=this._domToViewMapping.get(i);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}registerInlineObjectMatcher(n){this._inlineObjectElementMatcher.add(n)}_clearTemporaryCustomProperties(){for(const n of this._elementsWithTemporaryCustomProperties)n._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return YT(this._domDocument);case"markedNbsp":return QT(this._domDocument);case"br":return ZT(this._domDocument)}}_isDomSelectionPositionCorrect(n,r){if(An(n)&&rr(n)&&r<ni||this.isElement(n)&&rr(n.childNodes[r]))return!1;const i=this.mapDomToView(n);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(n,r,i){if(this.isBlockFiller(n))return null;const l=this.getHostViewElement(n);if(l)return l;if(Ou(n)&&r.skipComments)return null;if(An(n)){if(wc(n))return null;{const d=n.data;if(d==="")return null;const h=new $t(this.document,d);return i.push(h),h}}{let d=this.mapDomToView(n);if(d)return this._isInlineObjectElement(d)&&i.push(d),d;if(this.isDocumentFragment(n))d=new Za(this.document),r.bind&&this.bindDocumentFragments(n,d);else{d=this._createViewElement(n,r),r.bind&&this.bindElements(n,d);const f=n.attributes;if(f)for(let k=f.length,b=0;b<k;b++)d._setAttribute(f[b].name,f[b].value);if(this._isViewElementWithRawContent(d,r))return d._setCustomProperty("$rawContent",n.innerHTML),this._isBlockViewElement(d)||i.push(d),d;if(Ou(n))return d._setCustomProperty("$rawContent",n.data),d}yield d;const h=[];if(r.withChildren!==!1)for(const f of this.domChildrenToView(n,r,h))d._appendChild(f);if(this._isInlineObjectElement(d))i.push(d);else for(const f of h)i.push(f)}}_processDomInlineNodes(n,r,i){if(!r.length||n&&!this.isDocumentFragment(n)&&!this._isBlockDomElement(n))return;let l=!1;for(let d=0;d<r.length;d++){const h=r[d];if(!h.is("$text")){l=!1;continue}let f,k=!1;if(RW(h,this.preElements))f=JT(h.data);else{f=h.data.replace(/[ \n\t\r]{1,}/g," "),k=/[^\S\u00A0]/.test(f.charAt(f.length-1));const b=d>0?r[d-1]:null,v=d+1<r.length?r[d+1]:null,A=!b||b.is("element")&&b.name=="br"||l,E=!v&&!rr(h.data);i.withChildren!==!1&&(A&&(f=f.replace(/^ /,"")),E&&(f=f.replace(/ $/,""))),f=JT(f),f=f.replace(/ \u00A0/g,"  ");const I=v&&v.is("element")&&v.name!="br",P=v&&v.is("$text")&&v.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(f)||!v||I||P)&&(f=f.replace(/\u00A0$/," ")),(A||b&&b.is("element")&&b.name!="br")&&(f=f.replace(/^\u00A0/," "))}f.length==0&&h.parent?(h._remove(),r.splice(d,1),d--):(h._data=f,l=k)}r.length=0}_processDataFromViewText(n){let r=n.data;if(n.getAncestors().some(i=>this.preElements.includes(i.name)))return r;if(r.charAt(0)==" "){const i=this._getTouchingInlineViewNode(n,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(r=" "+r.substr(1))}if(r.charAt(r.length-1)==" "){const i=this._getTouchingInlineViewNode(n,!0),l=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";r.charAt(r.length-2)!=" "&&i&&!l||(r=r.substr(0,r.length-1)+" ")}return r.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const r=this._processDataFromViewText(n);return r.charAt(r.length-1)==" "}_getTouchingInlineViewNode(n,r){const i=new Ya({startPosition:r?we._createAfter(n):we._createBefore(n),direction:r?"forward":"backward"});for(const l of i){if(l.item.is("element","br"))return null;if(this._isInlineObjectElement(l.item))return l.item;if(l.item.is("containerElement"))return null;if(l.item.is("$textProxy"))return l.item}return null}_isBlockDomElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isBlockViewElement(n){return n.is("element")&&this.blockElements.includes(n.name)}_isInlineObjectElement(n){return!!n.is("element")&&(n.name=="br"||this.inlineObjectElements.includes(n.name)||!!this._inlineObjectElementMatcher.match(n))}_createViewElement(n,r){if(Ou(n))return new Ng(this.document,"$comment");const i=r.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new or(this.document,i)}_isViewElementWithRawContent(n,r){return r.withChildren!==!1&&n.is("element")&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const r=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(r)}_createReplacementDomElement(n,r){const i=this._domDocument.createElement("span");if(i.setAttribute(nI,n),r){for(;r.firstChild;)i.appendChild(r.firstChild);for(const l of r.getAttributeNames())i.setAttribute(l,r.getAttribute(l))}return i}}function RW(a,n){return a.getAncestors().some(r=>r.is("element")&&n.includes(r.name))}function oI(a,n){let r=a;for(;r;)n(r),r=r.parentElement}function rI(a,n){const r=a.parentNode;return!!r&&!!r.tagName&&n.includes(r.tagName.toLowerCase())}function iI(a){a==="script"&&U("domconverter-unsafe-script-element-detected"),a==="style"&&U("domconverter-unsafe-style-element-detected")}class _i extends Ar(){constructor(n){super(),this._isEnabled=!1,this.view=n,this.document=n.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!(!n||n.nodeType!==1)&&n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const sI=uT(function(a,n){dc(n,hc(n),a)});class vc{constructor(n,r,i){this.view=n,this.document=n.document,this.domEvent=r,this.domTarget=r.target,sI(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Fs extends _i{constructor(){super(...arguments),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(n,r,(i,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}stopObserving(n){this.stopListening(n)}fire(n,r,i){this.isEnabled&&this.document.fire(n,new vc(this.view,r,i))}}class OW extends Fs{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(n){const r={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return fc(this)}};this.fire(n.type,n,r)}}const ey=function(){return gt.Date.now()};var BW=/\s/;const LW=function(a){for(var n=a.length;n--&&BW.test(a.charAt(n)););return n};var jW=/^\s+/;const zW=function(a){return a&&a.slice(0,LW(a)+1).replace(jW,"")};var FW=/^[-+]0x[0-9a-f]+$/i,$W=/^0b[01]+$/i,VW=/^0o[0-7]+$/i,UW=parseInt;const aI=function(a){if(typeof a=="number")return a;if(Tg(a))return NaN;if(xe(a)){var n=typeof a.valueOf=="function"?a.valueOf():a;a=xe(n)?n+"":n}if(typeof a!="string")return a===0?a:+a;a=zW(a);var r=$W.test(a);return r||VW.test(a)?UW(a.slice(2),r?2:8):FW.test(a)?NaN:+a};var HW=Math.max,WW=Math.min;const yc=function(a,n,r){var i,l,d,h,f,k,b=0,v=!1,A=!1,E=!0;if(typeof a!="function")throw new TypeError("Expected a function");function I(K){var ee=i,ce=l;return i=l=void 0,b=K,h=a.apply(ce,ee)}function P(K){var ee=K-k;return k===void 0||ee>=n||ee<0||A&&K-b>=d}function L(){var K=ey();if(P(K))return F(K);f=setTimeout(L,function(ee){var ce=n-(ee-k);return A?WW(ce,d-(ee-b)):ce}(K))}function F(K){return f=void 0,E&&i?I(K):(i=l=void 0,h)}function W(){var K=ey(),ee=P(K);if(i=arguments,l=this,k=K,ee){if(f===void 0)return function(ce){return b=ce,f=setTimeout(L,n),v?I(ce):h}(k);if(A)return clearTimeout(f),f=setTimeout(L,n),I(k)}return f===void 0&&(f=setTimeout(L,n)),h}return n=aI(n)||0,xe(r)&&(v=!!r.leading,d=(A="maxWait"in r)?HW(aI(r.maxWait)||0,n):d,E="trailing"in r?!!r.trailing:E),W.cancel=function(){f!==void 0&&clearTimeout(f),b=0,i=k=l=f=void 0},W.flush=function(){return f===void 0?h:F(ey())},W};class qW extends _i{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=yc(r=>{this.document.fire("selectionChangeDone",r)},200)}observe(){const n=this.document;n.on("arrowKey",(r,i)=>{n.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),n.on("arrowKey",(r,i)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const r=this.document.selection,i=new ti(r.getRanges(),{backward:r.isBackward,fake:!1});n!=kt.arrowleft&&n!=kt.arrowup||i.setTo(i.getFirstPosition()),n!=kt.arrowright&&n!=kt.arrowdown||i.setTo(i.getLastPosition());const l={oldSelection:r,newSelection:i,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const GW=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},KW=function(a){return this.__data__.has(a)};function Bg(a){var n=-1,r=a==null?0:a.length;for(this.__data__=new dg;++n<r;)this.add(a[n])}Bg.prototype.add=Bg.prototype.push=GW,Bg.prototype.has=KW;const YW=Bg,QW=function(a,n){for(var r=-1,i=a==null?0:a.length;++r<i;)if(n(a[r],r,a))return!0;return!1},ZW=function(a,n){return a.has(n)},lI=function(a,n,r,i,l,d){var h=1&r,f=a.length,k=n.length;if(f!=k&&!(h&&k>f))return!1;var b=d.get(a),v=d.get(n);if(b&&v)return b==n&&v==a;var A=-1,E=!0,I=2&r?new YW:void 0;for(d.set(a,n),d.set(n,a);++A<f;){var P=a[A],L=n[A];if(i)var F=h?i(L,P,A,n,a,d):i(P,L,A,a,n,d);if(F!==void 0){if(F)continue;E=!1;break}if(I){if(!QW(n,function(W,K){if(!ZW(I,K)&&(P===W||l(P,W,r,i,d)))return I.push(K)})){E=!1;break}}else if(P!==L&&!l(P,L,r,i,d)){E=!1;break}}return d.delete(a),d.delete(n),E},JW=function(a){var n=-1,r=Array(a.size);return a.forEach(function(i,l){r[++n]=[l,i]}),r},XW=function(a){var n=-1,r=Array(a.size);return a.forEach(function(i){r[++n]=i}),r};var cI=Ht?Ht.prototype:void 0,ty=cI?cI.valueOf:void 0;const eq=function(a,n,r,i,l,d,h){switch(r){case"[object DataView]":if(a.byteLength!=n.byteLength||a.byteOffset!=n.byteOffset)return!1;a=a.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=n.byteLength||!d(new mg(a),new mg(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Qi(+a,+n);case"[object Error]":return a.name==n.name&&a.message==n.message;case"[object RegExp]":case"[object String]":return a==n+"";case"[object Map]":var f=JW;case"[object Set]":var k=1&i;if(f||(f=XW),a.size!=n.size&&!k)return!1;var b=h.get(a);if(b)return b==n;i|=2,h.set(a,n);var v=lI(f(a),f(n),i,l,d,h);return h.delete(a),v;case"[object Symbol]":if(ty)return ty.call(a)==ty.call(n)}return!1};var tq=Object.prototype.hasOwnProperty;const nq=function(a,n,r,i,l,d){var h=1&r,f=mv(a),k=f.length;if(k!=mv(n).length&&!h)return!1;for(var b=k;b--;){var v=f[b];if(!(h?v in n:tq.call(n,v)))return!1}var A=d.get(a),E=d.get(n);if(A&&E)return A==n&&E==a;var I=!0;d.set(a,n),d.set(n,a);for(var P=h;++b<k;){var L=a[v=f[b]],F=n[v];if(i)var W=h?i(F,L,v,n,a,d):i(L,F,v,a,n,d);if(!(W===void 0?L===F||l(L,F,r,i,d):W)){I=!1;break}P||(P=v=="constructor")}if(I&&!P){var K=a.constructor,ee=n.constructor;K==ee||!("constructor"in a)||!("constructor"in n)||typeof K=="function"&&K instanceof K&&typeof ee=="function"&&ee instanceof ee||(I=!1)}return d.delete(a),d.delete(n),I};var dI="[object Arguments]",uI="[object Array]",Lg="[object Object]",hI=Object.prototype.hasOwnProperty;const oq=function(a,n,r,i,l,d){var h=Zt(a),f=Zt(n),k=h?uI:Pu(a),b=f?uI:Pu(n),v=(k=k==dI?Lg:k)==Lg,A=(b=b==dI?Lg:b)==Lg,E=k==b;if(E&&Iu(a)){if(!Iu(n))return!1;h=!0,v=!1}if(E&&!v)return d||(d=new cc),h||pv(a)?lI(a,n,r,i,l,d):eq(a,n,k,r,i,l,d);if(!(1&r)){var I=v&&hI.call(a,"__wrapped__"),P=A&&hI.call(n,"__wrapped__");if(I||P){var L=I?a.value():a,F=P?n.value():n;return d||(d=new cc),l(L,F,r,i,d)}}return!!E&&(d||(d=new cc),nq(a,n,r,i,l,d))},jg=function a(n,r,i,l,d){return n===r||(n==null||r==null||!Ln(n)&&!Ln(r)?n!=n&&r!=r:oq(n,r,i,l,a,d))},rq=function(a,n,r){var i=(r=typeof r=="function"?r:void 0)?r(a,n):void 0;return i===void 0?jg(a,n,void 0,r):!!i};class pI extends _i{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.add(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}stopObserving(n){if(this._domElements.delete(n),this.isEnabled){this._mutationObserver.disconnect();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const r=this.domConverter,i=new Set,l=new Set;for(const h of n){const f=r.mapDomToView(h.target);f&&(f.is("uiElement")||f.is("rawElement")||h.type!=="childList"||this._isBogusBrMutation(h)||l.add(f))}for(const h of n){const f=r.mapDomToView(h.target);if((!f||!f.is("uiElement")&&!f.is("rawElement"))&&h.type==="characterData"){const k=r.findCorrespondingViewText(h.target);k&&!l.has(k.parent)?i.add(k):!k&&rr(h.target)&&l.add(r.mapDomToView(h.target.parentNode))}}let d=!1;for(const h of i)d=!0,this.renderer.markToSync("text",h);for(const h of l){const f=r.mapViewToDom(h),k=Array.from(h.getChildren()),b=Array.from(r.domChildrenToView(f,{withChildren:!1}));rq(k,b,iq)||(d=!0,this.renderer.markToSync("children",h))}d&&this.view.forceRender()}_isBogusBrMutation(n){let r=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(r=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),r&&r.is("element","br")}}function iq(a,n){if(!Array.isArray(a))return a===n||!(!a.is("$text")||!n.is("$text"))&&a.data===n.data}class zg extends Fs{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const r=this.document;r.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),r.on("blur",(i,l)=>{const d=r.selection.editableElement;d!==null&&d!==l.target||(r.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class sq extends _i{constructor(n){super(n),this.mutationObserver=n.getObserver(pI),this.focusObserver=n.getObserver(zg),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=yc(r=>{this.document.fire("selectionChangeDone",r)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=yc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const r=n.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,r),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(n,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(r)||(this.listenTo(r,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(r,"selectionchange",(l,d)=>{this.document.isComposing&&!_.isAndroid||(this._handleSelectionChange(d,r),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(r))}stopObserving(n){this.stopListening(n)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(n,r){if(!this.isEnabled)return;const i=r.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(i);if(l.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(l)||!this.domConverter.isDomSelectionCorrect(i))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(l))this.view.forceRender();else{const d={oldSelection:this.selection,newSelection:l,domSelection:i};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class aq extends Fs{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const r=this.document;r.on("compositionstart",()=>{r.isComposing=!0},{priority:"low"}),r.on("compositionend",()=>{r.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class fI{constructor(n,r={}){this._files=r.cacheFiles?gI(n):null,this._native=n}get files(){return this._files||(this._files=gI(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,r){this._native.setData(n,r)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}setDragImage(n,r,i){this._native.setDragImage(n,r,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function gI(a){const n=Array.from(a.files||[]),r=Array.from(a.items||[]);return n.length?n:r.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class lq extends Fs{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(n){const r=n.getTargetRanges(),i=this.view,l=i.document;let d=null,h=null,f=[];if(n.dataTransfer&&(d=new fI(n.dataTransfer)),n.data!==null?h=n.data:d&&(h=d.getData("text/plain")),l.selection.isFake)f=Array.from(l.selection.getRanges());else if(r.length)f=r.map(k=>{const b=i.domConverter.domPositionToView(k.startContainer,k.startOffset),v=i.domConverter.domPositionToView(k.endContainer,k.endOffset);return b?i.createRange(b,v):v?i.createRange(v):void 0}).filter(k=>!!k);else if(_.isAndroid){const k=n.target.ownerDocument.defaultView.getSelection();f=Array.from(i.domConverter.domSelectionToView(k).getRanges())}if(_.isAndroid&&n.inputType=="insertCompositionText"&&h&&h.endsWith(`
`))this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[i.createRange(f[0].end)]});else if(n.inputType=="insertText"&&h&&h.includes(`
`)){const k=h.split(/\n{1,2}/g);let b=f;for(let v=0;v<k.length;v++){const A=k[v];A!=""&&(this.fire(n.type,n,{data:A,dataTransfer:d,targetRanges:b,inputType:n.inputType,isComposing:n.isComposing}),b=[l.selection.getFirstRange()]),v+1<k.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:b}),b=[l.selection.getFirstRange()])}}else this.fire(n.type,n,{data:h,dataTransfer:d,targetRanges:f,inputType:n.inputType,isComposing:n.isComposing})}}class cq extends _i{constructor(n){super(n),this.document.on("keydown",(r,i)=>{if(this.isEnabled&&((l=i.keyCode)==kt.arrowright||l==kt.arrowleft||l==kt.arrowup||l==kt.arrowdown)){const d=new kc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(d,i),d.stop.called&&r.stop()}var l})}observe(){}stopObserving(){}}class dq extends _i{constructor(n){super(n);const r=this.document;r.on("keydown",(i,l)=>{if(!this.isEnabled||l.keyCode!=kt.tab||l.ctrlKey)return;const d=new kc(r,"tab",r.selection.getFirstRange());r.fire(d,l),d.stop.called&&i.stop()})}observe(){}stopObserving(){}}const oi=function(a){return _v(a,5)};class uq extends Q(){constructor(n){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Pg(n),this.domConverter=new Og(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new SW(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new HT(this.document),this.addObserver(pI),this.addObserver(zg),this.addObserver(sq),this.addObserver(OW),this.addObserver(qW),this.addObserver(aq),this.addObserver(cq),this.addObserver(lq),this.addObserver(dq),this.document.on("arrowKey",xW,{priority:"low"}),vW(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),_.isiOS&&this.listenTo(this.document,"blur",(r,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(n,r="main"){const i=this.document.getRoot(r);i._name=n.tagName.toLowerCase();const l={};for(const{name:h,value:f}of Array.from(n.attributes))l[h]=f,h==="class"?this._writer.addClass(f.split(" "),i):this._writer.setAttribute(h,f,i);this._initialDomRootAttributes.set(n,l);const d=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};d(),this.domRoots.set(r,n),this.domConverter.bindElements(n,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(n.ownerDocument),i.on("change:children",(h,f)=>this._renderer.markToSync("children",f)),i.on("change:attributes",(h,f)=>this._renderer.markToSync("attributes",f)),i.on("change:text",(h,f)=>this._renderer.markToSync("text",f)),i.on("change:isReadOnly",()=>this.change(d)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const h of this._observers.values())h.observe(n,r)}detachDomRoot(n){const r=this.domRoots.get(n);Array.from(r.attributes).forEach(({name:l})=>r.removeAttribute(l));const i=this._initialDomRootAttributes.get(r);for(const l in i)r.setAttribute(l,i[l]);this.domRoots.delete(n),this.domConverter.unbindDomElement(r);for(const l of this._observers.values())l.stopObserving(r)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let r=this._observers.get(n);if(r)return r;r=new n(this),this._observers.set(n,r);for(const[i,l]of this.domRoots)r.observe(l,i);return r.enable(),r}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection({alignToTop:n,forceScroll:r,viewportOffset:i=20,ancestorOffset:l=20}={}){const d=this.document.selection.getFirstRange();if(!d)return;const h=oi({alignToTop:n,forceScroll:r,viewportOffset:i,ancestorOffset:l});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const f={target:this.domConverter.viewRangeToDom(d),viewportOffset:i,ancestorOffset:l,alignToTop:n,forceScroll:r};this.fire("scrollToTheSelection",f,h),function({target:k,viewportOffset:b=0,ancestorOffset:v=0,alignToTop:A,forceScroll:E}){const I=xv(k);let P=I,L=null;for(b=function(F){return typeof F=="number"?{top:F,bottom:F,left:F,right:F}:F}(b);P;){let F;F=wH(P==I?k:L),bH({parent:F,getRect:()=>sT(k,P),alignToTop:A,ancestorOffset:v,forceScroll:E});const W=sT(k,P);if(kH({window:P,rect:W,viewportOffset:b,alignToTop:A,forceScroll:E}),P.parent!=P){if(L=P.frameElement,P=P.parent,!L)return}else P=null}}(f)}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const r=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(r){M.rethrowUnexpectedError(r,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(zg).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,r){return we._createAt(n,r)}createPositionAfter(n){return we._createAfter(n)}createPositionBefore(n){return we._createBefore(n)}createRange(n,r){return new Ge(n,r)}createRangeOn(n){return Ge._createOn(n)}createRangeIn(n){return Ge._createIn(n)}createSelection(...n){return new ti(...n)}_disableRendering(n){this._renderingDisabled=n,n==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class $s{is(){throw new Error("is() method is abstract")}}class Ja extends $s{constructor(n){super(),this.parent=null,this._attrs=wi(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new M("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new M("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.startOffset),r=r.parent;return n}getAncestors(n={}){const r=[];let i=n.includeSelf?this:this.parent;for(;i;)r[n.parentFirst?"push":"unshift"](i),i=i.parent;return r}getCommonAncestor(n,r={}){const i=this.getAncestors(r),l=n.getAncestors(r);let d=0;for(;i[d]==l[d]&&i[d];)d++;return d===0?null:i[d-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),i=n.getPath(),l=Oe(r,i);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<i[l]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((r,i)=>(r[i[0]]=i[1],r),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,r){this._attrs.set(n,r)}_setAttributesTo(n){this._attrs=wi(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}Ja.prototype.is=function(a){return a==="node"||a==="model:node"};class Uu{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,r)=>n+r.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const r=this._nodes.indexOf(n);return r==-1?null:r}getNodeStartOffset(n){const r=this.getNodeIndex(n);return r===null?null:this._nodes.slice(0,r).reduce((i,l)=>i+l.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const r=this._nodes[n];if(!r)throw new M("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(r)}offsetToIndex(n){let r=0;for(const i of this._nodes){if(n>=r&&n<r+i.offsetSize)return this.getNodeIndex(i);r+=i.offsetSize}if(r!=n)throw new M("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,r){for(const i of r)if(!(i instanceof Ja))throw new M("model-nodelist-insertnodes-not-node",this);this._nodes=function(i,l,d,h){if(Math.max(l.length,i.length)>1e4)return i.slice(0,d).concat(l).concat(i.slice(d+h,i.length));{const f=Array.from(i);return f.splice(d,h,...l),f}}(this._nodes,Array.from(r),n,0)}_removeNodes(n,r=1){return this._nodes.splice(n,r)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class Vt extends Ja{constructor(n,r){super(r),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new Vt(this.data,this.getAttributes())}static fromJSON(n){return new Vt(n.data,n.attributes)}}Vt.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class ri extends $s{constructor(n,r,i){if(super(),this.textNode=n,r<0||r>n.offsetSize)throw new M("model-textproxy-wrong-offsetintext",this);if(i<0||r+i>n.offsetSize)throw new M("model-textproxy-wrong-length",this);this.data=n.data.substring(r,r+i),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const r=[];let i=n.includeSelf?this:this.parent;for(;i;)r[n.parentFirst?"push":"unshift"](i),i=i.parent;return r}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ri.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class Ot extends Ja{constructor(n,r,i){super(r),this._children=new Uu,this.name=n,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let r=this;for(const i of n)r=r.getChild(r.offsetToIndex(i));return r}findAncestor(n,r={}){let i=r.includeSelf?this:this.parent;for(;i;){if(i.name===n)return i;i=i.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const r of this._children)n.children.push(r.toJSON())}return n}_clone(n=!1){const r=n?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new Ot(this.name,this.getAttributes(),r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const i=function(l){return typeof l=="string"?[new Vt(l)]:(et(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Vt(d):d instanceof ri?new Vt(d.data,d.getAttributes()):d))}(r);for(const l of i)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,i)}_removeChildren(n,r=1){const i=this._children._removeNodes(n,r);for(const l of i)l.parent=null;return i}static fromJSON(n){let r;if(n.children){r=[];for(const i of n.children)i.name?r.push(Ot.fromJSON(i)):r.push(Vt.fromJSON(i))}return new Ot(n.name,n.attributes,r)}}Ot.prototype.is=function(a,n){return n?n===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class Ji{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new M("model-tree-walker-no-start-position",null);const r=n.direction||"forward";if(r!="forward"&&r!="backward")throw new M("model-tree-walker-unknown-direction",n,{direction:r});this.direction=r,this.boundaries=n.boundaries||null,n.startPosition?this._position=n.startPosition.clone():this._position=ue._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let r,i,l,d;do l=this.position,d=this._visitedParent,{done:r,value:i}=this.next();while(!r&&n(i));r||(this._position=l,this._visitedParent=d)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,r=this.position.clone(),i=this._visitedParent;if(i.parent===null&&r.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=Hu(r,i),d=l||mI(r,i,l);if(d instanceof Ot){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(r))return{done:!0,value:void 0};r.offset++}else r.path.push(0),this._visitedParent=d;return this._position=r,Xa("elementStart",d,n,r,1)}if(d instanceof Vt){let h;if(this.singleCharacters)h=1;else{let b=d.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<b&&(b=this.boundaries.end.offset),h=b-r.offset}const f=r.offset-d.startOffset,k=new ri(d,f,h);return r.offset+=h,this._position=r,Xa("text",k,n,r,h)}return r.path.pop(),r.offset++,this._position=r,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Xa("elementEnd",i,n,r)}_previous(){const n=this.position,r=this.position.clone(),i=this._visitedParent;if(i.parent===null&&r.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=r.parent,d=Hu(r,l),h=d||kI(r,l,d);if(h instanceof Ot)return r.offset--,this.shallow?(this._position=r,Xa("elementStart",h,n,r,1)):(r.path.push(h.maxOffset),this._position=r,this._visitedParent=h,this.ignoreElementEnd?this._previous():Xa("elementEnd",h,n,r));if(h instanceof Vt){let f;if(this.singleCharacters)f=1;else{let v=h.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>v&&(v=this.boundaries.start.offset),f=r.offset-v}const k=r.offset-h.startOffset,b=new ri(h,k-f,f);return r.offset-=f,this._position=r,Xa("text",b,n,r,f)}return r.path.pop(),this._position=r,this._visitedParent=i.parent,Xa("elementStart",i,n,r,1)}}function Xa(a,n,r,i,l){return{done:!1,value:{type:a,item:n,previousPosition:r,nextPosition:i,length:l}}}class ue extends $s{constructor(n,r,i="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new M("model-position-root-invalid",n);if(!(r instanceof Array)||r.length===0)throw new M("model-position-path-incorrect-format",n,{path:r});n.is("rootElement")?r=r.slice():(r=[...n.getPath(),...r],n=n.root),this.root=n,this.path=r,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let r=0;r<this.path.length-1;r++)if(n=n.getChild(n.offsetToIndex(this.path[r])),!n)throw new M("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new M("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Hu(this,this.parent)}get nodeAfter(){const n=this.parent;return mI(this,n,Hu(this,n))}get nodeBefore(){const n=this.parent;return kI(this,n,Hu(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const r=Oe(this.path,n.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<n.path[r]?"before":"after"}}getLastMatchingPosition(n,r={}){r.startPosition=this;const i=new Ji(r);return i.skip(n),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const r=this.parent;return r.is("element")?r.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const r=Oe(this.path,n.path),i=typeof r=="string"?Math.min(this.path.length,n.path.length):r;return this.path.slice(0,i)}getCommonAncestor(n){const r=this.getAncestors(),i=n.getAncestors();let l=0;for(;r[l]==i[l]&&r[l];)l++;return l===0?null:r[l-1]}getShiftedBy(n){const r=this.clone(),i=r.offset+n;return r.offset=i<0?0:i,r}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const r=Math.min(this.path.length,n.path.length);for(let i=0;i<r;i++){const l=this.path[i]-n.path[i];if(l<-1||l>1)return!1;if(l===1)return bI(n,this,i);if(l===-1)return bI(this,n,i)}return this.path.length===n.path.length||(this.path.length>n.path.length?ny(this.path,r):ny(n.path,r))}hasSameParentAs(n){return this.root!==n.root?!1:Oe(this.getParentPath(),n.getParentPath())=="same"}getTransformedByOperation(n){let r;switch(n.type){case"insert":r=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(n);break;case"split":r=this._getTransformedBySplitOperation(n);break;case"merge":r=this._getTransformedByMergeOperation(n);break;default:r=ue._createAt(this)}return r}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const r=n.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const r=n.movedRange;let i;return r.containsPosition(this)||r.start.isEqual(this)?(i=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(i=i._getTransformedByDeletion(n.deletionPosition,1))):i=this.isEqual(n.deletionPosition)?ue._createAt(n.deletionPosition):this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),i}_getTransformedByDeletion(n,r){const i=ue._createAt(this);if(this.root!=n.root)return i;if(Oe(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+r>this.offset)return null;i.offset-=r}}else if(Oe(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;if(n.offset<=this.path[l]){if(n.offset+r>this.path[l])return null;i.path[l]-=r}}return i}_getTransformedByInsertion(n,r){const i=ue._createAt(this);if(this.root!=n.root)return i;if(Oe(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=r);else if(Oe(n.getParentPath(),this.getParentPath())=="prefix"){const l=n.path.length-1;n.offset<=this.path[l]&&(i.path[l]+=r)}return i}_getTransformedByMove(n,r,i){if(r=r._getTransformedByDeletion(n,i),n.isEqual(r))return ue._createAt(this);const l=this._getTransformedByDeletion(n,i);return l===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,r):l._getTransformedByInsertion(r,i)}_getCombined(n,r){const i=n.path.length-1,l=ue._createAt(r);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[i]-n.offset,l.path=[...l.path,...this.path.slice(i+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,r,i="toNone"){if(n instanceof ue)return new ue(n.root,n.path,n.stickiness);{const l=n;if(r=="end")r=l.maxOffset;else{if(r=="before")return this._createBefore(l,i);if(r=="after")return this._createAfter(l,i);if(r!==0&&!r)throw new M("model-createpositionat-offset-required",[this,n])}if(!l.is("element")&&!l.is("documentFragment"))throw new M("model-position-parent-incorrect",[this,n]);const d=l.getPath();return d.push(r),new this(l.root,d,i)}}static _createAfter(n,r){if(!n.parent)throw new M("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,r)}static _createBefore(n,r){if(!n.parent)throw new M("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,r)}static fromJSON(n,r){if(n.root==="$graveyard"){const i=new ue(r.graveyard,n.path);return i.stickiness=n.stickiness,i}if(!r.getRoot(n.root))throw new M("model-position-fromjson-no-root",r,{rootName:n.root});return new ue(r.getRoot(n.root),n.path,n.stickiness)}}function Hu(a,n){const r=n.getChild(n.offsetToIndex(a.offset));return r&&r.is("$text")&&r.startOffset<a.offset?r:null}function mI(a,n,r){return r!==null?null:n.getChild(n.offsetToIndex(a.offset))}function kI(a,n,r){return r!==null?null:n.getChild(n.offsetToIndex(a.offset)-1)}function bI(a,n,r){return r+1!==a.path.length&&!!ny(n.path,r+1)&&!!function(i,l){let d=i.parent,h=i.path.length-1,f=0;for(;h>=l;){if(i.path[h]+f!==d.maxOffset)return!1;f=1,h--,d=d.parent}return!0}(a,r+1)}function ny(a,n){for(;n<a.length;){if(a[n]!==0)return!1;n++}return!0}ue.prototype.is=function(a){return a==="position"||a==="model:position"};class ne extends $s{constructor(n,r){super(),this.start=ue._createAt(n),this.end=r?ue._createAt(r):ue._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ji({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Oe(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const i=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),l=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return i&&l}containsItem(n){const r=ue._createBefore(n);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new ne(this.start,n.start)),this.containsPosition(n.end)&&r.push(new ne(n.end,this.end))):r.push(new ne(this.start,this.end)),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,i=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(i=n.end),new ne(r,i)}return null}getJoined(n,r=!1){let i=this.isIntersecting(n);if(i||(i=this.start.isBefore(n.start)?r?this.end.isTouching(n.start):this.end.isEqual(n.start):r?n.end.isTouching(this.start):n.end.isEqual(this.start)),!i)return null;let l=this.start,d=this.end;return n.start.isBefore(l)&&(l=n.start),n.end.isAfter(d)&&(d=n.end),new ne(l,d)}getMinimalFlatRanges(){const n=[],r=this.start.getCommonPath(this.end).length,i=ue._createAt(this.start);let l=i.parent;for(;i.path.length>r+1;){const d=l.maxOffset-i.offset;d!==0&&n.push(new ne(i,i.getShiftedBy(d))),i.path=i.path.slice(0,-1),i.offset++,l=l.parent}for(;i.path.length<=this.end.path.length;){const d=this.end.path[i.path.length-1],h=d-i.offset;h!==0&&n.push(new ne(i,i.getShiftedBy(h))),i.offset=d,i.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new Ji(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new Ji(n);for(const i of r)yield i.item}*getPositions(n={}){n.boundaries=this;const r=new Ji(n);yield r.position;for(const i of r)yield i.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new ne(this.start,this.end)]}getTransformedByOperations(n){const r=[new ne(this.start,this.end)];for(const i of n)for(let l=0;l<r.length;l++){const d=r[l].getTransformedByOperation(i);r.splice(l,1,...d),l+=d.length-1}for(let i=0;i<r.length;i++){const l=r[i];for(let d=i+1;d<r.length;d++){const h=r[d];(l.containsRange(h)||h.containsRange(l)||l.isEqual(h))&&r.splice(d,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,r=this.end.nodeBefore;return n&&n.is("element")&&n===r?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,r=!1){return this._getTransformedByInsertion(n.position,n.howMany,r)}_getTransformedByMoveOperation(n,r=!1){const i=n.sourcePosition,l=n.howMany,d=n.targetPosition;return this._getTransformedByMove(i,d,l,r)}_getTransformedBySplitOperation(n){const r=this.start._getTransformedBySplitOperation(n);let i=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(i=this.end.getShiftedBy(1)),r.root!=i.root&&(i=this.end.getShiftedBy(-1)),new ne(r,i)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new ne(this.start);let r=this.start._getTransformedByMergeOperation(n),i=this.end._getTransformedByMergeOperation(n);return r.root!=i.root&&(i=this.end.getShiftedBy(-1)),r.isAfter(i)?(n.sourcePosition.isBefore(n.targetPosition)?(r=ue._createAt(i),r.offset=0):(n.deletionPosition.isEqual(r)||(i=n.deletionPosition),r=n.targetPosition),new ne(r,i)):new ne(r,i)}_getTransformedByInsertion(n,r,i=!1){if(i&&this.containsPosition(n))return[new ne(this.start,n),new ne(n.getShiftedBy(r),this.end._getTransformedByInsertion(n,r))];{const l=new ne(this.start,this.end);return l.start=l.start._getTransformedByInsertion(n,r),l.end=l.end._getTransformedByInsertion(n,r),[l]}}_getTransformedByMove(n,r,i,l=!1){if(this.isCollapsed){const A=this.start._getTransformedByMove(n,r,i);return[new ne(A)]}const d=ne._createFromPositionAndShift(n,i),h=r._getTransformedByDeletion(n,i);if(this.containsPosition(r)&&!l&&(d.containsPosition(this.start)||d.containsPosition(this.end))){const A=this.start._getTransformedByMove(n,r,i),E=this.end._getTransformedByMove(n,r,i);return[new ne(A,E)]}let f;const k=this.getDifference(d);let b=null;const v=this.getIntersection(d);if(k.length==1?b=new ne(k[0].start._getTransformedByDeletion(n,i),k[0].end._getTransformedByDeletion(n,i)):k.length==2&&(b=new ne(this.start,this.end._getTransformedByDeletion(n,i))),f=b?b._getTransformedByInsertion(h,i,v!==null||l):[],v){const A=new ne(v.start._getCombined(d.start,h),v.end._getCombined(d.start,h));f.length==2?f.splice(1,0,A):f.push(A)}return f}_getTransformedByDeletion(n,r){let i=this.start._getTransformedByDeletion(n,r),l=this.end._getTransformedByDeletion(n,r);return i==null&&l==null?null:(i==null&&(i=n),l==null&&(l=n),new ne(i,l))}static _createFromPositionAndShift(n,r){const i=n,l=n.getShiftedBy(r);return r>0?new this(i,l):new this(l,i)}static _createIn(n){return new this(ue._createAt(n,0),ue._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(ue._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new M("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const r=n[0];n.sort((d,h)=>d.start.isAfter(h.start)?1:-1);const i=n.indexOf(r),l=new this(r.start,r.end);if(i>0)for(let d=i-1;n[d].end.isEqual(l.start);d++)l.start=ue._createAt(n[d].start);for(let d=i+1;d<n.length&&n[d].start.isEqual(l.end);d++)l.end=ue._createAt(n[d].end);return l}static fromJSON(n,r){return new this(ue.fromJSON(n.start,r),ue.fromJSON(n.end,r))}}ne.prototype.is=function(a){return a==="range"||a==="model:range"};class wI extends q(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,r)=>{if(r.viewPosition)return;const i=this._modelToViewMapping.get(r.modelPosition.parent);if(!i)throw new M("mapping-model-position-view-parent-not-found",this,{modelPosition:r.modelPosition});r.viewPosition=this.findPositionIn(i,r.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,r)=>{if(r.modelPosition)return;const i=this.findMappedViewAncestor(r.viewPosition),l=this._viewToModelMapping.get(i),d=this._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,i);r.modelPosition=ue._createAt(l,d)},{priority:"low"})}bindElements(n,r){this._modelToViewMapping.set(n,r),this._viewToModelMapping.set(r,n)}unbindViewElement(n,r={}){const i=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const l of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(l);r.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(i)==n&&this._modelToViewMapping.delete(i))}unbindModelElement(n){const r=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(r)==n&&this._viewToModelMapping.delete(r)}bindElementToMarker(n,r){const i=this._markerNameToElements.get(r)||new Set;i.add(n);const l=this._elementToMarkerNames.get(n)||new Set;l.add(r),this._markerNameToElements.set(r,i),this._elementToMarkerNames.set(n,l)}unbindElementFromMarkerName(n,r){const i=this._markerNameToElements.get(r);i&&(i.delete(n),i.size==0&&this._markerNameToElements.delete(r));const l=this._elementToMarkerNames.get(n);l&&(l.delete(r),l.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,r]of this._deferredBindingRemovals)n.root==r&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new ne(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new Ge(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const r={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}toViewPosition(n,r={}){const i={modelPosition:n,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(n){const r=this._markerNameToElements.get(n);if(!r)return null;const i=new Set;for(const l of r)if(l.is("attributeElement"))for(const d of l.getElementsWithSameId())i.add(d);else i.add(l);return i}registerViewToModelLength(n,r){this._viewToModelLengthCallbacks.set(n,r)}findMappedViewAncestor(n){let r=n.parent;for(;!this._viewToModelMapping.has(r);)r=r.parent;return r}_toModelOffset(n,r,i){if(i!=n)return this._toModelOffset(n.parent,n.index,i)+this._toModelOffset(n,r,n);if(n.is("$text"))return r;let l=0;for(let d=0;d<r;d++)l+=this.getModelLength(n.getChild(d));return l}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let r=0;for(const i of n.getChildren())r+=this.getModelLength(i);return r}}findPositionIn(n,r){let i,l=0,d=0,h=0;if(n.is("$text"))return new we(n,r);for(;d<r;)i=n.getChild(h),l=this.getModelLength(i),d+=l,h++;return d==r?this._moveViewPositionToTextNode(new we(n,h)):this.findPositionIn(i,r-(d-l))}_moveViewPositionToTextNode(n){const r=n.nodeBefore,i=n.nodeAfter;return r instanceof $t?new we(r,r.data.length):i instanceof $t?new we(i,0):n}}class hq{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,r){r=Fg(r),n instanceof ri&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(r,!0)}consume(n,r){return r=Fg(r),n instanceof ri&&(n=this._getSymbolForTextProxy(n)),!!this.test(n,r)&&(this._consumable.get(n).set(r,!1),!0)}test(n,r){r=Fg(r),n instanceof ri&&(n=this._getSymbolForTextProxy(n));const i=this._consumable.get(n);if(i===void 0)return null;const l=i.get(r);return l===void 0?null:l}revert(n,r){r=Fg(r),n instanceof ri&&(n=this._getSymbolForTextProxy(n));const i=this.test(n,r);return i===!1?(this._consumable.get(n).set(r,!0),!0):i!==!0&&null}verifyAllConsumed(n){const r=[];for(const[i,l]of this._consumable)for(const[d,h]of l){const f=d.split(":")[0];h&&n==f&&r.push({event:d,item:i.name||i.description})}if(r.length)throw new M("conversion-model-consumable-not-consumed",null,{items:r})}_getSymbolForTextProxy(n){let r=null;const i=this._textProxyRegistry.get(n.startOffset);if(i){const l=i.get(n.endOffset);l&&(r=l.get(n.parent))}return r||(r=this._addSymbolForTextProxy(n)),r}_addSymbolForTextProxy(n){const r=n.startOffset,i=n.endOffset,l=n.parent,d=Symbol("$textProxy:"+n.data);let h,f;return h=this._textProxyRegistry.get(r),h||(h=new Map,this._textProxyRegistry.set(r,h)),f=h.get(i),f||(f=new Map,h.set(i,f)),f.set(l,d),d}}function Fg(a){const n=a.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?a:n.length>1?n[0]+":"+n[1]:n[0]}var pq=Object.defineProperty,fq=Object.defineProperties,gq=Object.getOwnPropertyDescriptors,vI=Object.getOwnPropertySymbols,mq=Object.prototype.hasOwnProperty,kq=Object.prototype.propertyIsEnumerable,yI=(a,n,r)=>n in a?pq(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,oy=(a,n)=>{for(var r in n||(n={}))mq.call(n,r)&&yI(a,r,n[r]);if(vI)for(var r of vI(n))kq.call(n,r)&&yI(a,r,n[r]);return a},_I=(a,n)=>fq(a,gq(n));class CI extends q(){constructor(n){super(),this._conversionApi=oy({dispatcher:this},n),this._firedEventsMap=new WeakMap}convertChanges(n,r,i){const l=this._createConversionApi(i,n.getRefreshedItems());for(const h of n.getMarkersToRemove())this._convertMarkerRemove(h.name,h.range,l);const d=this._reduceChanges(n.getChanges());for(const h of d)h.type==="insert"?this._convertInsert(ne._createFromPositionAndShift(h.position,h.length),l):h.type==="reinsert"?this._convertReinsert(ne._createFromPositionAndShift(h.position,h.length),l):h.type==="remove"?this._convertRemove(h.position,h.length,h.name,l):this._convertAttribute(h.range,h.attributeKey,h.attributeOldValue,h.attributeNewValue,l);l.mapper.flushDeferredBindings();for(const h of l.mapper.flushUnboundMarkerNames()){const f=r.get(h).getRange();this._convertMarkerRemove(h,f,l),this._convertMarkerAdd(h,f,l)}for(const h of n.getMarkersToAdd())this._convertMarkerAdd(h.name,h.range,l);l.consumable.verifyAllConsumed("insert")}convert(n,r,i,l={}){const d=this._createConversionApi(i,void 0,l);this._convertInsert(n,d);for(const[h,f]of r)this._convertMarkerAdd(h,f,d);d.consumable.verifyAllConsumed("insert")}convertSelection(n,r,i){const l=this._createConversionApi(i);this.fire("cleanSelection",{selection:n},l);const d=n.getFirstPosition().root;if(!l.mapper.toViewElement(d))return;const h=Array.from(r.getMarkersAtPosition(n.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,n,h),this.fire("selection",{selection:n},l),n.isCollapsed){for(const f of h)if(l.consumable.test(n,"addMarker:"+f.name)){const k=f.getRange();if(!bq(n.getFirstPosition(),f,l.mapper))continue;const b={item:n,markerName:f.name,markerRange:k};this.fire(`addMarker:${f.name}`,b,l)}for(const f of n.getAttributeKeys())if(l.consumable.test(n,"attribute:"+f)){const k={item:n,range:n.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:n.getAttribute(f)};this.fire(`attribute:${f}:$text`,k,l)}}}_convertInsert(n,r,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(r.consumable,n);for(const l of Array.from(n.getWalker({shallow:!0})).map(AI))this._testAndFire("insert",l,r)}_convertRemove(n,r,i,l){this.fire(`remove:${i}`,{position:n,length:r},l)}_convertAttribute(n,r,i,l,d){this._addConsumablesForRange(d.consumable,n,`attribute:${r}`);for(const h of n){const f={item:h.item,range:ne._createFromPositionAndShift(h.previousPosition,h.length),attributeKey:r,attributeOldValue:i,attributeNewValue:l};this._testAndFire(`attribute:${r}`,f,d)}}_convertReinsert(n,r){const i=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(r.consumable,i);for(const l of i.map(AI))this._testAndFire("insert",_I(oy({},l),{reconversion:!0}),r)}_convertMarkerAdd(n,r,i){if(r.root.rootName=="$graveyard")return;const l=`addMarker:${n}`;if(i.consumable.add(r,l),this.fire(l,{markerName:n,markerRange:r},i),i.consumable.consume(r,l)){this._addConsumablesForRange(i.consumable,r,l);for(const d of r.getItems()){if(!i.consumable.test(d,l))continue;const h={item:d,range:ne._createOn(d),markerName:n,markerRange:r};this.fire(l,h,i)}}}_convertMarkerRemove(n,r,i){r.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:r},i)}_reduceChanges(n){const r={changes:n};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(n,r){for(const i of r){const l=i.item;if(n.test(l,"insert")===null){n.add(l,"insert");for(const d of l.getAttributeKeys())n.add(l,"attribute:"+d)}}return n}_addConsumablesForRange(n,r,i){for(const l of r.getItems())n.add(l,i);return n}_addConsumablesForSelection(n,r,i){n.add(r,"selection");for(const l of i)n.add(r,"addMarker:"+l.name);for(const l of r.getAttributeKeys())n.add(r,"attribute:"+l);return n}_testAndFire(n,r,i){const l=function(k,b){const v=b.item.is("element")?b.item.name:"$text";return`${k}:${v}`}(n,r),d=r.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(r.item):r.item,h=this._firedEventsMap.get(i),f=h.get(d);if(f){if(f.has(l))return;f.add(l)}else h.set(d,new Set([l]));this.fire(l,r,i)}_testAndFireAddAttributes(n,r){const i={item:n,range:ne._createOn(n)};for(const l of i.item.getAttributeKeys())i.attributeKey=l,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(l),this._testAndFire(`attribute:${l}`,i,r)}_createConversionApi(n,r=new Set,i={}){const l=_I(oy({},this._conversionApi),{consumable:new hq,writer:n,options:i,convertItem:d=>this._convertInsert(ne._createOn(d),l),convertChildren:d=>this._convertInsert(ne._createIn(d),l,{doNotAddConsumables:!0}),convertAttributes:d=>this._testAndFireAddAttributes(d,l),canReuseView:d=>!r.has(l.mapper.toModelElement(d))});return this._firedEventsMap.set(l,new Map),l}}function bq(a,n,r){const i=n.getRange(),l=Array.from(a.getAncestors());return l.shift(),l.reverse(),!l.some(d=>{if(i.containsItem(d))return!!r.toViewElement(d).getCustomProperty("addHighlight")})}function AI(a){return{item:a.item,range:ne._createFromPositionAndShift(a.previousPosition,a.length)}}class ir extends q($s){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let i=!1;for(const l of n._ranges)if(r.isEqual(l)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new ne(n.start,n.end)}getFirstRange(){let n=null;for(const r of this._ranges)n&&!r.start.isBefore(n.start)||(n=r);return n?new ne(n.start,n.end):null}getLastRange(){let n=null;for(const r of this._ranges)n&&!r.end.isAfter(n.end)||(n=r);return n?new ne(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[r,i,l]=n;if(typeof i=="object"&&(l=i,i=void 0),r===null)this._setRanges([]);else if(r instanceof ir)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof ne)this._setRanges([r],!!l&&!!l.backward);else if(r instanceof ue)this._setRanges([new ne(r)]);else if(r instanceof Ja){const d=!!l&&!!l.backward;let h;if(i=="in")h=ne._createIn(r);else if(i=="on")h=ne._createOn(r);else{if(i===void 0)throw new M("model-selection-setto-required-second-parameter",[this,r]);h=new ne(ue._createAt(r,i))}this._setRanges([h],d)}else{if(!et(r))throw new M("model-selection-setto-not-selectable",[this,r]);this._setRanges(r,l&&!!l.backward)}}_setRanges(n,r=!1){const i=Array.from(n),l=i.some(d=>{if(!(d instanceof ne))throw new M("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(h=>!h.isEqual(d))});(i.length!==this._ranges.length||l)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(n,r){if(this.anchor===null)throw new M("model-selection-setfocus-no-ranges",[this,n]);const i=ue._createAt(n,r);if(i.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(l)=="before"?(this._pushRange(new ne(i,l)),this._lastRangeBackward=!0):(this._pushRange(new ne(l,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,r){this.getAttribute(n)!==r&&(this._attrs.set(n,r),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const r of this.getRanges()){const i=EI(r.start,n);vq(i,r)&&(yield i);for(const d of r.getWalker()){const h=d.item;d.type=="elementEnd"&&wq(h,n,r)&&(yield h)}const l=EI(r.end,n);yq(l,r)&&(yield l)}}containsEntireContent(n=this.anchor.root){const r=ue._createAt(n,0),i=ue._createAt(n,"end");return r.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new ne(n.start,n.end))}_checkRange(n){for(let r=0;r<this._ranges.length;r++)if(n.isIntersecting(this._ranges[r]))throw new M("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[r]})}_replaceAllRanges(n){this._removeAllRanges();for(const r of n)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function xI(a,n){return!n.has(a)&&(n.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function wq(a,n,r){return xI(a,n)&&ry(a,r)}function EI(a,n){const r=a.parent.root.document.model.schema,i=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const d=i.find(h=>!l&&(l=r.isLimit(h),!l&&xI(h,n)));return i.forEach(h=>n.add(h)),d}function ry(a,n){const r=function(i){const l=i.root.document.model.schema;let d=i.parent;for(;d;){if(l.isBlock(d))return d;d=d.parent}}(a);return r?!n.containsRange(ne._createOn(r),!0):!0}function vq(a,n){return!!a&&(!(!n.isCollapsed&&!a.isEmpty)||!n.start.isTouching(ue._createAt(a,a.maxOffset))&&ry(a,n))}function yq(a,n){return!!a&&(!(!n.isCollapsed&&!a.isEmpty)||!n.end.isTouching(ue._createAt(a,0))&&ry(a,n))}ir.prototype.is=function(a){return a==="selection"||a==="model:selection"};class sr extends q(ne){constructor(n,r){super(n,r),_q.call(this)}detach(){this.stopListening()}toRange(){return new ne(this.start,this.end)}static fromRange(n){return new sr(n.start,n.end)}}function _q(){this.listenTo(this.root.document.model,"applyOperation",(a,n)=>{const r=n[0];r.isDocumentOperation&&Cq.call(this,r)},{priority:"low"})}function Cq(a){const n=this.getTransformedByOperation(a),r=ne._createFromRanges(n),i=!r.isEqual(this),l=function(h,f){switch(f.type){case"insert":return h.containsPosition(f.position);case"move":case"remove":case"reinsert":case"merge":return h.containsPosition(f.sourcePosition)||h.start.isEqual(f.sourcePosition)||h.containsPosition(f.targetPosition);case"split":return h.containsPosition(f.splitPosition)||h.containsPosition(f.insertionPosition)}return!1}(this,a);let d=null;if(i){r.root.rootName=="$graveyard"&&(d=a.type=="remove"?a.sourcePosition:a.deletionPosition);const h=this.toRange();this.start=r.start,this.end=r.end,this.fire("change:range",h,{deletionPosition:d})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:d})}sr.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const $g="selection:";class ii extends q($s){constructor(n){super(),this._selection=new Aq(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,r){this._selection.setFocus(n,r)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,r){this._selection.setAttribute(n,r)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return $g+n}static _isStoreAttributeKey(n){return n.startsWith($g)}}ii.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class Aq extends ir{constructor(n){super(),this.markers=new Xr({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(r,i)=>{const l=i[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,i,l,d)=>{this._updateMarker(i,d)}),this.listenTo(this._document,"change",(r,i)=>{(function(l,d){const h=l.document.differ;for(const f of h.getChanges()){if(f.type!="insert")continue;const k=f.position.parent;f.length===k.maxOffset&&l.enqueueChange(d,b=>{const v=Array.from(k.getAttributeKeys()).filter(A=>A.startsWith($g));for(const A of v)b.removeAttribute(A,k)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,r){super.setFocus(n,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,r){if(this._setAttribute(n,r)){const i=[n];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const r=[n];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const n=O();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new M("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const r=this._prepareRange(n);r&&this._ranges.push(r)}_validateSelectionRanges(n){for(const r of n)if(!this._document._validateSelectionRange(r))throw new M("document-selection-wrong-position",this,{range:r})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const r=sr.fromRange(n);return r.on("change:range",(i,l,d)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=d.deletionPosition;const h=this._ranges.indexOf(r);this._ranges.splice(h,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let r=!1;for(const l of this._model.markers){const d=l.name.split(":",1)[0];if(!this._observedMarkers.has(d))continue;const h=l.getRange();for(const f of this.getRanges())h.containsRange(f,!f.isCollapsed)&&n.push(l)}const i=Array.from(this.markers);for(const l of n)this.markers.has(l)||(this.markers.add(l),r=!0);for(const l of Array.from(this.markers))n.includes(l)||(this.markers.remove(l),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(n,r){const i=n.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let l=!1;const d=Array.from(this.markers),h=this.markers.has(n);if(r){let f=!1;for(const k of this.getRanges())if(r.containsRange(k,!k.isCollapsed)){f=!0;break}f&&!h?(this.markers.add(n),l=!0):!f&&h&&(this.markers.remove(n),l=!0)}else h&&(this.markers.remove(n),l=!0);l&&this.fire("change:marker",{oldMarkers:d,directChange:!1})}_updateAttributes(n){const r=wi(this._getSurroundingAttributes()),i=wi(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[d,h]of this._attributePriority)h=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d));this._setAttributesTo(r);const l=[];for(const[d,h]of this.getAttributes())i.has(d)&&i.get(d)===h||l.push(d);for(const[d]of i)this.hasAttribute(d)||l.push(d);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(n,r,i=!0){const l=i?"normal":"low";return l=="low"&&this._attributePriority.get(n)=="normal"?!1:super.getAttribute(n)!==r&&(this._attrs.set(n,r),this._attributePriority.set(n,l),!0)}_removeAttribute(n,r=!0){const i=r?"normal":"low";return(i!="low"||this._attributePriority.get(n)!="normal")&&(this._attributePriority.set(n,i),!!super.hasAttribute(n)&&(this._attrs.delete(n),!0))}_setAttributesTo(n){const r=new Set;for(const[i,l]of this.getAttributes())n.get(i)!==l&&this._removeAttribute(i,!1);for(const[i,l]of n)this._setAttribute(i,l,!1)&&r.add(i);return r}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const r of n.getAttributeKeys())r.startsWith($g)&&(yield[r.substr(10),n.getAttribute(r)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),r=this._model.schema;if(n.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const l=n.textNode?n.textNode:n.nodeBefore,d=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(i=Wu(l,r)),i||(i=Wu(d,r)),!this.isGravityOverridden&&!i){let h=l;for(;h&&!i;)h=h.previousSibling,i=Wu(h,r)}if(!i){let h=d;for(;h&&!i;)h=h.nextSibling,i=Wu(h,r)}i||(i=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const d of l){if(d.item.is("element")&&r.isObject(d.item)){i=Wu(d.item,r);break}if(d.type=="text"){i=d.item.getAttributes();break}}}return i}_fixGraveyardSelection(n){const r=this._model.schema.getNearestSelectionRange(n);r&&this._pushRange(r)}}function Wu(a,n){if(!a)return null;if(a instanceof ri||a instanceof Vt)return a.getAttributes();if(!n.isInline(a))return null;if(!n.isObject(a))return[];const r=[];for(const[i,l]of a.getAttributes())n.checkAttribute("$text",i)&&n.getAttributeProperties(i).copyFromObject!==!1&&r.push([i,l]);return r}class SI{constructor(n){this._dispatchers=n}add(n){for(const r of this._dispatchers)n(r);return this}}class xq extends SI{elementToElement(n){return this.add(function(r){const i=DI(r.model),l=qu(r.view,"container");return i.attributes.length&&(i.children=!0),d=>{d.on(`insert:${i.name}`,Sq(l,RI(i)),{priority:r.converterPriority||"normal"}),(i.children||i.attributes.length)&&d.on("reduceChanges",NI(i),{priority:"low"})}}(n))}elementToStructure(n){return this.add(function(r){const i=DI(r.model),l=qu(r.view,"container");return i.children=!0,d=>{if(d._conversionApi.schema.checkChild(i.name,"$text"))throw new M("conversion-element-to-structure-disallowed-text",d,{elementName:i.name});var h,f;d.on(`insert:${i.name}`,(h=l,f=RI(i),(k,b,v)=>{if(!f(b.item,v.consumable,{preflight:!0}))return;const A=new Map;v.writer._registerSlotFactory(function(P,L,F){return(W,K)=>{const ee=W.createContainerElement("$slot");let ce=null;if(K==="children")ce=Array.from(P.getChildren());else{if(typeof K!="function")throw new M("conversion-slot-mode-unknown",F.dispatcher,{modeOrFilter:K});ce=Array.from(P.getChildren()).filter(ve=>K(ve))}return L.set(ee,ce),ee}}(b.item,A,v));const E=h(b.item,v,b);if(v.writer._clearSlotFactory(),!E)return;(function(P,L,F){const W=Array.from(L.values()).flat(),K=new Set(W);if(K.size!=W.length)throw new M("conversion-slot-filter-overlap",F.dispatcher,{element:P});if(K.size!=P.childCount)throw new M("conversion-slot-filter-incomplete",F.dispatcher,{element:P})})(b.item,A,v),f(b.item,v.consumable);const I=v.mapper.toViewPosition(b.range.start);v.mapper.bindElements(b.item,E),v.writer.insert(I,E),v.convertAttributes(b.item),function(P,L,F,W){F.mapper.on("modelToViewPosition",ce,{priority:"highest"});let K=null,ee=null;for([K,ee]of L)OI(P,ee,F,W),F.writer.move(F.writer.createRangeIn(K),F.writer.createPositionBefore(K)),F.writer.remove(K);function ce(ve,Fe){const ot=Fe.modelPosition.nodeAfter,qt=ee.indexOf(ot);qt<0||(Fe.viewPosition=Fe.mapper.findPositionIn(K,qt))}F.mapper.off("modelToViewPosition",ce)}(E,A,v,{reconversion:b.reconversion})}),{priority:r.converterPriority||"normal"}),d.on("reduceChanges",NI(i),{priority:"low"})}}(n))}attributeToElement(n){return this.add(function(r){r=oi(r);let i=r.model;typeof i=="string"&&(i={key:i});let l=`attribute:${i.key}`;if(i.name&&(l+=":"+i.name),i.values)for(const h of i.values)r.view[h]=qu(r.view[h],"attribute");else r.view=qu(r.view,"attribute");const d=MI(r);return h=>{h.on(l,Eq(d),{priority:r.converterPriority||"normal"})}}(n))}attributeToAttribute(n){return this.add(function(r){r=oi(r);let i=r.model;typeof i=="string"&&(i={key:i});let l=`attribute:${i.key}`;if(i.name&&(l+=":"+i.name),i.values)for(const h of i.values)r.view[h]=PI(r.view[h]);else r.view=PI(r.view);const d=MI(r);return h=>{var f;h.on(l,(f=d,(k,b,v)=>{if(!v.consumable.test(b.item,k.name))return;const A=f(b.attributeOldValue,v,b),E=f(b.attributeNewValue,v,b);if(!A&&!E)return;v.consumable.consume(b.item,k.name);const I=v.mapper.toViewElement(b.item),P=v.writer;if(!I)throw new M("conversion-attribute-to-attribute-on-text",v.dispatcher,b);if(b.attributeOldValue!==null&&A)if(A.key=="class"){const L=typeof A.value=="string"?A.value.split(/\s+/):A.value;for(const F of L)P.removeClass(F,I)}else if(A.key=="style")if(typeof A.value=="string"){const L=new $v(P.document.stylesProcessor);L.setTo(A.value);for(const[F]of L.getStylesEntries())P.removeStyle(F,I)}else{const L=Object.keys(A.value);for(const F of L)P.removeStyle(F,I)}else P.removeAttribute(A.key,I);if(b.attributeNewValue!==null&&E)if(E.key=="class"){const L=typeof E.value=="string"?E.value.split(/\s+/):E.value;for(const F of L)P.addClass(F,I)}else if(E.key=="style")if(typeof E.value=="string"){const L=new $v(P.document.stylesProcessor);L.setTo(E.value);for(const[F,W]of L.getStylesEntries())P.setStyle(F,W,I)}else{const L=Object.keys(E.value);for(const F of L)P.setStyle(F,E.value[F],I)}else P.setAttribute(E.key,E.value,I)}),{priority:r.converterPriority||"normal"})}}(n))}markerToElement(n){return this.add(function(r){const i=qu(r.view,"ui");return l=>{l.on(`addMarker:${r.model}`,Tq(i),{priority:r.converterPriority||"normal"}),l.on(`removeMarker:${r.model}`,(d,h,f)=>{const k=f.mapper.markerNameToElements(h.markerName);if(k){for(const b of k)f.mapper.unbindElementFromMarkerName(b,h.markerName),f.writer.clear(f.writer.createRangeOn(b),b);f.writer.clearClonedElementsGroup(h.markerName),d.stop()}},{priority:r.converterPriority||"normal"})}}(n))}markerToHighlight(n){return this.add(function(r){return i=>{var l;i.on(`addMarker:${r.model}`,(l=r.view,(d,h,f)=>{if(!h.item||!(h.item instanceof ir||h.item instanceof ii||h.item.is("$textProxy")))return;const k=iy(l,h,f);if(!k||!f.consumable.consume(h.item,d.name))return;const b=f.writer,v=TI(b,k),A=b.document.selection;if(h.item instanceof ir||h.item instanceof ii)b.wrap(A.getFirstRange(),v);else{const E=f.mapper.toViewRange(h.range),I=b.wrap(E,v);for(const P of I.getItems())if(P.is("attributeElement")&&P.isSimilar(v)){f.mapper.bindElementToMarker(P,h.markerName);break}}}),{priority:r.converterPriority||"normal"}),i.on(`addMarker:${r.model}`,function(d){return(h,f,k)=>{if(!f.item||!(f.item instanceof Ot))return;const b=iy(d,f,k);if(!b||!k.consumable.test(f.item,h.name))return;const v=k.mapper.toViewElement(f.item);if(v&&v.getCustomProperty("addHighlight")){k.consumable.consume(f.item,h.name);for(const A of ne._createIn(f.item))k.consumable.consume(A.item,h.name);v.getCustomProperty("addHighlight")(v,b,k.writer),k.mapper.bindElementToMarker(v,f.markerName)}}}(r.view),{priority:r.converterPriority||"normal"}),i.on(`removeMarker:${r.model}`,function(d){return(h,f,k)=>{if(f.markerRange.isCollapsed)return;const b=iy(d,f,k);if(!b)return;const v=TI(k.writer,b),A=k.mapper.markerNameToElements(f.markerName);if(A){for(const E of A)k.mapper.unbindElementFromMarkerName(E,f.markerName),E.is("attributeElement")?k.writer.unwrap(k.writer.createRangeOn(E),v):E.getCustomProperty("removeHighlight")(E,b.id,k.writer);k.writer.clearClonedElementsGroup(f.markerName),h.stop()}}}(r.view),{priority:r.converterPriority||"normal"})}}(n))}markerToData(n){return this.add(function(r){r=oi(r);const i=r.model;let l=r.view;return l||(l=d=>({group:i,name:d.substr(r.model.length+1)})),d=>{var h;d.on(`addMarker:${i}`,(h=l,(f,k,b)=>{const v=h(k.markerName,b);if(!v)return;const A=k.markerRange;b.consumable.consume(A,f.name)&&(II(A,!1,b,k,v),II(A,!0,b,k,v),f.stop())}),{priority:r.converterPriority||"normal"}),d.on(`removeMarker:${i}`,function(f){return(k,b,v)=>{const A=f(b.markerName,v);if(!A)return;const E=v.mapper.markerNameToElements(b.markerName);if(E){for(const P of E)v.mapper.unbindElementFromMarkerName(P,b.markerName),P.is("containerElement")?(I(`data-${A.group}-start-before`,P),I(`data-${A.group}-start-after`,P),I(`data-${A.group}-end-before`,P),I(`data-${A.group}-end-after`,P)):v.writer.clear(v.writer.createRangeOn(P),P);v.writer.clearClonedElementsGroup(b.markerName),k.stop()}function I(P,L){if(L.hasAttribute(P)){const F=new Set(L.getAttribute(P).split(","));F.delete(A.name),F.size==0?v.writer.removeAttribute(P,L):v.writer.setAttribute(P,Array.from(F).join(","),L)}}}}(l),{priority:r.converterPriority||"normal"})}}(n))}}function TI(a,n){const r=a.createAttributeElement("span",n.attributes);return n.classes&&r._addClass(n.classes),typeof n.priority=="number"&&(r._priority=n.priority),r._id=n.id,r}function Eq(a){return(n,r,i)=>{if(!i.consumable.test(r.item,n.name))return;const l=a(r.attributeOldValue,i,r),d=a(r.attributeNewValue,i,r);if(!l&&!d)return;i.consumable.consume(r.item,n.name);const h=i.writer,f=h.document.selection;if(r.item instanceof ir||r.item instanceof ii)h.wrap(f.getFirstRange(),d);else{let k=i.mapper.toViewRange(r.range);r.attributeOldValue!==null&&l&&(k=h.unwrap(k,l)),r.attributeNewValue!==null&&d&&h.wrap(k,d)}}}function Sq(a,n=Dq){return(r,i,l)=>{if(!n(i.item,l.consumable,{preflight:!0}))return;const d=a(i.item,l,i);if(!d)return;n(i.item,l.consumable);const h=l.mapper.toViewPosition(i.range.start);l.mapper.bindElements(i.item,d),l.writer.insert(h,d),l.convertAttributes(i.item),OI(d,i.item.getChildren(),l,{reconversion:i.reconversion})}}function Tq(a){return(n,r,i)=>{r.isOpening=!0;const l=a(r,i);r.isOpening=!1;const d=a(r,i);if(!l||!d)return;const h=r.markerRange;if(h.isCollapsed&&!i.consumable.consume(h,n.name))return;for(const b of h)if(!i.consumable.consume(b.item,n.name))return;const f=i.mapper,k=i.writer;k.insert(f.toViewPosition(h.start),l),i.mapper.bindElementToMarker(l,r.markerName),h.isCollapsed||(k.insert(f.toViewPosition(h.end),d),i.mapper.bindElementToMarker(d,r.markerName)),n.stop()}}function II(a,n,r,i,l){const d=n?a.start:a.end,h=d.nodeAfter&&d.nodeAfter.is("element")?d.nodeAfter:null,f=d.nodeBefore&&d.nodeBefore.is("element")?d.nodeBefore:null;if(h||f){let k,b;n&&h||!n&&!f?(k=h,b=!0):(k=f,b=!1);const v=r.mapper.toViewElement(k);if(v)return void function(A,E,I,P,L,F){const W=`data-${F.group}-${E?"start":"end"}-${I?"before":"after"}`,K=A.hasAttribute(W)?A.getAttribute(W).split(","):[];K.unshift(F.name),P.writer.setAttribute(W,K.join(","),A),P.mapper.bindElementToMarker(A,L.markerName)}(v,n,b,r,i,l)}(function(k,b,v,A,E){const I=`${E.group}-${b?"start":"end"}`,P=E.name?{name:E.name}:null,L=v.writer.createUIElement(I,P);v.writer.insert(k,L),v.mapper.bindElementToMarker(L,A.markerName)})(r.mapper.toViewPosition(d),n,r,i,l)}function DI(a){return typeof a=="string"&&(a={name:a}),{name:a.name,attributes:a.attributes?Wt(a.attributes):[],children:!!a.children}}function qu(a,n){return typeof a=="function"?a:(r,i)=>function(l,d,h){typeof l=="string"&&(l={name:l});let f;const k=d.writer,b=Object.assign({},l.attributes);if(h=="container")f=k.createContainerElement(l.name,b);else if(h=="attribute"){const v={priority:l.priority||Qa.DEFAULT_PRIORITY};f=k.createAttributeElement(l.name,b,v)}else f=k.createUIElement(l.name,b);if(l.styles){const v=Object.keys(l.styles);for(const A of v)k.setStyle(A,l.styles[A],f)}if(l.classes){const v=l.classes;if(typeof v=="string")k.addClass(v,f);else for(const A of v)k.addClass(A,f)}return f}(a,i,n)}function MI(a){return a.model.values?(n,r,i)=>{const l=a.view[n];return l?l(n,r,i):null}:a.view}function PI(a){return typeof a=="string"?n=>({key:a,value:n}):typeof a=="object"?a.value?()=>a:n=>({key:a.key,value:n}):a}function iy(a,n,r){const i=typeof a=="function"?a(n,r):a;return i?(i.priority||(i.priority=10),i.id||(i.id=n.markerName),i):null}function NI(a){const n=function(r){return(i,l)=>{if(!i.is("element",r.name))return!1;if(l.type=="attribute"){if(r.attributes.includes(l.attributeKey))return!0}else if(r.children)return!0;return!1}}(a);return(r,i)=>{const l=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const d of i.changes){const h=d.type=="attribute"?d.range.start.nodeAfter:d.position.parent;if(h&&n(h,d)){if(!i.reconvertedElements.has(h)){i.reconvertedElements.add(h);const f=ue._createBefore(h);let k=l.length;for(let b=l.length-1;b>=0;b--){const v=l[b],A=(v.type=="attribute"?v.range.start:v.position).compareWith(f);if(A=="before"||v.type=="remove"&&A=="same")break;k=b}l.splice(k,0,{type:"remove",name:h.name,position:f,length:1},{type:"reinsert",name:h.name,position:f,length:1})}}else l.push(d)}i.changes=l}}function RI(a){return(n,r,i={})=>{const l=["insert"];for(const d of a.attributes)n.hasAttribute(d)&&l.push(`attribute:${d}`);return!!l.every(d=>r.test(n,d))&&(i.preflight||l.forEach(d=>r.consume(n,d)),!0)}}function OI(a,n,r,i){for(const l of n)Iq(a.root,l,r,i)||r.convertItem(l)}function Iq(a,n,r,i){const{writer:l,mapper:d}=r;if(!i.reconversion)return!1;const h=d.toViewElement(n);return!(!h||h.root==a)&&!!r.canReuseView(h)&&(l.move(l.createRangeOn(h),d.toViewPosition(ue._createBefore(n))),!0)}function Dq(a,n,{preflight:r}={}){return r?n.test(a,"insert"):n.consume(a,"insert")}function BI(a){const{schema:n,document:r}=a.model;for(const i of r.getRoots())if(i.isEmpty&&!n.checkChild(i,"$text")&&n.checkChild(i,"paragraph"))return a.insertElement("paragraph",i),!0;return!1}function LI(a,n,r){const i=r.createContext(a);return!!r.checkChild(i,"paragraph")&&!!r.checkChild(i.push("paragraph"),n)}function jI(a,n){const r=n.createElement("paragraph");return n.insert(r,a),n.createPositionAt(r,0)}var Mq=Object.defineProperty,Pq=Object.defineProperties,Nq=Object.getOwnPropertyDescriptors,zI=Object.getOwnPropertySymbols,Rq=Object.prototype.hasOwnProperty,Oq=Object.prototype.propertyIsEnumerable,FI=(a,n,r)=>n in a?Mq(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class Bq extends SI{elementToElement(n){return this.add($I(n))}elementToAttribute(n){return this.add(function(r){r=oi(r),VI(r);const i=UI(r,!1),l=sy(r.view),d=l?`element:${l}`:"element";return h=>{h.on(d,i,{priority:r.converterPriority||"low"})}}(n))}attributeToAttribute(n){return this.add(function(r){r=oi(r);let i=null;(typeof r.view=="string"||r.view.key)&&(i=function(d){typeof d.view=="string"&&(d.view={key:d.view});const h=d.view.key,f=d.view.value===void 0?/[\s\S]*/:d.view.value;let k;return h=="class"||h=="style"?k={[h=="class"?"classes":"styles"]:f}:k={attributes:{[h]:f}},d.view.name&&(k.name=d.view.name),d.view=k,h}(r)),VI(r,i);const l=UI(r,!0);return d=>{d.on("element",l,{priority:r.converterPriority||"low"})}}(n))}elementToMarker(n){return this.add(function(r){const i=function(h){return(f,k)=>{const b=typeof h=="string"?h:h(f,k);return k.writer.createElement("$marker",{"data-name":b})}}(r.model);return $I((l=((h,f)=>{for(var k in f||(f={}))Rq.call(f,k)&&FI(h,k,f[k]);if(zI)for(var k of zI(f))Oq.call(f,k)&&FI(h,k,f[k]);return h})({},r),d={model:i},Pq(l,Nq(d))));var l,d}(n))}dataToMarker(n){return this.add(function(r){r=oi(r),r.model||(r.model=h=>h?r.view+":"+h:r.view);const i={view:r.view,model:r.model},l=ay(HI(i,"start")),d=ay(HI(i,"end"));return h=>{h.on(`element:${r.view}-start`,l,{priority:r.converterPriority||"normal"}),h.on(`element:${r.view}-end`,d,{priority:r.converterPriority||"normal"});const f=j.low,k=j.highest,b=j.get(r.converterPriority)/k;h.on("element",function(v){return(A,E,I)=>{const P=`data-${v.view}`;function L(F,W){for(const K of W){const ee=v.model(K,I),ce=I.writer.createElement("$marker",{"data-name":ee});I.writer.insert(ce,F),E.modelCursor.isEqual(F)?E.modelCursor=E.modelCursor.getShiftedBy(1):E.modelCursor=E.modelCursor._getTransformedByInsertion(F,1),E.modelRange=E.modelRange._getTransformedByInsertion(F,1)[0]}}(I.consumable.test(E.viewItem,{attributes:P+"-end-after"})||I.consumable.test(E.viewItem,{attributes:P+"-start-after"})||I.consumable.test(E.viewItem,{attributes:P+"-end-before"})||I.consumable.test(E.viewItem,{attributes:P+"-start-before"}))&&(E.modelRange||Object.assign(E,I.convertChildren(E.viewItem,E.modelCursor)),I.consumable.consume(E.viewItem,{attributes:P+"-end-after"})&&L(E.modelRange.end,E.viewItem.getAttribute(P+"-end-after").split(",")),I.consumable.consume(E.viewItem,{attributes:P+"-start-after"})&&L(E.modelRange.end,E.viewItem.getAttribute(P+"-start-after").split(",")),I.consumable.consume(E.viewItem,{attributes:P+"-end-before"})&&L(E.modelRange.start,E.viewItem.getAttribute(P+"-end-before").split(",")),I.consumable.consume(E.viewItem,{attributes:P+"-start-before"})&&L(E.modelRange.start,E.viewItem.getAttribute(P+"-start-before").split(",")))}}(i),{priority:f+b})}}(n))}}function $I(a){const n=ay(a=oi(a)),r=sy(a.view),i=r?`element:${r}`:"element";return l=>{l.on(i,n,{priority:a.converterPriority||"normal"})}}function sy(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function ay(a){const n=new yi(a.view);return(r,i,l)=>{const d=n.match(i.viewItem);if(!d)return;const h=d.match;if(h.name=!0,!l.consumable.test(i.viewItem,h))return;const f=function(k,b,v){return k instanceof Function?k(b,v):v.writer.createElement(k)}(a.model,i.viewItem,l);f&&l.safeInsert(f,i.modelCursor)&&(l.consumable.consume(i.viewItem,h),l.convertChildren(i.viewItem,f),l.updateConversionResult(f,i))}}function VI(a,n=null){const r=n===null||(d=>d.getAttribute(n)),i=typeof a.model!="object"?a.model:a.model.key,l=typeof a.model!="object"||a.model.value===void 0?r:a.model.value;a.model={key:i,value:l}}function UI(a,n){const r=new yi(a.view);return(i,l,d)=>{if(!l.modelRange&&n)return;const h=r.match(l.viewItem);if(!h||(function(v,A){const E=typeof v=="function"?v(A):v;return typeof E=="object"&&!sy(E)?!1:!E.classes&&!E.attributes&&!E.styles}(a.view,l.viewItem)?h.match.name=!0:delete h.match.name,!d.consumable.test(l.viewItem,h.match)))return;const f=a.model.key,k=typeof a.model.value=="function"?a.model.value(l.viewItem,d):a.model.value;if(k===null)return;l.modelRange||Object.assign(l,d.convertChildren(l.viewItem,l.modelCursor)),function(v,A,E,I){let P=!1;for(const L of Array.from(v.getItems({shallow:E})))I.schema.checkAttribute(L,A.key)&&(P=!0,L.hasAttribute(A.key)||I.writer.setAttribute(A.key,A.value,L));return P}(l.modelRange,{key:f,value:k},n,d)&&(d.consumable.test(l.viewItem,{name:!0})&&(h.match.name=!0),d.consumable.consume(l.viewItem,h.match))}}function HI(a,n){return{view:`${a.view}-${n}`,model:(r,i)=>{const l=r.getAttribute("name"),d=a.model(l,i);return i.writer.createElement("$marker",{"data-name":d})}}}function Lq(a){a.document.registerPostFixer(n=>function(r,i){const l=i.document.selection,d=i.schema,h=[];let f=!1;for(const k of l.getRanges()){const b=WI(k,d);b&&!b.isEqual(k)?(h.push(b),f=!0):h.push(k)}return f&&r.setSelection(function(k){const b=[...k],v=new Set;let A=1;for(;A<b.length;){const E=b[A],I=b.slice(0,A);for(const[P,L]of I.entries())if(!v.has(P)){if(E.isEqual(L))v.add(P);else if(E.isIntersecting(L)){v.add(P),v.add(A);const F=E.getJoined(L);b.push(F)}}A++}return b.filter((E,I)=>!v.has(I))}(h),{backward:l.isBackward}),!1}(n,a))}function WI(a,n){return a.isCollapsed?function(r,i){const l=r.start,d=i.getNearestSelectionRange(l);if(!d){const f=l.getAncestors().reverse().find(k=>i.isObject(k));return f?ne._createOn(f):null}if(!d.isCollapsed)return d;const h=d.start;return l.isEqual(h)?null:new ne(h)}(a,n):function(r,i){const{start:l,end:d}=r,h=i.checkChild(l,"$text"),f=i.checkChild(d,"$text"),k=i.getLimitElement(l),b=i.getLimitElement(d);if(k===b){if(h&&f)return null;if(function(E,I,P){const L=E.nodeAfter&&!P.isLimit(E.nodeAfter)||P.checkChild(E,"$text"),F=I.nodeBefore&&!P.isLimit(I.nodeBefore)||P.checkChild(I,"$text");return L||F}(l,d,i)){const E=l.nodeAfter&&i.isSelectable(l.nodeAfter)?null:i.getNearestSelectionRange(l,"forward"),I=d.nodeBefore&&i.isSelectable(d.nodeBefore)?null:i.getNearestSelectionRange(d,"backward"),P=E?E.start:l,L=I?I.end:d;return new ne(P,L)}}const v=k&&!k.is("rootElement"),A=b&&!b.is("rootElement");if(v||A){const E=l.nodeAfter&&d.nodeBefore&&l.nodeAfter.parent===d.nodeBefore.parent,I=v&&(!E||!GI(l.nodeAfter,i)),P=A&&(!E||!GI(d.nodeBefore,i));let L=l,F=d;return I&&(L=ue._createBefore(qI(k,i))),P&&(F=ue._createAfter(qI(b,i))),new ne(L,F)}return null}(a,n)}function qI(a,n){let r=a,i=r;for(;n.isLimit(i)&&i.parent;)r=i,i=i.parent;return r}function GI(a,n){return a&&n.isSelectable(a)}class jq extends Q(){constructor(n,r){super(),this.model=n,this.view=new uq(r),this.mapper=new wI,this.downcastDispatcher=new CI({mapper:this.mapper,schema:n.schema});const i=this.model.document,l=i.selection,d=this.model.markers;var h,f,k;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(b=>{this.downcastDispatcher.convertChanges(i.differ,d,b),this.downcastDispatcher.convertSelection(l,d,b)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(b,v){return(A,E)=>{const I=E.newSelection,P=[];for(const F of I.getRanges())P.push(v.toModelRange(F));const L=b.createSelection(P,{backward:I.isBackward});L.isEqual(b.document.selection)||b.change(F=>{F.setSelection(L)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(h=this.mapper,f=this.model.schema,k=this.view,(b,v)=>{if(!k.document.isComposing||_.isAndroid)for(let A=0;A<v.targetRanges.length;A++){const E=v.targetRanges[A],I=h.toModelRange(E),P=WI(I,f);P&&!P.isEqual(I)&&(v.targetRanges[A]=h.toViewRange(P))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(b,v,A)=>{if(!A.consumable.consume(v.item,b.name))return;const E=A.writer,I=A.mapper.toViewPosition(v.range.start),P=E.createText(v.item.data);E.insert(I,P)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(b,v,A)=>{A.convertAttributes(v.item),v.reconversion||!v.item.is("element")||v.item.isEmpty||A.convertChildren(v.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(b,v,A)=>{const E=A.mapper.toViewPosition(v.position),I=v.position.getShiftedBy(v.length),P=A.mapper.toViewPosition(I,{isPhantom:!0}),L=A.writer.createRange(E,P),F=A.writer.remove(L.getTrimmed());for(const W of A.writer.createRangeIn(F).getItems())A.mapper.unbindViewElement(W,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(b,v,A)=>{const E=A.writer,I=E.document.selection;for(const P of I.getRanges())P.isCollapsed&&P.end.parent.isAttached()&&A.writer.mergeAttributes(P.start);E.setSelection(null)}),this.downcastDispatcher.on("selection",(b,v,A)=>{const E=v.selection;if(E.isCollapsed||!A.consumable.consume(E,"selection"))return;const I=[];for(const P of E.getRanges())I.push(A.mapper.toViewRange(P));A.writer.setSelection(I,{backward:E.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(b,v,A)=>{const E=v.selection;if(!E.isCollapsed||!A.consumable.consume(E,"selection"))return;const I=A.writer,P=E.getFirstPosition(),L=A.mapper.toViewPosition(P),F=I.breakAttributes(L);I.setSelection(F)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(b=>{if(b.rootName=="$graveyard")return null;const v=new VT(this.view.document,b.name);return v.rootName=b.rootName,this.mapper.bindElements(b,v),v})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const r=typeof n=="string"?n:n.name,i=this.model.markers.get(r);if(!i)throw new M("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:r});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class Gu{constructor(){this._consumables=new Map}add(n,r){let i;n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):(this._consumables.has(n)?i=this._consumables.get(n):(i=new zq(n),this._consumables.set(n,i)),i.add(r))}test(n,r){const i=this._consumables.get(n);return i===void 0?null:n.is("$text")||n.is("documentFragment")?i:i.test(r)}consume(n,r){return!!this.test(n,r)&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(r),!0)}revert(n,r){const i=this._consumables.get(n);i!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):i.revert(r))}static consumablesFromElement(n){const r={element:n,name:!0,attributes:[],classes:[],styles:[]},i=n.getAttributeKeys();for(const h of i)h!="style"&&h!="class"&&r.attributes.push(h);const l=n.getClassNames();for(const h of l)r.classes.push(h);const d=n.getStyleNames();for(const h of d)r.styles.push(h);return r}static createFrom(n,r){if(r||(r=new Gu),n.is("$text"))return r.add(n),r;n.is("element")&&r.add(n,Gu.consumablesFromElement(n)),n.is("documentFragment")&&r.add(n);for(const i of n.getChildren())r=Gu.createFrom(i,r);return r}}const Vg=["attributes","classes","styles"];class zq{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const r of Vg)r in n&&this._add(r,n[r])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const r of Vg)if(r in n){const i=this._test(r,n[r]);if(i!==!0)return i}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const r of Vg)r in n&&this._consume(r,n[r])}revert(n){n.name&&(this._canConsumeName=!0);for(const r of Vg)r in n&&this._revert(r,n[r])}_add(n,r){const i=Wt(r),l=this._consumables[n];for(const d of i){if(n==="attributes"&&(d==="class"||d==="style"))throw new M("viewconsumable-invalid-attribute",this);if(l.set(d,!0),n==="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(h,!0)}}_test(n,r){const i=Wt(r),l=this._consumables[n];for(const d of i)if(n!=="attributes"||d!=="class"&&d!=="style"){const h=l.get(d);if(h===void 0)return null;if(!h)return!1}else{const h=d=="class"?"classes":"styles",f=this._test(h,[...this._consumables[h].keys()]);if(f!==!0)return f}return!0}_consume(n,r){const i=Wt(r),l=this._consumables[n];for(const d of i)if(n!=="attributes"||d!=="class"&&d!=="style"){if(l.set(d,!1),n=="styles")for(const h of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(h,!1)}else{const h=d=="class"?"classes":"styles";this._consume(h,[...this._consumables[h].keys()])}}_revert(n,r){const i=Wt(r),l=this._consumables[n];for(const d of i)if(n!=="attributes"||d!=="class"&&d!=="style")l.get(d)===!1&&l.set(d,!0);else{const h=d=="class"?"classes":"styles";this._revert(h,[...this._consumables[h].keys()])}}}class Fq extends Q(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,r)=>{r[0]=new el(r[0])},{priority:"highest"}),this.on("checkChild",(n,r)=>{r[0]=new el(r[0]),r[1]=this.getDefinition(r[1])},{priority:"highest"})}register(n,r){if(this._sourceDefinitions[n])throw new M("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},r)],this._clearCache()}extend(n,r){if(!this._sourceDefinitions[n])throw new M("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},r)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let r;return r=typeof n=="string"?n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?"$text":n.name,this.getDefinitions()[r]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const r=this.getDefinition(n);return!(!r||!r.isBlock)}isLimit(n){const r=this.getDefinition(n);return!!r&&!(!r.isLimit&&!r.isObject)}isObject(n){const r=this.getDefinition(n);return!!r&&!!(r.isObject||r.isLimit&&r.isSelectable&&r.isContent)}isInline(n){const r=this.getDefinition(n);return!(!r||!r.isInline)}isSelectable(n){const r=this.getDefinition(n);return!!r&&!(!r.isSelectable&&!r.isObject)}isContent(n){const r=this.getDefinition(n);return!!r&&!(!r.isContent&&!r.isObject)}checkChild(n,r){return!!r&&this._checkContextMatch(r,n)}checkAttribute(n,r){const i=this.getDefinition(n.last);return!!i&&i.allowAttributes.includes(r)}checkMerge(n,r){if(n instanceof ue){const i=n.nodeBefore,l=n.nodeAfter;if(!(i instanceof Ot))throw new M("schema-check-merge-no-element-before",this);if(!(l instanceof Ot))throw new M("schema-check-merge-no-element-after",this);return this.checkMerge(i,l)}for(const i of r.getChildren())if(!this.checkChild(n,i))return!1;return!0}addChildCheck(n){this.on("checkChild",(r,[i,l])=>{if(!l)return;const d=n(i,l);typeof d=="boolean"&&(r.stop(),r.return=d)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(r,[i,l])=>{const d=n(i,l);typeof d=="boolean"&&(r.stop(),r.return=d)},{priority:"high"})}setAttributeProperties(n,r){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),r)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let r;for(n instanceof ue?r=n.parent:r=(n instanceof ne?[n]:Array.from(n.getRanges())).reduce((i,l)=>{const d=l.getCommonAncestor();return i?i.getCommonAncestor(d,{includeSelf:!0}):d},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}checkAttributeInSelection(n,r){if(n.isCollapsed){const i=[...n.getFirstPosition().getAncestors(),new Vt("",n.getAttributes())];return this.checkAttribute(i,r)}{const i=n.getRanges();for(const l of i)for(const d of l)if(this.checkAttribute(d.item,r))return!0}return!1}*getValidRanges(n,r){n=function*(i){for(const l of i)yield*l.getMinimalFlatRanges()}(n);for(const i of n)yield*this._getValidRangesForRange(i,r)}getNearestSelectionRange(n,r="both"){if(n.root.rootName=="$graveyard")return null;if(this.checkChild(n,"$text"))return new ne(n);let i,l;const d=n.getAncestors().reverse().find(h=>this.isLimit(h))||n.root;r!="both"&&r!="backward"||(i=new Ji({boundaries:ne._createIn(d),startPosition:n,direction:"backward"})),r!="both"&&r!="forward"||(l=new Ji({boundaries:ne._createIn(d),startPosition:n}));for(const h of function*(f,k){let b=!1;for(;!b;){if(b=!0,f){const v=f.next();v.done||(b=!1,yield{walker:f,value:v.value})}if(k){const v=k.next();v.done||(b=!1,yield{walker:k,value:v.value})}}}(i,l)){const f=h.walker==i?"elementEnd":"elementStart",k=h.value;if(k.type==f&&this.isObject(k.item))return ne._createOn(k.item);if(this.checkChild(k.nextPosition,"$text"))return new ne(k.nextPosition)}return null}findAllowedParent(n,r){let i=n.parent;for(;i;){if(this.checkChild(i,r))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(n,r,i){const l=i.model;for(const[d,h]of Object.entries(r))l.schema.checkAttribute(n,d)&&i.setAttribute(d,h,n)}removeDisallowedAttributes(n,r){for(const i of n)if(i.is("$text"))KI(this,i,r);else{const l=ne._createIn(i).getPositions();for(const d of l)KI(this,d.nodeBefore||d.parent,r)}}getAttributesWithProperty(n,r,i){const l={};for(const[d,h]of n.getAttributes()){const f=this.getAttributeProperties(d);f[r]!==void 0&&(i!==void 0&&i!==f[r]||(l[d]=h))}return l}createContext(n){return new el(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},r=this._sourceDefinitions,i=Object.keys(r);for(const l of i)n[l]=$q(r[l],l);for(const l of i)Vq(n,l);for(const l of i)Uq(n,l);for(const l of i)Hq(n,l);for(const l of i)Wq(n,l),qq(n,l);for(const l of i)Gq(n,l),Kq(n,l),Yq(n,l);this._compiledDefinitions=n}_checkContextMatch(n,r,i=r.length-1){const l=r.getItem(i);if(n.allowIn.includes(l.name)){if(i==0)return!0;{const d=this.getDefinition(l);return this._checkContextMatch(d,r,i-1)}}return!1}*_getValidRangesForRange(n,r){let i=n.start,l=n.start;for(const d of n.getItems({shallow:!0}))d.is("element")&&(yield*this._getValidRangesForRange(ne._createIn(d),r)),this.checkAttribute(d,r)||(i.isEqual(l)||(yield new ne(i,l)),i=ue._createAfter(d)),l=ue._createAfter(d);i.isEqual(l)||(yield new ne(i,l))}findOptimalInsertionRange(n,r){const i=n.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return r=="before"||r=="after"?new ne(ue._createAt(i,r)):ne._createOn(i);const l=qn(n.getSelectedBlocks());if(!l)return new ne(n.focus);if(l.isEmpty)return new ne(ue._createAt(l,0));const d=ue._createAfter(l);return n.focus.isTouching(d)?new ne(d):new ne(ue._createBefore(l))}}class el{constructor(n){if(n instanceof el)return n;let r;r=typeof n=="string"?[n]:Array.isArray(n)?n:n.getAncestors({includeSelf:!0}),this._items=r.map(Zq)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const r=new el([n]);return r._items=[...this._items,...r._items],r}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function $q(a,n){const r={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,l){for(const d of i){const h=Object.keys(d).filter(f=>f.startsWith("is"));for(const f of h)l[f]=!!d[f]}}(a,r),tl(a,r,"allowIn"),tl(a,r,"allowContentOf"),tl(a,r,"allowWhere"),tl(a,r,"allowAttributes"),tl(a,r,"allowAttributesOf"),tl(a,r,"allowChildren"),tl(a,r,"inheritTypesFrom"),function(i,l){for(const d of i){const h=d.inheritAllFrom;h&&(l.allowContentOf.push(h),l.allowWhere.push(h),l.allowAttributesOf.push(h),l.inheritTypesFrom.push(h))}}(a,r),r}function Vq(a,n){const r=a[n];for(const i of r.allowChildren){const l=a[i];l&&l.allowIn.push(n)}r.allowChildren.length=0}function Uq(a,n){for(const r of a[n].allowContentOf)a[r]&&Qq(a,r).forEach(i=>{i.allowIn.push(n)});delete a[n].allowContentOf}function Hq(a,n){for(const r of a[n].allowWhere){const i=a[r];if(i){const l=i.allowIn;a[n].allowIn.push(...l)}}delete a[n].allowWhere}function Wq(a,n){for(const r of a[n].allowAttributesOf){const i=a[r];if(i){const l=i.allowAttributes;a[n].allowAttributes.push(...l)}}delete a[n].allowAttributesOf}function qq(a,n){const r=a[n];for(const i of r.inheritTypesFrom){const l=a[i];if(l){const d=Object.keys(l).filter(h=>h.startsWith("is"));for(const h of d)h in r||(r[h]=l[h])}}delete r.inheritTypesFrom}function Gq(a,n){const r=a[n],i=r.allowIn.filter(l=>a[l]);r.allowIn=Array.from(new Set(i))}function Kq(a,n){const r=a[n];for(const i of r.allowIn)a[i].allowChildren.push(n)}function Yq(a,n){const r=a[n];r.allowAttributes=Array.from(new Set(r.allowAttributes))}function tl(a,n,r){for(const i of a){const l=i[r];typeof l=="string"?n[r].push(l):Array.isArray(l)&&n[r].push(...l)}}function Qq(a,n){const r=a[n];return(i=a,Object.keys(i).map(l=>i[l])).filter(l=>l.allowIn.includes(r.name));var i}function Zq(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:n=>a.getAttribute(n)}}function KI(a,n,r){for(const i of n.getAttributeKeys())a.checkAttribute(n,i)||r.removeAttribute(i,n)}var Jq=Object.defineProperty,Xq=Object.defineProperties,eG=Object.getOwnPropertyDescriptors,YI=Object.getOwnPropertySymbols,tG=Object.prototype.hasOwnProperty,nG=Object.prototype.propertyIsEnumerable,QI=(a,n,r)=>n in a?Jq(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class oG extends q(){constructor(n){var r;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(r=((i,l)=>{for(var d in l||(l={}))tG.call(l,d)&&QI(i,d,l[d]);if(YI)for(var d of YI(l))nG.call(l,d)&&QI(i,d,l[d]);return i})({},n),Xq(r,eG({consumable:null,writer:null,store:null,convertItem:(i,l)=>this._convertItem(i,l),convertChildren:(i,l)=>this._convertChildren(i,l),safeInsert:(i,l)=>this._safeInsert(i,l),updateConversionResult:(i,l)=>this._updateConversionResult(i,l),splitToAllowedParent:(i,l)=>this._splitToAllowedParent(i,l),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)})))}convert(n,r,i=["$root"]){this.fire("viewCleanup",n),this._modelCursor=function(h,f){let k;for(const b of new el(h)){const v={};for(const E of b.getAttributeKeys())v[E]=b.getAttribute(E);const A=f.createElement(b.name,v);k&&f.insert(A,k),k=ue._createAt(A,0)}return k}(i,r),this.conversionApi.writer=r,this.conversionApi.consumable=Gu.createFrom(n),this.conversionApi.store={};const{modelRange:l}=this._convertItem(n,this._modelCursor),d=r.createDocumentFragment();if(l){this._removeEmptyElements();for(const h of Array.from(this._modelCursor.parent.getChildren()))r.append(h,d);d.markers=function(h,f){const k=new Set,b=new Map,v=ne._createIn(h).getItems();for(const A of v)A.is("element","$marker")&&k.add(A);for(const A of k){const E=A.getAttribute("data-name"),I=f.createPositionBefore(A);b.has(E)?b.get(E).end=I.clone():b.set(E,new ne(I.clone())),f.remove(A)}return b}(d,r)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,d}_convertItem(n,r){const i={viewItem:n,modelCursor:r,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,i,this.conversionApi):n.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof ne))throw new M("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(n,r){let i=r.is("position")?r:ue._createAt(r,0);const l=new ne(i);for(const d of Array.from(n.getChildren())){const h=this._convertItem(d,i);h.modelRange instanceof ne&&(l.end=h.modelRange.end,i=h.modelCursor)}return{modelRange:l,modelCursor:i}}_safeInsert(n,r){const i=this._splitToAllowedParent(n,r);return!!i&&(this.conversionApi.writer.insert(n,i.position),!0)}_updateConversionResult(n,r){const i=this._getSplitParts(n),l=this.conversionApi.writer;r.modelRange||(r.modelRange=l.createRange(l.createPositionBefore(n),l.createPositionAfter(i[i.length-1])));const d=this._cursorParents.get(n);r.modelCursor=d?l.createPositionAt(d,0):r.modelRange.end}_splitToAllowedParent(n,r){const{schema:i,writer:l}=this.conversionApi;let d=i.findAllowedParent(r,n);if(d){if(d===r.parent)return{position:r};this._modelCursor.parent.getAncestors().includes(d)&&(d=null)}if(!d)return LI(r,n,i)?{position:jI(r,l)}:null;const h=this.conversionApi.writer.split(r,d),f=[];for(const b of h.range.getWalker())if(b.type=="elementEnd")f.push(b.item);else{const v=f.pop(),A=b.item;this._registerSplitPair(v,A)}const k=h.range.end.parent;return this._cursorParents.set(n,k),{position:h.position,cursorParent:k}}_registerSplitPair(n,r){this._splitParts.has(n)||this._splitParts.set(n,[n]);const i=this._splitParts.get(n);this._splitParts.set(r,i),i.push(r)}_getSplitParts(n){let r;return r=this._splitParts.has(n)?this._splitParts.get(n):[n],r}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const r of this._splitParts.keys())r.isEmpty&&!this._emptyElementsToKeep.has(r)&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),n=!0);n&&this._removeEmptyElements()}}class rG{getHtml(n){const r=m.document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(n),r.innerHTML}}class iG{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Og(n,{renderingMode:"data"}),this.htmlWriter=new rG}toData(n){const r=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(r)}toView(n){const r=this._toDom(n);return this.domConverter.domToView(r,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const r=this.domParser.parseFromString(n,"text/html"),i=r.createDocumentFragment(),l=r.body.childNodes;for(;l.length>0;)i.appendChild(l[0]);return i}}class sG extends q(){constructor(n,r){super(),this.model=n,this.mapper=new wI,this.downcastDispatcher=new CI({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const h=d.writer,f=d.mapper.toViewPosition(l.range.start),k=h.createText(l.item.data);h.insert(f,k)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,l,d)=>{d.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||d.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new oG({schema:n.schema}),this.viewDocument=new Pg(r),this.stylesProcessor=r,this.htmlProcessor=new iG(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new HT(this.viewDocument),this.upcastDispatcher.on("text",(i,l,{schema:d,consumable:h,writer:f})=>{let k=l.modelCursor;if(!h.test(l.viewItem))return;if(!d.checkChild(k,"$text")){if(!LI(k,"$text",d)||l.viewItem.data.trim().length==0)return;const v=k.nodeBefore;k=jI(k,f),v&&v.is("element","$marker")&&(f.move(f.createRangeOn(v),k),k=f.createPositionAfter(v))}h.consume(l.viewItem);const b=f.createText(l.viewItem.data);f.insert(b,k),l.modelRange=f.createRange(k,k.getShiftedBy(b.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,l,d)=>{if(!l.modelRange&&d.consumable.consume(l.viewItem,{name:!0})){const{modelRange:h,modelCursor:f}=d.convertChildren(l.viewItem,l.modelCursor);l.modelRange=h,l.modelCursor=f}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,l,d)=>{if(!l.modelRange&&d.consumable.consume(l.viewItem,{name:!0})){const{modelRange:h,modelCursor:f}=d.convertChildren(l.viewItem,l.modelCursor);l.modelRange=h,l.modelCursor=f}},{priority:"lowest"}),Q().prototype.decorate.call(this,"init"),Q().prototype.decorate.call(this,"set"),Q().prototype.decorate.call(this,"get"),Q().prototype.decorate.call(this,"toView"),Q().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},BI)},{priority:"lowest"})}get(n={}){const{rootName:r="main",trim:i="empty"}=n;if(!this._checkIfRootsExists([r]))throw new M("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(r);return l.isAttached()||U("datacontroller-get-detached-root",this),i!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,n):""}stringify(n,r={}){const i=this.toView(n,r);return this.processor.toData(i)}toView(n,r={}){const i=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const d=ne._createIn(n),h=new Za(i);this.mapper.bindElements(n,h);const f=n.is("documentFragment")?n.markers:function(k){const b=[],v=k.root.document;if(!v)return new Map;const A=ne._createIn(k);for(const E of v.model.markers){const I=E.getRange(),P=I.isCollapsed,L=I.start.isEqual(A.start)||I.end.isEqual(A.end);if(P&&L)b.push([E.name,I]);else{const F=A.getIntersection(I);F&&b.push([E.name,F])}}return b.sort(([E,I],[P,L])=>{if(I.end.compareWith(L.start)!=="after")return 1;if(I.start.compareWith(L.end)!=="before")return-1;switch(I.start.compareWith(L.start)){case"before":return 1;case"after":return-1;default:switch(I.end.compareWith(L.end)){case"before":return 1;case"after":return-1;default:return P.localeCompare(E)}}}),new Map(b)}(n);return this.downcastDispatcher.convert(d,f,l,r),h}init(n){if(this.model.document.version)throw new M("datacontroller-init-document-not-empty",this);let r={};if(typeof n=="string"?r.main=n:r=n,!this._checkIfRootsExists(Object.keys(r)))throw new M("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const l of Object.keys(r)){const d=this.model.document.getRoot(l);i.insert(this.parse(r[l],d),d,0)}}),Promise.resolve()}set(n,r={}){let i={};if(typeof n=="string"?i.main=n:i=n,!this._checkIfRootsExists(Object.keys(i)))throw new M("datacontroller-set-non-existent-root",this);this.model.enqueueChange(r.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(i)){const h=this.model.document.getRoot(d);l.remove(l.createRangeIn(h)),l.insert(this.parse(i[d],h),h,0)}})}parse(n,r="$root"){const i=this.processor.toView(n);return this.toModel(i,r)}toModel(n,r="$root"){return this.model.change(i=>this.upcastDispatcher.convert(n,i,r))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const r of n)if(!this.model.document.getRoot(r))return!1;return!0}}class aG{constructor(n,r){this._helpers=new Map,this._downcast=Wt(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Wt(r),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,r){const i=this._downcast.includes(r);if(!this._upcast.includes(r)&&!i)throw new M("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[r],isDowncast:i})}for(n){if(!this._helpers.has(n))throw new M("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:r,view:i}of ly(n))this.for("upcast").elementToElement({model:r,view:i,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:r,view:i}of ly(n))this.for("upcast").elementToAttribute({view:i,model:r,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:r,view:i}of ly(n))this.for("upcast").attributeToAttribute({view:i,model:r})}_createConversionHelpers({name:n,dispatchers:r,isDowncast:i}){if(this._helpers.has(n))throw new M("conversion-group-exists",this);const l=i?new xq(r):new Bq(r);this._helpers.set(n,l)}}function*ly(a){if(a.model.values)for(const n of a.model.values){const r={key:a.model.key,value:n},i=a.view[n],l=a.upcastAlso?a.upcastAlso[n]:void 0;yield*ZI(r,i,l)}else yield*ZI(a.model,a.view,a.upcastAlso)}function*ZI(a,n,r){if(yield{model:a,view:n},r)for(const i of Wt(r))yield{model:a,view:i}}class ar{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,r){return new this(n.baseVersion)}}function cy(a,n){const r=XI(n),i=r.reduce((h,f)=>h+f.offsetSize,0),l=a.parent;Qu(a);const d=a.index;return l._insertChild(d,r),Yu(l,d+r.length),Yu(l,d),new ne(a,a.getShiftedBy(i))}function JI(a){if(!a.isFlat)throw new M("operation-utils-remove-range-not-flat",this);const n=a.start.parent;Qu(a.start),Qu(a.end);const r=n._removeChildren(a.start.index,a.end.index-a.start.index);return Yu(n,a.start.index),r}function Ku(a,n){if(!a.isFlat)throw new M("operation-utils-move-range-not-flat",this);const r=JI(a);return cy(n=n._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),r)}function XI(a){const n=[];(function r(i){if(typeof i=="string")n.push(new Vt(i));else if(i instanceof ri)n.push(new Vt(i.data,i.getAttributes()));else if(i instanceof Ja)n.push(i);else if(et(i))for(const l of i)r(l)})(a);for(let r=1;r<n.length;r++){const i=n[r],l=n[r-1];i instanceof Vt&&l instanceof Vt&&eD(i,l)&&(n.splice(r-1,2,new Vt(l.data+i.data,l.getAttributes())),r--)}return n}function Yu(a,n){const r=a.getChild(n-1),i=a.getChild(n);if(r&&i&&r.is("$text")&&i.is("$text")&&eD(r,i)){const l=new Vt(r.data+i.data,r.getAttributes());a._removeChildren(n-1,2),a._insertChild(n-1,l)}}function Qu(a){const n=a.textNode,r=a.parent;if(n){const i=a.offset-n.startOffset,l=n.index;r._removeChildren(l,1);const d=new Vt(n.data.substr(0,i),n.getAttributes()),h=new Vt(n.data.substr(i),n.getAttributes());r._insertChild(l,[d,h])}}function eD(a,n){const r=a.getAttributes(),i=n.getAttributes();for(const l of r){if(l[1]!==n.getAttribute(l[0]))return!1;i.next()}return i.next().done}class _t extends ar{constructor(n,r,i,l){super(l),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ne._createFromPositionAndShift(this.sourcePosition,this.howMany),ne._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new _t(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new _t(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent,i=this.sourcePosition.offset,l=this.targetPosition.offset;if(i+this.howMany>n.maxOffset)throw new M("move-operation-nodes-do-not-exist",this);if(n===r&&i<l&&l<i+this.howMany)throw new M("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Oe(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const d=this.sourcePosition.path.length-1;if(this.targetPosition.path[d]>=i&&this.targetPosition.path[d]<i+this.howMany)throw new M("move-operation-node-into-itself",this)}}_execute(){Ku(ne._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,r){const i=ue.fromJSON(n.sourcePosition,r),l=ue.fromJSON(n.targetPosition,r);return new this(i,n.howMany,l,n.baseVersion)}}class Kn extends ar{constructor(n,r,i){super(i),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new Uu(XI(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new Uu([...this.nodes].map(i=>i._clone(!0))),r=new Kn(this.position,n,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const n=this.position.root.document.graveyard,r=new ue(n,[0]);return new _t(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new M("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new Uu([...n].map(r=>r._clone(!0))),cy(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,r){const i=[];for(const d of n.nodes)d.name?i.push(Ot.fromJSON(d)):i.push(Vt.fromJSON(d));const l=new Kn(ue.fromJSON(n.position,r),i,n.baseVersion);return l.shouldReceiveAttributes=n.shouldReceiveAttributes,l}}class Ut extends ar{constructor(n,r,i,l,d){super(d),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=i,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new ue(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ne(this.splitPosition,n)}get affectedSelectable(){const n=[ne._createFromPositionAndShift(this.splitPosition,0),ne._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(ne._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new Ut(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,r=new ue(n,[0]);return new kn(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,r=this.splitPosition.offset;if(!n||n.maxOffset<r)throw new M("split-operation-position-invalid",this);if(!n.parent)throw new M("split-operation-split-in-root",this);if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new M("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M("split-operation-graveyard-position-invalid",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)Ku(ne._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=n._clone();cy(this.insertionPosition,r)}Ku(new ne(ue._createAt(n,this.splitPosition.offset),ue._createAt(n,n.maxOffset)),this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const r=n.path.slice(0,-1);return r[r.length-1]++,new ue(n.root,r,"toPrevious")}static fromJSON(n,r){const i=ue.fromJSON(n.splitPosition,r),l=ue.fromJSON(n.insertionPosition,r),d=n.graveyardPosition?ue.fromJSON(n.graveyardPosition,r):null;return new this(i,n.howMany,l,d,n.baseVersion)}}class kn extends ar{constructor(n,r,i,l,d){super(d),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new ue(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ne(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[ne._createOn(n),ne._createFromPositionAndShift(this.targetPosition,0),ne._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new kn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),i=new ue(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new Ut(n,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent;if(!n.parent)throw new M("merge-operation-source-position-invalid",this);if(!r.parent)throw new M("merge-operation-target-position-invalid",this);if(this.howMany!=n.maxOffset)throw new M("merge-operation-how-many-invalid",this)}_execute(){const n=this.sourcePosition.parent;Ku(ne._createIn(n),this.targetPosition),Ku(ne._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,r){const i=ue.fromJSON(n.sourcePosition,r),l=ue.fromJSON(n.targetPosition,r),d=ue.fromJSON(n.graveyardPosition,r);return new this(i,n.howMany,l,d,n.baseVersion)}}class Lo extends ar{constructor(n,r,i,l,d,h){super(h),this.name=n,this.oldRange=r?r.clone():null,this.newRange=i?i.clone():null,this.affectsData=d,this._markers=l}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new Lo(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Lo(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,r){return new Lo(n.name,n.oldRange?ne.fromJSON(n.oldRange,r):null,n.newRange?ne.fromJSON(n.newRange,r):null,r.model.markers,n.affectsData,n.baseVersion)}}const tD=function(a,n){return jg(a,n)};class En extends ar{constructor(n,r,i,l,d){super(d),this.range=n.clone(),this.key=r,this.oldValue=i===void 0?null:i,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new En(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new En(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new M("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!tD(n.getAttribute(this.key),this.oldValue))throw new M("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new M("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){tD(this.oldValue,this.newValue)||function(n,r,i){Qu(n.start),Qu(n.end);for(const l of n.getItems({shallow:!0})){const d=l.is("$textProxy")?l.textNode:l;i!==null?d._setAttribute(r,i):d._removeAttribute(r),Yu(d.parent,d.index)}Yu(n.end.parent,n.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,r){return new En(ne.fromJSON(n.range,r),n.key,n.oldValue,n.newValue,n.baseVersion)}}class jn extends ar{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new jn(this.baseVersion)}getReversed(){return new jn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class jo extends ar{constructor(n,r,i,l){super(l),this.position=n,this.position.stickiness="toNext",this.oldName=r,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new jo(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new jo(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(!(n instanceof Ot))throw new M("rename-operation-wrong-position",this);if(n.name!==this.oldName)throw new M("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,r){return new jo(ue.fromJSON(n.position,r),n.oldName,n.newName,n.baseVersion)}}class Xi extends ar{constructor(n,r,i,l,d){super(d),this.root=n,this.key=r,this.oldValue=i===void 0?null:i,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Xi(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Xi(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new M("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new M("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,r){if(!r.getRoot(n.root))throw new M("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new Xi(r.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class Ci extends ar{constructor(n,r,i,l,d){super(d),this.rootName=n,this.elementName=r,this.isAdd=i,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ci(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ci(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,r){return new Ci(n.rootName,n.elementName,n.isAdd,r,n.baseVersion)}}const Er={};Er[En.className]=En,Er[Kn.className]=Kn,Er[Lo.className]=Lo,Er[_t.className]=_t,Er[jn.className]=jn,Er[ar.className]=ar,Er[jo.className]=jo,Er[Xi.className]=Xi,Er[Ci.className]=Ci,Er[Ut.className]=Ut,Er[kn.className]=kn;class lG{static fromJSON(n,r){return Er[n.__className].fromJSON(n,r)}}const dy=new Map;function bt(a,n,r){let i=dy.get(a);i||(i=new Map,dy.set(a,i)),i.set(n,r)}function cG(a){return[a]}function nD(a,n,r={}){const i=function(l,d){const h=dy.get(l);return h&&h.has(d)?h.get(d):cG}(a.constructor,n.constructor);try{return i(a=a.clone(),n,r)}catch(l){throw l}}function dG(a,n,r){a=a.slice(),n=n.slice();const i=new uG(r.document,r.useRelations,r.forceWeakRemove);i.setOriginalOperations(a),i.setOriginalOperations(n);const l=i.originalOperations;if(a.length==0||n.length==0)return{operationsA:a,operationsB:n,originalOperations:l};const d=new WeakMap;for(const k of a)d.set(k,0);const h={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:n.length};let f=0;for(;f<a.length;){const k=a[f],b=d.get(k);if(b==n.length){f++;continue}const v=n[b],A=nD(k,v,i.getContext(k,v,!0)),E=nD(v,k,i.getContext(v,k,!1));i.updateRelation(k,v),i.setOriginalOperations(A,k),i.setOriginalOperations(E,v);for(const I of A)d.set(I,b+E.length);a.splice(f,1,...A),n.splice(b,1,...E)}return oD(a,h.nextBaseVersionB),oD(n,h.nextBaseVersionA),{operationsA:a,operationsB:n,originalOperations:l}}class uG{constructor(n,r,i=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=r,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(n,r=null){const i=r?this.originalOperations.get(r):null;for(const l of n)this.originalOperations.set(l,i||l)}updateRelation(n,r){if(n instanceof _t)r instanceof kn?n.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,r,"insertAtSource"):n.targetPosition.isEqual(r.deletionPosition)?this._setRelation(n,r,"insertBetween"):n.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(n,r,"moveTargetAfter"):r instanceof _t&&(n.targetPosition.isEqual(r.sourcePosition)||n.targetPosition.isBefore(r.sourcePosition)?this._setRelation(n,r,"insertBefore"):this._setRelation(n,r,"insertAfter"));else if(n instanceof Ut){if(r instanceof kn)n.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(n,r,"splitBefore");else if(r instanceof _t)if(n.splitPosition.isEqual(r.sourcePosition)||n.splitPosition.isBefore(r.sourcePosition))this._setRelation(n,r,"splitBefore");else{const i=ne._createFromPositionAndShift(r.sourcePosition,r.howMany);if(n.splitPosition.hasSameParentAs(r.sourcePosition)&&i.containsPosition(n.splitPosition)){const l=i.end.offset-n.splitPosition.offset,d=n.splitPosition.offset-i.start.offset;this._setRelation(n,r,{howMany:l,offset:d})}}}else if(n instanceof kn)r instanceof kn?(n.targetPosition.isEqual(r.sourcePosition)||this._setRelation(n,r,"mergeTargetNotMoved"),n.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(n,r,"mergeSourceNotMoved"),n.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(n,r,"mergeSameElement")):r instanceof Ut?n.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(n,r,"splitAtSource"):r instanceof _t&&r.howMany>0&&(n.sourcePosition.isEqual(r.sourcePosition.getShiftedBy(r.howMany))&&this._setRelation(n,r,"mergeSourceAffected"),n.targetPosition.isEqual(r.sourcePosition)&&this._setRelation(n,r,"mergeTargetWasBefore"));else if(n instanceof Lo){const i=n.newRange;if(!i)return;if(r instanceof _t){const l=ne._createFromPositionAndShift(r.sourcePosition,r.howMany),d=l.containsPosition(i.start)||l.start.isEqual(i.start),h=l.containsPosition(i.end)||l.end.isEqual(i.end);!d&&!h||l.containsRange(i)||this._setRelation(n,r,{side:d?"left":"right",path:d?i.start.path.slice():i.end.path.slice()})}else if(r instanceof kn){const l=i.start.isEqual(r.targetPosition),d=i.start.isEqual(r.deletionPosition),h=i.end.isEqual(r.deletionPosition),f=i.end.isEqual(r.sourcePosition);(l||d||h||f)&&this._setRelation(n,r,{wasInLeftElement:l,wasStartBeforeMergedElement:d,wasEndBeforeMergedElement:h,wasInRightElement:f})}}}getContext(n,r,i){return{aIsStrong:i,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(n,r):null,baRelation:this._useRelations?this._getRelation(r,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const r=this.originalOperations.get(n);return r.wasUndone||this._history.isUndoneOperation(r)}_getRelation(n,r){const i=this.originalOperations.get(r),l=this._history.getUndoneOperation(i);if(!l)return null;const d=this.originalOperations.get(n),h=this._relations.get(d);return h&&h.get(l)||null}_setRelation(n,r,i){const l=this.originalOperations.get(n),d=this.originalOperations.get(r);let h=this._relations.get(l);h||(h=new Map,this._relations.set(l,h)),h.set(d,i)}}function oD(a,n){for(const r of a)r.baseVersion=n++}function rD(a,n,r){const i=a.nodes.getNode(0).getAttribute(n);if(i==r)return null;const l=new ne(a.position,a.position.getShiftedBy(a.howMany));return new En(l,n,i,r,0)}function iD(a,n){return a.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function _c(a,n){const r=[];for(let i=0;i<a.length;i++){const l=a[i],d=new _t(l.start,l.end.offset-l.start.offset,n,0);r.push(d);for(let h=i+1;h<a.length;h++)a[h]=a[h]._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)[0];n=n._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)}return r}bt(En,En,(a,n,r)=>{if(a.key===n.key&&a.range.start.hasSameParentAs(n.range.start)){const i=a.range.getDifference(n.range).map(d=>new En(d,a.key,a.oldValue,a.newValue,0)),l=a.range.getIntersection(n.range);return l&&r.aIsStrong&&i.push(new En(l,n.key,n.newValue,a.newValue,0)),i.length==0?[new jn(0)]:i}return[a]}),bt(En,Kn,(a,n)=>{if(a.range.start.hasSameParentAs(n.position)&&a.range.containsPosition(n.position)){const r=a.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(i=>new En(i,a.key,a.oldValue,a.newValue,a.baseVersion));if(n.shouldReceiveAttributes){const i=rD(n,a.key,a.oldValue);i&&r.unshift(i)}return r}return a.range=a.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[a]}),bt(En,kn,(a,n)=>{const r=[];a.range.start.hasSameParentAs(n.deletionPosition)&&(a.range.containsPosition(n.deletionPosition)||a.range.start.isEqual(n.deletionPosition))&&r.push(ne._createFromPositionAndShift(n.graveyardPosition,1));const i=a.range._getTransformedByMergeOperation(n);return i.isCollapsed||r.push(i),r.map(l=>new En(l,a.key,a.oldValue,a.newValue,a.baseVersion))}),bt(En,_t,(a,n)=>function(i,l){const d=ne._createFromPositionAndShift(l.sourcePosition,l.howMany);let h=null,f=[];d.containsRange(i,!0)?h=i:i.start.hasSameParentAs(d.start)?(f=i.getDifference(d),h=i.getIntersection(d)):f=[i];const k=[];for(let b of f){b=b._getTransformedByDeletion(l.sourcePosition,l.howMany);const v=l.getMovedRangeStart(),A=b.start.hasSameParentAs(v),E=b._getTransformedByInsertion(v,l.howMany,A);k.push(...E)}return h&&k.push(h._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),k}(a.range,n).map(i=>new En(i,a.key,a.oldValue,a.newValue,a.baseVersion))),bt(En,Ut,(a,n)=>{if(a.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(n.splitPosition)&&a.range.containsPosition(n.splitPosition)){const r=a.clone();return r.range=new ne(n.moveTargetPosition.clone(),a.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),a.range.end=n.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,r]}return a.range=a.range._getTransformedBySplitOperation(n),[a]}),bt(Kn,En,(a,n)=>{const r=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(a.position)){const i=rD(a,n.key,n.newValue);i&&r.push(i)}return r}),bt(Kn,Kn,(a,n,r)=>(a.position.isEqual(n.position)&&r.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(n)),[a])),bt(Kn,_t,(a,n)=>(a.position=a.position._getTransformedByMoveOperation(n),[a])),bt(Kn,Ut,(a,n)=>(a.position=a.position._getTransformedBySplitOperation(n),[a])),bt(Kn,kn,(a,n)=>(a.position=a.position._getTransformedByMergeOperation(n),[a])),bt(Lo,Kn,(a,n)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(n)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(n)[0]),[a])),bt(Lo,Lo,(a,n,r)=>{if(a.name==n.name){if(!r.aIsStrong)return[new jn(0)];a.oldRange=n.newRange?n.newRange.clone():null}return[a]}),bt(Lo,kn,(a,n)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(n)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(n)),[a])),bt(Lo,_t,(a,n,r)=>{if(a.oldRange&&(a.oldRange=ne._createFromRanges(a.oldRange._getTransformedByMoveOperation(n))),a.newRange){if(r.abRelation){const i=ne._createFromRanges(a.newRange._getTransformedByMoveOperation(n));if(r.abRelation.side=="left"&&n.targetPosition.isEqual(a.newRange.start))return a.newRange.end=i.end,a.newRange.start.path=r.abRelation.path,[a];if(r.abRelation.side=="right"&&n.targetPosition.isEqual(a.newRange.end))return a.newRange.start=i.start,a.newRange.end.path=r.abRelation.path,[a]}a.newRange=ne._createFromRanges(a.newRange._getTransformedByMoveOperation(n))}return[a]}),bt(Lo,Ut,(a,n,r)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(n)),a.newRange){if(r.abRelation){const i=a.newRange._getTransformedBySplitOperation(n);return a.newRange.start.isEqual(n.splitPosition)&&r.abRelation.wasStartBeforeMergedElement?a.newRange.start=ue._createAt(n.insertionPosition):a.newRange.start.isEqual(n.splitPosition)&&!r.abRelation.wasInLeftElement&&(a.newRange.start=ue._createAt(n.moveTargetPosition)),a.newRange.end.isEqual(n.splitPosition)&&r.abRelation.wasInRightElement?a.newRange.end=ue._createAt(n.moveTargetPosition):a.newRange.end.isEqual(n.splitPosition)&&r.abRelation.wasEndBeforeMergedElement?a.newRange.end=ue._createAt(n.insertionPosition):a.newRange.end=i.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(n)}return[a]}),bt(kn,Kn,(a,n)=>(a.sourcePosition.hasSameParentAs(n.position)&&(a.howMany+=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(n),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(n),[a])),bt(kn,kn,(a,n,r)=>{if(a.sourcePosition.isEqual(n.sourcePosition)&&a.targetPosition.isEqual(n.targetPosition)){if(r.bWasUndone){const i=n.graveyardPosition.path.slice();return i.push(0),a.sourcePosition=new ue(n.graveyardPosition.root,i),a.howMany=0,[a]}return[new jn(0)]}if(a.sourcePosition.isEqual(n.sourcePosition)&&!a.targetPosition.isEqual(n.targetPosition)&&!r.bWasUndone&&r.abRelation!="splitAtSource"){const i=a.targetPosition.root.rootName=="$graveyard",l=n.targetPosition.root.rootName=="$graveyard";if(l&&!i||!(i&&!l)&&r.aIsStrong){const d=n.targetPosition._getTransformedByMergeOperation(n),h=a.targetPosition._getTransformedByMergeOperation(n);return[new _t(d,a.howMany,h,0)]}return[new jn(0)]}return a.sourcePosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(n),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),a.graveyardPosition.isEqual(n.graveyardPosition)&&r.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(n)),[a]}),bt(kn,_t,(a,n,r)=>{const i=ne._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!r.bWasUndone&&!r.forceWeakRemove&&a.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(a.sourcePosition)?[new jn(0)]:(n.sourcePosition.getShiftedBy(n.howMany).isEqual(a.sourcePosition)?a.sourcePosition.stickiness="toNone":n.targetPosition.isEqual(a.sourcePosition)&&r.abRelation=="mergeSourceAffected"?a.sourcePosition.stickiness="toNext":n.sourcePosition.isEqual(a.targetPosition)?(a.targetPosition.stickiness="toNone",a.howMany-=n.howMany):n.targetPosition.isEqual(a.targetPosition)&&r.abRelation=="mergeTargetWasBefore"?(a.targetPosition.stickiness="toPrevious",a.howMany+=n.howMany):(a.sourcePosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.sourcePosition.hasSameParentAs(n.sourcePosition)&&(a.howMany-=n.howMany)),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(n),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(n),a.sourcePosition.stickiness="toPrevious",a.targetPosition.stickiness="toNext",a.graveyardPosition.isEqual(n.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(n)),[a])}),bt(kn,Ut,(a,n,r)=>{if(n.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),a.deletionPosition.isEqual(n.graveyardPosition)&&(a.howMany=n.howMany)),a.targetPosition.isEqual(n.splitPosition)){const i=n.howMany!=0,l=n.graveyardPosition&&a.deletionPosition.isEqual(n.graveyardPosition);if(i||l||r.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(n),[a]}if(a.sourcePosition.isEqual(n.splitPosition)){if(r.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a];if(r.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=n.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a]}return a.sourcePosition.hasSameParentAs(n.splitPosition)&&(a.howMany=n.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(n),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(n),[a]}),bt(_t,Kn,(a,n)=>{const r=ne._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(n,!1)[0];return a.sourcePosition=r.start,a.howMany=r.end.offset-r.start.offset,a.targetPosition.isEqual(n.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(n)),[a]}),bt(_t,_t,(a,n,r)=>{const i=ne._createFromPositionAndShift(a.sourcePosition,a.howMany),l=ne._createFromPositionAndShift(n.sourcePosition,n.howMany);let d,h=r.aIsStrong,f=!r.aIsStrong;if(r.abRelation=="insertBefore"||r.baRelation=="insertAfter"?f=!0:r.abRelation!="insertAfter"&&r.baRelation!="insertBefore"||(f=!1),d=a.targetPosition.isEqual(n.targetPosition)&&f?a.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):a.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),iD(a,n)&&iD(n,a))return[n.getReversed()];if(i.containsPosition(n.targetPosition)&&i.containsRange(l,!0))return i.start=i.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),i.end=i.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),_c([i],d);if(l.containsPosition(a.targetPosition)&&l.containsRange(i,!0))return i.start=i.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),i.end=i.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),_c([i],d);const k=Oe(a.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(k=="prefix"||k=="extension")return i.start=i.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),i.end=i.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),_c([i],d);a.type!="remove"||n.type=="remove"||r.aWasUndone||r.forceWeakRemove?a.type=="remove"||n.type!="remove"||r.bWasUndone||r.forceWeakRemove||(h=!1):h=!0;const b=[],v=i.getDifference(l);for(const E of v){E.start=E.start._getTransformedByDeletion(n.sourcePosition,n.howMany),E.end=E.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const I=Oe(E.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",P=E._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,I);b.push(...P)}const A=i.getIntersection(l);return A!==null&&h&&(A.start=A.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),A.end=A.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),b.length===0?b.push(A):b.length==1?l.start.isBefore(i.start)||l.start.isEqual(i.start)?b.unshift(A):b.push(A):b.splice(1,0,A)),b.length===0?[new jn(a.baseVersion)]:_c(b,d)}),bt(_t,Ut,(a,n,r)=>{let i=a.targetPosition.clone();a.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&r.abRelation!="moveTargetAfter"||(i=a.targetPosition._getTransformedBySplitOperation(n));const l=ne._createFromPositionAndShift(a.sourcePosition,a.howMany);if(l.end.isEqual(n.insertionPosition))return n.graveyardPosition||a.howMany++,a.targetPosition=i,[a];if(l.start.hasSameParentAs(n.splitPosition)&&l.containsPosition(n.splitPosition)){let h=new ne(n.splitPosition,l.end);return h=h._getTransformedBySplitOperation(n),_c([new ne(l.start,n.splitPosition),h],i)}a.targetPosition.isEqual(n.splitPosition)&&r.abRelation=="insertAtSource"&&(i=n.moveTargetPosition),a.targetPosition.isEqual(n.insertionPosition)&&r.abRelation=="insertBetween"&&(i=a.targetPosition);const d=[l._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const h=l.start.isEqual(n.graveyardPosition)||l.containsPosition(n.graveyardPosition);a.howMany>1&&h&&!r.aWasUndone&&d.push(ne._createFromPositionAndShift(n.insertionPosition,1))}return _c(d,i)}),bt(_t,kn,(a,n,r)=>{const i=ne._createFromPositionAndShift(a.sourcePosition,a.howMany);if(n.deletionPosition.hasSameParentAs(a.sourcePosition)&&i.containsPosition(n.sourcePosition)){if(a.type!="remove"||r.forceWeakRemove){if(a.howMany==1)return r.bWasUndone?(a.sourcePosition=n.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),[a]):[new jn(0)]}else if(!r.aWasUndone){const d=[];let h=n.graveyardPosition.clone(),f=n.targetPosition._getTransformedByMergeOperation(n);a.howMany>1&&(d.push(new _t(a.sourcePosition,a.howMany-1,a.targetPosition,0)),h=h._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),f=f._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const k=n.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),b=new _t(h,1,k,0),v=b.getMovedRangeStart().path.slice();v.push(0);const A=new ue(b.targetPosition.root,v);f=f._getTransformedByMove(h,k,1);const E=new _t(f,n.howMany,A,0);return d.push(b),d.push(E),d}}const l=ne._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(n);return a.sourcePosition=l.start,a.howMany=l.end.offset-l.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(n),[a]}),bt(jo,Kn,(a,n)=>(a.position=a.position._getTransformedByInsertOperation(n),[a])),bt(jo,kn,(a,n)=>a.position.isEqual(n.deletionPosition)?(a.position=n.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(n),[a])),bt(jo,_t,(a,n)=>(a.position=a.position._getTransformedByMoveOperation(n),[a])),bt(jo,jo,(a,n,r)=>{if(a.position.isEqual(n.position)){if(!r.aIsStrong)return[new jn(0)];a.oldName=n.newName}return[a]}),bt(jo,Ut,(a,n)=>{if(Oe(a.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){const r=new jo(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,r]}return a.position=a.position._getTransformedBySplitOperation(n),[a]}),bt(Xi,Xi,(a,n,r)=>{if(a.root===n.root&&a.key===n.key){if(!r.aIsStrong||a.newValue===n.newValue)return[new jn(0)];a.oldValue=n.newValue}return[a]}),bt(Ci,Ci,(a,n)=>a.rootName===n.rootName&&a.isAdd===n.isAdd?[new jn(0)]:[a]),bt(Ut,Kn,(a,n)=>(a.splitPosition.hasSameParentAs(n.position)&&a.splitPosition.offset<n.position.offset&&(a.howMany+=n.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(n),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(n),[a])),bt(Ut,kn,(a,n,r)=>{if(!a.graveyardPosition&&!r.bWasUndone&&a.splitPosition.hasSameParentAs(n.sourcePosition)){const i=n.graveyardPosition.path.slice();i.push(0);const l=new ue(n.graveyardPosition.root,i),d=Ut.getInsertionPosition(new ue(n.graveyardPosition.root,i)),h=new Ut(l,0,d,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(n),a.insertionPosition=Ut.getInsertionPosition(a.splitPosition),a.graveyardPosition=h.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[h,a]}return a.splitPosition.hasSameParentAs(n.deletionPosition)&&!a.splitPosition.isAfter(n.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(n.targetPosition)&&(a.howMany+=n.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(n),a.insertionPosition=Ut.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(n)),[a]}),bt(Ut,_t,(a,n,r)=>{const i=ne._createFromPositionAndShift(n.sourcePosition,n.howMany);if(a.graveyardPosition){const d=i.start.isEqual(a.graveyardPosition)||i.containsPosition(a.graveyardPosition);if(!r.bWasUndone&&d){const h=a.splitPosition._getTransformedByMoveOperation(n),f=a.graveyardPosition._getTransformedByMoveOperation(n),k=f.path.slice();k.push(0);const b=new ue(f.root,k);return[new _t(h,a.howMany,b,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(n)}const l=a.splitPosition.isEqual(n.targetPosition);if(l&&(r.baRelation=="insertAtSource"||r.abRelation=="splitBefore"))return a.howMany+=n.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),a.insertionPosition=Ut.getInsertionPosition(a.splitPosition),[a];if(l&&r.abRelation&&r.abRelation.howMany){const{howMany:d,offset:h}=r.abRelation;return a.howMany+=d,a.splitPosition=a.splitPosition.getShiftedBy(h),[a]}if(a.splitPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(a.splitPosition)){const d=n.howMany-(a.splitPosition.offset-n.sourcePosition.offset);return a.howMany-=d,a.splitPosition.hasSameParentAs(n.targetPosition)&&a.splitPosition.offset<n.targetPosition.offset&&(a.howMany+=n.howMany),a.splitPosition=n.sourcePosition.clone(),a.insertionPosition=Ut.getInsertionPosition(a.splitPosition),[a]}return n.sourcePosition.isEqual(n.targetPosition)||(a.splitPosition.hasSameParentAs(n.sourcePosition)&&a.splitPosition.offset<=n.sourcePosition.offset&&(a.howMany-=n.howMany),a.splitPosition.hasSameParentAs(n.targetPosition)&&a.splitPosition.offset<n.targetPosition.offset&&(a.howMany+=n.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(n),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(n):a.insertionPosition=Ut.getInsertionPosition(a.splitPosition),[a]}),bt(Ut,Ut,(a,n,r)=>{if(a.splitPosition.isEqual(n.splitPosition)){if(!a.graveyardPosition&&!n.graveyardPosition)return[new jn(0)];if(a.graveyardPosition&&n.graveyardPosition&&a.graveyardPosition.isEqual(n.graveyardPosition))return[new jn(0)];if(r.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(n),[a]}if(a.graveyardPosition&&n.graveyardPosition&&a.graveyardPosition.isEqual(n.graveyardPosition)){const i=a.splitPosition.root.rootName=="$graveyard",l=n.splitPosition.root.rootName=="$graveyard";if(l&&!i||!(i&&!l)&&r.aIsStrong){const d=[];return n.howMany&&d.push(new _t(n.moveTargetPosition,n.howMany,n.splitPosition,0)),a.howMany&&d.push(new _t(a.splitPosition,a.howMany,a.moveTargetPosition,0)),d}return[new jn(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(n)),a.splitPosition.isEqual(n.insertionPosition)&&r.abRelation=="splitBefore")return a.howMany++,[a];if(n.splitPosition.isEqual(a.insertionPosition)&&r.baRelation=="splitBefore"){const i=n.insertionPosition.path.slice();i.push(0);const l=new ue(n.insertionPosition.root,i);return[a,new _t(a.insertionPosition,1,l,0)]}return a.splitPosition.hasSameParentAs(n.splitPosition)&&a.splitPosition.offset<n.splitPosition.offset&&(a.howMany-=n.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(n),a.insertionPosition=Ut.getInsertionPosition(a.splitPosition),[a]});class no extends q(ue){constructor(n,r,i="toNone"){if(super(n,r,i),!this.root.is("rootElement"))throw new M("model-liveposition-root-not-rootelement",n);hG.call(this)}detach(){this.stopListening()}toPosition(){return new ue(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,r){return new this(n.root,n.path.slice(),r||n.stickiness)}}function hG(){this.listenTo(this.root.document.model,"applyOperation",(a,n)=>{const r=n[0];r.isDocumentOperation&&pG.call(this,r)},{priority:"low"})}function pG(a){const n=this.getTransformedByOperation(a);if(!this.isEqual(n)){const r=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",r)}}no.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class Cc{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},U("batch-constructor-deprecated-string-type"));const{isUndoable:r=!0,isLocal:i=!0,isUndo:l=!1,isTyping:d=!1}=n;this.operations=[],this.isUndoable=r,this.isLocal=i,this.isUndo=l,this.isTyping=d}get type(){return U("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}var fG=Object.defineProperty,gG=Object.defineProperties,mG=Object.getOwnPropertyDescriptors,sD=Object.getOwnPropertySymbols,kG=Object.prototype.hasOwnProperty,bG=Object.prototype.propertyIsEnumerable,aD=(a,n,r)=>n in a?fG(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,lD=(a,n)=>{for(var r in n||(n={}))kG.call(n,r)&&aD(a,r,n[r]);if(sD)for(var r of sD(n))bG.call(n,r)&&aD(a,r,n[r]);return a};class wG{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(n){const r=n;switch(r.type){case"insert":if(this._isInInsertedElement(r.position.parent))return;this._markInsert(r.position.parent,r.position.offset,r.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of r.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(r.sourcePosition.isEqual(r.targetPosition)||r.sourcePosition.getShiftedBy(r.howMany).isEqual(r.targetPosition))return;const i=this._isInInsertedElement(r.sourcePosition.parent),l=this._isInInsertedElement(r.targetPosition.parent);i||this._markRemove(r.sourcePosition.parent,r.sourcePosition.offset,r.howMany),l||this._markInsert(r.targetPosition.parent,r.getMovedRangeStart().offset,r.howMany);break}case"rename":{if(this._isInInsertedElement(r.position.parent))return;this._markRemove(r.position.parent,r.position.offset,1),this._markInsert(r.position.parent,r.position.offset,1);const i=ne._createFromPositionAndShift(r.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(i)){const d=l.getData();this.bufferMarkerChange(l.name,d,d)}break}case"split":{const i=r.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,r.splitPosition.offset,r.howMany),this._isInInsertedElement(r.insertionPosition.parent)||this._markInsert(r.insertionPosition.parent,r.insertionPosition.offset,1),r.graveyardPosition&&this._markRemove(r.graveyardPosition.parent,r.graveyardPosition.offset,1);break}case"merge":{const i=r.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const l=r.graveyardPosition.parent;this._markInsert(l,r.graveyardPosition.offset,1);const d=r.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,r.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=r.affectedSelectable;if(!i._isLoaded||i.isAttached()==r.isAdd)return;this._bufferRootStateChange(r.rootName,r.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!r.root._isLoaded)return;const i=r.root.rootName;this._bufferRootAttributeChange(i,r.key,r.oldValue,r.newValue);break}}this._cachedChanges=null}bufferMarkerChange(n,r,i){r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let l=this._changedMarkers.get(n);l?l.newMarkerData=i:(l={newMarkerData:i,oldMarkerData:r},this._changedMarkers.set(n,l)),l.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(n)}getMarkersToRemove(){const n=[];for(const[r,i]of this._changedMarkers)i.oldMarkerData.range!=null&&n.push({name:r,range:i.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[r,i]of this._changedMarkers)i.newMarkerData.range!=null&&n.push({name:r,range:i.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,r])=>({name:n,data:{oldRange:r.oldMarkerData.range,newRange:r.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:r}of this._changedMarkers.values()){if(n.affectsData!==r.affectsData)return!0;if(n.affectsData){const i=n.range&&!r.range,l=!n.range&&r.range,d=n.range&&r.range&&!n.range.isEqual(r.range);if(i||l||d)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let r=[];for(const i of this._changesInElement.keys()){const l=this._changesInElement.get(i).sort((v,A)=>v.offset===A.offset?v.type!=A.type?v.type=="remove"?-1:1:0:v.offset<A.offset?-1:1),d=this._elementSnapshots.get(i),h=cD(i.getChildren()),f=vG(d.length,l);let k=0,b=0;for(const v of f)if(v==="i")r.push(this._getInsertDiff(i,k,h[k])),k++;else if(v==="r")r.push(this._getRemoveDiff(i,k,d[b])),b++;else if(v==="a"){const A=h[k].attributes,E=d[b].attributes;let I;if(h[k].name=="$text")I=new ne(ue._createAt(i,k),ue._createAt(i,k+1));else{const P=i.offsetToIndex(k);I=new ne(ue._createAt(i,k),ue._createAt(i.getChild(P),0))}r.push(...this._getAttributesDiff(I,E,A)),k++,b++}else k++,b++}r.sort((i,l)=>i.position.root!=l.position.root?i.position.root.rootName<l.position.root.rootName?-1:1:i.position.isEqual(l.position)?i.changeCount-l.changeCount:i.position.isBefore(l.position)?-1:1);for(let i=1,l=0;i<r.length;i++){const d=r[l],h=r[i],f=d.type=="remove"&&h.type=="remove"&&d.name=="$text"&&h.name=="$text"&&d.position.isEqual(h.position),k=d.type=="insert"&&h.type=="insert"&&d.name=="$text"&&h.name=="$text"&&d.position.parent==h.position.parent&&d.position.offset+d.length==h.position.offset,b=d.type=="attribute"&&h.type=="attribute"&&d.position.parent==h.position.parent&&d.range.isFlat&&h.range.isFlat&&d.position.offset+d.length==h.position.offset&&d.attributeKey==h.attributeKey&&d.attributeOldValue==h.attributeOldValue&&d.attributeNewValue==h.attributeNewValue;f||k||b?(d.length++,b&&(d.range.end=d.range.end.getShiftedBy(1)),r[i]=null):l=i}r=r.filter(i=>i);for(const i of r)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=r,this._cachedChanges=r.filter(yG),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(n=>{const r=lD({},n);return r.state!==void 0&&delete r.attributes,r})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(n,r){if(!this._changedRoots.has(n))return void this._changedRoots.set(n,{name:n,state:r?"attached":"detached"});const i=this._changedRoots.get(n);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(n)):i.state=r?"attached":"detached"}_bufferRootAttributeChange(n,r,i,l){const d=this._changedRoots.get(n)||{name:n},h=d.attributes||{};if(h[r]){const f=h[r];l===f.oldValue?delete h[r]:f.newValue=l}else h[r]={oldValue:i,newValue:l};Object.entries(h).length===0?(delete d.attributes,d.state===void 0&&this._changedRoots.delete(n)):(d.attributes=h,this._changedRoots.set(n,d))}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const r=ne._createOn(n);for(const i of this._markerCollection.getMarkersIntersectingRange(r)){const l=i.getData();this.bufferMarkerChange(i.name,l,l)}this._cachedChanges=null}_bufferRootLoad(n){if(n.isAttached()){this._bufferRootStateChange(n.rootName,!0),this._markInsert(n,0,n.maxOffset);for(const i of n.getAttributeKeys())this._bufferRootAttributeChange(n.rootName,i,null,n.getAttribute(i));for(const i of this._markerCollection)if(i.getRange().root==n){const l=i.getData();this.bufferMarkerChange(i.name,(r=lD({},l),gG(r,mG({range:null}))),l)}var r}}_markInsert(n,r,i){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const l={type:"insert",offset:r,howMany:i,count:this._changeCount++};this._markChange(n,l)}_markRemove(n,r,i){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const l={type:"remove",offset:r,howMany:i,count:this._changeCount++};this._markChange(n,l),this._removeAllNestedChanges(n,r,i)}_markAttribute(n){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const r={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,r)}_markChange(n,r){this._makeSnapshot(n);const i=this._getChangesForElement(n);this._handleChange(r,i),i.push(r);for(let l=0;l<i.length;l++)i[l].howMany<1&&(i.splice(l,1),l--)}_getChangesForElement(n){let r;return this._changesInElement.has(n)?r=this._changesInElement.get(n):(r=[],this._changesInElement.set(n,r)),r}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,cD(n.getChildren()))}_handleChange(n,r){n.nodesToHandle=n.howMany;for(const i of r){const l=n.offset+n.howMany,d=i.offset+i.howMany;if(n.type=="insert"&&(i.type=="insert"&&(n.offset<=i.offset?i.offset+=n.howMany:n.offset<d&&(i.howMany+=n.nodesToHandle,n.nodesToHandle=0)),i.type=="remove"&&n.offset<i.offset&&(i.offset+=n.howMany),i.type=="attribute")){if(n.offset<=i.offset)i.offset+=n.howMany;else if(n.offset<d){const h=i.howMany;i.howMany=n.offset-i.offset,r.unshift({type:"attribute",offset:l,howMany:h-i.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(i.type=="insert"){if(l<=i.offset)i.offset-=n.howMany;else if(l<=d)if(n.offset<i.offset){const h=l-i.offset;i.offset=n.offset,i.howMany-=h,n.nodesToHandle-=h}else i.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=i.offset)n.nodesToHandle-=i.howMany,i.howMany=0;else if(n.offset<d){const h=d-n.offset;i.howMany-=h,n.nodesToHandle-=h}}if(i.type=="remove"&&(l<=i.offset?i.offset-=n.howMany:n.offset<i.offset&&(n.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(l<=i.offset)i.offset-=n.howMany;else if(n.offset<i.offset){const h=l-i.offset;i.offset=n.offset,i.howMany-=h}else if(n.offset<d)if(l<=d){const h=i.howMany;i.howMany=n.offset-i.offset;const f=h-i.howMany-n.nodesToHandle;r.unshift({type:"attribute",offset:n.offset,howMany:f,count:this._changeCount++})}else i.howMany-=d-n.offset}}if(n.type=="attribute"){if(i.type=="insert")if(n.offset<i.offset&&l>i.offset){if(l>d){const h={type:"attribute",offset:d,howMany:l-d,count:this._changeCount++};this._handleChange(h,r),r.push(h)}n.nodesToHandle=i.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=i.offset&&n.offset<d&&(l>d?(n.nodesToHandle=l-d,n.offset=d):n.nodesToHandle=0);if(i.type=="remove"&&n.offset<i.offset&&l>i.offset){const h={type:"attribute",offset:i.offset,howMany:l-i.offset,count:this._changeCount++};this._handleChange(h,r),r.push(h),n.nodesToHandle=i.offset-n.offset,n.howMany=n.nodesToHandle}i.type=="attribute"&&(n.offset>=i.offset&&l<=d?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=i.offset&&l>=d&&(i.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,r,i){return{type:"insert",position:ue._createAt(n,r),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getRemoveDiff(n,r,i){return{type:"remove",position:ue._createAt(n,r),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getAttributesDiff(n,r,i){const l=[];i=new Map(i);for(const[d,h]of r){const f=i.has(d)?i.get(d):null;f!==h&&l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:h,attributeNewValue:f,changeCount:this._changeCount++}),i.delete(d)}for(const[d,h]of i)l.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:d,attributeOldValue:null,attributeNewValue:h,changeCount:this._changeCount++});return l}_isInInsertedElement(n){const r=n.parent;if(!r)return!1;const i=this._changesInElement.get(r),l=n.startOffset;if(i){for(const d of i)if(d.type=="insert"&&l>=d.offset&&l<d.offset+d.howMany)return!0}return this._isInInsertedElement(r)}_removeAllNestedChanges(n,r,i){const l=new ne(ue._createAt(n,r),ue._createAt(n,r+i));for(const d of l.getItems({shallow:!0}))d.is("element")&&(this._elementSnapshots.delete(d),this._changesInElement.delete(d),this._removeAllNestedChanges(d,0,d.maxOffset))}}function cD(a){const n=[];for(const r of a)if(r.is("$text"))for(let i=0;i<r.data.length;i++)n.push({name:"$text",attributes:new Map(r.getAttributes())});else n.push({name:r.name,attributes:new Map(r.getAttributes()),element:r});return n}function vG(a,n){const r=[];let i=0,l=0;for(const d of n){if(d.offset>i){for(let h=0;h<d.offset-i;h++)r.push("e");l+=d.offset-i}if(d.type=="insert"){for(let h=0;h<d.howMany;h++)r.push("i");i=d.offset+d.howMany}else if(d.type=="remove"){for(let h=0;h<d.howMany;h++)r.push("r");i=d.offset,l+=d.howMany}else r.push(..."a".repeat(d.howMany).split("")),i=d.offset+d.howMany,l+=d.howMany}if(l<a)for(let d=0;d<a-l-i;d++)r.push("e");return r}function yG(a){const n="position"in a&&a.position.root.rootName=="$graveyard",r="range"in a&&a.range.root.rootName=="$graveyard";return!n&&!r}class _G{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new M("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,r=this.version){if(!this._operations.length)return[];const i=this._operations[0];n===void 0&&(n=i.baseVersion);let l=r-1;for(const[f,k]of this._gaps)n>f&&n<k&&(n=k),l>f&&l<k&&(l=f-1);if(l<i.baseVersion||n>this.lastOperation.baseVersion)return[];let d=this._baseVersionToOperationIndex.get(n);d===void 0&&(d=0);let h=this._baseVersionToOperationIndex.get(l);return h===void 0&&(h=this._operations.length-1),this._operations.slice(d,h+1)}getOperation(n){const r=this._baseVersionToOperationIndex.get(n);if(r!==void 0)return this._operations[r]}setOperationAsUndone(n,r){this._undoPairs.set(r,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Ug extends Ot{constructor(n,r,i="main"){super(r),this._isAttached=!0,this._isLoaded=!0,this._document=n,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Ug.prototype.is=function(a,n){return n?n===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};var CG=Object.defineProperty,AG=Object.defineProperties,xG=Object.getOwnPropertyDescriptors,dD=Object.getOwnPropertySymbols,EG=Object.prototype.hasOwnProperty,SG=Object.prototype.propertyIsEnumerable,uD=(a,n,r)=>n in a?CG(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,hD=(a,n)=>{for(var r in n||(n={}))EG.call(n,r)&&uD(a,r,n[r]);if(dD)for(var r of dD(n))SG.call(n,r)&&uD(a,r,n[r]);return a},pD=(a,n)=>AG(a,xG(n));const fD="$graveyard";class TG extends q(){constructor(n){super(),this.model=n,this.history=new _G,this.selection=new ii(this),this.roots=new Xr({idProperty:"rootName"}),this.differ=new wG(n.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",fD),this.listenTo(n,"applyOperation",(r,i)=>{const l=i[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(n,"applyOperation",(r,i)=>{const l=i[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(r,i,l,d,h)=>{const f=pD(hD({},i.getData()),{range:d});this.differ.bufferMarkerChange(i.name,h,f),l===null&&i.on("change",(k,b)=>{const v=i.getData();this.differ.bufferMarkerChange(i.name,pD(hD({},v),{range:b}),v)})}),this.registerPostFixer(r=>{let i=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(r.remove(r.createRangeIn(l)),i=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(r.removeMarker(l),i=!0);return i})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(fD)}createRoot(n="$root",r="main"){if(this.roots.get(r))throw new M("model-document-createroot-name-exists",this,{name:r});const i=new Ug(this,n,r);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(n=!1){return this.getRoots(n).map(r=>r.rootName)}getRoots(n=!1){return this.roots.filter(r=>r!=this.graveyard&&(n||r.isAttached())&&r._isLoaded)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=OT(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const n=this.getRoots();return n.length?n[0]:this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),r=this.model,i=r.schema,l=r.createPositionFromPath(n,[0]);return i.getNearestSelectionRange(l)||r.createRange(l)}_validateSelectionRange(n){return gD(n.start)&&gD(n.end)}_callPostFixers(n){let r=!1;do for(const i of this._postFixers)if(this.selection.refresh(),r=i(n),r)break;while(r)}}function gD(a){const n=a.textNode;if(n){const r=n.data,i=a.offset-n.startOffset;return!Dv(r,i)&&!Mv(r,i)}return!0}var IG=Object.defineProperty,DG=Object.defineProperties,MG=Object.getOwnPropertyDescriptors,mD=Object.getOwnPropertySymbols,PG=Object.prototype.hasOwnProperty,NG=Object.prototype.propertyIsEnumerable,kD=(a,n,r)=>n in a?IG(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class RG extends q(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const r=n instanceof Ac?n.name:n;return this._markers.has(r)}get(n){return this._markers.get(n)||null}_set(n,r,i=!1,l=!1){const d=n instanceof Ac?n.name:n;if(d.includes(","))throw new M("markercollection-incorrect-marker-name",this);const h=this._markers.get(d);if(h){const v=h.getData(),A=h.getRange();let E=!1;return A.isEqual(r)||(h._attachLiveRange(sr.fromRange(r)),E=!0),i!=h.managedUsingOperations&&(h._managedUsingOperations=i,E=!0),typeof l=="boolean"&&l!=h.affectsData&&(h._affectsData=l,E=!0),E&&this.fire(`update:${d}`,h,A,r,v),h}const f=sr.fromRange(r),k=new Ac(d,f,i,l);var b;return this._markers.set(d,k),this.fire(`update:${d}`,k,null,r,(b=((v,A)=>{for(var E in A||(A={}))PG.call(A,E)&&kD(v,E,A[E]);if(mD)for(var E of mD(A))NG.call(A,E)&&kD(v,E,A[E]);return v})({},k.getData()),DG(b,MG({range:null})))),k}_remove(n){const r=n instanceof Ac?n.name:n,i=this._markers.get(r);return!!i&&(this._markers.delete(r),this.fire(`update:${r}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(n){const r=n instanceof Ac?n.name:n,i=this._markers.get(r);if(!i)throw new M("markercollection-refresh-marker-not-exists",this);const l=i.getRange();this.fire(`update:${r}`,i,l,l,i.getData())}*getMarkersAtPosition(n){for(const r of this)r.getRange().containsPosition(n)&&(yield r)}*getMarkersIntersectingRange(n){for(const r of this)r.getRange().getIntersection(n)!==null&&(yield r)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const r of this._markers.values())r.name.startsWith(n+":")&&(yield r)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class Ac extends q($s){constructor(n,r,i,l){super(),this.name=n,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=i,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ac.prototype.is=function(a){return a==="marker"||a==="model:marker"};class OG extends ar{constructor(n,r){super(null),this.sourcePosition=n.clone(),this.howMany=r}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new M("detach-operation-on-document-node",this)}_execute(){JI(ne._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class es extends $s{constructor(n){super(),this.markers=new Map,this._children=new Uu,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let r=this;for(const i of n)r=r.getChild(r.offsetToIndex(i));return r}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const r of this._children)n.push(r.toJSON());return n}static fromJSON(n){const r=[];for(const i of n)i.name?r.push(Ot.fromJSON(i)):r.push(Vt.fromJSON(i));return new es(r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const i=function(l){return typeof l=="string"?[new Vt(l)]:(et(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Vt(d):d instanceof ri?new Vt(d.data,d.getAttributes()):d))}(r);for(const l of i)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(n,i)}_removeChildren(n,r=1){const i=this._children._removeNodes(n,r);for(const l of i)l.parent=null;return i}}es.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class BG{constructor(n,r){this.model=n,this.batch=r}createText(n,r){return new Vt(n,r)}createElement(n,r){return new Ot(n,r)}createDocumentFragment(){return new es}cloneElement(n,r=!0){return n._clone(r)}insert(n,r,i=0){if(this._assertWriterUsedCorrectly(),n instanceof Vt&&n.data=="")return;const l=ue._createAt(r,i);if(n.parent){if(vD(n.root,l.root))return void this.move(ne._createOn(n),l);if(n.root.document)throw new M("model-writer-insert-forbidden-move",this);this.remove(n)}const d=l.root.document?l.root.document.version:null,h=new Kn(l,n,d);if(n instanceof Vt&&(h.shouldReceiveAttributes=!0),this.batch.addOperation(h),this.model.applyOperation(h),n instanceof es)for(const[f,k]of n.markers){const b=ue._createAt(k.root,0),v={range:new ne(k.start._getCombined(b,l),k.end._getCombined(b,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(f)?this.updateMarker(f,v):this.addMarker(f,v)}}insertText(n,r,i,l){r instanceof es||r instanceof Ot||r instanceof ue?this.insert(this.createText(n),r,i):this.insert(this.createText(n,r),i,l)}insertElement(n,r,i,l){r instanceof es||r instanceof Ot||r instanceof ue?this.insert(this.createElement(n),r,i):this.insert(this.createElement(n,r),i,l)}append(n,r){this.insert(n,r,"end")}appendText(n,r,i){r instanceof es||r instanceof Ot?this.insert(this.createText(n),r,"end"):this.insert(this.createText(n,r),i,"end")}appendElement(n,r,i){r instanceof es||r instanceof Ot?this.insert(this.createElement(n),r,"end"):this.insert(this.createElement(n,r),i,"end")}setAttribute(n,r,i){if(this._assertWriterUsedCorrectly(),i instanceof ne){const l=i.getMinimalFlatRanges();for(const d of l)bD(this,n,r,d)}else wD(this,n,r,i)}setAttributes(n,r){for(const[i,l]of wi(n))this.setAttribute(i,l,r)}removeAttribute(n,r){if(this._assertWriterUsedCorrectly(),r instanceof ne){const i=r.getMinimalFlatRanges();for(const l of i)bD(this,n,null,l)}else wD(this,n,null,r)}clearAttributes(n){this._assertWriterUsedCorrectly();const r=i=>{for(const l of i.getAttributeKeys())this.removeAttribute(l,i)};if(n instanceof ne)for(const i of n.getItems())r(i);else r(n)}move(n,r,i){if(this._assertWriterUsedCorrectly(),!(n instanceof ne))throw new M("writer-move-invalid-range",this);if(!n.isFlat)throw new M("writer-move-range-not-flat",this);const l=ue._createAt(r,i);if(l.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!vD(n.root,l.root))throw new M("writer-move-different-document",this);const d=n.root.document?n.root.document.version:null,h=new _t(n.start,n.end.offset-n.start.offset,l,d);this.batch.addOperation(h),this.model.applyOperation(h)}remove(n){this._assertWriterUsedCorrectly();const r=(n instanceof ne?n:ne._createOn(n)).getMinimalFlatRanges().reverse();for(const i of r)this._addOperationForAffectedMarkers("move",i),LG(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const r=n.nodeBefore,i=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(r instanceof Ot))throw new M("writer-merge-no-element-before",this);if(!(i instanceof Ot))throw new M("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,r,i){return this.model.createPositionFromPath(n,r,i)}createPositionAt(n,r){return this.model.createPositionAt(n,r)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,r){return this.model.createRange(n,r)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const r=n.nodeBefore,i=n.nodeAfter;this.move(ne._createIn(i),ue._createAt(r,"end")),this.remove(i)}_merge(n){const r=ue._createAt(n.nodeBefore,"end"),i=ue._createAt(n.nodeAfter,0),l=n.root.document.graveyard,d=new ue(l,[0]),h=n.root.document.version,f=new kn(i,n.nodeAfter.maxOffset,r,d,h);this.batch.addOperation(f),this.model.applyOperation(f)}rename(n,r){if(this._assertWriterUsedCorrectly(),!(n instanceof Ot))throw new M("writer-rename-not-element-instance",this);const i=n.root.document?n.root.document.version:null,l=new jo(ue._createBefore(n),n.name,r,i);this.batch.addOperation(l),this.model.applyOperation(l)}split(n,r){this._assertWriterUsedCorrectly();let i,l,d=n.parent;if(!d.parent)throw new M("writer-split-element-no-parent",this);if(r||(r=d.parent),!n.parent.getAncestors({includeSelf:!0}).includes(r))throw new M("writer-split-invalid-limit-element",this);do{const h=d.root.document?d.root.document.version:null,f=d.maxOffset-n.offset,k=Ut.getInsertionPosition(n),b=new Ut(n,f,k,null,h);this.batch.addOperation(b),this.model.applyOperation(b),i||l||(i=d,l=n.parent.nextSibling),d=(n=this.createPositionAfter(n.parent)).parent}while(d!==r);return{position:n,range:new ne(ue._createAt(i,"end"),ue._createAt(l,0))}}wrap(n,r){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new M("writer-wrap-range-not-flat",this);const i=r instanceof Ot?r:new Ot(r);if(i.childCount>0)throw new M("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new M("writer-wrap-element-attached",this);this.insert(i,n.start);const l=new ne(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(l,ue._createAt(i,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new M("writer-unwrap-element-no-parent",this);this.move(ne._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,r){if(this._assertWriterUsedCorrectly(),!r||typeof r.usingOperation!="boolean")throw new M("writer-addmarker-no-usingoperation",this);const i=r.usingOperation,l=r.range,d=r.affectsData!==void 0&&r.affectsData;if(this.model.markers.has(n))throw new M("writer-addmarker-marker-exists",this);if(!l)throw new M("writer-addmarker-no-range",this);return i?(Zu(this,n,null,l,d),this.model.markers.get(n)):this.model.markers._set(n,l,i,d)}updateMarker(n,r){this._assertWriterUsedCorrectly();const i=typeof n=="string"?n:n.name,l=this.model.markers.get(i);if(!l)throw new M("writer-updatemarker-marker-not-exists",this);if(!r)return U("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(l);const d=typeof r.usingOperation=="boolean",h=typeof r.affectsData=="boolean",f=h?r.affectsData:l.affectsData;if(!d&&!r.range&&!h)throw new M("writer-updatemarker-wrong-options",this);const k=l.getRange(),b=r.range?r.range:k;d&&r.usingOperation!==l.managedUsingOperations?r.usingOperation?Zu(this,i,null,b,f):(Zu(this,i,k,null,f),this.model.markers._set(i,b,void 0,f)):l.managedUsingOperations?Zu(this,i,k,b,f):this.model.markers._set(i,b,void 0,f)}removeMarker(n){this._assertWriterUsedCorrectly();const r=typeof n=="string"?n:n.name;if(!this.model.markers.has(r))throw new M("writer-removemarker-no-marker",this);const i=this.model.markers.get(r);if(!i.managedUsingOperations)return void this.model.markers._remove(r);Zu(this,r,i.getRange(),null,i.affectsData)}addRoot(n,r="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(n);if(i&&i.isAttached())throw new M("writer-addroot-root-exists",this);const l=this.model.document,d=new Ci(n,r,!0,l,l.version);return this.batch.addOperation(d),this.model.applyOperation(d),this.model.document.getRoot(n)}detachRoot(n){this._assertWriterUsedCorrectly();const r=typeof n=="string"?this.model.document.getRoot(n):n;if(!r||!r.isAttached())throw new M("writer-detachroot-no-root",this);for(const d of this.model.markers)d.getRange().root===r&&this.removeMarker(d);for(const d of r.getAttributeKeys())this.removeAttribute(d,r);this.remove(this.createRangeIn(r));const i=this.model.document,l=new Ci(r.rootName,r.name,!1,i,i.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,r)}setSelectionAttribute(n,r){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,r);else for(const[i,l]of wi(n))this._setSelectionAttribute(i,l)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const r of n)this._removeSelectionAttribute(r)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,r){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const l=ii._getStoreAttributeKey(n);this.setAttribute(l,r,i.anchor.parent)}i._setAttribute(n,r)}_removeSelectionAttribute(n){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const i=ii._getStoreAttributeKey(n);this.removeAttribute(i,r.anchor.parent)}r._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,r){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const l=i.getRange();let d=!1;if(n==="move"){const h=r;d=h.containsPosition(l.start)||h.start.isEqual(l.start)||h.containsPosition(l.end)||h.end.isEqual(l.end)}else{const h=r,f=h.nodeBefore,k=h.nodeAfter,b=l.start.parent==f&&l.start.isAtEnd,v=l.end.parent==k&&l.end.offset==0,A=l.end.nodeAfter==k,E=l.start.nodeAfter==k;d=b||v||A||E}d&&this.updateMarker(i.name,{range:l})}}}function bD(a,n,r,i){const l=a.model,d=l.document;let h,f,k,b=i.start;for(const A of i.getWalker({shallow:!0}))k=A.item.getAttribute(n),h&&f!=k&&(f!=r&&v(),b=h),h=A.nextPosition,f=k;function v(){const A=new ne(b,h),E=A.root.document?d.version:null,I=new En(A,n,f,r,E);a.batch.addOperation(I),l.applyOperation(I)}h instanceof ue&&h!=b&&f!=r&&v()}function wD(a,n,r,i){const l=a.model,d=l.document,h=i.getAttribute(n);let f,k;if(h!=r){if(i.root===i){const b=i.document?d.version:null;k=new Xi(i,n,h,r,b)}else{f=new ne(ue._createBefore(i),a.createPositionAfter(i));const b=f.root.document?d.version:null;k=new En(f,n,h,r,b)}a.batch.addOperation(k),l.applyOperation(k)}}function Zu(a,n,r,i,l){const d=a.model,h=d.document,f=new Lo(n,r,i,d.markers,!!l,h.version);a.batch.addOperation(f),d.applyOperation(f)}function LG(a,n,r,i){let l;if(a.root.document){const d=i.document,h=new ue(d.graveyard,[0]);l=new _t(a,n,h,d.version)}else l=new OG(a,n);r.addOperation(l),i.applyOperation(l)}function vD(a,n){return a===n||a instanceof Ug&&n instanceof Ug}function jG(a,n,r={}){if(n.isCollapsed)return;const i=n.getFirstRange();if(i.root.rootName=="$graveyard")return;const l=a.schema;a.change(d=>{if(!r.doNotResetEntireContent&&function(b,v){const A=b.getLimitElement(v);if(!v.containsEntireContent(A))return!1;const E=v.getFirstRange();return E.start.parent==E.end.parent?!1:b.checkChild(A,"paragraph")}(l,n))return void function(b,v){const A=b.model.schema.getLimitElement(v);b.remove(b.createRangeIn(A)),CD(b,b.createPositionAt(A,0),v)}(d,n);const h={};if(!r.doNotAutoparagraph){const b=n.getSelectedElement();b&&Object.assign(h,l.getAttributesWithProperty(b,"copyOnReplace",!0))}const[f,k]=function(b){const v=b.root.document.model,A=b.start;let E=b.end;if(v.hasContent(b,{ignoreMarkers:!0})){const I=function(P){const L=P.parent,F=L.root.document.model.schema,W=L.getAncestors({parentFirst:!0,includeSelf:!0});for(const K of W){if(F.isLimit(K))return null;if(F.isBlock(K))return K}}(E);if(I&&E.isTouching(v.createPositionAt(I,0))){const P=v.createSelection(b);v.modifySelection(P,{direction:"backward"});const L=P.getLastPosition(),F=v.createRange(L,E);v.hasContent(F,{ignoreMarkers:!0})||(E=L)}}return[no.fromPosition(A,"toPrevious"),no.fromPosition(E,"toNext")]}(i);f.isTouching(k)||d.remove(d.createRange(f,k)),r.leaveUnmerged||(function(b,v,A){const E=b.model;if(!uy(b.model.schema,v,A))return;const[I,P]=function(L,F){const W=L.getAncestors(),K=F.getAncestors();let ee=0;for(;W[ee]&&W[ee]==K[ee];)ee++;return[W[ee],K[ee]]}(v,A);!I||!P||(!E.hasContent(I,{ignoreMarkers:!0})&&E.hasContent(P,{ignoreMarkers:!0})?_D(b,v,A,I.parent):yD(b,v,A,I.parent))}(d,f,k),l.removeDisallowedAttributes(f.parent.getChildren(),d)),AD(d,n,f),!r.doNotAutoparagraph&&function(b,v){const A=b.checkChild(v,"$text"),E=b.checkChild(v,"paragraph");return!A&&E}(l,f)&&CD(d,f,n,h),f.detach(),k.detach()})}function yD(a,n,r,i){const l=n.parent,d=r.parent;if(l!=i&&d!=i){for(n=a.createPositionAfter(l),(r=a.createPositionBefore(d)).isEqual(n)||a.insert(d,n),a.merge(n);r.parent.isEmpty;){const h=r.parent;r=a.createPositionBefore(h),a.remove(h)}uy(a.model.schema,n,r)&&yD(a,n,r,i)}}function _D(a,n,r,i){const l=n.parent,d=r.parent;if(l!=i&&d!=i){for(n=a.createPositionAfter(l),(r=a.createPositionBefore(d)).isEqual(n)||a.insert(l,r);n.parent.isEmpty;){const h=n.parent;n=a.createPositionBefore(h),a.remove(h)}r=a.createPositionBefore(d),function(h,f){const k=f.nodeBefore,b=f.nodeAfter;k.name!=b.name&&h.rename(k,b.name),h.clearAttributes(k),h.setAttributes(Object.fromEntries(b.getAttributes()),k),h.merge(f)}(a,r),uy(a.model.schema,n,r)&&_D(a,n,r,i)}}function uy(a,n,r){const i=n.parent,l=r.parent;return i!=l&&!a.isLimit(i)&&!a.isLimit(l)&&function(d,h,f){const k=new ne(d,h);for(const b of k.getWalker())if(f.isLimit(b.item))return!1;return!0}(n,r,a)}function CD(a,n,r,i={}){const l=a.createElement("paragraph");a.model.schema.setAllowedAttributes(l,i,a),a.insert(l,n),AD(a,r,a.createPositionAt(l,0))}function AD(a,n,r){n instanceof ii?a.setSelection(r):n.setTo(r)}function xD(a,n){const r=[];Array.from(a.getItems({direction:"backward"})).map(i=>n.createRangeOn(i)).filter(i=>(i.start.isAfter(a.start)||i.start.isEqual(a.start))&&(i.end.isBefore(a.end)||i.end.isEqual(a.end))).forEach(i=>{r.push(i.start.parent),n.remove(i)}),r.forEach(i=>{let l=i;for(;l.parent&&l.isEmpty;){const d=n.createRangeOn(l);l=l.parent,n.remove(d)}})}class zG{constructor(n,r,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=r,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=r.createDocumentFragment(),this._documentFragmentPosition=r.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const r of Array.from(n))this._handleNode(r);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const r=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(n);if(i.isAfter(r)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new M("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ne._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ne(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n))return void this._handleObject(n);let r=this._checkAndAutoParagraphToAllowedPosition(n);r||(r=this._checkAndSplitToAllowedPosition(n),r)?(this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n):this._handleDisallowedNode(n)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=no.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new M("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=no.fromPosition(n,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(n)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=no.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof Ot)||!this._canMergeLeft(n))return;const r=no._createBefore(n);r.stickiness="toNext";const i=no.fromPosition(this.position,"toNext");this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=no._createAt(r.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=no._createAt(r.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof Ot)||!this._canMergeRight(n))return;const r=no._createAfter(n);if(r.stickiness="toNext",!this.position.isEqual(r))throw new M("insertcontent-invalid-insertion-position",this);this.position=ue._createAt(r.nodeBefore,"end");const i=no.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=no._createAt(r.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=no._createAt(r.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_canMergeLeft(n){const r=n.previousSibling;return r instanceof Ot&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(r,n)}_canMergeRight(n){const r=n.nextSibling;return r instanceof Ot&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(n,r)}_tryAutoparagraphing(n){const r=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,r)&&this.schema.checkChild(r,n)&&(r._appendChild(n),this._handleNode(r))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const r=this.writer.createElement("paragraph");return this.writer.insert(r,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=r,this.position=this.writer.createPositionAt(r,0),!0}_checkAndSplitToAllowedPosition(n){const r=this._getAllowedIn(this.position.parent,n);if(!r)return!1;for(r!=this.position.parent&&this._insertPartialFragment();r!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===r&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,r){return this.schema.checkChild(n,r)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,r)}}function FG(a,n,r,i={}){if(!a.schema.isObject(n))throw new M("insertobject-element-not-an-object",a,{object:n});const l=r||a.document.selection;let d=l;i.findOptimalPosition&&a.schema.isBlock(n)&&(d=a.createSelection(a.schema.findOptimalInsertionRange(l,i.findOptimalPosition)));const h=qn(l.getSelectedBlocks()),f={};return h&&Object.assign(f,a.schema.getAttributesWithProperty(h,"copyOnReplace",!0)),a.change(k=>{d.isCollapsed||a.deleteContent(d,{doNotAutoparagraph:!0});let b=n;const v=d.anchor.parent;!a.schema.checkChild(v,n)&&a.schema.checkChild(v,"paragraph")&&a.schema.checkChild("paragraph",n)&&(b=k.createElement("paragraph"),k.insert(n,b)),a.schema.setAllowedAttributes(b,f,k);const A=a.insertContent(b,d);return A.isCollapsed||i.setSelection&&function(E,I,P,L){const F=E.model;if(P=="on")return void E.setSelection(I,"on");if(P!="after")throw new M("insertobject-invalid-place-parameter-value",F);let W=I.nextSibling;if(F.schema.isInline(I))return void E.setSelection(I,"after");!(W&&F.schema.checkChild(W,"$text"))&&F.schema.checkChild(I.parent,"paragraph")&&(W=E.createElement("paragraph"),F.schema.setAllowedAttributes(W,L,E),F.insertContent(W,E.createPositionAfter(I))),W&&E.setSelection(W,0)}(k,n,i.setSelection,f),A})}const $G=' ,.?!:;"-()';function VG(a,n){const{isForward:r,walker:i,unit:l,schema:d,treatEmojiAsSingleUnit:h}=a,{type:f,item:k,nextPosition:b}=n;if(f=="text")return a.unit==="word"?function(v,A){let E=v.position.textNode;for(E||(E=A?v.position.nodeAfter:v.position.nodeBefore);E&&E.is("$text");){const I=v.position.offset-E.startOffset;if(WG(E,I,A))E=A?v.position.nodeAfter:v.position.nodeBefore;else{if(HG(E.data,I,A))break;v.next()}}return v.position}(i,r):function(v,A,E){const I=v.position.textNode;if(I){const P=I.data;let L=v.position.offset-I.startOffset;for(;Dv(P,L)||A=="character"&&Mv(P,L)||E&&pT(P,L);)v.next(),L=v.position.offset-I.startOffset}return v.position}(i,l,h);if(f==(r?"elementStart":"elementEnd")){if(d.isSelectable(k))return ue._createAt(k,r?"after":"before");if(d.checkChild(b,"$text"))return b}else{if(d.isLimit(k))return void i.skip(()=>!0);if(d.checkChild(b,"$text"))return b}}function UG(a,n){const r=a.root,i=ue._createAt(r,n?"end":0);return n?new ne(a,i):new ne(i,a)}function HG(a,n,r){const i=n+(r?0:-1);return $G.includes(a.charAt(i))}function WG(a,n,r){return n===(r?a.offsetSize:0)}class qG extends Q(){constructor(){super(),this.markers=new RG,this.document=new TG(this),this.schema=new Fq,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,r)=>{if(r.name==="$marker")return!0}),Lq(this),this.document.registerPostFixer(BI),this.on("insertContent",(n,[r,i])=>{n.return=function(l,d,h){return l.change(f=>{const k=h||l.document.selection;k.isCollapsed||l.deleteContent(k,{doNotAutoparagraph:!0});const b=new zG(l,f,k.anchor),v=[];let A;if(d.is("documentFragment")){if(d.markers.size){const P=[];for(const[L,F]of d.markers){const{start:W,end:K}=F,ee=W.isEqual(K);P.push({position:W,name:L,isCollapsed:ee},{position:K,name:L,isCollapsed:ee})}P.sort(({position:L},{position:F})=>L.isBefore(F)?1:-1);for(const{position:L,name:F,isCollapsed:W}of P){let K=null,ee=null;const ce=L.parent===d&&L.isAtStart,ve=L.parent===d&&L.isAtEnd;ce||ve?W&&(ee=ce?"start":"end"):(K=f.createElement("$marker"),f.insert(K,L)),v.push({name:F,element:K,collapsed:ee})}}A=d.getChildren()}else A=[d];b.handleNodes(A);let E=b.getSelectionRange();if(d.is("documentFragment")&&v.length){const P=E?sr.fromRange(E):null,L={};for(let F=v.length-1;F>=0;F--){const{name:W,element:K,collapsed:ee}=v[F],ce=!L[W];if(ce&&(L[W]=[]),K){const ve=f.createPositionAt(K,"before");L[W].push(ve),f.remove(K)}else{const ve=b.getAffectedRange();if(!ve){ee&&L[W].push(b.position);continue}ee?L[W].push(ve[ee]):L[W].push(ce?ve.start:ve.end)}}for(const[F,[W,K]]of Object.entries(L))W&&K&&W.root===K.root&&W.root.document&&!f.model.markers.has(F)&&f.addMarker(F,{usingOperation:!0,affectsData:!0,range:new ne(W,K)});P&&(E=P.toRange(),P.detach())}E&&(k instanceof ii?f.setSelection(E):k.setTo(E));const I=b.getAffectedRange()||l.createRange(k.anchor);return b.destroy(),I})}(this,r,i)}),this.on("insertObject",(n,[r,i,l])=>{n.return=FG(this,r,i,l)}),this.on("canEditAt",n=>{const r=!this.document.isReadOnly;n.return=r,r||n.stop()})}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Cc,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(r){M.rethrowUnexpectedError(r,this)}}enqueueChange(n,r){try{n?typeof n=="function"?(r=n,n=new Cc):n instanceof Cc||(n=new Cc(n)):n=new Cc,this._pendingChanges.push({batch:n,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){M.rethrowUnexpectedError(i,this)}}applyOperation(n){n._execute()}insertContent(n,r,i,...l){const d=hy(r,i);return this.fire("insertContent",[n,d,i,...l])}insertObject(n,r,i,l,...d){const h=hy(r,i);return this.fire("insertObject",[n,h,l,l,...d])}deleteContent(n,r){jG(this,n,r)}modifySelection(n,r){(function(i,l,d={}){const h=i.schema,f=d.direction!="backward",k=d.unit?d.unit:"character",b=!!d.treatEmojiAsSingleUnit,v=l.focus,A=new Ji({boundaries:UG(v,f),singleCharacters:!0,direction:f?"forward":"backward"}),E={walker:A,schema:h,isForward:f,unit:k,treatEmojiAsSingleUnit:b};let I;for(;I=A.next();){if(I.done)return;const P=VG(E,I.value);if(P)return void(l instanceof ii?i.change(L=>{L.setSelectionFocus(P)}):l.setFocus(P))}})(this,n,r)}getSelectedContent(n){return function(r,i){return r.change(l=>{const d=l.createDocumentFragment(),h=i.getFirstRange();if(!h||h.isCollapsed)return d;const f=h.start.root,k=h.start.getCommonPath(h.end),b=f.getNodeByPath(k);let v;v=h.start.parent==h.end.parent?h:l.createRange(l.createPositionAt(b,h.start.path[k.length]),l.createPositionAt(b,h.end.path[k.length]+1));const A=v.end.offset-v.start.offset;for(const E of v.getItems({shallow:!0}))E.is("$textProxy")?l.appendText(E.data,E.getAttributes(),d):l.append(l.cloneElement(E,!0),d);if(v!=h){const E=h._getTransformedByMove(v.start,l.createPositionAt(d,0),A)[0],I=l.createRange(l.createPositionAt(d,0),E.start);xD(l.createRange(E.end,l.createPositionAt(d,"end")),l),xD(I,l)}return d})}(this,n)}hasContent(n,r={}){const i=n instanceof ne?n:ne._createIn(n);if(i.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:d=!1}=r;if(!d){for(const h of this.markers.getMarkersIntersectingRange(i))if(h.affectsData)return!0}for(const h of i.getItems())if(this.schema.isContent(h)&&(!h.is("$textProxy")||!l||h.data.search(/\S/)!==-1))return!0;return!1}canEditAt(n){const r=hy(n);return this.fire("canEditAt",[r])}createPositionFromPath(n,r,i){return new ue(n,r,i)}createPositionAt(n,r){return ue._createAt(n,r)}createPositionAfter(n){return ue._createAfter(n)}createPositionBefore(n){return ue._createBefore(n)}createRange(n,r){return new ne(n,r)}createRangeIn(n){return ne._createIn(n)}createRangeOn(n){return ne._createOn(n)}createSelection(...n){return new ir(...n)}createBatch(n){return new Cc(n)}createOperationFromJSON(n){return lG.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const r=this._pendingChanges[0].batch;this._currentWriter=new BG(this,r);const i=this._pendingChanges[0].callback(this._currentWriter);n.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}function hy(a,n){if(a)return a instanceof ir||a instanceof ii?a:a instanceof Ja?n||n===0?new ir(a,n):a.is("rootElement")?new ir(a,"in"):new ir(a,"on"):new ir(a)}class GG extends Fs{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class py extends Fs{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class ts{constructor(n){this.document=n}createDocumentFragment(n){return new Za(this.document,n)}createElement(n,r,i){return new or(this.document,n,r,i)}createText(n){return new $t(this.document,n)}clone(n,r=!1){return n._clone(r)}appendChild(n,r){return r._appendChild(n)}insertChild(n,r,i){return i._insertChild(n,r)}removeChildren(n,r,i){return i._removeChildren(n,r)}remove(n){const r=n.parent;return r?this.removeChildren(r.getChildIndex(n),1,r):[]}replace(n,r){const i=n.parent;if(i){const l=i.getChildIndex(n);return this.removeChildren(l,1,i),this.insertChild(l,r,i),!0}return!1}unwrapElement(n){const r=n.parent;if(r){const i=r.getChildIndex(n);this.remove(n),this.insertChild(i,n.getChildren(),r)}}rename(n,r){const i=new or(this.document,n,r.getAttributes(),r.getChildren());return this.replace(r,i)?i:null}setAttribute(n,r,i){i._setAttribute(n,r)}removeAttribute(n,r){r._removeAttribute(n)}addClass(n,r){r._addClass(n)}removeClass(n,r){r._removeClass(n)}setStyle(n,r,i){To(n)&&i===void 0?r._setStyle(n):i._setStyle(n,r)}removeStyle(n,r){r._removeStyle(n)}setCustomProperty(n,r,i){i._setCustomProperty(n,r)}removeCustomProperty(n,r){return r._removeCustomProperty(n)}createPositionAt(n,r){return we._createAt(n,r)}createPositionAfter(n){return we._createAfter(n)}createPositionBefore(n){return we._createBefore(n)}createRange(n,r){return new Ge(n,r)}createRangeOn(n){return Ge._createOn(n)}createRangeIn(n){return Ge._createIn(n)}createSelection(...n){return new ti(...n)}}class KG{constructor(){this._commands=new Map}add(n,r){this._commands.set(n,r)}get(n){return this._commands.get(n)}execute(n,...r){const i=this.get(n);if(!i)throw new M("commandcollection-command-not-found",this,{commandName:n});return i.execute(...r)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}var YG=Object.defineProperty,ED=Object.getOwnPropertySymbols,QG=Object.prototype.hasOwnProperty,ZG=Object.prototype.propertyIsEnumerable,SD=(a,n,r)=>n in a?YG(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;const fy="contentEditing",TD="common";class JG{constructor(n){this.keystrokeInfos=new Map,this._editor=n;const r=n.config.get("menuBar.isVisible"),i=n.locale.t;this.addKeystrokeInfoCategory({id:fy,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const l=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];r&&l.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:l}]})}addKeystrokeInfoCategory({id:n,label:r,description:i,groups:l}){this.keystrokeInfos.set(n,{id:n,label:r,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:n,id:TD}),l&&l.forEach(d=>{this.addKeystrokeInfoGroup(((h,f)=>{for(var k in f||(f={}))QG.call(f,k)&&SD(h,k,f[k]);if(ED)for(var k of ED(f))ZG.call(f,k)&&SD(h,k,f[k]);return h})({categoryId:n},d))})}addKeystrokeInfoGroup({categoryId:n=fy,id:r,label:i,keystrokes:l}){const d=this.keystrokeInfos.get(n);if(!d)throw new M("accessibility-unknown-keystroke-info-category",this._editor,{groupId:r,categoryId:n});d.groups.set(r,{id:r,label:i,keystrokes:l||[]})}addKeystrokeInfos({categoryId:n=fy,groupId:r=TD,keystrokes:i}){if(!this.keystrokeInfos.has(n))throw new M("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:n,keystrokes:i});const l=this.keystrokeInfos.get(n);if(!l.groups.has(r))throw new M("accessibility-unknown-keystroke-info-group",this._editor,{groupId:r,categoryId:n,keystrokes:i});l.groups.get(r).keystrokes.push(...i)}}var ID=Object.getOwnPropertySymbols,XG=Object.prototype.hasOwnProperty,eK=Object.prototype.propertyIsEnumerable,DD=(a,n)=>{var r={};for(var i in a)XG.call(a,i)&&n.indexOf(i)<0&&(r[i]=a[i]);if(a!=null&&ID)for(var i of ID(a))n.indexOf(i)<0&&eK.call(a,i)&&(r[i]=a[i]);return r};class tK extends Q(){constructor(n={}){super();const r=this.constructor,i=r.defaultConfig||{},{translations:l}=i,d=DD(i,["translations"]),h=n,{translations:f=l}=h,k=DD(h,["translations"]),b=n.language||d.language;this._context=n.context||new DT({language:b,translations:f}),this._context._addEditor(this,!n.context);const v=Array.from(r.builtinPlugins||[]);this.config=new $S(k,d),this.config.define("plugins",v),this.config.define(this._context._getEditorConfig()),this.plugins=new TT(this,v,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new KG,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new qG,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const A=new mW;this.data=new sG(this.model,A),this.editing=new jq(this.model,A),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new aG([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new KH(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new JG(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new M("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(n){this.data.set(n)}getData(n){return this.data.get(n)}initPlugins(){const n=this.config,r=n.get("plugins"),i=n.get("removePlugins")||[],l=n.get("extraPlugins")||[],d=n.get("substitutePlugins")||[];return this.plugins.init(r.concat(l),i,d)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(r=>this.once("ready",r))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...r){try{return this.commands.execute(n,...r)}catch(i){M.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...n){throw new Error("This is an abstract method.")}}function gy(a){return class extends a{updateSourceElement(n){if(!this.sourceElement)throw new M("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),i=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!i)return void QS(this.sourceElement,"");const l=typeof n=="string"?n:this.data.get();QS(this.sourceElement,l)}}}gy.updateSourceElement=gy(Object).prototype.updateSourceElement;class MD extends Eg{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Xr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new M("pendingactions-add-invalid-message",this);const r=new(Q());return r.set("message",n),this._actions.add(r),this.hasAny=!0,r}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ze={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var PD=c(7801),nK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(PD.A,nK),PD.A.locals;class Hg extends Le{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${O()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}class oK extends Le{constructor(n,r){super(n);const i=n.t,l=new Hg;l.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":l.id,role:"document",tabindex:-1},children:[Bo(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(r.values())),l]})}focus(){this.element.focus()}_createCategories(n){return n.map(r=>{const i=[Bo(document,"h3",{},r.label),...Array.from(r.groups.values()).map(l=>this._createGroup(l)).flat()];return r.description&&i.splice(1,0,Bo(document,"p",{},r.description)),Bo(document,"section",{},i)})}_createGroup(n){const r=n.keystrokes.sort((l,d)=>l.label.localeCompare(d.label)).map(l=>this._createGroupRow(l)).flat(),i=[Bo(document,"dl",{},r)];return n.label&&i.unshift(Bo(document,"h4",{},n.label)),i}_createGroupRow(n){const r=this.locale.t,i=Bo(document,"dt"),l=Bo(document,"dd"),d=function(f){return typeof f=="string"?[[f]]:typeof f[0]=="string"?[f]:f}(n.keystroke),h=[];for(const f of d)h.push(f.map(rK).join(""));return i.innerHTML=n.label,l.innerHTML=h.join(", ")+(n.mayRequireFn&&_.isMac?` ${r("(may require <kbd>Fn</kbd>)")}`:""),[i,l]}}function rK(a){return yg(a).split("+").map(n=>`<kbd>${n}</kbd>`).join("+")}const ND='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var RD=c(8527),iK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(RD.A,iK),RD.A.locals;class sK extends pe{constructor(){super(...arguments),this.contentView=null}static get requires(){return[rs]}static get pluginName(){return"AccessibilityHelp"}init(){const n=this.editor,r=n.locale.t;n.ui.componentFactory.add("accessibilityHelp",()=>{const i=this._createButton(Ct);return i.set({tooltip:!0,withText:!1,label:r("Accessibility help")}),i}),n.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const i=this._createButton(lr);return i.label=r("Accessibility"),i}),n.keystrokes.set("Alt+0",(i,l)=>{this._showDialog(),l()}),this._setupRootLabels()}_createButton(n){const r=new n(this.editor.locale);return r.set({keystroke:"Alt+0",icon:ND}),r.on("execute",()=>this._showDialog()),r}_setupRootLabels(){const n=this.editor,r=n.editing.view,i=n.t;function l(d,h){const f=`${h.getAttribute("aria-label")}. ${i("Press %0 for help.",[yg("Alt+0")])}`;d.setAttribute("aria-label",f,h)}n.ui.on("ready",()=>{r.change(d=>{for(const h of r.document.roots)l(d,h)}),n.on("addRoot",(d,h)=>{const f=n.editing.view.document.getRoot(h.rootName);r.change(k=>l(k,f))},{priority:"low"})})}_showDialog(){const n=this.editor,r=n.plugins.get("Dialog"),i=n.locale.t;this.contentView||(this.contentView=new oK(n.locale,n.accessibility.keystrokeInfos)),r.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:ND,hasCloseButton:!0,content:this.contentView})}}class aK extends xr{constructor(n,r=[]){super(r),this.locale=n}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ei({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=Bo(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var OD=c(7621),lK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(OD.A,lK),OD.A.locals;const BD=class extends Le{constructor(){super();const a=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",a.if("isVisible","ck-hidden",n=>!n),"ck-reset_all-excluded",a.if("isColorInherited","ck-icon_inherit-color")],viewBox:a.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const a=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=a.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:r,value:i}of Array.from(a.attributes))BD.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,i);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;a.childNodes.length>0;)this.element.appendChild(a.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(a=>{a.style.fill=this.fillColor})}};let ns=BD;ns.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class cK extends Le{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const n=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("style"),id:n.to("id")},children:[{text:n.to("text")}]})}}var LD=c(9715),dK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(LD.A,dK),LD.A.locals;class Ct extends Le{constructor(n,r=new cK){super(n),this._focusDelayed=null;const i=this.bindTemplate,l=O();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${l}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(r),this.iconView=new ns,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const d={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",h=>!h),i.if("isVisible","ck-hidden",h=>!h),i.to("isOn",h=>h?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",h=>h||"button"),tabindex:i.to("tabindex"),"aria-checked":i.to("ariaChecked"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,h=>!h),"aria-pressed":i.to("isOn",h=>!!this.isToggleable&&String(!!h)),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(h=>{this.isEnabled?this.fire("execute"):h.preventDefault()})}};_.isSafari&&(this._focusDelayed||(this._focusDelayed=Iv(()=>this.focus(),0)),d.on.mousedown=i.to(()=>{this._focusDelayed()}),d.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(d)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(n){return n.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),n}_createKeystrokeView(){const n=new Le;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>yg(r))}]}),n}_getTooltipString(n,r,i){return n?typeof n=="string"?n:(i&&(i=yg(i)),n instanceof Function?n(r,i):`${r}${i?` (${i})`:""}`):""}}var jD=c(4391),uK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(jD.A,uK),jD.A.locals;class Wg extends Ct{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new Le;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}class zD extends Ct{constructor(n){super(n),this.buttonView=this,this._fileInputView=new hK(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class hK extends Le{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const qg='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var FD=c(25),pK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(FD.A,pK),FD.A.locals;class fK extends Le{constructor(n,r){super(n);const i=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),r&&this.children.addMany(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",i.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:i.if("isCollapsed","hidden"),"aria-labelledby":i.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const n=new Ct(this.locale),r=n.bindTemplate;return n.set({withText:!0,icon:qg}),n.extendTemplate({attributes:{"aria-expanded":r.to("isOn",i=>String(i))}}),n.bind("label").to(this),n.bind("isOn").to(this,"isCollapsed",i=>!i),n.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),n}}var $D=c(7317),gK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()($D.A,gK),$D.A.locals,c(6931),c(9047);var VD=c(4962),mK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(VD.A,mK),VD.A.locals;class Gg extends Le{constructor(n,r){super(n);const i=`ck-labeled-field-view-${O()}`,l=`ck-labeled-field-view-status-${O()}`;this.fieldView=r(this,i,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(h,f)=>h||f);const d=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",d.to("class"),d.if("isEnabled","ck-disabled",h=>!h),d.if("isEmpty","ck-labeled-field-view_empty"),d.if("isFocused","ck-labeled-field-view_focused"),d.if("placeholder","ck-labeled-field-view_placeholder"),d.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const r=new Hg(this.locale);return r.for=n,r.bind("text").to(this,"label"),r}_createStatusView(n){const r=new Le(this.locale),i=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",l=>!l)],id:n,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),r}focus(n){this.fieldView.focus(n)}}class kK extends Le{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Gn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),tabindex:r.to("tabIndex"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById"),"aria-label":r.to("ariaLabel")},on:{input:r.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,r,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(n){this.element.value=n||n===0?n:""}}var UD=c(253),bK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(UD.A,bK),UD.A.locals;class wK extends kK{constructor(n){super(n),this.set("inputMode","text");const r=this.bindTemplate;this.extendTemplate({attributes:{inputmode:r.to("inputMode")}})}}class vK extends wK{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var HD=c(1671),yK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(HD.A,yK),HD.A.locals;class _K extends Le{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",i=>`ck-dropdown__panel_${i}`),r.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:r.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():U("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}var WD=c(8149),CK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(WD.A,CK),WD.A.locals;const my=class extends Le{constructor(a,n,r){super(a);const i=this.bindTemplate;this.buttonView=n,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Io,this.focusTracker=new Gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",l=>!l)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[n,r]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,r,i)=>{if(i)if(this.panelPosition==="auto"){const l=my._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const a=(n,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(n,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(n,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",a),this.keystrokes.set("esc",a)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:a,north:n,southEast:r,southWest:i,northEast:l,northWest:d,southMiddleEast:h,southMiddleWest:f,northMiddleEast:k,northMiddleWest:b}=my.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,i,h,f,a,l,d,k,b,n]:[i,r,f,h,a,d,l,b,k,n]}};let ky=my;ky.defaultPanelPositions={south:(a,n)=>({top:a.bottom,left:a.left-(n.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,n)=>({top:a.bottom,left:a.left-n.width+a.width,name:"sw"}),southMiddleEast:(a,n)=>({top:a.bottom,left:a.left-(n.width-a.width)/4,name:"sme"}),southMiddleWest:(a,n)=>({top:a.bottom,left:a.left-3*(n.width-a.width)/4,name:"smw"}),north:(a,n)=>({top:a.top-n.height,left:a.left-(n.width-a.width)/2,name:"n"}),northEast:(a,n)=>({top:a.top-n.height,left:a.left,name:"ne"}),northWest:(a,n)=>({top:a.top-n.height,left:a.left-n.width+a.width,name:"nw"}),northMiddleEast:(a,n)=>({top:a.top-n.height,left:a.left-(n.width-a.width)/4,name:"nme"}),northMiddleWest:(a,n)=>({top:a.top-n.height,left:a.left-3*(n.width-a.width)/4,name:"nmw"})},ky._getOptimalPosition=vg;class AK extends Ct{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new ns;return n.content=qg,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}class Sr extends q(){constructor(n){if(super(),this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const r in n.actions){let i=n.actions[r];typeof i=="string"&&(i=[i]);for(const l of i)n.keystrokeHandler.set(l,(d,h)=>{this[r](),h()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(by)||null}get last(){return this.focusables.filter(by).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((r,i)=>{const l=r.element===this.focusTracker.focusedElement;return l&&(n=i),l}),n)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const n=this.next;n&&this.focusables.getIndex(n)===this.current||n===this.first?this.fire("forwardCycle"):this._focus(n,1)}focusPrevious(){const n=this.previous;n&&this.focusables.getIndex(n)===this.current||n===this.last?this.fire("backwardCycle"):this._focus(n,-1)}_focus(n,r){n&&this.focusTracker.focusedElement!==n.element&&n.focus(r)}_getDomFocusableItem(n){const r=this.focusables.length;if(!r)return null;const i=this.current;if(i===null)return this[n===1?"first":"last"];let l=this.focusables.get(i),d=(i+r+n)%r;do{const h=this.focusables.get(d);if(by(h)){l=h;break}d=(d+r+n)%r}while(d!==i);return l}}function by(a){return Ju(a)&&qa(a.element)}function Ju(a){return!(!("focus"in a)||typeof a.focus!="function")}class qD extends Le{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class xK extends Le{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var EK=Object.defineProperty,GD=Object.getOwnPropertySymbols,SK=Object.prototype.hasOwnProperty,TK=Object.prototype.propertyIsEnumerable,KD=(a,n,r)=>n in a?EK(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,YD=(a,n)=>{for(var r in n||(n={}))SK.call(n,r)&&KD(a,r,n[r]);if(GD)for(var r of GD(n))TK.call(n,r)&&KD(a,r,n[r]);return a};function QD(a){if(Array.isArray(a))return{items:a,removeItems:[]};const n={items:[],removeItems:[]};return a?YD(YD({},n),a):n}var ZD=c(9677),IK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(ZD.A,IK),ZD.A.locals;const DK={alignLeft:Ze.alignLeft,bold:Ze.bold,importExport:Ze.importExport,paragraph:Ze.paragraph,plus:Ze.plus,text:Ze.text,threeVerticalDots:Ze.threeVerticalDots,pilcrow:Ze.pilcrow,dragIndicator:Ze.dragIndicator};class wy extends Le{constructor(n,r){super(n);const i=this.bindTemplate,l=this.t;this.options=r||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Gn,this.keystrokes=new Io,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new MK(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const d=n.uiLanguageDirection==="rtl";this._focusCycler=new Sr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[d?"arrowright":"arrowleft","arrowup"],focusNext:[d?"arrowleft":"arrowright","arrowdown"]}});const h=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];var f;this.options.shouldGroupWhenFull&&this.options.isFloating&&h.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:h,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(f=this,f.bindTemplate.to(k=>{k.target===f.element&&k.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new NK(this):new PK(this)}render(){super.render(),this.focusTracker.add(this.element);for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(n,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,r,i){this.items.addMany(this._buildItemsFromConfig(n,r,i))}_buildItemsFromConfig(n,r,i){const l=QD(n),d=i||l.removeItems;return this._cleanItemsConfiguration(l.items,r,d).map(h=>xe(h)?this._createNestedToolbarDropdown(h,r,d):h==="|"?new qD:h==="-"?new xK:r.create(h)).filter(h=>!!h)}_cleanItemsConfiguration(n,r,i){const l=n.filter((d,h,f)=>d==="|"||i.indexOf(d)===-1&&(d==="-"?!this.options.shouldGroupWhenFull||(U("toolbarview-line-break-ignored-when-grouping-items",f),!1):!(!xe(d)&&!r.has(d))||(U("toolbarview-item-unavailable",{item:d}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(n){const r=h=>h!=="-"&&h!=="|",i=n.length,l=n.findIndex(r);if(l===-1)return[];const d=i-n.slice().reverse().findIndex(r);return n.slice(l,d).filter((h,f,k)=>r(h)?!0:!(f>0&&k[f-1]===h))}_createNestedToolbarDropdown(n,r,i){let{label:l,icon:d,items:h,tooltip:f=!0,withText:k=!1}=n;if(h=this._cleanItemsConfiguration(h,r,i),!h.length)return null;const b=os(this.locale);return l||U("toolbarview-nested-toolbar-dropdown-missing-label",n),b.class="ck-toolbar__nested-toolbar-dropdown",b.buttonView.set({label:l,tooltip:f,withText:!!k}),d!==!1?b.buttonView.icon=DK[d]||d||Ze.threeVerticalDots:b.buttonView.withText=!0,_y(b,()=>b.toolbarView._buildItemsFromConfig(h,r,i)),b}}class MK extends Le{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class PK{constructor(n){const r=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(i=>i),n.focusables.bindTo(n.items).using(i=>Ju(i)?i:null),n.extendTemplate({attributes:{class:[r.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class NK{constructor(n){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),n.itemsView.children.bindTo(this.ungroupedItems).using(r=>r),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),n.children.on("change",this._updateFocusCyclableItems.bind(this)),n.items.on("change",(r,i)=>{const l=i.index,d=Array.from(i.added);for(const h of i.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(h):this.ungroupedItems.remove(h);for(let h=l;h<l+d.length;h++){const f=d[h-l];h>this.ungroupedItems.length?this.groupedItems.add(f,h-this.ungroupedItems.length):this.ungroupedItems.add(f,h)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!qa(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const n=this.groupedItems.length;let r;for(;this._areItemsOverflowing;)this._groupLastItem(),r=!0;if(!r&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,r=this.viewLocale.uiLanguageDirection,i=new pt(n.lastChild),l=new pt(n);if(!this.cachedPadding){const d=m.window.getComputedStyle(n),h=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(d[h])}return r==="ltr"?i.right>l.right-this.cachedPadding:i.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new Nu(this.viewElement,r=>{n&&n===r.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=r.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new qD),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,r=n.t,i=os(n);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",_y(i,this.groupedItems),i.buttonView.set({label:r("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:Ze.threeVerticalDots}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{Ju(n)&&this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class xc extends Le{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",r.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class vy extends Le{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Kg extends Le{constructor(n,r=new Hg){super(n);const i=this.bindTemplate,l=new yy(n);this.set({label:"",isVisible:!0}),this.labelView=r,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,l]),l.set({role:"group",ariaLabelledBy:r.id}),l.focusTracker.destroy(),l.keystrokes.destroy(),this.items=l.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",d=>!d)]},children:this.children})}focus(){if(this.items){const n=this.items.find(r=>!(r instanceof vy));n&&n.focus()}}}var JD=c(5199),RK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(JD.A,RK),JD.A.locals;class yy extends Le{constructor(n){super(n),this._listItemGroupToChangeListeners=new WeakMap;const r=this.bindTemplate;this.focusables=new xr,this.items=this.createCollection(),this.focusTracker=new Gn,this.keystrokes=new Io,this._focusCycler=new Sr({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:r.to("role"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const n of this.items)n instanceof Kg?this._registerFocusableItemsGroup(n):n instanceof xc&&this._registerFocusableListItem(n);this.items.on("change",(n,r)=>{for(const i of r.removed)i instanceof Kg?this._deregisterFocusableItemsGroup(i):i instanceof xc&&this._deregisterFocusableListItem(i);for(const i of Array.from(r.added).reverse())i instanceof Kg?this._registerFocusableItemsGroup(i,r.index):this._registerFocusableListItem(i,r.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(n,r){this.focusTracker.add(n.element),this.focusables.add(n,r)}_deregisterFocusableListItem(n){this.focusTracker.remove(n.element),this.focusables.remove(n)}_getOnGroupItemsChangeCallback(n){return(r,i)=>{for(const l of i.removed)this._deregisterFocusableListItem(l);for(const l of Array.from(i.added).reverse())this._registerFocusableListItem(l,this.items.getIndex(n)+i.index)}}_registerFocusableItemsGroup(n,r){Array.from(n.items).forEach((l,d)=>{const h=r!==void 0?r+d:void 0;this._registerFocusableListItem(l,h)});const i=this._getOnGroupItemsChangeCallback(n);this._listItemGroupToChangeListeners.set(n,i),n.items.on("change",i)}_deregisterFocusableItemsGroup(n){for(const r of n.items)this._deregisterFocusableListItem(r);n.items.off("change",this._listItemGroupToChangeListeners.get(n)),this._listItemGroupToChangeListeners.delete(n)}}var XD=c(1792),OK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(XD.A,OK),XD.A.locals;class Yg extends Le{constructor(n,r){super(n);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(r),this.arrowView=this._createArrowView(),this.keystrokes=new Io,this.focusTracker=new Gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",l=>!l),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(n,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(n){const r=n||new Ct;return n||r.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),r.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),r.delegate("execute").to(this),r}_createArrowView(){const n=new Ct,r=n.bindTemplate;return n.icon=qg,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":r.to("isOn"),"aria-haspopup":!0,"aria-expanded":r.to("isOn",i=>String(i))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}var e5=c(1666),BK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(e5.A,BK),e5.A.locals;var t5=c(3629),LK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(t5.A,LK),t5.A.locals;function os(a,n=AK){const r=typeof n=="function"?new n(a):n,i=new _K(a),l=new ky(a,r,i);return r.bind("isEnabled").to(l),r instanceof Yg?r.arrowView.bind("isOn").to(l,"isOpen"):r.bind("isOn").to(l,"isOpen"),function(d){(function(h){h.on("render",()=>{Ag({emitter:h,activator:()=>h.isOpen,callback:()=>{h.isOpen=!1},contextElements:()=>[h.element,...h.focusTracker._elements]})})})(d),function(h){h.on("execute",f=>{f.source instanceof Wg||(h.isOpen=!1)})}(d),function(h){h.focusTracker.on("change:isFocused",(f,k,b)=>{h.isOpen&&!b&&(h.isOpen=!1)})}(d),function(h){h.keystrokes.set("arrowdown",(f,k)=>{h.isOpen&&(h.panelView.focus(),k())}),h.keystrokes.set("arrowup",(f,k)=>{h.isOpen&&(h.panelView.focusLast(),k())})}(d),function(h){h.on("change:isOpen",(f,k,b)=>{if(b)return;const v=h.panelView.element;v&&v.contains(m.document.activeElement)&&h.buttonView.focus()})}(d),function(h){h.on("change:isOpen",(f,k,b)=>{b&&h.panelView.focus()},{priority:"low"})}(d)}(l),l}function _y(a,n,r={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?n5(a,n,r):a.once("change:isOpen",()=>n5(a,n,r),{priority:"highest"}),r.enableActiveItemFocusOnDropdownOpen&&i5(a,()=>a.toolbarView.items.find(i=>i.isOn))}function n5(a,n,r){const i=a.locale,l=i.t,d=a.toolbarView=new wy(i),h=typeof n=="function"?n():n;d.ariaLabel=r.ariaLabel||l("Dropdown toolbar"),r.maxWidth&&(d.maxWidth=r.maxWidth),r.class&&(d.class=r.class),r.isCompact&&(d.isCompact=r.isCompact),r.isVertical&&(d.isVertical=!0),h instanceof xr?d.items.bindTo(h).using(f=>f):d.items.addMany(h),a.panelView.children.add(d),d.items.delegate("execute").to(a)}function o5(a,n,r={}){a.isOpen?r5(a,n,r):a.once("change:isOpen",()=>r5(a,n,r),{priority:"highest"}),i5(a,()=>a.listView.items.find(i=>i instanceof xc&&i.children.first.isOn))}function r5(a,n,r){const i=a.locale,l=a.listView=new yy(i),d=typeof n=="function"?n():n;l.ariaLabel=r.ariaLabel,l.role=r.role,s5(a,l.items,d,i),a.panelView.children.add(l),l.items.delegate("execute").to(a)}function i5(a,n){a.on("change:isOpen",()=>{if(!a.isOpen)return;const r=n();r&&(typeof r.focus=="function"?r.focus():U("ui-dropdown-focus-child-on-open-child-missing-focus",{view:r}))},{priority:j.low-10})}function s5(a,n,r,i){n.bindTo(r).using(l=>{if(l.type==="separator")return new vy(i);if(l.type==="group"){const d=new Kg(i);return d.set({label:l.label}),s5(a,d.items,l.items,i),d.items.delegate("execute").to(a),d}if(l.type==="button"||l.type==="switchbutton"){const d=new xc(i);let h;return l.type==="button"?(h=new Ct(i),h.bind("ariaChecked").to(h,"isOn")):h=new Wg(i),h.bind(...Object.keys(l.model)).to(l.model),h.delegate("execute").to(d),d.children.add(h),d}return null})}const Qg=(a,n,r)=>{const i=new vK(a.locale);return i.set({id:n,ariaDescribedById:r}),i.bind("isReadOnly").to(a,"isEnabled",l=>!l),i.bind("hasError").to(a,"errorText",l=>!!l),i.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(i),i};var a5=c(1905),jK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(a5.A,jK),a5.A.locals;var l5=c(6309),zK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(l5.A,zK),l5.A.locals;class FK{constructor(n){this._components=new Map,this.editor=n}*names(){for(const n of this._components.values())yield n.originalName}add(n,r){this._components.set(Cy(n),{callback:r,originalName:n})}create(n){if(!this.has(n))throw new M("componentfactory-item-missing",this,{name:n});return this._components.get(Cy(n)).callback(this.editor.locale)}has(n){return this._components.has(Cy(n))}}function Cy(a){return String(a).toLowerCase()}var c5=c(7913),$K={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(c5.A,$K),c5.A.locals;class VK extends Le{constructor(n,r={}){super(n);const i=this.bindTemplate;this.set("label",r.label||""),this.set("class",r.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),r.icon&&(this.iconView=new ns,this.iconView.content=r.icon,this.children.add(this.iconView));const l=new Le(n);l.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(l)}}var d5=c(9822),UK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(d5.A,UK),d5.A.locals;class HK extends Le{constructor(n){super(n),this.children=this.createCollection(),this.keystrokes=new Io,this._focusTracker=new Gn,this._focusables=new xr,this.focusCycler=new Sr({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(n){for(const r of n){const i=new Ct(this.locale);let l;for(l in i.on("execute",()=>r.onExecute()),r.onCreate&&r.onCreate(i),r)l!="onExecute"&&l!="onCreate"&&i.set(l,r[l]);this.children.add(i)}this._updateFocusCyclableItems()}focus(n){n===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(n=>{this._focusables.add(n),this._focusTracker.add(n.element)})}}class WK extends Le{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var u5=c(9819),qK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(u5.A,qK),u5.A.locals;const Zg="screen-center",h5="editor-center",GK="editor-top-side",KK="editor-top-center",YK="editor-bottom-center",QK="editor-above-center",ZK="editor-below-center",p5=pc("px"),f5=class extends function(a){return class extends a{constructor(...n){super(...n),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(m.document,"mouseup",this._onDragEndBound),this.listenTo(m.document,"touchend",this._onDragEndBound),this.listenTo(m.document,"mousemove",this._onDragBound),this.listenTo(m.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(m.document,"mouseup",this._onDragEndBound),this.stopListening(m.document,"touchend",this._onDragEndBound),this.stopListening(m.document,"mousemove",this._onDragBound),this.stopListening(m.document,"touchmove",this._onDragBound)}_onDragStart(n,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let i=0,l=0;r instanceof MouseEvent?(i=r.clientX,l=r.clientY):(i=r.touches[0].clientX,l=r.touches[0].clientY),this._lastDraggingCoordinates={x:i,y:l},this.isDragging=!0}_onDrag(n,r){if(!this.isDragging)return void this._detachDragListeners();let i=0,l=0;r instanceof MouseEvent?(i=r.clientX,l=r.clientY):(i=r.touches[0].clientX,l=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(i-this._lastDraggingCoordinates.x),deltaY:Math.round(l-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:i,y:l}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(n){return!!this.dragHandleElement&&(this.dragHandleElement===n.target||n.target instanceof HTMLElement&&this.dragHandleElement.contains(n.target))}}}(Le){constructor(a,{getCurrentDomRoot:n,getViewportOffset:r}){super(a),this.wasMoved=!1;const i=this.bindTemplate,l=a.t;this.set("className",""),this.set("ariaLabel",l("Editor dialog")),this.set("isModal",!1),this.set("position",Zg),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Io,this.focusTracker=new Gn,this._focusables=new xr,this._focusCycler=new Sr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",i.if("isModal","ck-dialog-overlay__transparent",d=>!d),i.if("_isVisible","ck-hidden",d=>!d)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",i.to("className")],role:"dialog","aria-label":i.to("ariaLabel"),style:{top:i.to("_top",d=>p5(d)),left:i.to("_left",d=>p5(d)),visibility:i.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(a,n)=>{this.fire("close",{source:"escKeyPress"}),n()}),this.on("drag",(a,{deltaX:n,deltaY:r})=>{this.wasMoved=!0,this.moveBy(n,r)}),this.listenTo(m.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(m.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(a,n,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:a,title:n,hasCloseButton:r=!0,content:i,actionButtons:l}){n&&(this.headerView=new VK(this.locale,{icon:a}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),i&&(i instanceof Le&&(i=[i]),this.contentView=new WK(this.locale),this.contentView.children.addMany(i),this.parts.add(this.contentView)),l&&(this.actionsView=new HK(this.locale),this.actionsView.setButtons(l),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(a,n){const r=this._getViewportRect(),i=this._getDialogRect();a+i.width>r.right&&(a=r.right-i.width),a<r.left&&(a=r.left),n<r.top&&(n=r.top),this._moveTo(a,n)}_moveTo(a,n){this._left=a,this._top=n}moveBy(a,n){this.moveTo(this._left+a,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const a=this._getViewportRect();let n,r=this.position;this._getCurrentDomRoot()?n=this._getVisibleDomRootRect(a):r=Zg;const i=f5.defaultOffset,l=this._getDialogRect();switch(r){case GK:if(n){const d=this.locale.contentLanguageDirection==="ltr"?n.right-l.width-i:n.left+i;this.moveTo(d,n.top+i)}else this._moveOffScreen();break;case h5:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),Math.round(n.top+n.height/2-l.height/2)):this._moveOffScreen();break;case Zg:this.moveTo(Math.round((a.width-l.width)/2),Math.round((a.height-l.height)/2));break;case KK:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),n.top+i):this._moveOffScreen();break;case YK:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),n.bottom-l.height-i):this._moveOffScreen();break;case QK:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),n.top-l.height-i):this._moveOffScreen();break;case ZK:n?this.moveTo(Math.round(n.left+n.width/2-l.width/2),n.bottom+i):this._moveOffScreen()}}_getVisibleDomRootRect(a){let n=new pt(this._getCurrentDomRoot()).getVisible();return n?(n=a.getIntersection(n),n||null):null}_getDialogRect(){return new pt(this.element.firstElementChild)}_getViewportRect(){return function(a){a=Object.assign({top:0,bottom:0,left:0,right:0},a);const n=new pt(m.window);return n.top+=a.top,n.height-=a.top,n.bottom-=a.bottom,n.height-=a.bottom,n.left+=a.left,n.right-=a.right,n.width-=a.left+a.right,n}(this._getViewportOffset())}_updateFocusCyclableItems(){const a=[];if(this.contentView)for(const n of this.contentView.children)Ju(n)&&a.push(n);this.actionsView&&a.push(this.actionsView),this.closeButtonView&&a.push(this.closeButtonView),a.forEach(n=>{var r;this._focusables.add(n),this.focusTracker.add(n.element),Ju(r=n)&&"focusCycler"in r&&r.focusCycler instanceof Sr&&(this.listenTo(n.focusCycler,"forwardCycle",i=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()}),this.listenTo(n.focusCycler,"backwardCycle",i=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()}))})}_createCloseButton(){const a=new Ct(this.locale),n=this.locale.t;return a.set({label:n("Close"),tooltip:!0,icon:Ze.cancel}),a.on("execute",()=>this.fire("close",{source:"closeButton"})),a}};let Jg=f5;Jg.defaultOffset=15;class rs extends pe{constructor(n){super(n);const r=n.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),n.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:r("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(n,r)=>{this._show(r)}),this.on("show",(n,r)=>{r.onShow&&r.onShow(this)},{priority:"low"}),this.on("hide",()=>{rs._visibleDialogPlugin&&rs._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const n=this.editor;n.keystrokes.set("Ctrl+F6",(r,i)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?n.editing.view.focus():this.view.focus(),i())})}_initMultiRootIntegration(){const n=this.editor.model;n.document.on("change:data",()=>{if(!this.view)return;const r=n.document.differ.getChangedRoots();for(const i of r)i.state&&this.view.updatePosition()})}show(n){this.hide(),this.fire(`show:${n.id}`,n)}_show({id:n,icon:r,title:i,hasCloseButton:l=!0,content:d,actionButtons:h,className:f,isModal:k,position:b,onHide:v}){const A=this.editor;this.view=new Jg(A.locale,{getCurrentDomRoot:()=>A.editing.view.getDomRoot(A.model.document.selection.anchor.root.rootName),getViewportOffset:()=>A.ui.viewportOffset});const E=this.view;E.on("close",()=>{this.hide()}),A.ui.view.body.add(E),A.ui.focusTracker.add(E.element),A.keystrokes.listenTo(E.element),b||(b=k?Zg:h5),E.set({position:b,_isVisible:!0,className:f,isModal:k}),E.setupParts({icon:r,title:i,hasCloseButton:l,content:d,actionButtons:h}),this.id=n,v&&(this._onHide=v),this.isOpen=!0,rs._visibleDialogPlugin=this}hide(){rs._visibleDialogPlugin&&rs._visibleDialogPlugin.fire(`hide:${rs._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const n=this.editor,r=this.view;r.contentView&&r.contentView.reset(),n.ui.view.body.remove(r),n.ui.focusTracker.remove(r.element),n.keystrokes.stopListening(r.element),r.destroy(),n.editing.view.focus(),this.id=null,this.isOpen=!1,rs._visibleDialogPlugin=null}}var g5=c(3710),JK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(g5.A,JK),g5.A.locals;var XK=Object.defineProperty,m5=Object.getOwnPropertySymbols,eY=Object.prototype.hasOwnProperty,tY=Object.prototype.propertyIsEnumerable,k5=(a,n,r)=>n in a?XK(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,At=(a,n)=>{for(var r in n||(n={}))eY.call(n,r)&&k5(a,r,n[r]);if(m5)for(var r of m5(n))tY.call(n,r)&&k5(a,r,n[r]);return a};const b5=pc("px"),w5=m.document.body,nY={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Ay=class extends Le{constructor(a){super(a);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",r=>`ck-balloon-panel_${r}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",b5),left:n.to("left",b5)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(a){this.show();const n=Ay.defaultPositions,r=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:w5,fitInViewport:!0},a),i=Ay._getOptimalPosition(r)||nY,l=parseInt(i.left),d=parseInt(i.top),h=i.name,f=i.config||{},{withArrow:k=!0}=f;this.top=d,this.left=l,this.position=h,this.withArrow=k}pin(a){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(a):this._stopPinning()},this._startPinning(a),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(a){this.attachTo(a);const n=xy(a.target),r=a.limiter?xy(a.limiter):w5;this.listenTo(m.document,"scroll",(i,l)=>{const d=l.target,h=n&&d.contains(n),f=r&&d.contains(r);!h&&!f&&n&&r||this.attachTo(a)},{useCapture:!0}),this.listenTo(m.window,"resize",()=>{this.attachTo(a)})}_stopPinning(){this.stopListening(m.document,"scroll"),this.stopListening(m.window,"resize")}};let zo=Ay;function xy(a){return Wa(a)?a:bg(a)?a.commonAncestorContainer:typeof a=="function"?xy(a()):null}function v5(a={}){const{sideOffset:n=zo.arrowSideOffset,heightOffset:r=zo.arrowHeightOffset,stickyVerticalOffset:i=zo.stickyVerticalOffset,config:l}=a;return{northWestArrowSouthWest:(f,k)=>At({top:d(f,k),left:f.left-n,name:"arrow_sw"},l&&{config:l}),northWestArrowSouthMiddleWest:(f,k)=>At({top:d(f,k),left:f.left-.25*k.width-n,name:"arrow_smw"},l&&{config:l}),northWestArrowSouth:(f,k)=>At({top:d(f,k),left:f.left-k.width/2,name:"arrow_s"},l&&{config:l}),northWestArrowSouthMiddleEast:(f,k)=>At({top:d(f,k),left:f.left-.75*k.width+n,name:"arrow_sme"},l&&{config:l}),northWestArrowSouthEast:(f,k)=>At({top:d(f,k),left:f.left-k.width+n,name:"arrow_se"},l&&{config:l}),northArrowSouthWest:(f,k)=>At({top:d(f,k),left:f.left+f.width/2-n,name:"arrow_sw"},l&&{config:l}),northArrowSouthMiddleWest:(f,k)=>At({top:d(f,k),left:f.left+f.width/2-.25*k.width-n,name:"arrow_smw"},l&&{config:l}),northArrowSouth:(f,k)=>At({top:d(f,k),left:f.left+f.width/2-k.width/2,name:"arrow_s"},l&&{config:l}),northArrowSouthMiddleEast:(f,k)=>At({top:d(f,k),left:f.left+f.width/2-.75*k.width+n,name:"arrow_sme"},l&&{config:l}),northArrowSouthEast:(f,k)=>At({top:d(f,k),left:f.left+f.width/2-k.width+n,name:"arrow_se"},l&&{config:l}),northEastArrowSouthWest:(f,k)=>At({top:d(f,k),left:f.right-n,name:"arrow_sw"},l&&{config:l}),northEastArrowSouthMiddleWest:(f,k)=>At({top:d(f,k),left:f.right-.25*k.width-n,name:"arrow_smw"},l&&{config:l}),northEastArrowSouth:(f,k)=>At({top:d(f,k),left:f.right-k.width/2,name:"arrow_s"},l&&{config:l}),northEastArrowSouthMiddleEast:(f,k)=>At({top:d(f,k),left:f.right-.75*k.width+n,name:"arrow_sme"},l&&{config:l}),northEastArrowSouthEast:(f,k)=>At({top:d(f,k),left:f.right-k.width+n,name:"arrow_se"},l&&{config:l}),southWestArrowNorthWest:f=>At({top:h(f),left:f.left-n,name:"arrow_nw"},l&&{config:l}),southWestArrowNorthMiddleWest:(f,k)=>At({top:h(f),left:f.left-.25*k.width-n,name:"arrow_nmw"},l&&{config:l}),southWestArrowNorth:(f,k)=>At({top:h(f),left:f.left-k.width/2,name:"arrow_n"},l&&{config:l}),southWestArrowNorthMiddleEast:(f,k)=>At({top:h(f),left:f.left-.75*k.width+n,name:"arrow_nme"},l&&{config:l}),southWestArrowNorthEast:(f,k)=>At({top:h(f),left:f.left-k.width+n,name:"arrow_ne"},l&&{config:l}),southArrowNorthWest:f=>At({top:h(f),left:f.left+f.width/2-n,name:"arrow_nw"},l&&{config:l}),southArrowNorthMiddleWest:(f,k)=>At({top:h(f),left:f.left+f.width/2-.25*k.width-n,name:"arrow_nmw"},l&&{config:l}),southArrowNorth:(f,k)=>At({top:h(f),left:f.left+f.width/2-k.width/2,name:"arrow_n"},l&&{config:l}),southArrowNorthMiddleEast:(f,k)=>At({top:h(f),left:f.left+f.width/2-.75*k.width+n,name:"arrow_nme"},l&&{config:l}),southArrowNorthEast:(f,k)=>At({top:h(f),left:f.left+f.width/2-k.width+n,name:"arrow_ne"},l&&{config:l}),southEastArrowNorthWest:f=>At({top:h(f),left:f.right-n,name:"arrow_nw"},l&&{config:l}),southEastArrowNorthMiddleWest:(f,k)=>At({top:h(f),left:f.right-.25*k.width-n,name:"arrow_nmw"},l&&{config:l}),southEastArrowNorth:(f,k)=>At({top:h(f),left:f.right-k.width/2,name:"arrow_n"},l&&{config:l}),southEastArrowNorthMiddleEast:(f,k)=>At({top:h(f),left:f.right-.75*k.width+n,name:"arrow_nme"},l&&{config:l}),southEastArrowNorthEast:(f,k)=>At({top:h(f),left:f.right-k.width+n,name:"arrow_ne"},l&&{config:l}),westArrowEast:(f,k)=>At({top:f.top+f.height/2-k.height/2,left:f.left-k.width-r,name:"arrow_e"},l&&{config:l}),eastArrowWest:(f,k)=>At({top:f.top+f.height/2-k.height/2,left:f.right+r,name:"arrow_w"},l&&{config:l}),viewportStickyNorth:(f,k,b,v)=>{const A=v||b;return f.getIntersection(A)?A.height-f.height>i?null:{top:A.top+i,left:f.left+f.width/2-k.width/2,name:"arrowless",config:At({withArrow:!1},l)}:null}};function d(f,k){return f.top-k.height-r}function h(f){return f.bottom+r}}zo.arrowSideOffset=25,zo.arrowHeightOffset=10,zo.stickyVerticalOffset=20,zo._getOptimalPosition=vg,zo.defaultPositions=v5();var y5=c(9205),oY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(y5.A,oY),y5.A.locals;const _5="ck-tooltip",Fo=class extends Ar(){constructor(a){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Fo._editors.add(a),Fo._instance)return Fo._instance;Fo._instance=this,this.tooltipTextView=new Le(a.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new zo(a.locale),this.balloonPanelView.class=_5,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(n){const r=new MutationObserver(()=>{n()});return{attach(i){r.observe(i,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){r.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=yc(this._pinTooltip,600),this._unpinTooltipDebounced=yc(this._unpinTooltip,400),this.listenTo(m.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(m.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(m.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(m.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(m.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(m.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(a){const n=a.ui.view&&a.ui.view.body;Fo._editors.delete(a),this.stopListening(a.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),Fo._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Fo._instance=null)}static getPositioningFunctions(a){const n=Fo.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[a]}_onKeyDown(a,n){n.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),n.stopPropagation())}_onEnterOrFocus(a,{target:n}){const r=Ey(n);r?r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,C5(r))):a.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(a,{target:n,relatedTarget:r}){if(a.name==="mouseleave"){if(!Wa(n))return;const i=this.balloonPanelView.element,l=i&&(i===r||i.contains(r)),d=!l&&n===i;if(l)return void this._unpinTooltipDebounced.cancel();if(!d&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const h=Ey(n),f=Ey(r);(d||h&&h!==f)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(a,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(a,{text:n,position:r,cssClass:i}){this._unpinTooltip();const l=qn(Fo._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:a,positions:Fo.getPositioningFunctions(r)}),this._resizeObserver=new Nu(a,()=>{qa(a)||this._unpinTooltip()}),this._mutationObserver.attach(a),this.balloonPanelView.class=[_5,i].filter(d=>d).join(" ");for(const d of Fo._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=a,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const a of Fo._editors)this.stopListening(a.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const a=C5(this._currentElementWithTooltip);qa(this._currentElementWithTooltip)&&a.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Fo.getPositioningFunctions(a.position)}):this._unpinTooltip()}};let Xg=Fo;function Ey(a){return Wa(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function C5(a){return{text:a.dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}}Xg.defaultBalloonPositions=v5({heightOffset:5,sideOffset:13}),Xg._editors=new Set,Xg._instance=null;const em=function(a,n,r){var i=!0,l=!0;if(typeof a!="function")throw new TypeError("Expected a function");return xe(r)&&(i="leading"in r?!!r.leading:i,l="trailing"in r?!!r.trailing:l),yc(a,n,{leading:i,maxWait:n,trailing:l})};var rY=Object.defineProperty,A5=Object.getOwnPropertySymbols,iY=Object.prototype.hasOwnProperty,sY=Object.prototype.propertyIsEnumerable,x5=(a,n,r)=>n in a?rY(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,aY=(a,n)=>{for(var r in n||(n={}))iY.call(n,r)&&x5(a,r,n[r]);if(A5)for(var r of A5(n))sY.call(n,r)&&x5(a,r,n[r]);return a};const lY=50,cY=350,dY="Powered by";class uY extends Ar(){constructor(n){super(),this.editor=n,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=em(this._showBalloon.bind(this),50,{leading:!0}),n.on("ready",this._handleEditorReady.bind(this))}destroy(){const n=this._balloonView;n&&(n.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const n=this.editor;(n.config.get("ui.poweredBy.forceVisible")||function(r){function i(I){return I.length>=40&&I.length<=255?"VALID":"INVALID"}if(!r)return"INVALID";let l="";try{l=atob(r)}catch{return"INVALID"}const d=l.split("-"),h=d[0],f=d[1];if(!f)return i(r);try{atob(f)}catch{try{if(atob(h),!atob(h).length)return i(r)}catch{return i(r)}}if(h.length<40||h.length>255)return"INVALID";let k="";try{atob(h),k=atob(f)}catch{return"INVALID"}if(k.length!==8)return"INVALID";const b=Number(k.substring(0,4)),v=Number(k.substring(4,6))-1,A=Number(k.substring(6,8)),E=new Date(b,v,A);return E<J||isNaN(Number(E))?"INVALID":"VALID"}(n.config.get("licenseKey"))!=="VALID")&&n.ui.view&&(n.ui.focusTracker.on("change:isFocused",(r,i,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),n.ui.focusTracker.on("change:focusedElement",(r,i,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),n.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const n=this.editor,r=this._balloonView=new zo,i=S5(n),l=new hY(n.locale,i.label);r.content.add(l),r.set({class:"ck-powered-by-balloon"}),n.ui.view.body.add(r),n.ui.focusTracker.add(r.element),this._balloonView=r}_showBalloon(){if(!this._lastFocusedEditableElement)return;const n=function(r,i){const l=S5(r),d=l.side==="right"?function(h,f){return E5(h,f,(k,b)=>k.left+k.width-b.width-f.horizontalOffset)}(i,l):function(h,f){return E5(h,f,k=>k.left+f.horizontalOffset)}(i,l);return{target:i,positions:[d]}}(this.editor,this._lastFocusedEditableElement);n&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(n))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const n=this.editor,r=n.ui.focusTracker.isFocused,i=n.ui.focusTracker.focusedElement;if(!r||!i)return void(this._lastFocusedEditableElement=null);const l=Array.from(n.ui.getEditableElementsNames()).map(d=>n.ui.getEditableElement(d));l.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=l[0]}}class hY extends Le{constructor(n,r){super(n);const i=new ns,l=this.bindTemplate;i.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),i.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...r?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[r]}]:[],i],on:{dragstart:l.to(d=>d.preventDefault())}}]})}}function E5(a,n,r){return(i,l)=>{const d=new pt(a);if(d.width<cY||d.height<lY)return null;let h;h=n.position==="inside"?d.bottom-l.height:d.bottom-l.height/2,h-=n.verticalOffset;const f=r(d,l),k=i.clone().moveTo(f,h).getIntersection(l.clone().moveTo(f,h)).getVisible();return!k||k.getArea()<l.getArea()?null:{top:h,left:f,name:`position_${n.position}-side_${n.side}`,config:{withArrow:!1}}}}function S5(a){const n=a.config.get("ui.poweredBy"),r=n&&n.position||"border";return aY({position:r,label:dY,verticalOffset:r==="inside"?5:0,horizontalOffset:5,side:a.locale.contentLanguageDirection==="ltr"?"right":"left"},n)}var T5=c(1801),pY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(T5.A,pY),T5.A.locals;const I5={POLITE:"polite",ASSERTIVE:"assertive"};class fY{constructor(n){this.editor=n,n.once("ready",()=>{for(const r of Object.values(I5))this.announce("",r)})}announce(n,r=I5.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new gY(i.locale),i.ui.view.body.add(this.view));const{politeness:l,isUnsafeHTML:d}=typeof r=="string"?{politeness:r}:r;let h=this.view.regionViews.find(f=>f.politeness===l);h||(h=new mY(i,l),this.view.regionViews.add(h)),h.announce({announcement:n,isUnsafeHTML:d})}}class gY extends Le{constructor(n){super(n),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class mY extends Le{constructor(n,r){super(n.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":r,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),n.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=r,this._domConverter=n.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:n,isUnsafeHTML:r}){if(!n.trim().length)return;const i=document.createElement("li");r?this._domConverter.setContentOf(i,n):i.innerText=n,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}var kY=Object.defineProperty,D5=Object.getOwnPropertySymbols,bY=Object.prototype.hasOwnProperty,wY=Object.prototype.propertyIsEnumerable,M5=(a,n,r)=>n in a?kY(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class vY extends Q(){constructor(n){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const r=n.editing.view;this.editor=n,this.componentFactory=new FK(n),this.focusTracker=new Gn,this.tooltipManager=new Xg(n),this.poweredBy=new uY(n),this.ariaLiveAnnouncer=new fY(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(r.document,"layoutChanged",this.update.bind(this)),this.listenTo(r,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const n of this._editableElementsMap.values())n.ckeditorInstance=null,this.editor.keystrokes.stopListening(n);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,r){this._editableElementsMap.set(n,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor),this.focusTracker.add(r);const i=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(r)};this.isReady?i():this.once("ready",i)}removeEditableElement(n){const r=this._editableElementsMap.get(n);r&&(this._editableElementsMap.delete(n),this.editor.keystrokes.stopListening(r),this.focusTracker.remove(r),r.ckeditorInstance=null)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,r={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:r})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,r=n.config.get("ui.viewportOffset");if(r)return r;const i=n.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const n=this.editor,r=n.editing.view;let i,l;n.keystrokes.set("Alt+F10",(d,h)=>{const f=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(f)&&!Array.from(r.domRoots.values()).includes(f)&&(i=f);const k=this._getCurrentFocusedToolbarDefinition();k&&l||(l=this._getFocusableCandidateToolbarDefinitions());for(let b=0;b<l.length;b++){const v=l.shift();if(l.push(v),v!==k&&this._focusFocusableCandidateToolbar(v)){k&&k.options.afterBlur&&k.options.afterBlur();break}}h()}),n.keystrokes.set("Esc",(d,h)=>{const f=this._getCurrentFocusedToolbarDefinition();f&&(i?(i.focus(),i=null):n.editing.view.focus(),f.options.afterBlur&&f.options.afterBlur(),h())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const r of this._focusableToolbarDefinitions){const{toolbarView:i,options:l}=r;(qa(i.element)||l.beforeFocus)&&n.push(r)}return n.sort((r,i)=>P5(r)-P5(i)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:r,options:{beforeFocus:i}}=n;return i&&i(),!!qa(r.element)&&(r.focus(),!0)}_handleScrollToTheSelection(n,r){const i=((l,d)=>{for(var h in d||(d={}))bY.call(d,h)&&M5(l,h,d[h]);if(D5)for(var h of D5(d))wY.call(d,h)&&M5(l,h,d[h]);return l})({top:0,bottom:0,left:0,right:0},this.viewportOffset);r.viewportOffset.top+=i.top,r.viewportOffset.bottom+=i.bottom,r.viewportOffset.left+=i.left,r.viewportOffset.right+=i.right}}function P5(a){const{toolbarView:n,options:r}=a;let i=10;return qa(n.element)&&i--,r.isContextual&&i--,i}var N5=c(1185),yY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(N5.A,yY),N5.A.locals;class _Y extends Le{constructor(n){super(n),this.body=new aK(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class CY extends _Y{constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,r=new Hg;return r.text=n("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class AY extends Le{constructor(n,r,i){super(n),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const n=this._editingView;function r(i){n.change(l=>{const d=n.document.getRoot(i.name);l.addClass(i.isFocused?"ck-focused":"ck-blurred",d),l.removeClass(i.isFocused?"ck-blurred":"ck-focused",d)})}n.isRenderingInProgress?function i(l){n.once("change:isRenderingInProgress",(d,h,f)=>{f?i(l):r(l)})}(this):r(this)}}class xY extends AY{constructor(n,r,i,l={}){super(n,r,i);const d=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>d("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(r=>{const i=n.document.getRoot(this.name);r.setAttribute("aria-label",this._generateLabel(this),i)})}}class Sy extends Eg{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,r)=>{window.alert(r.message)},{priority:"lowest"})}showSuccess(n,r={}){this._showNotification({message:n,type:"success",namespace:r.namespace,title:r.title})}showInfo(n,r={}){this._showNotification({message:n,type:"info",namespace:r.namespace,title:r.title})}showWarning(n,r={}){this._showNotification({message:n,type:"warning",namespace:r.namespace,title:r.title})}_showNotification(n){const r=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(r,{message:n.message,type:n.type,title:n.title||""})}}class R5 extends Q(){constructor(n,r){super(),r&&sI(this,r),n&&this.set(n)}}var O5=c(991),EY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(O5.A,EY),O5.A.locals;var B5=c(5380),SY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(B5.A,SY),B5.A.locals;const tm=pc("px");class nm extends pe{constructor(n){super(n),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const r=this.editor.editing.view,i=r.document.selection.editableElement;return i?r.domConverter.mapViewToDom(i.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new M("contextualballoon-add-view-exist",[this,n]);const r=n.stackId||"main";if(!this._idToStack.has(r))return this._idToStack.set(r,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!n.singleViewMode||this.showStack(r));const i=this._idToStack.get(r);n.singleViewMode&&this.showStack(r),i.set(n.view,n),this._viewToStack.set(n.view,i),i===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new M("contextualballoon-remove-view-not-exist",[this,n]);const r=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(r.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),r.size===1?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const r=this._idToStack.get(n);if(!r)throw new M("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}_createPanelView(){this._view=new zo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(r=>r[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let r=n.indexOf(this._visibleStack)+1;n[r]||(r=0),this.showStack(this._getStackId(n[r]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let r=n.indexOf(this._visibleStack)-1;n[r]||(r=n.length-1),this.showStack(this._getStackId(n[r]))}_createRotatorView(){const n=new TY(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,l)=>!l&&i>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,l)=>{if(l<2)return"";const d=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[d,l])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new IY(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,i)=>!i&&r>=2?Math.min(r-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:r="",withArrow:i=!0,singleViewMode:l=!1}){this.view.class=r,this.view.withArrow=i,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class TY extends Le{constructor(n){super(n);const r=n.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Gn,this.buttonPrevView=this._createButtonView(r("Previous"),Ze.previousArrow),this.buttonNextView=this._createButtonView(r("Next"),Ze.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,r){const i=new Ct(this.locale);return i.set({label:n,icon:r,tooltip:!0}),i}}class IY extends Le{constructor(n,r){super(n);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:i.to("top",tm),left:i.to("left",tm),width:i.to("width",tm),height:i.to("height",tm)}},children:this.content}),this.on("change:numberOfPanels",(l,d,h,f)=>{h>f?this._addPanels(h-f):this._removePanels(f-h),this.updatePosition()})}_addPanels(n){for(;n--;){const r=new Le;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(n){for(;n--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:r}=this._balloonPanelView,{width:i,height:l}=new pt(this._balloonPanelView.element);Object.assign(this,{top:n,left:r,width:i,height:l})}}}var L5=c(8298),DY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(L5.A,DY),L5.A.locals;const Ec=pc("px");class MY extends Le{constructor(n){super(n);const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new ei({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",i=>i?"block":"none"),height:r.to("isSticky",i=>i?Ec(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new ei({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",i=>i?Ec(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_stickyTopOffset",i=>i&&Ec(i)),bottom:r.to("_stickyBottomOffset",i=>i&&Ec(i)),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(m.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const n=new pt(this.limiterElement);let r=n.getVisible();if(r){const i=new pt(m.window);i.top+=this.viewportTopOffset,i.height-=this.viewportTopOffset,r=r.getIntersection(i)}if(r&&n.top<r.top){const i=r.top;if(i+this._contentPanelRect.height+this.limiterBottomOffset>r.bottom){const l=Math.max(n.bottom-r.bottom,0)+this.limiterBottomOffset;n.bottom-l>n.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(l):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<n.height?this._stickToTopOfAncestors(i):this._unstick()}else this._unstick()}_stickToTopOfAncestors(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=n,this._stickyBottomOffset=null,this._marginLeft=Ec(-m.window.scrollX)}_stickToBottomOfLimiter(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=n,this._marginLeft=Ec(-m.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new pt(this.contentPanelElement)}}class PY extends Gg{constructor(n,r){const i=n.t,l=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Qg},r);super(n,l.creator),this.label=r.label,this._viewConfig=l,this._viewConfig.showIcon&&(this.iconView=new ns,this.iconView.content=Ze.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Ct(n),this.resetButtonView.set({label:i("Clear"),icon:Ze.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",d=>!d),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class NY extends Le{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",n.if("isVisible","ck-hidden",r=>!r)],tabindex:-1},children:[{tag:"span",children:[{text:[n.to("primaryText")]}]},{tag:"span",children:[{text:[n.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class RY extends Le{constructor(n){super(n),this.children=this.createCollection(),this.focusTracker=new Gn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Sr({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const n of this.children)this.focusTracker.add(n.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var j5=/[\\^$.*+?()[\]{}|]/g,OY=RegExp(j5.source);const z5=function(a){return(a=zv(a))&&OY.test(a)?a.replace(j5,"\\$&"):a};var F5=c(8107),BY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(F5.A,BY),F5.A.locals;var LY=Object.defineProperty,$5=Object.getOwnPropertySymbols,jY=Object.prototype.hasOwnProperty,zY=Object.prototype.propertyIsEnumerable,V5=(a,n,r)=>n in a?LY(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class FY extends Le{constructor(n,r){super(n),this._config=r,this.filteredView=r.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Gn,this.keystrokes=new Io,this.resultsView=new RY(n),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),r.infoView&&r.infoView.instance?this.infoView=r.infoView.instance:(this.infoView=new NY,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Sr({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(i,{resultsCount:l,totalItemsCount:d})=>{this.resultsCount=l,this.totalItemsCount=d}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",r.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const n=r=>r.stopPropagation();for(const r of this.focusableChildren)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(n){const r=n?new RegExp(z5(n),"ig"):null,i=this.filteredView.filter(r);this.fire("search",((l,d)=>{for(var h in d||(d={}))jY.call(d,h)&&V5(l,h,d[h]);if($5)for(var h of $5(d))zY.call(d,h)&&V5(l,h,d[h]);return l})({query:n},i))}_createSearchTextQueryView(){const n=new PY(this.locale,this._config.queryView);return this.listenTo(n.fieldView,"input",()=>{this.search(n.fieldView.element.value)}),n.on("reset",()=>this.reset()),n.bind("isEnabled").to(this),n}_enableDefaultInfoViewBehavior(){const n=this.locale.t,r=this.infoView;function i(l,{query:d,resultsCount:h,totalItemsCount:f}){return typeof l=="function"?l(d,h,f):l}this.on("search",(l,d)=>{if(d.resultsCount)r.set({isVisible:!1});else{const h=this._config.infoView&&this._config.infoView.text;let f,k;d.totalItemsCount?h&&h.notFound?(f=h.notFound.primary,k=h.notFound.secondary):(f=n("No results found"),k=""):h&&h.noSearchableItems?(f=h.noSearchableItems.primary,k=h.noSearchableItems.secondary):(f=n("No searchable items"),k=""),r.set({primaryText:i(f,d),secondaryText:i(k,d),isVisible:!0})}})}}var U5=c(5727),$Y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(U5.A,$Y),U5.A.locals;const Ty=class extends FY{constructor(a,n){super(a,n),this._config=n;const r=pc("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const i=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[i.if("isVisible","ck-hidden",l=>!l),i.to("_position",l=>`ck-search__results_${l}`)],style:{width:i.to("_width",r)}}}),this.focusTracker.on("change:isFocused",(l,d,h)=>{this._updateResultsVisibility(),h?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(l,d)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,d())}),this.listenTo(m.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(l,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new pt(this.queryView.fieldView.element).width;const a=Ty._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Ty.defaultResultsPositions});this.resultsView._position=a?a.name:"s"}_updateResultsVisibility(){const a=this._config.queryMinChars===void 0?0:this._config.queryMinChars,n=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&n>=a}};let H5=Ty;H5.defaultResultsPositions=[a=>({top:a.bottom,left:a.left,name:"s"}),(a,n)=>({top:a.top-n.height,left:a.left,name:"n"})],H5._getOptimalPosition=vg;var W5=c(9529),VY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(W5.A,VY),W5.A.locals;var q5=c(109),UY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(q5.A,UY),q5.A.locals;var G5=c(2710),HY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(G5.A,HY),G5.A.locals;var K5=c(3344),WY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(K5.A,WY),K5.A.locals;class qY extends Ct{constructor(n){super(n);const r=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i)),"data-cke-tooltip-disabled":r.to("isOn")},on:{mouseenter:r.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new ns;return n.content=qg,n.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),n}}var Y5=c(9481),GY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(Y5.A,GY),Y5.A.locals;class Iy extends xc{constructor(n,r){super(n);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(r)}}var KY=Object.defineProperty,Q5=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty,QY=Object.prototype.propertyIsEnumerable,Z5=(a,n,r)=>n in a?KY(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,J5=(a,n)=>{for(var r in n||(n={}))YY.call(n,r)&&Z5(a,r,n[r]);if(Q5)for(var r of Q5(n))QY.call(n,r)&&Z5(a,r,n[r]);return a};const Xu={toggleMenusAndFocusItemsOnHover(a){a.on("menu:mouseenter",n=>{if(a.isOpen){for(const r of a.menus){const i=n.path[0],l=i instanceof Iy&&i.children.first===r;r.isOpen=(n.path.includes(r)||l)&&r.isEnabled}n.source.focus()}})},focusCycleMenusOnArrows(a){const n=a.locale.uiLanguageDirection==="rtl";function r(i,l){const d=a.children.getIndex(i),h=i.isOpen,f=a.children.length,k=a.children.get((d+f+l)%f);i.isOpen=!1,h&&(k.isOpen=!0),k.buttonView.focus()}a.on("menu:arrowright",i=>{r(i.source,n?-1:1)}),a.on("menu:arrowleft",i=>{r(i.source,n?1:-1)})},closeMenusWhenTheBarCloses(a){a.on("change:isOpen",()=>{a.isOpen||a.menus.forEach(n=>{n.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(a){a.on("menu:change:isOpen",(n,r,i)=>{i&&a.menus.filter(l=>n.source.parentMenuView===l.parentMenuView&&n.source!==l&&l.isOpen).forEach(l=>{l.isOpen=!1})})},closeOnClickOutside(a){Ag({emitter:a,activator:()=>a.isOpen,callback:()=>a.close(),contextElements:()=>a.children.map(n=>n.element)})}},nl={openAndFocusPanelOnArrowDownKey(a){a.keystrokes.set("arrowdown",(n,r)=>{a.focusTracker.focusedElement===a.buttonView.element&&(a.isOpen||(a.isOpen=!0),a.panelView.focus(),r())})},openOnArrowRightKey(a){const n=a.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";a.keystrokes.set(n,(r,i)=>{a.focusTracker.focusedElement===a.buttonView.element&&a.isEnabled&&(a.isOpen||(a.isOpen=!0),a.panelView.focus(),i())})},openOnButtonClick(a){a.buttonView.on("execute",()=>{a.isOpen=!0,a.panelView.focus()})},toggleOnButtonClick(a){a.buttonView.on("execute",()=>{a.isOpen=!a.isOpen,a.isOpen&&a.panelView.focus()})},closeOnArrowLeftKey(a){const n=a.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";a.keystrokes.set(n,(r,i)=>{a.isOpen&&(a.isOpen=!1,a.focus(),i())})},closeOnEscKey(a){a.keystrokes.set("esc",(n,r)=>{a.isOpen&&(a.isOpen=!1,a.focus(),r())})},closeOnParentClose(a){a.parentMenuView.on("change:isOpen",(n,r,i)=>{i||n.source!==a.parentMenuView||(a.isOpen=!1)})}},ZY={southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,n)=>({top:a.bottom,left:a.left-n.width+a.width,name:"sw"}),northEast:(a,n)=>({top:a.top-n.height,left:a.left,name:"ne"}),northWest:(a,n)=>({top:a.top-n.height,left:a.left-n.width+a.width,name:"nw"}),eastSouth:a=>({top:a.top,left:a.right-5,name:"es"}),eastNorth:(a,n)=>({top:a.top-n.height,left:a.right-5,name:"en"}),westSouth:(a,n)=>({top:a.top,left:a.left-n.width+5,name:"ws"}),westNorth:(a,n)=>({top:a.top-n.height,left:a.left-n.width+5,name:"wn"})},JY=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function XY({normalizedConfig:a,locale:n,componentFactory:r}){const i=oi(a);return function(l,d){const h=d.removeItems,f=[];d.items=d.items.filter(({menuId:k})=>!h.includes(k)||(f.push(k),!1)),Sc(d.items,k=>{k.groups=k.groups.filter(({groupId:b})=>!h.includes(b)||(f.push(b),!1));for(const b of k.groups)b.items=b.items.filter(v=>{const A=tM(v);return!h.includes(A)||(f.push(A),!1)})});for(const k of h)f.includes(k)||U("menu-bar-item-could-not-be-removed",{menuBarConfig:l,itemName:k})}(a,i),function(l,d){const h=d.addItems,f=[];for(const k of h){const b=nQ(k.position),v=oQ(k.position);if(eQ(k))if(v){const A=d.items.findIndex(E=>E.menuId===v);A!=-1?b==="before"?(d.items.splice(A,0,k.menu),f.push(k)):b==="after"&&(d.items.splice(A+1,0,k.menu),f.push(k)):X5(d,k.menu,v,b)&&f.push(k)}else b==="start"?(d.items.unshift(k.menu),f.push(k)):b==="end"&&(d.items.push(k.menu),f.push(k));else tQ(k)?Sc(d.items,A=>{if(A.menuId===v)b==="start"?(A.groups.unshift(k.group),f.push(k)):b==="end"&&(A.groups.push(k.group),f.push(k));else{const E=A.groups.findIndex(I=>I.groupId===v);E!==-1&&(b==="before"?(A.groups.splice(E,0,k.group),f.push(k)):b==="after"&&(A.groups.splice(E+1,0,k.group),f.push(k)))}}):X5(d,k.item,v,b)&&f.push(k)}for(const k of h)f.includes(k)||U("menu-bar-item-could-not-be-added",{menuBarConfig:l,addedItemConfig:k})}(a,i),function(l,d,h){Sc(d.items,f=>{for(const k of f.groups)k.items=k.items.filter(b=>{const v=typeof b=="string"&&!h.has(b);return v&&!d.isUsingDefaultConfig&&U("menu-bar-item-unavailable",{menuBarConfig:l,parentMenuConfig:oi(f),componentName:b}),!v})})}(a,i,r),eM(a,i),function(l,d){const h=d.t,f={File:h({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:h({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:h({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:h({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:h({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:h({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:h({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:h({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:h({string:"Font",id:"MENU_BAR_MENU_FONT"})};Sc(l.items,k=>{k.label in f&&(k.label=f[k.label])})}(i,n),i}function X5(a,n,r,i){let l=!1;return Sc(a.items,d=>{for(const{groupId:h,items:f}of d.groups){if(l)return;if(h===r)i==="start"?(f.unshift(n),l=!0):i==="end"&&(f.push(n),l=!0);else{const k=f.findIndex(b=>tM(b)===r);k!==-1&&(i==="before"?(f.splice(k,0,n),l=!0):i==="after"&&(f.splice(k+1,0,n),l=!0))}}}),l}function eM(a,n){const r=n.isUsingDefaultConfig;let i=!1;n.items=n.items.filter(l=>!!l.groups.length||(Dy(a,l,r),!1)),n.items.length?(Sc(n.items,l=>{l.groups=l.groups.filter(d=>!!d.items.length||(i=!0,!1));for(const d of l.groups)d.items=d.items.filter(h=>!(nM(h)&&!h.groups.length)||(Dy(a,h,r),i=!0,!1))}),i&&eM(a,n)):Dy(a,a,r)}function Dy(a,n,r){r||U("menu-bar-menu-empty",{menuBarConfig:a,emptyMenuConfig:n})}function Sc(a,n){if(Array.isArray(a))for(const i of a)r(i);function r(i){n(i);for(const l of i.groups)for(const d of l.items)nM(d)&&r(d)}}function eQ(a){return typeof a=="object"&&"menu"in a}function tQ(a){return typeof a=="object"&&"group"in a}function nQ(a){return a.startsWith("start")?"start":a.startsWith("end")?"end":a.startsWith("after")?"after":"before"}function oQ(a){const n=a.match(/^[^:]+:(.+)/);return n?n[1]:null}function tM(a){return typeof a=="string"?a:a.menuId}function nM(a){return typeof a=="object"&&"menuId"in a}function rQ(a,n){const r=n.element;a.ui.focusTracker.add(r),a.keystrokes.listenTo(r);const i=function(l){let d;return d="items"in l&&l.items?J5({items:l.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},l):J5({items:oi(JY),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},l),d}(a.config.get("menuBar")||{});n.fillFromConfig(i,a.ui.componentFactory),a.keystrokes.set("Esc",(l,d)=>{r.contains(a.ui.focusTracker.focusedElement)&&(a.editing.view.focus(),d())}),a.keystrokes.set("Alt+F9",(l,d)=>{r.contains(a.ui.focusTracker.focusedElement)||(n.focus(),d())})}var oM=c(9108),iQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(oM.A,iQ),oM.A.locals;class sQ extends Le{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",r.to("position",i=>`ck-menu-bar__menu__panel_position_${i}`),r.if("isVisible","ck-hidden",i=>!i)],tabindex:"-1"},children:this.children,on:{selectstart:r.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(n=1){this.children.length&&(n===1?this.children.first.focus():this.children.last.focus())}}var rM=c(4),aQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(rM.A,aQ),rM.A.locals;const iM=class extends Le{constructor(a){super(a);const n=this.bindTemplate;this.buttonView=new qY(a),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new sQ(a),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Io,this.focusTracker=new Gn,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",n.to("class"),n.if("isEnabled","ck-disabled",r=>!r),n.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),nl.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(nl.openOnButtonClick(this),nl.openOnArrowRightKey(this),nl.closeOnArrowLeftKey(this),nl.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),nl.openAndFocusPanelOnArrowDownKey(this),nl.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(a,n)=>{this.fire("arrowright"),n()}),this.keystrokes.set("arrowleft",(a,n)=>{this.fire("arrowleft"),n()})}_repositionPanelOnOpen(){this.on("change:isOpen",(a,n,r)=>{if(!r)return;const i=iM._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:a,southWest:n,northEast:r,northWest:i,westSouth:l,eastSouth:d,westNorth:h,eastNorth:f}=ZY;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[d,f,l,h]:[a,n,r,i]:this.parentMenuView?[l,h,d,f]:[n,a,i,r]}};let Tc=iM;Tc._getOptimalPosition=vg;class My extends yy{constructor(n){super(n),this.role="menu"}}var sM=c(977),lQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(sM.A,lQ),sM.A.locals;class lr extends Ct{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class aM extends zD{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var lM=c(497),cQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(lM.A,cQ),lM.A.locals;const cM=["mouseenter","arrowleft","arrowright","change:isOpen"];class dQ extends Le{constructor(n){super(n),this.menus=[];const r=n.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":r("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(n,r){const i=XY({normalizedConfig:n,locale:this.locale,componentFactory:r}).items.map(l=>this._createMenu({componentFactory:r,menuDefinition:l}));this.children.addMany(i)}render(){super.render(),Xu.toggleMenusAndFocusItemsOnHover(this),Xu.closeMenusWhenTheBarCloses(this),Xu.closeMenuWhenAnotherOnTheSameLevelOpens(this),Xu.focusCycleMenusOnArrows(this),Xu.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const n of this.children)n.isOpen=!1}registerMenu(n,r=null){r?(n.delegate(...cM).to(r),n.parentMenuView=r):n.delegate(...cM).to(this,i=>"menu:"+i),n._attachBehaviors(),this.menus.push(n)}_createMenu({componentFactory:n,menuDefinition:r,parentMenuView:i}){const l=this.locale,d=new Tc(l);return this.registerMenu(d,i),d.buttonView.set({label:r.label}),d.once("change:isOpen",()=>{const h=new My(l);h.ariaLabel=r.label,d.panelView.children.add(h),h.items.addMany(this._createMenuItems({menuDefinition:r,parentMenuView:d,componentFactory:n}))}),d}_createMenuItems({menuDefinition:n,parentMenuView:r,componentFactory:i}){const l=this.locale,d=[];for(const h of n.groups){for(const f of h.items){const k=new Iy(l,r);if(xe(f))k.children.add(this._createMenu({componentFactory:i,menuDefinition:f,parentMenuView:r}));else{const b=this._createMenuItemContentFromFactory({componentName:f,componentFactory:i,parentMenuView:r});if(!b)continue;k.children.add(b)}d.push(k)}h!==n.groups[n.groups.length-1]&&d.push(new vy(l))}return d}_createMenuItemContentFromFactory({componentName:n,parentMenuView:r,componentFactory:i}){const l=i.create(n);return l instanceof Tc||l instanceof lr||l instanceof aM?(this._registerMenuTree(l,r),l.on("execute",()=>{this.close()}),l):(U("menu-bar-component-unsupported",{componentName:n,componentView:l}),null)}_registerMenuTree(n,r){if(!(n instanceof Tc))return void n.delegate("mouseenter").to(r);this.registerMenu(n,r);const i=n.panelView.children.filter(d=>d instanceof My)[0];if(!i)return void n.delegate("mouseenter").to(r);const l=i.items.filter(d=>d instanceof xc);for(const d of l)this._registerMenuTree(d.children.get(0),n)}_setupIsOpenUpdater(){let n;this.on("menu:change:isOpen",(r,i,l)=>{clearTimeout(n),l?this.isOpen=!0:n=setTimeout(()=>{this.isOpen=Array.from(this.children).some(d=>d.isOpen)},0)})}}class uQ extends vY{constructor(n,r){super(n),this.view=r,this._toolbarConfig=QD(n.config.get("toolbar")),this._elementReplacer=new Rt,this.listenTo(n.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(n){const r=this.editor,i=this.view,l=r.editing.view,d=i.editable,h=l.document.getRoot();d.name=h.rootName,i.render();const f=d.element;this.setEditableElement(d.name,f),i.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(f),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),i.menuBarView&&rQ(r,i.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const n=this.view,r=this.editor.editing.view;this._elementReplacer.restore(),r.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:r})=>r||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,r=n.editing.view,i=r.document.getRoot(),l=n.sourceElement;let d;const h=n.config.get("placeholder");h&&(d=typeof h=="string"?h:h[this.view.editable.name]),!d&&l&&l.tagName.toLowerCase()==="textarea"&&(d=l.getAttribute("placeholder")),d&&(i.placeholder=d),NT({view:r,element:i,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(n,r,i){const l=this.view.stickyPanel;if(l.isSticky){const d=new pt(l.element).height;r.viewportOffset.top+=d}else{const d=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(l,"change:isSticky",d),setTimeout(()=>{this.stopListening(l,"change:isSticky",d)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const n=this.view.stickyPanel,r=this.editor.plugins.get("Dialog");r.on("show",()=>{const i=r.view;i.on("moveTo",(l,d)=>{if(!n.isSticky||i.wasMoved)return;const h=new pt(n.contentPanelElement);d[1]<h.bottom+Jg.defaultOffset&&(d[1]=h.bottom+Jg.defaultOffset)},{priority:"high"})},{priority:"low"})}}var dM=c(7388),hQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(dM.A,hQ),dM.A.locals;class pQ extends CY{constructor(n,r,i={}){super(n),this.stickyPanel=new MY(n),this.toolbar=new wy(n,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),i.useMenuBar&&(this.menuBarView=new dQ(n)),this.editable=new xY(n,r)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class uM{constructor(n){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const i="error"in r?r.error:r.reason;i instanceof Error&&this._handleError(i,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,r){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(r)}off(n,r){this._listeners[n]=this._listeners[n].filter(i=>i!==r)}_fire(n,...r){const i=this._listeners[n]||[];for(const l of i)l.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,r){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Py(a,n=new Set){const r=[a],i=new Set;let l=0;for(;r.length>l;){const d=r[l++];if(!i.has(d)&&fQ(d)&&!n.has(d))if(i.add(d),Symbol.iterator in d)try{for(const h of d)r.push(h)}catch{}else for(const h in d)h!=="defaultValue"&&r.push(d[h])}return i}function fQ(a){const n=Object.prototype.toString.call(a),r=typeof a;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||a==null||a._watchdogExcluded||a instanceof EventTarget||a instanceof Event)}function hM(a,n,r=new Set){if(a===n&&typeof(i=a)=="object"&&i!==null)return!0;var i;const l=Py(a,r),d=Py(n,r);for(const h of l)if(d.has(h))return!0;return!1}var gQ=Object.defineProperty,mQ=Object.defineProperties,kQ=Object.getOwnPropertyDescriptors,om=Object.getOwnPropertySymbols,pM=Object.prototype.hasOwnProperty,fM=Object.prototype.propertyIsEnumerable,gM=(a,n,r)=>n in a?gQ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Ny=(a,n)=>{for(var r in n||(n={}))pM.call(n,r)&&gM(a,r,n[r]);if(om)for(var r of om(n))fM.call(n,r)&&gM(a,r,n[r]);return a};class mM extends uM{constructor(n,r={}){super(r),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=em(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),n&&(this._creator=(i,l)=>n.create(i,l)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},r=[],i=this._config.rootsAttributes||{},l={};for(const[k,b]of Object.entries(this._data.roots))b.isLoaded?(n[k]="",l[k]=i[k]||{}):r.push(k);const d=(h=Ny({},this._config),f={extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:l,_watchdogInitialData:this._data},mQ(h,kQ(f)));var h,f;return delete d.initialData,d.extraPlugins.push(bQ),this._initUsingData?this.create(n,d,d.context):Wa(this._elementOrData)?this.create(this._elementOrData,d,d.context):this.create(this._editables,d,d.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,r=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(r)||{},this._config.context=i,this._creator(n,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,r=n.model.document.roots.filter(f=>f.isAttached()&&f.rootName!="$graveyard"),{plugins:i}=n,l=i.has("CommentsRepository")&&i.get("CommentsRepository"),d=i.has("TrackChanges")&&i.get("TrackChanges"),h={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(f=>{h.roots[f.rootName]={content:JSON.stringify(Array.from(f.getChildren())),attributes:JSON.stringify(Array.from(f.getAttributes())),isLoaded:f._isLoaded}});for(const f of n.model.markers)f._affectsData&&(h.markers[f.name]={rangeJSON:f.getRange().toJSON(),usingOperation:f._managedUsingOperations,affectsData:f._affectsData});return l&&(h.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),d&&(h.suggestions=JSON.stringify(d.getSuggestions({toJSON:!0,skipNotAttached:!0}))),h}_getEditables(){const n={};for(const r of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(r);i&&(n[r]=i)}return n}_isErrorComingFromThisItem(n){return hM(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return Cv(n,(r,i)=>Wa(r)||i==="context"?r:void 0)}}class bQ{constructor(n){this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},r=>{this._restoreCollaborationData(),this._restoreEditorData(r)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,r){if("name"in r){const i=n.createElement(r.name,r.attributes);if(r.children)for(const l of r.children)i._appendChild(this._createNode(n,l));return i}return n.createText(r.data,r.attributes)}_restoreEditorData(n){const r=this.editor;Object.entries(this._data.roots).forEach(([i,{content:l,attributes:d}])=>{const h=JSON.parse(l),f=JSON.parse(d),k=r.model.document.getRoot(i);for(const[b,v]of f)n.setAttribute(b,v,k);for(const b of h){const v=this._createNode(n,b);n.insert(v,k,"end")}}),Object.entries(this._data.markers).forEach(([i,l])=>{const{document:d}=r.model,h=l,{rangeJSON:{start:f,end:k}}=h,b=((P,L)=>{var F={};for(var W in P)pM.call(P,W)&&L.indexOf(W)<0&&(F[W]=P[W]);if(P!=null&&om)for(var W of om(P))L.indexOf(W)<0&&fM.call(P,W)&&(F[W]=P[W]);return F})(h,["rangeJSON"]),v=d.getRoot(f.root),A=n.createPositionFromPath(v,f.path,f.stickiness),E=n.createPositionFromPath(v,k.path,k.stickiness),I=n.createRange(A,E);n.addMarker(i,Ny({range:I},b))})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),r=JSON.parse(this._data.suggestions);n.forEach(i=>{const l=this.editor.config.get("collaboration.channelId"),d=this.editor.plugins.get("CommentsRepository");d.hasCommentThread(i.threadId)&&d.getCommentThread(i.threadId).remove(),d.addCommentThread(Ny({channelId:l},i))}),r.forEach(i=>{const l=this.editor.plugins.get("TrackChangesEditing");l.hasSuggestion(i.id)?l.getSuggestion(i.id).attributes=i.attributes:l.addSuggestionData(i)})}}const eh=Symbol("MainQueueId");class wQ{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,r){const i=n===eh;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const l=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(eh),this._queues.get(n)])).then(r),d=l.catch(()=>{});return this._queues.set(n,d),l.finally(()=>{this._activeActions--,this._queues.get(n)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function kM(a){return Array.isArray(a)?a:[a]}class rm extends gy(tK){constructor(n,r={}){if(!im(n)&&r.initialData!==void 0)throw new M("editor-create-initial-data",null);super(r),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(h){return im(h)?(f=h,f instanceof HTMLTextAreaElement?f.value:f.innerHTML):h;var f}(n)),im(n)&&(this.sourceElement=n),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=this.config.get("menuBar"),d=new pQ(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i,useMenuBar:l.isVisible});this.ui=new uQ(this,d),function(h){if(!Zi(h.updateSourceElement))throw new M("attachtoform-missing-elementapi-interface",h);const f=h.sourceElement;if(function(k){return!!k&&k.tagName.toLowerCase()==="textarea"}(f)&&f.form){let k;const b=f.form,v=()=>h.updateSourceElement();Zi(b.submit)&&(k=b.submit,b.submit=()=>{v(),k.apply(b)}),b.addEventListener("submit",v),h.on("destroy",()=>{b.removeEventListener("submit",v),k&&(b.submit=k)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,r={}){return new Promise(i=>{const l=new this(n,r);i(l.initPlugins().then(()=>l.ui.init(im(n)?n:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function im(a){return Wa(a)}rm.Context=DT,rm.EditorWatchdog=mM,rm.ContextWatchdog=class extends uM{constructor(a,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new wQ,this._watchdogConfig=n,this._creator=r=>a.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(a){this._creator=a}setDestructor(a){this._destructor=a}get context(){return this._context}create(a={}){return this._actionQueues.enqueue(eh,()=>(this._contextConfig=a,this._create()))}getItem(a){return this._getWatchdog(a)._item}getItemState(a){return this._getWatchdog(a).state}add(a){const n=kM(a);return Promise.all(n.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return i=new mM(null,this._watchdogConfig),i.setCreator(r.creator),i._setExcludedProperties(this._contextProps),r.destructor&&i.setDestructor(r.destructor),this._watchdogs.set(r.id,i),i.on("error",(l,{error:d,causesRestart:h})=>{this._fire("itemError",{itemId:r.id,error:d}),h&&this._actionQueues.enqueue(r.id,()=>new Promise(f=>{const k=()=>{i.off("restart",k),this._fire("itemRestart",{itemId:r.id}),f()};i.on("restart",k)}))}),i.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(a){const n=kM(a);return Promise.all(n.map(r=>this._actionQueues.enqueue(r,()=>{const i=this._getWatchdog(r);return this._watchdogs.delete(r),i.destroy()})))}destroy(){return this._actionQueues.enqueue(eh,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(eh,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(a=>{console.error("An error happened during destroying the context or items.",a)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(a=>(this._context=a,this._contextProps=Py(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const a=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(a))})}_getWatchdog(a){const n=this._watchdogs.get(a);if(!n)throw new Error(`Item with the given id was not registered: ${a}.`);return n}_isErrorComingFromThisItem(a){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(a))return!1;return hM(this._context,a.context)}};class th extends Fs{constructor(n){super(n),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const r=this.document;function i(l){return(d,h)=>{h.preventDefault();const f=h.dropRange?[h.dropRange]:null,k=new D(r,l);r.fire(k,{dataTransfer:h.dataTransfer,method:d.name,targetRanges:f,target:h.target,domEvent:h.domEvent}),k.stop.called&&h.stopPropagation()}}this.listenTo(r,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(r,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(r,"dragover",i("dragging"),{priority:"low"})}onDomEvent(n){const r="clipboardData"in n?n.clipboardData:n.dataTransfer,i=n.type=="drop"||n.type=="paste",l={dataTransfer:new fI(r,{cacheFiles:i})};n.type!="drop"&&n.type!="dragover"||(l.dropRange=function(d,h){const f=h.target.ownerDocument,k=h.clientX,b=h.clientY;let v;return f.caretRangeFromPoint&&f.caretRangeFromPoint(k,b)?v=f.caretRangeFromPoint(k,b):h.rangeParent&&(v=f.createRange(),v.setStart(h.rangeParent,h.rangeOffset),v.collapse(!0)),v?d.domConverter.domRangeToView(v):null}(this.view,n)),this.fire(n.type,n,l)}}const bM=["figcaption","li"],wM=["ol","ul"];function vM(a){if(a.is("$text")||a.is("$textProxy"))return a.data;if(a.is("element","img")&&a.hasAttribute("alt"))return a.getAttribute("alt");if(a.is("element","br"))return`
`;let n="",r=null;for(const i of a.getChildren())n+=vQ(i,r)+vM(i),r=i;return n}function vQ(a,n){return n?a.is("element","li")&&!a.isEmpty&&a.getChild(0).is("containerElement")||wM.includes(a.name)&&wM.includes(n.name)?`

`:a.is("containerElement")||n.is("containerElement")?bM.includes(a.name)||bM.includes(n.name)?`
`:`

`:"":""}const yQ=function(a,n){return a&&lT(a,n,Mu)},_Q=function(a,n,r,i){var l=r.length,d=l;if(a==null)return!d;for(a=Object(a);l--;){var h=r[l];if(h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++l<d;){var f=(h=r[l])[0],k=a[f],b=h[1];if(h[2]){if(k===void 0&&!(f in a))return!1}else{var v=new cc,A;if(!(A===void 0?jg(b,k,3,i,v):A))return!1}}return!0},yM=function(a){return a==a&&!xe(a)},CQ=function(a){for(var n=Mu(a),r=n.length;r--;){var i=n[r],l=a[i];n[r]=[i,l,yM(l)]}return n},_M=function(a,n){return function(r){return r!=null&&r[a]===n&&(n!==void 0||a in Object(r))}},AQ=function(a){var n=CQ(a);return n.length==1&&n[0][2]?_M(n[0][0],n[0][1]):function(r){return r===a||_Q(r,a,n)}},xQ=function(a,n){return a!=null&&n in Object(a)},EQ=function(a,n,r){for(var i=-1,l=(n=Ig(n,a)).length,d=!1;++i<l;){var h=mc(n[i]);if(!(d=a!=null&&r(a,h)))break;a=a[h]}return d||++i!=l?d:!!(l=a==null?0:a.length)&&dv(l)&&fg(h,l)&&(Zt(a)||pg(a))},SQ=function(a,n){return a!=null&&EQ(a,n,xQ)},TQ=function(a,n){return Lv(a)&&yM(n)?_M(mc(a),n):function(r){var i=ju(r,a);return i===void 0&&i===n?SQ(r,a):jg(n,i,3)}},IQ=function(a){return function(n){return n==null?void 0:n[a]}},DQ=function(a){return function(n){return Fv(n,a)}},MQ=function(a){return Lv(a)?IQ(mc(a)):DQ(a)},PQ=function(a){return typeof a=="function"?a:a==null?zs:typeof a=="object"?Zt(a)?TQ(a[0],a[1]):AQ(a):MQ(a)},NQ=function(a,n){var r={};return n=PQ(n),yQ(a,function(i,l,d){hg(r,l,n(i,l,d))}),r};var RQ=Object.defineProperty,OQ=Object.defineProperties,BQ=Object.getOwnPropertyDescriptors,CM=Object.getOwnPropertySymbols,LQ=Object.prototype.hasOwnProperty,jQ=Object.prototype.propertyIsEnumerable,AM=(a,n,r)=>n in a?RQ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class nh extends pe{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(n,r){this._markersToCopy.set(n,r)}_copySelectedFragmentWithMarkers(n,r,i=l=>l.model.getSelectedContent(l.model.document.selection)){return this.editor.model.change(l=>{const d=l.model.document.selection;l.setSelection(r);const h=this._insertFakeMarkersIntoSelection(l,l.model.document.selection,n),f=i(l),k=this._removeFakeMarkersInsideElement(l,f);for(const[b,v]of Object.entries(h)){k[b]||(k[b]=l.createRangeIn(f));for(const A of v)l.remove(A)}f.markers.clear();for(const[b,v]of Object.entries(k))f.markers.set(b,v);return l.setSelection(d),f})}_pasteMarkersIntoTransformedElement(n,r){const i=this._getPasteMarkersFromRangeMap(n);return this.editor.model.change(l=>{const d=this._insertFakeMarkersElements(l,i),h=r(l),f=this._removeFakeMarkersInsideElement(l,h);for(const k of Object.values(d).flat())l.remove(k);for(const[k,b]of Object.entries(f))l.model.markers.has(k)||l.addMarker(k,{usingOperation:!0,affectsData:!0,range:b});return h})}_pasteFragmentWithMarkers(n){const r=this._getPasteMarkersFromRangeMap(n.markers);n.markers.clear();for(const i of r)n.markers.set(i.name,i.range);return this.editor.model.insertContent(n)}_forceMarkersCopy(n,r,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const l=this._markersToCopy.get(n);this._markersToCopy.set(n,i),r(),l?this._markersToCopy.set(n,l):this._markersToCopy.delete(n)}_isMarkerCopyable(n,r){const i=this._getMarkerClipboardConfig(n);if(!i)return!1;if(!r)return!0;const{allowedActions:l}=i;return l==="all"||l.includes(r)}_hasMarkerConfiguration(n){return!!this._getMarkerClipboardConfig(n)}_getMarkerClipboardConfig(n){const[r]=n.split(":");return this._markersToCopy.get(r)||null}_insertFakeMarkersIntoSelection(n,r,i){const l=this._getCopyableMarkersFromSelection(n,r,i);return this._insertFakeMarkersElements(n,l)}_getCopyableMarkersFromSelection(n,r,i){const l=Array.from(r.getRanges()),d=new Set(l.flatMap(h=>Array.from(n.model.markers.getMarkersIntersectingRange(h))));return Array.from(d).filter(h=>{if(!this._isMarkerCopyable(h.name,i))return!1;const{copyPartiallySelected:f}=this._getMarkerClipboardConfig(h.name);if(!f){const k=h.getRange();return l.some(b=>b.containsRange(k,!0))}return!0}).map(h=>({name:i==="dragstart"?this._getUniqueMarkerName(h.name):h.name,range:h.getRange()}))}_getPasteMarkersFromRangeMap(n,r=null){const{model:i}=this.editor;return(n instanceof Map?Array.from(n.entries()):Object.entries(n)).flatMap(([l,d])=>{if(!this._hasMarkerConfiguration(l))return[{name:l,range:d}];if(this._isMarkerCopyable(l,r)){const h=this._getMarkerClipboardConfig(l),f=i.markers.has(l)&&i.markers.get(l).getRange().root.rootName==="$graveyard";return(h.duplicateOnPaste||f)&&(l=this._getUniqueMarkerName(l)),[{name:l,range:d}]}return[]})}_insertFakeMarkersElements(n,r){const i={},l=r.flatMap(d=>{const{start:h,end:f}=d.range;return[{position:h,marker:d,type:"start"},{position:f,marker:d,type:"end"}]}).sort(({position:d},{position:h})=>d.isBefore(h)?1:-1);for(const{position:d,marker:h,type:f}of l){const k=n.createElement("$marker",{"data-name":h.name,"data-type":f});i[h.name]||(i[h.name]=[]),i[h.name].push(k),n.insert(k,d)}return i}_removeFakeMarkersInsideElement(n,r){const i=this._getAllFakeMarkersFromElement(n,r).reduce((l,d)=>{const h=d.markerElement&&n.createPositionBefore(d.markerElement);let f=l[d.name],k=!1;f&&f.start&&f.end&&(this._getMarkerClipboardConfig(d.name).duplicateOnPaste?l[this._getUniqueMarkerName(d.name)]=l[d.name]:k=!0,f=null);var b,v;return k||(l[d.name]=(b=((A,E)=>{for(var I in E||(E={}))LQ.call(E,I)&&AM(A,I,E[I]);if(CM)for(var I of CM(E))jQ.call(E,I)&&AM(A,I,E[I]);return A})({},f),v={[d.type]:h},OQ(b,BQ(v)))),d.markerElement&&n.remove(d.markerElement),l},{});return NQ(i,l=>new ne(l.start||n.createPositionFromPath(r,[0]),l.end||n.createPositionAt(r,"end")))}_getAllFakeMarkersFromElement(n,r){const i=Array.from(n.createRangeIn(r)).flatMap(({item:h})=>{if(!h.is("element","$marker"))return[];const f=h.getAttribute("data-name"),k=h.getAttribute("data-type");return[{markerElement:h,name:f,type:k}]}),l=[],d=[];for(const h of i)h.type==="end"&&(i.some(f=>f.name===h.name&&f.type==="start")||l.push({markerElement:null,name:h.name,type:"start"})),h.type==="start"&&(i.some(f=>f.name===h.name&&f.type==="end")||d.unshift({markerElement:null,name:h.name,type:"end"}));return[...l,...i,...d]}_getUniqueMarkerName(n){const r=n.split(":"),i=O().substring(1,6);return r.length===3?`${r.slice(0,2).join(":")}:${i}`:`${r.join(":")}:${i}`}}class Tr extends pe{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[nh]}init(){this.editor.editing.view.addObserver(th),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(n,r,i){const l=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const d=l._copySelectedFragmentWithMarkers(i,r);this.fire("outputTransformation",{dataTransfer:n,content:d,method:i})})}_setupPasteDrop(){const n=this.editor,r=n.model,i=n.editing.view,l=i.document,d=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(l,"clipboardInput",(h,f)=>{f.method!="paste"||n.model.canEditAt(n.model.document.selection)||h.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(h,f)=>{const k=f.dataTransfer;let b;if(f.content)b=f.content;else{let E="";k.getData("text/html")?E=function(I){return I.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(P,L)=>L.length==1?" ":L).replace(/<!--[\s\S]*?-->/g,"")}(k.getData("text/html")):k.getData("text/plain")&&(((v=(v=k.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||v.includes("<br>"))&&(v=`<p>${v}</p>`),E=v),b=this.editor.data.htmlProcessor.toView(E)}var v;const A=new D(this,"inputTransformation");this.fire(A,{content:b,dataTransfer:k,targetRanges:f.targetRanges,method:f.method}),A.stop.called&&h.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(h,f)=>{if(f.content.isEmpty)return;const k=this.editor.data.toModel(f.content,"$clipboardHolder");k.childCount!=0&&(h.stop(),r.change(()=>{this.fire("contentInsertion",{content:k,method:f.method,dataTransfer:f.dataTransfer,targetRanges:f.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(h,f)=>{f.resultRange=d._pasteFragmentWithMarkers(f.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,r=n.model.document,i=n.editing.view.document,l=(d,h)=>{const f=h.dataTransfer;h.preventDefault(),this._fireOutputTransformationEvent(f,r.selection,d.name)};this.listenTo(i,"copy",l,{priority:"low"}),this.listenTo(i,"cut",(d,h)=>{n.model.canEditAt(n.model.document.selection)?l(d,h):h.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(d,h)=>{const f=n.data.toView(h.content);i.fire("clipboardOutput",{dataTransfer:h.dataTransfer,content:f,method:h.method})},{priority:"low"}),this.listenTo(i,"clipboardOutput",(d,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",vM(h.content))),h.method=="cut"&&n.model.deleteContent(r.selection)},{priority:"low"})}}class xM{constructor(n,r=20){this._batch=null,this.model=n,this._size=0,this.limit=r,this._isLocked=!1,this._changeCallback=(i,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){this.isLocked&&!n||(this._batch=null,this._size=0)}}class zQ extends ct{constructor(n,r){super(n),this._buffer=new xM(n.model,r),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const r=this.editor.model,i=r.document,l=n.text||"",d=l.length;let h=i.selection;if(n.selection?h=n.selection:n.range&&(h=r.createSelection(n.range)),!r.canEditAt(h))return;const f=n.resultRange;r.enqueueChange(this._buffer.batch,k=>{this._buffer.lock();const b=Array.from(i.selection.getAttributes());r.deleteContent(h),l&&r.insertContent(k.createText(l,b),h),f?k.setSelection(f):h.is("documentSelection")||k.setSelection(h),this._buffer.unlock(),this._buffer.input(d)})}}const EM=["insertText","insertReplacementText"];class FQ extends _i{constructor(n){super(n),this.focusObserver=n.getObserver(zg),_.isAndroid&&EM.push("insertCompositionText");const r=n.document;r.on("beforeinput",(i,l)=>{if(!this.isEnabled)return;const{data:d,targetRanges:h,inputType:f,domEvent:k}=l;if(!EM.includes(f))return;this.focusObserver.flush();const b=new D(r,"insertText");r.fire(b,new vc(n,k,{text:d,selection:n.createSelection(h)})),b.stop.called&&i.stop()}),r.on("compositionend",(i,{data:l,domEvent:d})=>{this.isEnabled&&!_.isAndroid&&l&&r.fire("insertText",new vc(n,d,{text:l,selection:r.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class SM extends pe{static get pluginName(){return"Input"}init(){const n=this.editor,r=n.model,i=n.editing.view,l=r.document.selection;i.addObserver(FQ);const d=new zQ(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",d),n.commands.add("input",d),this.listenTo(i.document,"insertText",(h,f)=>{i.document.isComposing||f.preventDefault();const{text:k,selection:b,resultRange:v}=f,A=Array.from(b.getRanges()).map(P=>n.editing.mapper.toModelRange(P));let E=k;if(_.isAndroid){const P=Array.from(A[0].getItems()).reduce((L,F)=>L+(F.is("$textProxy")?F.data:""),"");P&&(P.length<=E.length?E.startsWith(P)&&(E=E.substring(P.length),A[0].start=A[0].start.getShiftedBy(P.length)):P.startsWith(E)&&(A[0].start=A[0].start.getShiftedBy(E.length),E=""))}const I={text:E,selection:r.createSelection(A)};v&&(I.resultRange=n.editing.mapper.toModelRange(v)),n.execute("insertText",I),i.scrollToTheSelection()}),_.isAndroid?this.listenTo(i.document,"keydown",(h,f)=>{!l.isCollapsed&&f.keyCode==229&&i.document.isComposing&&TM(r,d)}):this.listenTo(i.document,"compositionstart",()=>{l.isCollapsed||TM(r,d)})}}function TM(a,n){if(!n.isEnabled)return;const r=n.buffer;r.lock(),a.enqueueChange(r.batch,()=>{a.deleteContent(a.document.selection)}),r.unlock()}class IM extends ct{constructor(n,r){super(n),this.direction=r,this._buffer=new xM(n.model,n.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(n={}){const r=this.editor.model,i=r.document;r.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const d=l.createSelection(n.selection||i.selection);if(!r.canEditAt(d))return;const h=n.sequence||1,f=d.isCollapsed;if(d.isCollapsed&&r.modifySelection(d,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(h))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(d,h))return void this.editor.execute("paragraph",{selection:d});if(d.isCollapsed)return;let k=0;d.getFirstRange().getMinimalFlatRanges().forEach(b=>{k+=nt(b.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(d,{doNotResetEntireContent:f,direction:this.direction}),this._buffer.input(k),l.setSelection(d),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const r=this.editor.model,i=r.document.selection,l=r.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(l))||!r.schema.checkChild(l,"paragraph"))return!1;const d=l.getChild(0);return!d||!d.is("element","paragraph")}_replaceEntireContentWithParagraph(n){const r=this.editor.model,i=r.document.selection,l=r.schema.getLimitElement(i),d=n.createElement("paragraph");n.remove(n.createRangeIn(l)),n.insert(d,l),n.setSelection(d,0)}_shouldReplaceFirstBlockWithParagraph(n,r){const i=this.editor.model;if(r>1||this.direction!="backward"||!n.isCollapsed)return!1;const l=n.getFirstPosition(),d=i.schema.getLimitElement(l),h=d.getChild(0);return l.parent==h&&!!n.containsEntireContent(h)&&!!i.schema.checkChild(d,"paragraph")&&h.name!="paragraph"}}const DM="word",Vs="selection",Ic="backward",oh="forward",MM={deleteContent:{unit:Vs,direction:Ic},deleteContentBackward:{unit:"codePoint",direction:Ic},deleteWordBackward:{unit:DM,direction:Ic},deleteHardLineBackward:{unit:Vs,direction:Ic},deleteSoftLineBackward:{unit:Vs,direction:Ic},deleteContentForward:{unit:"character",direction:oh},deleteWordForward:{unit:DM,direction:oh},deleteHardLineForward:{unit:Vs,direction:oh},deleteSoftLineForward:{unit:Vs,direction:oh}};class $Q extends _i{constructor(n){super(n);const r=n.document;let i=0;r.on("keydown",()=>{i++}),r.on("keyup",()=>{i=0}),r.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;const{targetRanges:h,domEvent:f,inputType:k}=d,b=MM[k];if(!b)return;const v={direction:b.direction,unit:b.unit,sequence:i};v.unit==Vs&&(v.selectionToRemove=n.createSelection(h[0])),k==="deleteContentBackward"&&(_.isAndroid&&(v.sequence=1),function(E){if(E.length!=1||E[0].isCollapsed)return!1;const I=E[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let P=0;for(const{nextPosition:L,item:F}of I){if(L.parent.is("$text")){const W=L.parent.data,K=L.offset;if(Dv(W,K)||Mv(W,K)||pT(W,K))continue;P++}else(F.is("containerElement")||F.is("emptyElement"))&&P++;if(P>1)return!0}return!1}(h)&&(v.unit=Vs,v.selectionToRemove=n.createSelection(h)));const A=new kc(r,"delete",h[0]);r.fire(A,new vc(n,f,v)),A.stop.called&&l.stop()}),_.isBlink&&function(l){const d=l.view,h=d.document;let f=null,k=!1;function b(A){return A==kt.backspace||A==kt.delete}function v(A){return A==kt.backspace?Ic:oh}h.on("keydown",(A,{keyCode:E})=>{f=E,k=!1}),h.on("keyup",(A,{keyCode:E,domEvent:I})=>{const P=h.selection,L=l.isEnabled&&E==f&&b(E)&&!P.isCollapsed&&!k;if(f=null,L){const F=P.getFirstRange(),W=new kc(h,"delete",F),K={unit:Vs,direction:v(E),selectionToRemove:P};h.fire(W,new vc(d,I,K))}}),h.on("beforeinput",(A,{inputType:E})=>{const I=MM[E];b(f)&&I&&I.direction==v(f)&&(k=!0)},{priority:"high"}),h.on("beforeinput",(A,{inputType:E,data:I})=>{f==kt.delete&&E=="insertText"&&I==""&&A.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class is extends pe{static get pluginName(){return"Delete"}init(){const n=this.editor,r=n.editing.view,i=r.document,l=n.model.document;r.addObserver($Q),this._undoOnBackspace=!1;const d=new IM(n,"forward");n.commands.add("deleteForward",d),n.commands.add("forwardDelete",d),n.commands.add("delete",new IM(n,"backward")),this.listenTo(i,"delete",(h,f)=>{i.isComposing||f.preventDefault();const{direction:k,sequence:b,selectionToRemove:v,unit:A}=f,E=k==="forward"?"deleteForward":"delete",I={sequence:b};if(A=="selection"){const P=Array.from(v.getRanges()).map(L=>n.editing.mapper.toModelRange(L));I.selection=n.model.createSelection(P)}else I.unit=A;n.execute(E,I),r.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(h,f)=>{this._undoOnBackspace&&f.direction=="backward"&&f.sequence==1&&f.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),f.preventDefault(),h.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class VQ extends pe{static get requires(){return[SM,is]}static get pluginName(){return"Typing"}}function PM(a,n){let r=a.start;return{text:Array.from(a.getWalker({ignoreElementEnd:!1})).reduce((i,{item:l})=>l.is("$text")||l.is("$textProxy")?i+l.data:(r=n.createPositionAfter(l),""),""),range:n.createRange(r,a.end)}}class NM extends Q(){constructor(n,r){super(),this.model=n,this.testCallback=r,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(r,{directChange:i})=>{i&&(n.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(n,"change:data",(r,i)=>{!i.isUndo&&i.isLocal&&this._evaluateTextBeforeSelection("data",{batch:i})})}_evaluateTextBeforeSelection(n,r={}){const i=this.model,l=i.document.selection,d=i.createRange(i.createPositionAt(l.focus.parent,0),l.focus),{text:h,range:f}=PM(d,i),k=this.testCallback(h);if(!k&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!k,k){const b=Object.assign(r,{text:h,range:f});typeof k=="object"&&Object.assign(b,k),this.fire(`matched:${n}`,b)}}}class RM extends pe{constructor(n){super(n),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const n=this.editor,r=n.model,i=n.editing.view,l=n.locale,d=r.document.selection;this.listenTo(i.document,"arrowKey",(h,f)=>{if(!d.isCollapsed||f.shiftKey||f.altKey||f.ctrlKey)return;const k=f.keyCode==kt.arrowright,b=f.keyCode==kt.arrowleft;if(!k&&!b)return;const v=l.contentLanguageDirection;let A=!1;A=v==="ltr"&&k||v==="rtl"&&b?this._handleForwardMovement(f):this._handleBackwardMovement(f),A===!0&&h.stop()},{context:"$text",priority:"highest"}),this.listenTo(d,"change:range",(h,f)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!f.directChange&&Ir(d.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const r=this.attributes,i=this.editor.model,l=i.document.selection,d=l.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!ss(l,r))&&!!Ir(d,r)&&(ih(n),ss(l,r)&&Ir(d,r,!0)?rh(i,r):this._overrideGravity(),!0)}_handleBackwardMovement(n){const r=this.attributes,i=this.editor.model,l=i.document.selection,d=l.getFirstPosition();return this._isGravityOverridden?(ih(n),this._restoreGravity(),Ir(d,r,!0)?rh(i,r):sm(i,r,d),!0):d.isAtStart?!!ss(l,r)&&(ih(n),sm(i,r,d),!0):!ss(l,r)&&Ir(d,r,!0)?(ih(n),sm(i,r,d),!0):!!OM(d,r)&&(d.isAtEnd&&!ss(l,r)&&Ir(d,r)?(ih(n),sm(i,r,d),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const n=this.editor,r=n.model,i=r.document.selection,l=n.editing.view.document;n.editing.view.addObserver(py);let d=!1;this.listenTo(l,"mousedown",()=>{d=!0}),this.listenTo(l,"selectionChange",()=>{const h=this.attributes;if(!d||(d=!1,!i.isCollapsed)||!ss(i,h))return;const f=i.getFirstPosition();Ir(f,h)&&(f.isAtStart||Ir(f,h,!0)?rh(r,h):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,r=n.document.selection,i=this.attributes;this.listenTo(n,"insertContent",()=>{const l=r.getFirstPosition();ss(r,i)&&Ir(l,i)&&rh(n,i)},{priority:"low"})}_handleDeleteContentAfterNode(){const n=this.editor,r=n.model,i=r.document.selection,l=n.editing.view;let d=!1,h=!1;this.listenTo(l.document,"delete",(f,k)=>{d=k.direction==="backward"},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{if(!d)return;const f=i.getFirstPosition();h=ss(i,this.attributes)&&!OM(f,this.attributes)},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{d&&(d=!1,h||n.model.enqueueChange(()=>{const f=i.getFirstPosition();ss(i,this.attributes)&&Ir(f,this.attributes)&&(f.isAtStart||Ir(f,this.attributes,!0)?rh(r,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function ss(a,n){for(const r of n)if(a.hasAttribute(r))return!0;return!1}function sm(a,n,r){const i=r.nodeBefore;a.change(l=>{if(i){const d=[],h=a.schema.isObject(i)&&a.schema.isInline(i);for(const[f,k]of i.getAttributes())!a.schema.checkAttribute("$text",f)||h&&a.schema.getAttributeProperties(f).copyFromObject===!1||d.push([f,k]);l.setSelectionAttribute(d)}else l.removeSelectionAttribute(n)})}function rh(a,n){a.change(r=>{r.removeSelectionAttribute(n)})}function ih(a){a.preventDefault()}function OM(a,n){return Ir(a.getShiftedBy(-1),n)}function Ir(a,n,r=!1){const{nodeBefore:i,nodeAfter:l}=a;for(const d of n){const h=i?i.getAttribute(d):void 0,f=l?l.getAttribute(d):void 0;if((!r||h!==void 0&&f!==void 0)&&f!==h)return!0}return!1}const BM={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Dc('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Dc("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Dc("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Dc('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Dc('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Dc("'"),to:[null,"‚",null,"’"]}},LM={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},UQ=["symbols","mathematical","typography","quotes"];function HQ(a){return typeof a=="string"?new RegExp(`(${z5(a)})$`):a}function WQ(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function qQ(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function Dc(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function am(a,n,r,i){return i.createRange(jM(a,n,r,!0,i),jM(a,n,r,!1,i))}function jM(a,n,r,i,l){let d=a.textNode||(i?a.nodeBefore:a.nodeAfter),h=null;for(;d&&d.getAttribute(n)==r;)h=d,d=i?d.previousSibling:d.nextSibling;return h?l.createPositionAt(h,i?"before":"after"):a}function*zM(a,n){for(const r of n)r&&a.getAttributeProperties(r[0]).copyOnEnter&&(yield r)}class GQ extends ct{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const r=this.editor.model,i=r.document.selection,l=r.schema,d=i.isCollapsed,h=i.getFirstRange(),f=h.start.parent,k=h.end.parent;if(l.isLimit(f)||l.isLimit(k))return d||f!=k||r.deleteContent(i),!1;if(d){const b=zM(n.model.schema,i.getAttributes());return FM(n,h.start),n.setSelectionAttribute(b),!0}{const b=!(h.start.isAtStart&&h.end.isAtEnd),v=f==k;if(r.deleteContent(i,{leaveUnmerged:b}),b){if(v)return FM(n,i.focus),!0;n.setSelection(k,0)}}return!1}}function FM(a,n){a.split(n),a.setSelection(n.parent.nextSibling,0)}const KQ={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class $M extends _i{constructor(n){super(n);const r=this.document;let i=!1;r.on("keydown",(l,d)=>{i=d.shiftKey}),r.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;let h=d.inputType;_.isSafari&&i&&h=="insertParagraph"&&(h="insertLineBreak");const f=d.domEvent,k=KQ[h];if(!k)return;const b=new kc(r,"enter",d.targetRanges[0]);r.fire(b,new vc(n,f,{isSoft:k.isSoft})),b.stop.called&&l.stop()})}observe(){}stopObserving(){}}class lm extends pe{static get pluginName(){return"Enter"}init(){const n=this.editor,r=n.editing.view,i=r.document,l=this.editor.t;r.addObserver($M),n.commands.add("enter",new GQ(n)),this.listenTo(i,"enter",(d,h)=>{i.isComposing||h.preventDefault(),h.isSoft||(n.execute("enter"),r.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:l("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class YQ extends ct{execute(){const n=this.editor.model,r=n.document;n.change(i=>{(function(l,d,h){const f=h.isCollapsed,k=h.getFirstRange(),b=k.start.parent,v=k.end.parent,A=b==v;if(f){const E=zM(l.schema,h.getAttributes());VM(l,d,k.end),d.removeSelectionAttribute(h.getAttributeKeys()),d.setSelectionAttribute(E)}else{const E=!(k.start.isAtStart&&k.end.isAtEnd);l.deleteContent(h,{leaveUnmerged:E}),A?VM(l,d,h.focus):E&&d.setSelection(v,0)}})(n,i,r.selection),this.fire("afterExecute",{writer:i})})}refresh(){const n=this.editor.model,r=n.document;this.isEnabled=function(i,l){if(l.rangeCount>1)return!1;const d=l.anchor;if(!d||!i.checkChild(d,"softBreak"))return!1;const h=l.getFirstRange(),f=h.start.parent,k=h.end.parent;return!((Ry(f,i)||Ry(k,i))&&f!==k)}(n.schema,r.selection)}}function VM(a,n,r){const i=n.createElement("softBreak");a.insertContent(i,r),n.setSelection(i,"after")}function Ry(a,n){return!a.is("rootElement")&&(n.isLimit(a)||Ry(a.parent,n))}class QQ extends pe{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,r=n.model.schema,i=n.conversion,l=n.editing.view,d=l.document,h=this.editor.t;r.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(f,{writer:k})=>k.createEmptyElement("br")}),l.addObserver($M),n.commands.add("shiftEnter",new YQ(n)),this.listenTo(d,"enter",(f,k)=>{d.isComposing||k.preventDefault(),k.isSoft&&(n.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:h("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class ZQ extends q(){constructor(){super(...arguments),this._stack=[]}add(n,r){const i=this._stack,l=i[0];this._insertDescriptor(n);const d=i[0];l===d||Oy(l,d)||this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:r})}remove(n,r){const i=this._stack,l=i[0];this._removeDescriptor(n);const d=i[0];l===d||Oy(l,d)||this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:r})}_insertDescriptor(n){const r=this._stack,i=r.findIndex(d=>d.id===n.id);if(Oy(n,r[i]))return;i>-1&&r.splice(i,1);let l=0;for(;r[l]&&JQ(r[l],n);)l++;r.splice(l,0,n)}_removeDescriptor(n){const r=this._stack,i=r.findIndex(l=>l.id===n);i>-1&&r.splice(i,1)}}function Oy(a,n){return a&&n&&a.priority==n.priority&&cm(a.classes)==cm(n.classes)}function JQ(a,n){return a.priority>n.priority||!(a.priority<n.priority)&&cm(a.classes)>cm(n.classes)}function cm(a){return Array.isArray(a)?a.sort().join(","):a}const XQ='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',eZ="ck-widget",UM="ck-widget_selected";function Sn(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function By(a,n,r={}){if(!a.is("containerElement"))throw new M("widget-to-widget-wrong-element-type",null,{element:a});return n.setAttribute("contenteditable","false",a),n.addClass(eZ,a),n.setCustomProperty("widget",!0,a),a.getFillerOffset=oZ,n.setCustomProperty("widgetLabel",[],a),r.label&&function(i,l){i.getCustomProperty("widgetLabel").push(l)}(a,r.label),r.hasSelectionHandle&&function(i,l){const d=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(h){const f=this.toDomElement(h),k=new ns;return k.set("content",XQ),k.render(),f.appendChild(k.element),f});l.insert(l.createPositionAt(i,0),d),l.addClass(["ck-widget_with-selection-handle"],i)}(a,n),HM(a,n),a}function tZ(a,n,r){if(n.classes&&r.addClass(Wt(n.classes),a),n.attributes)for(const i in n.attributes)r.setAttribute(i,n.attributes[i],a)}function nZ(a,n,r){if(n.classes&&r.removeClass(Wt(n.classes),a),n.attributes)for(const i in n.attributes)r.removeAttribute(i,a)}function HM(a,n,r=tZ,i=nZ){const l=new ZQ;l.on("change:top",(d,h)=>{h.oldDescriptor&&i(a,h.oldDescriptor,h.writer),h.newDescriptor&&r(a,h.newDescriptor,h.writer)}),n.setCustomProperty("addHighlight",(d,h,f)=>l.add(h,f),a),n.setCustomProperty("removeHighlight",(d,h,f)=>l.remove(h,f),a)}function WM(a,n,r={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),n.setAttribute("role","textbox",a),n.setAttribute("tabindex","-1",a),r.label&&n.setAttribute("aria-label",r.label,a),n.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",(i,l,d)=>{n.setAttribute("contenteditable",d?"false":"true",a)}),a.on("change:isFocused",(i,l,d)=>{d?n.addClass("ck-editor__nested-editable_focused",a):n.removeClass("ck-editor__nested-editable_focused",a)}),HM(a,n),a}function qM(a,n){const r=a.getSelectedElement();if(r){const i=Us(a);if(i)return n.createRange(n.createPositionAt(r,i))}return n.schema.findOptimalInsertionRange(a)}function oZ(){return null}const as="widget-type-around";function ol(a,n,r){return!!a&&Sn(a)&&!r.isInline(n)}function Us(a){return a.getAttribute(as)}var GM=c(8508),rZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(GM.A,rZ),GM.A.locals;const KM=["before","after"],iZ=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,YM="ck-widget__type-around_disabled";class sZ extends pe{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[lm,is]}init(){const n=this.editor,r=n.editing.view;this.on("change:isEnabled",(i,l,d)=>{r.change(h=>{for(const f of r.document.roots)d?h.removeClass(YM,f):h.addClass(YM,f)}),d||n.model.change(h=>{h.removeSelectionAttribute(as)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,r){const i=this.editor,l=i.editing.view,d=i.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(n,r),attributes:d}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(n,r,i,l){this.listenTo(n,r,(...d)=>{this.isEnabled&&i(...d)},l)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,r=Us(n);if(!r)return!1;const i=n.getSelectedElement();return this._insertParagraph(i,r),!0}_enableTypeAroundUIInjection(){const n=this.editor,r=n.model.schema,i=n.locale.t,l={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(d,h,f)=>{const k=f.mapper.toViewElement(h.item);k&&ol(k,h.item,r)&&(function(b,v,A){const E=b.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(I){const P=this.toDomElement(I);return function(L,F){for(const W of KM){const K=new ei({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${W}`],title:F[W],"aria-hidden":"true"},children:[L.ownerDocument.importNode(iZ,!0)]});L.appendChild(K.render())}}(P,v),function(L){const F=new ei({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});L.appendChild(F.render())}(P),P});b.insert(b.createPositionAt(A,"end"),E)}(f.writer,l,k),k.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,r=n.model,i=r.document.selection,l=r.schema,d=n.editing.view;function h(f){return`ck-widget_type-around_show-fake-caret_${f}`}this._listenToIfEnabled(d.document,"arrowKey",(f,k)=>{this._handleArrowKeyPress(f,k)},{context:[Sn,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(f,k)=>{k.directChange&&n.model.change(b=>{b.removeSelectionAttribute(as)})}),this._listenToIfEnabled(r.document,"change:data",()=>{const f=i.getSelectedElement();f&&ol(n.editing.mapper.toViewElement(f),f,l)||n.model.change(k=>{k.removeSelectionAttribute(as)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(f,k,b)=>{const v=b.writer;if(this._currentFakeCaretModelElement){const P=b.mapper.toViewElement(this._currentFakeCaretModelElement);P&&(v.removeClass(KM.map(h),P),this._currentFakeCaretModelElement=null)}const A=k.selection.getSelectedElement();if(!A)return;const E=b.mapper.toViewElement(A);if(!ol(E,A,l))return;const I=Us(k.selection);I&&(v.addClass(h(I),E),this._currentFakeCaretModelElement=A)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(f,k,b)=>{b||n.model.change(v=>{v.removeSelectionAttribute(as)})})}_handleArrowKeyPress(n,r){const i=this.editor,l=i.model,d=l.document.selection,h=l.schema,f=i.editing.view,k=function(A,E){const I=Ev(A,E);return I==="down"||I==="right"}(r.keyCode,i.locale.contentLanguageDirection),b=f.document.selection.getSelectedElement();let v;ol(b,i.editing.mapper.toModelElement(b),h)?v=this._handleArrowKeyPressOnSelectedWidget(k):d.isCollapsed?v=this._handleArrowKeyPressWhenSelectionNextToAWidget(k):r.shiftKey||(v=this._handleArrowKeyPressWhenNonCollapsedSelection(k)),v&&(r.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const r=this.editor.model,i=Us(r.document.selection);return r.change(l=>i?i!==(n?"after":"before")?(l.removeSelectionAttribute(as),!0):!1:(l.setSelectionAttribute(as,n?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const r=this.editor,i=r.model,l=i.schema,d=r.plugins.get("Widget"),h=d._getObjectElementNextToSelection(n);return!!ol(r.editing.mapper.toViewElement(h),h,l)&&(i.change(f=>{d._setSelectionOverElement(h),f.setSelectionAttribute(as,n?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(n){const r=this.editor,i=r.model,l=i.schema,d=r.editing.mapper,h=i.document.selection,f=n?h.getLastPosition().nodeBefore:h.getFirstPosition().nodeAfter;return!!ol(d.toViewElement(f),f,l)&&(i.change(k=>{k.setSelection(f,"on"),k.setSelectionAttribute(as,n?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,r=n.editing.view;this._listenToIfEnabled(r.document,"mousedown",(i,l)=>{const d=l.domTarget.closest(".ck-widget__type-around__button");if(!d)return;const h=function(b){return b.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(d),f=function(b,v){const A=b.closest(".ck-widget");return v.mapDomToView(A)}(d,r.domConverter),k=n.editing.mapper.toModelElement(f);this._insertParagraph(k,h),l.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,r=n.model.document.selection,i=n.editing.view;this._listenToIfEnabled(i.document,"enter",(l,d)=>{if(l.eventPhase!="atTarget")return;const h=r.getSelectedElement(),f=n.editing.mapper.toViewElement(h),k=n.model.schema;let b;this._insertParagraphAccordingToFakeCaretPosition()?b=!0:ol(f,h,k)&&(this._insertParagraph(h,d.isSoft?"before":"after"),b=!0),b&&(d.preventDefault(),l.stop())},{context:Sn})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(r,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=n.selection)},{priority:"high"}),_.isAndroid?this._listenToIfEnabled(n,"keydown",(r,i)=>{i.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,r=n.editing.view,i=n.model,l=i.schema;this._listenToIfEnabled(r.document,"delete",(d,h)=>{if(d.eventPhase!="atTarget")return;const f=Us(i.document.selection);if(!f)return;const k=h.direction,b=i.document.selection.getSelectedElement(),v=k=="forward";if(f==="before"===v)n.execute("delete",{selection:i.createSelection(b,"on")});else{const A=l.getNearestSelectionRange(i.createPositionAt(b,f),k);if(A)if(A.isCollapsed){const E=i.createSelection(A.start);if(i.modifySelection(E,{direction:k}),E.focus.isEqual(A.start)){const I=function(P,L){let F=L;for(const W of L.getAncestors({parentFirst:!0})){if(W.childCount>1||P.isLimit(W))break;F=W}return F}(l,A.start.parent);i.deleteContent(i.createSelection(I,"on"),{doNotAutoparagraph:!0})}else i.change(I=>{I.setSelection(A),n.execute(v?"deleteForward":"delete")})}else i.change(E=>{E.setSelection(A),n.execute(v?"deleteForward":"delete")})}h.preventDefault(),d.stop()},{context:Sn})}_enableInsertContentIntegration(){const n=this.editor,r=this.editor.model,i=r.document.selection;this._listenToIfEnabled(n.model,"insertContent",(l,[d,h])=>{if(h&&!h.is("documentSelection"))return;const f=Us(i);return f?(l.stop(),r.change(k=>{const b=i.getSelectedElement(),v=r.createPositionAt(b,f),A=k.createSelection(v),E=r.insertContent(d,A);return k.setSelection(A),E})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(i,l)=>{const[,d,h={}]=l;if(d&&!d.is("documentSelection"))return;const f=Us(r);f&&(h.findOptimalPosition=f,l[3]=h)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(i,[l])=>{l&&!l.is("documentSelection")||Us(r)&&i.stop()},{priority:"high"})}}function aZ(a){const n=a.model;return(r,i)=>{const l=i.keyCode==kt.arrowup,d=i.keyCode==kt.arrowdown,h=i.shiftKey,f=n.document.selection;if(!l&&!d)return;const k=d;if(h&&function(v,A){return!v.isCollapsed&&v.isBackward==A}(f,k))return;const b=function(v,A,E){const I=v.model;if(E){const P=A.isCollapsed?A.focus:A.getLastPosition(),L=QM(I,P,"forward");if(!L)return null;const F=I.createRange(P,L),W=ZM(I.schema,F,"backward");return W?I.createRange(P,W):null}{const P=A.isCollapsed?A.focus:A.getFirstPosition(),L=QM(I,P,"backward");if(!L)return null;const F=I.createRange(L,P),W=ZM(I.schema,F,"forward");return W?I.createRange(W,P):null}}(a,f,k);if(b){if(b.isCollapsed&&(f.isCollapsed||h))return;(b.isCollapsed||function(v,A,E){const I=v.model,P=v.view.domConverter;if(E){const ee=I.createSelection(A.start);I.modifySelection(ee),ee.focus.isAtEnd||A.start.isEqual(ee.focus)||(A=I.createRange(ee.focus,A.end))}const L=v.mapper.toViewRange(A),F=P.viewRangeToDom(L),W=pt.getDomRangeRects(F);let K;for(const ee of W)if(K!==void 0){if(Math.round(ee.top)>=K)return!1;K=Math.max(K,Math.round(ee.bottom))}else K=Math.round(ee.bottom);return!0}(a,b,k))&&(n.change(v=>{const A=k?b.end:b.start;if(h){const E=n.createSelection(f.anchor);E.setFocus(A),v.setSelection(E)}else v.setSelection(A)}),r.stop(),i.preventDefault(),i.stopPropagation())}}}function QM(a,n,r){const i=a.schema,l=a.createRangeIn(n.root),d=r=="forward"?"elementStart":"elementEnd";for(const{previousPosition:h,item:f,type:k}of l.getWalker({startPosition:n,direction:r})){if(i.isLimit(f)&&!i.isInline(f))return h;if(k==d&&i.isBlock(f))return null}return null}function ZM(a,n,r){const i=r=="backward"?n.end:n.start;if(a.checkChild(i,"$text"))return i;for(const{nextPosition:l}of n.getWalker({direction:r}))if(a.checkChild(l,"$text"))return l;return null}var JM=c(695),lZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(JM.A,lZ),JM.A.locals;class sh extends pe{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[sZ,is]}init(){const n=this.editor,r=n.editing.view,i=r.document,l=n.t;this.editor.editing.downcastDispatcher.on("selection",(d,h,f)=>{const k=f.writer,b=h.selection;if(b.isCollapsed)return;const v=b.getSelectedElement();if(!v)return;const A=n.editing.mapper.toViewElement(v);var E;Sn(A)&&f.consumable.consume(b,"selection")&&k.setSelection(k.createRangeOn(A),{fake:!0,label:(E=A,E.getCustomProperty("widgetLabel").reduce((I,P)=>typeof P=="function"?I?I+". "+P():P():I?I+". "+P:P,""))})}),this.editor.editing.downcastDispatcher.on("selection",(d,h,f)=>{this._clearPreviouslySelectedWidgets(f.writer);const k=f.writer,b=k.document.selection;let v=null;for(const A of b.getRanges())for(const E of A){const I=E.item;Sn(I)&&!cZ(I,v)&&(k.addClass(UM,I),this._previouslySelected.add(I),v=I)}},{priority:"low"}),r.addObserver(py),this.listenTo(i,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(i,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[Sn,"$text"]}),this.listenTo(i,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(i,"arrowKey",aZ(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(d,h)=>{this._handleDelete(h.direction=="forward")&&(h.preventDefault(),d.stop())},{context:"$root"}),this.listenTo(i,"tab",(d,h)=>{d.eventPhase=="atTarget"&&(h.shiftKey||this._selectFirstNestedEditable()&&(h.preventDefault(),d.stop()))},{context:Sn,priority:"low"}),this.listenTo(i,"tab",(d,h)=>{h.shiftKey&&this._selectAncestorWidget()&&(h.preventDefault(),d.stop())},{priority:"low"}),this.listenTo(i,"keydown",(d,h)=>{h.keystroke==kt.esc&&this._selectAncestorWidget()&&(h.preventDefault(),d.stop())},{priority:"low"}),n.accessibility.addKeystrokeInfoGroup({id:"widget",label:l("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:l("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:l("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:l("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:l("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(n,r){const i=this.editor,l=i.editing.view,d=l.document;let h=r.target;if(r.domEvent.detail>=3)return void(this._selectBlockContent(h)&&r.preventDefault());if(function(k){let b=k;for(;b;){if(b.is("editableElement")&&!b.is("rootElement"))return!0;if(Sn(b))return!1;b=b.parent}return!1}(h)||!Sn(h)&&(h=h.findAncestor(Sn),!h))return;_.isAndroid&&r.preventDefault(),d.isFocused||l.focus();const f=i.editing.mapper.toModelElement(h);this._setSelectionOverElement(f)}_selectBlockContent(n){const r=this.editor,i=r.model,l=r.editing.mapper,d=i.schema,h=l.findMappedViewAncestor(this.editor.editing.view.createPositionAt(n,0)),f=function(k,b){for(const v of k.getAncestors({includeSelf:!0,parentFirst:!0})){if(b.checkChild(v,"$text"))return v;if(b.isLimit(v)&&!b.isObject(v))break}return null}(l.toModelElement(h),i.schema);return!!f&&(i.change(k=>{const b=d.isLimit(f)?null:function(E,I){const P=new Ji({startPosition:E});for(const{item:L}of P){if(I.isLimit(L)||!L.is("element"))return null;if(I.checkChild(L,"$text"))return L}return null}(k.createPositionAfter(f),d),v=k.createPositionAt(f,0),A=b?k.createPositionAt(b,0):k.createPositionAt(f,"end");k.setSelection(k.createRange(v,A))}),!0)}_handleSelectionChangeOnArrowKeyPress(n,r){const i=r.keyCode,l=this.editor.model,d=l.schema,h=l.document.selection,f=h.getSelectedElement(),k=Ev(i,this.editor.locale.contentLanguageDirection),b=k=="down"||k=="right",v=k=="up"||k=="down";if(f&&d.isObject(f)){const E=b?h.getLastPosition():h.getFirstPosition(),I=d.getNearestSelectionRange(E,b?"forward":"backward");return void(I&&(l.change(P=>{P.setSelection(I)}),r.preventDefault(),n.stop()))}if(!h.isCollapsed&&!r.shiftKey){const E=h.getFirstPosition(),I=h.getLastPosition(),P=E.nodeAfter,L=I.nodeBefore;return void((P&&d.isObject(P)||L&&d.isObject(L))&&(l.change(F=>{F.setSelection(b?I:E)}),r.preventDefault(),n.stop()))}if(!h.isCollapsed)return;const A=this._getObjectElementNextToSelection(b);if(A&&d.isObject(A)){if(d.isInline(A)&&v)return;this._setSelectionOverElement(A),r.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,r){const i=this.editor.model,l=i.schema,d=i.document.selection.getSelectedElement();d&&l.isObject(d)&&(r.preventDefault(),n.stop())}_handleDelete(n){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const i=this._getObjectElementNextToSelection(n);return i?(this.editor.model.change(l=>{let d=r.anchor.parent;for(;d.isEmpty;){const h=d;d=h.parent,l.remove(h)}this._setSelectionOverElement(i)}),!0):void 0}_setSelectionOverElement(n){this.editor.model.change(r=>{r.setSelection(r.createRangeOn(n))})}_getObjectElementNextToSelection(n){const r=this.editor.model,i=r.schema,l=r.document.selection,d=r.createSelection(l);if(r.modifySelection(d,{direction:n?"forward":"backward"}),d.isEqual(l))return null;const h=n?d.focus.nodeBefore:d.focus.nodeAfter;return h&&i.isObject(h)?h:null}_clearPreviouslySelectedWidgets(n){for(const r of this._previouslySelected)n.removeClass(UM,r);this._previouslySelected.clear()}_selectFirstNestedEditable(){const n=this.editor,r=this.editor.editing.view.document;for(const i of r.selection.getFirstRange().getItems())if(i.is("editableElement")){const l=n.editing.mapper.toModelElement(i);if(!l)continue;const d=n.model.createPositionAt(l,0),h=n.model.schema.getNearestSelectionRange(d,"forward");return n.model.change(f=>{f.setSelection(h)}),!0}return!1}_selectAncestorWidget(){const n=this.editor,r=n.editing.mapper,i=n.editing.view.document.selection.getFirstPosition().parent,l=(i.is("$text")?i.parent:i).findAncestor(Sn);if(!l)return!1;const d=r.toModelElement(l);return!!d&&(n.model.change(h=>{h.setSelection(d,"on")}),!0)}}function cZ(a,n){return!!n&&Array.from(a.getAncestors()).includes(n)}class dm extends pe{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[nm]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const r=n.plugins.get("BalloonToolbar");this.listenTo(r,"show",i=>{(function(l){const d=l.getSelectedElement();return!(!d||!Sn(d))})(n.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:r,items:i,getRelatedElement:l,balloonClassName:d="ck-toolbar-container"}){if(!i.length)return void U("widget-toolbar-no-items",{toolbarId:n});const h=this.editor,f=h.t,k=new wy(h.locale);if(k.ariaLabel=r||f("Widget toolbar"),this._toolbarDefinitions.has(n))throw new M("widget-toolbar-duplicated",this,{toolbarId:n});const b={view:k,getRelatedElement:l,balloonClassName:d,itemsConfig:i,initialized:!1};h.ui.addToolbar(k,{isContextual:!0,beforeFocus:()=>{const v=l(h.editing.view.document.selection);v&&this._showToolbar(b,v)},afterBlur:()=>{this._hideToolbar(b)}}),this._toolbarDefinitions.set(n,b)}_updateToolbarsVisibility(){let n=0,r=null,i=null;for(const l of this._toolbarDefinitions.values()){const d=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&d)if(this.editor.ui.focusTracker.isFocused){const h=d.getAncestors().length;h>n&&(n=h,r=d,i=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}i&&this._showToolbar(i,r)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,r){this._isToolbarVisible(n)?XM(this.editor,r):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:e4(this.editor,r),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const l=i.getRelatedElement(this.editor.editing.view.document.selection);XM(this.editor,l)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function XM(a,n){const r=a.plugins.get("ContextualBalloon"),i=e4(a,n);r.updatePosition(i)}function e4(a,n){const r=a.editing.view,i=zo.defaultPositions;return{target:r.domConverter.mapViewToDom(n),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}var t4=c(4095),dZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(t4.A,dZ),t4.A.locals;const Ly=pc("px");class uZ extends Le{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",n.if("isVisible","ck-hidden",r=>!r)],style:{left:n.to("left",r=>Ly(r)),top:n.to("top",r=>Ly(r)),width:n.to("width",r=>Ly(r))}}})}}class um extends pe{constructor(){super(...arguments),this.removeDropMarkerDelayed=Iv(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=em(n=>this._updateDropMarker(n),40),this._reconvertMarkerThrottled=em(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new uZ,this._domEmitter=new(Ar()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:n}of this._scrollables.values())n.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(n,r,i,l,d,h){this.removeDropMarkerDelayed.cancel();const f=n4(this.editor,n,r,i,l,d,h);if(f)return h&&h.containsRange(f)?this.removeDropMarker():void this._updateDropMarkerThrottled(f)}getFinalDropRange(n,r,i,l,d,h){const f=n4(this.editor,n,r,i,l,d,h);return this.removeDropMarker(),f}removeDropMarker(){const n=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,n.markers.has("drop-target")&&n.change(r=>{r.removeMarker("drop-target")})}_setupDropMarker(){const n=this.editor;n.ui.view.body.add(this._dropTargetLineView),n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(r,{writer:i})=>{if(n.model.schema.checkChild(r.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);r.markerRange.isCollapsed?this._updateDropTargetLine(r.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(n){const r=this.editor,i=r.model.markers;r.model.change(l=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(n)||l.updateMarker("drop-target",{range:n}):l.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(n){return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(r){const i=this.toDomElement(r);return i.append("⁠",r.createElement("span"),"⁠"),i})}_updateDropTargetLine(n){const r=this.editor.editing,i=n.start.nodeBefore,l=n.start.nodeAfter,d=n.start.parent,h=i?r.mapper.toViewElement(i):null,f=h?r.view.domConverter.mapViewToDom(h):null,k=l?r.mapper.toViewElement(l):null,b=k?r.view.domConverter.mapViewToDom(k):null,v=r.mapper.toViewElement(d);if(!v)return;const A=r.view.domConverter.mapViewToDom(v),E=this._getScrollableRect(v),{scrollX:I,scrollY:P}=m.window,L=f?new pt(f):null,F=b?new pt(b):null,W=new pt(A).excludeScrollbarsAndBorders(),K=L?L.bottom:W.top,ee=F?F.top:W.bottom,ce=m.window.getComputedStyle(A),ve=K<=ee?(K+ee)/2:ee;if(E.top<ve&&ve<E.bottom){const Fe=W.left+parseFloat(ce.paddingLeft),ot=W.right-parseFloat(ce.paddingRight),qt=Math.max(Fe+I,E.left),Fn=Math.min(ot+I,E.right);this._dropTargetLineView.set({isVisible:!0,left:qt,top:ve+P,width:Fn-qt})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(n){const r=n.root.rootName;let i;if(this._scrollables.has(r))i=this._scrollables.get(r).domElement;else{i=function(d){let h=d;do{h=h.parentElement;const f=m.window.getComputedStyle(h).overflowY;if(f=="auto"||f=="scroll")break}while(h.tagName!="BODY");return h}(this.editor.editing.view.domConverter.mapViewToDom(n)),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const l=new Nu(i,this._reconvertMarkerThrottled);this._scrollables.set(r,{domElement:i,resizeObserver:l})}return new pt(i).excludeScrollbarsAndBorders()}}function n4(a,n,r,i,l,d,h){const f=a.model,k=a.editing.mapper;let b=r4(a,n);for(;b;){if(!d){if(f.schema.checkChild(b,"$text")){if(r){const v=r[0].start,A=k.toModelPosition(v);if(!h||Array.from(h.getItems()).every(E=>f.schema.checkChild(A,E))){if(f.schema.checkChild(A,"$text"))return f.createRange(A);if(v)return hm(a,r4(a,v.parent),i,l)}}}else if(f.schema.isInline(b))return hm(a,b,i,l)}if(f.schema.isBlock(b))return hm(a,b,i,l);if(f.schema.checkChild(b,"$block")){const v=Array.from(b.getChildren()).filter(I=>I.is("element")&&!hZ(a,I));let A=0,E=v.length;if(E==0)return f.createRange(f.createPositionAt(b,"end"));for(;A<E-1;){const I=Math.floor((A+E)/2);o4(a,v[I],i,l)=="before"?E=I:A=I}return hm(a,v[A],i,l)}b=b.parent}return null}function hZ(a,n){const r=a.editing.mapper,i=a.editing.view.domConverter,l=r.toViewElement(n);if(!l)return!0;const d=i.mapViewToDom(l);return m.window.getComputedStyle(d).float!="none"}function hm(a,n,r,i){const l=a.model;return l.createRange(l.createPositionAt(n,o4(a,n,r,i)))}function o4(a,n,r,i){const l=a.editing.mapper,d=a.editing.view.domConverter,h=l.toViewElement(n),f=d.mapViewToDom(h),k=new pt(f);return a.model.schema.isInline(n)?r<(k.left+k.right)/2?"before":"after":i<(k.top+k.bottom)/2?"before":"after"}function r4(a,n){const r=a.editing.mapper,i=a.editing.view,l=r.toModelElement(n);if(l)return l;const d=i.createPositionBefore(n),h=r.findMappedViewAncestor(d);return r.toModelElement(h)}var pZ=Object.defineProperty,fZ=Object.defineProperties,gZ=Object.getOwnPropertyDescriptors,i4=Object.getOwnPropertySymbols,mZ=Object.prototype.hasOwnProperty,kZ=Object.prototype.propertyIsEnumerable,s4=(a,n,r)=>n in a?pZ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class bZ extends pe{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Ar())}static get pluginName(){return"DragDropBlockToolbar"}init(){const n=this.editor;if(this.listenTo(n,"change:isReadOnly",(r,i,l)=>{l?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),_.isAndroid&&this.forceDisabled("noAndroidSupport"),n.plugins.has("BlockToolbar")){const r=n.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(i,l)=>this._handleBlockDragStart(l)),this._domEmitter.listenTo(m.document,"dragover",(i,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(m.document,"drop",(i,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(m.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(i,l,d)=>{r.setAttribute("draggable",d?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(n){if(!this.isEnabled)return;const r=this.editor.model,i=r.document.selection,l=this.editor.editing.view,d=Array.from(i.getSelectedBlocks()),h=r.createRange(r.createPositionBefore(d[0]),r.createPositionAfter(d[d.length-1]));r.change(f=>f.setSelection(h)),this._isBlockDragging=!0,l.focus(),l.getObserver(th).onDomEvent(n)}_handleBlockDragging(n){if(!this.isEnabled||!this._isBlockDragging)return;const r=n.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=n.clientY,l=document.elementFromPoint(r,i),d=this.editor.editing.view;var h,f;l&&l.closest(".ck-editor__editable")&&d.getObserver(th).onDomEvent((h=((k,b)=>{for(var v in b||(b={}))mZ.call(b,v)&&s4(k,v,b[v]);if(i4)for(var v of i4(b))kZ.call(b,v)&&s4(k,v,b[v]);return k})({},n),f={type:n.type,dataTransfer:n.dataTransfer,target:l,clientX:r,clientY:i,preventDefault:()=>n.preventDefault(),stopPropagation:()=>n.stopPropagation()},fZ(h,gZ(f))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var a4=c(7793),wZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(a4.A,wZ),a4.A.locals;class vZ extends pe{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Iv(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Ar())}static get pluginName(){return"DragDrop"}static get requires(){return[Tr,sh,um,bZ]}init(){const n=this.editor,r=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,r.addObserver(th),r.addObserver(py),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(i,l,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,l,d)=>{d||this._finalizeDragging(!1)}),_.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,r=n.model,i=n.editing.view,l=i.document,d=n.plugins.get(um);this.listenTo(l,"dragstart",(h,f)=>{if(f.target&&f.target.is("editableElement")||(this._prepareDraggedRange(f.target),!this._draggedRange))return void f.preventDefault();this._draggingUid=O(),f.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",f.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const k=r.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(f.dataTransfer,k,"dragstart");const{dataTransfer:b,domTarget:v,domEvent:A}=f,{clientX:E}=A;this._updatePreview({dataTransfer:b,domTarget:v,clientX:E}),f.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(l,"dragend",(h,f)=>{this._finalizeDragging(!f.dataTransfer.isCanceled&&f.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(m.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(l,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(l,"dragleave",()=>{d.removeDropMarkerDelayed()}),this.listenTo(l,"dragging",(h,f)=>{if(!this.isEnabled)return void(f.dataTransfer.dropEffect="none");const{clientX:k,clientY:b}=f.domEvent;d.updateDropMarker(f.target,f.targetRanges,k,b,this._blockMode,this._draggedRange),this._draggedRange||(f.dataTransfer.dropEffect="copy"),_.isGecko||(f.dataTransfer.effectAllowed=="copy"?f.dataTransfer.dropEffect="copy":["all","copyMove"].includes(f.dataTransfer.effectAllowed)&&(f.dataTransfer.dropEffect="move")),h.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,r=n.editing.view.document,i=n.plugins.get(um);this.listenTo(r,"clipboardInput",(l,d)=>{if(d.method!="drop")return;const{clientX:h,clientY:f}=d.domEvent,k=i.getFinalDropRange(d.target,d.targetRanges,h,f,this._blockMode,this._draggedRange);if(!k)return this._finalizeDragging(!1),void l.stop();if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),l4(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(k,!0))return this._finalizeDragging(!1),void l.stop();d.targetRanges=[n.editing.mapper.toViewRange(k)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(Tr);n.on("contentInsertion",(r,i)=>{if(!this.isEnabled||i.method!=="drop")return;const l=i.targetRanges.map(d=>this.editor.editing.mapper.toModelRange(d));this.editor.model.change(d=>d.setSelection(l))},{priority:"high"}),n.on("contentInsertion",(r,i)=>{if(!this.isEnabled||i.method!=="drop")return;const l=l4(i.dataTransfer)=="move",d=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(d&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,r=n.editing.view,i=r.document;this.listenTo(i,"mousedown",(l,d)=>{if(_.isAndroid||!d)return;this._clearDraggableAttributesDelayed.cancel();let h=c4(d.target);if(_.isBlink&&!n.isReadOnly&&!h&&!i.selection.isCollapsed){const f=i.selection.getSelectedElement();f&&Sn(f)||(h=i.selection.editableElement)}h&&(r.change(f=>{f.setAttribute("draggable","true",h)}),this._draggableElement=n.editing.mapper.toModelElement(h))}),this.listenTo(i,"mouseup",()=>{_.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(r=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&r.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(n){const r=this.editor,i=r.model;r.plugins.get(um).removeDropMarker(),this._clearDraggableAttributes(),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(n&&this.isEnabled&&i.change(l=>{const d=i.createSelection(this._draggedRange);i.deleteContent(d,{doNotAutoparagraph:!0});const h=d.getFirstPosition().parent;h.isEmpty&&!i.schema.checkChild(h,"$text")&&i.schema.checkChild(h,"paragraph")&&l.insertElement("paragraph",h,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(n){const r=this.editor,i=r.model,l=i.document.selection,d=n?c4(n):null;if(d){const b=r.editing.mapper.toModelElement(d);this._draggedRange=sr.fromRange(i.createRangeOn(b)),this._blockMode=i.schema.isBlock(b),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(l.isCollapsed&&!l.getFirstPosition().parent.isEmpty)return;const h=Array.from(l.getSelectedBlocks()),f=l.getFirstRange();if(h.length==0)return void(this._draggedRange=sr.fromRange(f));const k=d4(i,h);if(h.length>1)this._draggedRange=sr.fromRange(k),this._blockMode=!0;else if(h.length==1){const b=f.start.isTouching(k.start)&&f.end.isTouching(k.end);this._draggedRange=sr.fromRange(b?k:f),this._blockMode=b}i.change(b=>b.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:n,domTarget:r,clientX:i}){const l=this.editor.editing.view,d=l.document.selection.editableElement,h=l.domConverter.mapViewToDom(d),f=m.window.getComputedStyle(h);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Bo(m.document,"div",{style:"position: fixed; left: -999999px;"}),m.document.body.appendChild(this._previewContainer));const k=new pt(h);if(h.contains(r))return;const b=parseFloat(f.paddingLeft),v=Bo(m.document,"div");v.className="ck ck-content",v.style.width=f.width,v.style.paddingLeft=`${k.left-i+b}px`,_.isiOS&&(v.style.backgroundColor="white"),v.innerHTML=n.getData("text/html"),n.setDragImage(v,0,0),this._previewContainer.appendChild(v)}}function l4(a){return _.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function c4(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(Sn);if(Sn(a))return a;const n=a.findAncestor(r=>Sn(r)||r.is("editableElement"));return Sn(n)?n:null}function d4(a,n){const r=n[0],i=n[n.length-1],l=r.getCommonAncestor(i),d=a.createPositionBefore(r),h=a.createPositionAfter(i);if(l&&l.is("element")&&!a.schema.isLimit(l)){const f=a.createRangeOn(l),k=d.isTouching(f.start),b=h.isTouching(f.end);if(k&&b)return d4(a,[l])}return a.createRange(d,h)}class yZ extends pe{static get pluginName(){return"PastePlainText"}static get requires(){return[Tr]}init(){const n=this.editor,r=n.model,i=n.editing.view,l=i.document,d=r.document.selection;let h=!1;i.addObserver(th),this.listenTo(l,"keydown",(f,k)=>{h=k.shiftKey}),n.plugins.get(Tr).on("contentInsertion",(f,k)=>{(h||function(b,v){if(b.childCount>1)return!1;const A=b.getChild(0);return v.isObject(A)?!1:Array.from(A.getAttributeKeys()).length==0}(k.content,r.schema))&&r.change(b=>{const v=Array.from(d.getAttributes()).filter(([E])=>r.schema.getAttributeProperties(E).isFormatting);d.isCollapsed||r.deleteContent(d,{doNotAutoparagraph:!0}),v.push(...d.getAttributes());const A=b.createRangeIn(k.content);for(const E of A.getItems())E.is("$textProxy")&&b.setAttributes(v,E)})})}}class u4 extends pe{static get pluginName(){return"Clipboard"}static get requires(){return[nh,Tr,vZ,yZ]}init(){const n=this.editor,r=this.editor.t;n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Copy selected content"),keystroke:"CTRL+C"},{label:r("Paste content"),keystroke:"CTRL+V"},{label:r("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class _Z extends ct{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,r=n.document.selection;let i=n.schema.getLimitElement(r);if(r.containsEntireContent(i)||!h4(n.schema,i))do if(i=i.parent,!i)return;while(!h4(n.schema,i));n.change(l=>{l.setSelection(i,"in")})}}function h4(a,n){return a.isLimit(n)&&(a.checkChild(n,"$text")||a.checkChild(n,"paragraph"))}const CZ=Bu("Ctrl+A");class AZ extends pe{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,r=n.t,i=n.editing.view.document;n.commands.add("selectAll",new _Z(n)),this.listenTo(i,"keydown",(l,d)=>{fc(d)===CZ&&(n.execute("selectAll"),d.preventDefault())}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Select all"),keystroke:"CTRL+A"}]})}}class xZ extends pe{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",()=>{const r=this._createButton(Ct);return r.set({tooltip:!0}),r}),n.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(lr))}_createButton(n){const r=this.editor,i=r.locale,l=r.commands.get("selectAll"),d=new n(r.locale),h=i.t;return d.set({label:h("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",()=>{r.execute("selectAll"),r.editing.view.focus()}),d}}class EZ extends pe{static get requires(){return[AZ,xZ]}static get pluginName(){return"SelectAll"}}var SZ=Object.defineProperty,p4=Object.getOwnPropertySymbols,TZ=Object.prototype.hasOwnProperty,IZ=Object.prototype.propertyIsEnumerable,f4=(a,n,r)=>n in a?SZ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class g4 extends ct{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(n.data,"set",(r,i)=>{i[1]=((d,h)=>{for(var f in h||(h={}))TZ.call(h,f)&&f4(d,f,h[f]);if(p4)for(var f of p4(h))IZ.call(h,f)&&f4(d,f,h[f]);return d})({},i[1]);const l=i[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(r,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(n){const r=this.editor.model.document.selection,i={ranges:r.hasOwnRange?Array.from(r.getRanges()):[],isBackward:r.isBackward};this._stack.push({batch:n,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,r,i){const l=this.editor.model,d=l.document,h=[],f=n.map(b=>b.getTransformedByOperations(i)),k=f.flat();for(const b of f){const v=b.filter(A=>A.root!=d.graveyard).filter(A=>!MZ(A,k));v.length&&(DZ(v),h.push(v[0]))}h.length&&l.change(b=>{b.setSelection(h,{backward:r})})}_undo(n,r){const i=this.editor.model,l=i.document;this._createdBatches.add(r);const d=n.operations.slice().filter(h=>h.isDocumentOperation);d.reverse();for(const h of d){const f=h.baseVersion+1,k=Array.from(l.history.getOperations(f)),b=dG([h.getReversed()],k,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let v of b){const A=v.affectedSelectable;A&&!i.canEditAt(A)&&(v=new jn(v.baseVersion)),r.addOperation(v),i.applyOperation(v),l.history.setOperationAsUndone(h,v)}}}}function DZ(a){a.sort((n,r)=>n.start.isBefore(r.start)?-1:1);for(let n=1;n<a.length;n++){const r=a[n-1].getJoined(a[n],!0);r&&(n--,a.splice(n,2,r))}}function MZ(a,n){return n.some(r=>r!==a&&r.containsRange(a,!0))}class PZ extends g4{execute(n=null){const r=n?this._stack.findIndex(d=>d.batch==n):this._stack.length-1,i=this._stack.splice(r,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(i.batch,l);const d=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,d)}),this.fire("revert",i.batch,l),this.refresh()}}class NZ extends g4{execute(){const n=this._stack.pop(),r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{const i=n.batch.operations[n.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(i);this._restoreSelection(n.selection.ranges,n.selection.isBackward,l),this._undo(n.batch,r)}),this.refresh()}}class RZ extends pe{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const n=this.editor,r=n.t;this._undoCommand=new PZ(n),this._redoCommand=new NZ(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(i,l)=>{const d=l[0];if(!d.isDocumentOperation)return;const h=d.batch,f=this._redoCommand.createdBatches.has(h),k=this._undoCommand.createdBatches.has(h);this._batchRegistry.has(h)||(this._batchRegistry.add(h),h.isUndoable&&(f?this._undoCommand.addBatch(h):k||(this._undoCommand.addBatch(h),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,l,d)=>{this._redoCommand.addBatch(d)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo"),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Undo"),keystroke:"CTRL+Z"},{label:r("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class OZ extends pe{static get pluginName(){return"UndoUI"}init(){const n=this.editor,r=n.locale,i=n.t,l=r.uiLanguageDirection=="ltr"?Ze.undo:Ze.redo,d=r.uiLanguageDirection=="ltr"?Ze.redo:Ze.undo;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",l),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",d)}_addButtonsToFactory(n,r,i,l){const d=this.editor;d.ui.componentFactory.add(n,()=>{const h=this._createButton(Ct,n,r,i,l);return h.set({tooltip:!0}),h}),d.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(lr,n,r,i,l))}_createButton(n,r,i,l,d){const h=this.editor,f=h.locale,k=h.commands.get(r),b=new n(f);return b.set({label:i,icon:d,keystroke:l}),b.bind("isEnabled").to(k,"isEnabled"),this.listenTo(b,"execute",()=>{h.execute(r),h.editing.view.focus()}),b}}class m4 extends pe{static get requires(){return[RZ,OZ]}static get pluginName(){return"Undo"}}class BZ extends Q(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=r=>{this.loaded=r.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const r=this._reader;return this.total=n.size,new Promise((i,l)=>{r.onload=()=>{const d=r.result;this._data=d,i(d)},r.onerror=()=>{l("error")},r.onabort=()=>{l("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class si extends pe{constructor(){super(...arguments),this.loaders=new Xr,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[MD]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,r)=>r?n/r*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return U("filerepository-no-upload-adapter"),null;const r=new k4(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(r),this._loadersMap.set(n,r),n instanceof Promise&&r.file.then(i=>{this._loadersMap.set(i,r)}).catch(()=>{}),r.on("change:uploaded",()=>{let i=0;for(const l of this.loaders)i+=l.uploaded;this.uploaded=i}),r.on("change:uploadTotal",()=>{let i=0;for(const l of this.loaders)l.uploadTotal&&(i+=l.uploadTotal);this.uploadTotal=i}),r}destroyLoader(n){const r=n instanceof k4?n:this.getLoader(n);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach((i,l)=>{i===r&&this._loadersMap.delete(l)})}_updatePendingAction(){const n=this.editor.plugins.get(MD);if(this.loaders.length){if(!this._pendingAction){const r=this.editor.t,i=l=>`${r("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=n.add(i(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",i)}}else n.remove(this._pendingAction),this._pendingAction=null}}class k4 extends Q(){constructor(n,r){super(),this.id=O(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=r(this),this._reader=new BZ,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,l)=>l?i/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new M("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new M("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const r={};return r.promise=new Promise((i,l)=>{r.rejecter=l,r.isFulfilled=!1,n.then(d=>{r.isFulfilled=!0,i(d)}).catch(d=>{r.isFulfilled=!0,l(d)})}),r}}const b4="ckCsrfToken",w4="abcdefghijklmnopqrstuvwxyz0123456789";function LZ(){let a=function(i){i=i.toLowerCase();const l=document.cookie.split(";");for(const d of l){const h=d.split("=");if(decodeURIComponent(h[0].trim().toLowerCase())===i)return decodeURIComponent(h[1])}return null}(b4);var n,r;return a&&a.length==40||(a=function(i){let l="";const d=new Uint8Array(i);window.crypto.getRandomValues(d);for(let h=0;h<d.length;h++){const f=w4.charAt(d[h]%w4.length);l+=Math.random()>.5?f.toUpperCase():f}return l}(40),n=b4,r=a,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(r)+";path=/"),a}class jZ{constructor(n,r,i){this.loader=n,this.url=r,this.t=i}upload(){return this.loader.file.then(n=>new Promise((r,i)=>{this._initRequest(),this._initListeners(r,i,n),this._sendRequest(n)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const n=this.xhr=new XMLHttpRequest;n.open("POST",this.url,!0),n.responseType="json"}_initListeners(n,r,i){const l=this.xhr,d=this.loader,h=(0,this.t)("Cannot upload file:")+` ${i.name}.`;l.addEventListener("error",()=>r(h)),l.addEventListener("abort",()=>r()),l.addEventListener("load",()=>{const f=l.response;if(!f||!f.uploaded)return r(f&&f.error&&f.error.message?f.error.message:h);n({default:f.url})}),l.upload&&l.upload.addEventListener("progress",f=>{f.lengthComputable&&(d.uploadTotal=f.total,d.uploaded=f.loaded)})}_sendRequest(n){const r=new FormData;r.append("upload",n),r.append("ckCsrfToken",LZ()),this.xhr.send(r)}}function Hs(a,n,r,i){let l,d=null;typeof i=="function"?l=i:(d=a.commands.get(i),l=()=>{a.execute(i)}),a.model.document.on("change:data",(h,f)=>{if(d&&!d.isEnabled||!n.isEnabled)return;const k=qn(a.model.document.selection.getRanges());if(!k.isCollapsed||f.isUndo||!f.isLocal)return;const b=Array.from(a.model.document.differ.getChanges()),v=b[0];if(b.length!=1||v.type!=="insert"||v.name!="$text"||v.length!=1)return;const A=v.position.parent;if(A.is("element","codeBlock")||A.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||d&&d.value===!0)return;const E=A.getChild(0),I=a.model.createRangeOn(E);if(!I.containsRange(k)&&!k.end.isEqual(I.end))return;const P=r.exec(E.data.substr(0,k.end.offset));P&&a.model.enqueueChange(L=>{const F=L.createPositionAt(A,0),W=L.createPositionAt(A,P[0].length),K=new sr(F,W);if(l({match:P})!==!1){L.remove(K);const ee=a.model.document.selection.getFirstRange(),ce=L.createRangeIn(A);!A.isEmpty||ce.isEqual(ee)||ce.containsRange(ee,!0)||L.remove(A)}K.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function Mc(a,n,r,i){let l,d;r instanceof RegExp?l=r:d=r,d=d||(h=>{let f;const k=[],b=[];for(;(f=l.exec(h))!==null&&!(f&&f.length<4);){let{index:v,1:A,2:E,3:I}=f;const P=A+E+I;v+=f[0].length-P.length;const L=[v,v+A.length],F=[v+A.length+E.length,v+A.length+E.length+I.length];k.push(L),k.push(F),b.push([v+A.length,v+A.length+E.length])}return{remove:k,format:b}}),a.model.document.on("change:data",(h,f)=>{if(f.isUndo||!f.isLocal||!n.isEnabled)return;const k=a.model,b=k.document.selection;if(!b.isCollapsed)return;const v=Array.from(k.document.differ.getChanges()),A=v[0];if(v.length!=1||A.type!=="insert"||A.name!="$text"||A.length!=1)return;const E=b.focus,I=E.parent,{text:P,range:L}=function(ee,ce){let ve=ee.start;return{text:Array.from(ee.getItems()).reduce((ot,qt)=>!qt.is("$text")&&!qt.is("$textProxy")||qt.getAttribute("code")?(ve=ce.createPositionAfter(qt),""):ot+qt.data,""),range:ce.createRange(ve,ee.end)}}(k.createRange(k.createPositionAt(I,0),E),k),F=d(P),W=v4(L.start,F.format,k),K=v4(L.start,F.remove,k);W.length&&K.length&&k.enqueueChange(ee=>{if(i(ee,W)!==!1){for(const ce of K.reverse())ee.remove(ce);k.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function v4(a,n,r){return n.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>r.createRange(a.getShiftedBy(i[0]),a.getShiftedBy(i[1])))}function pm(a,n){return(r,i)=>{if(!a.commands.get(n).isEnabled)return!1;const l=a.model.schema.getValidRanges(i,n);for(const d of l)r.setAttribute(n,!0,d);r.removeSelectionAttribute(n)}}class y4 extends ct{constructor(n,r){super(n),this.attributeKey=r}refresh(){const n=this.editor.model,r=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(n={}){const r=this.editor.model,i=r.document.selection,l=n.forceValue===void 0?!this.value:n.forceValue;r.change(d=>{if(i.isCollapsed)l?d.setSelectionAttribute(this.attributeKey,!0):d.removeSelectionAttribute(this.attributeKey);else{const h=r.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const f of h)l?d.setAttribute(this.attributeKey,l,f):d.removeAttribute(this.attributeKey,f)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,r=n.schema,i=n.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const l of i.getRanges())for(const d of l.getItems())if(r.checkAttribute(d,this.attributeKey))return d.hasAttribute(this.attributeKey);return!1}}const Pc="bold";class zZ extends pe{static get pluginName(){return"BoldEditing"}init(){const n=this.editor,r=this.editor.t;n.model.schema.extend("$text",{allowAttributes:Pc}),n.model.schema.setAttributeProperties(Pc,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Pc,view:"strong",upcastAlso:["b",i=>{const l=i.getStyle("font-weight");return l&&(l=="bold"||Number(l)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(Pc,new y4(n,Pc)),n.keystrokes.set("CTRL+B",Pc),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Bold text"),keystroke:"CTRL+B"}]})}}function _4({editor:a,commandName:n,plugin:r,icon:i,label:l,keystroke:d}){return h=>{const f=a.commands.get(n),k=new h(a.locale);return k.set({label:l,icon:i,keystroke:d,isToggleable:!0}),k.bind("isEnabled").to(f,"isEnabled"),r.listenTo(k,"execute",()=>{a.execute(n),a.editing.view.focus()}),k}}const fm="bold";class FZ extends pe{static get pluginName(){return"BoldUI"}init(){const n=this.editor,r=n.locale.t,i=n.commands.get(fm),l=_4({editor:n,commandName:fm,plugin:this,icon:Ze.bold,label:r("Bold"),keystroke:"CTRL+B"});n.ui.componentFactory.add(fm,()=>{const d=l(Ct);return d.set({tooltip:!0}),d.bind("isOn").to(i,"value"),d}),n.ui.componentFactory.add("menuBar:"+fm,()=>l(lr))}}var C4=c(4199),$Z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(C4.A,$Z),C4.A.locals;const Nc="italic";class VZ extends pe{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor,r=this.editor.t;n.model.schema.extend("$text",{allowAttributes:Nc}),n.model.schema.setAttributeProperties(Nc,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Nc,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(Nc,new y4(n,Nc)),n.keystrokes.set("CTRL+I",Nc),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Italic text"),keystroke:"CTRL+I"}]})}}const gm="italic";class UZ extends pe{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,r=n.commands.get(gm),i=n.locale.t,l=_4({editor:n,commandName:gm,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:i("Italic")});n.ui.componentFactory.add(gm,()=>{const d=l(Ct);return d.set({tooltip:!0}),d.bind("isOn").to(r,"value"),d}),n.ui.componentFactory.add("menuBar:"+gm,()=>l(lr))}}class HZ extends ct{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const r=this.editor.model,i=r.schema,l=r.document.selection,d=Array.from(l.getSelectedBlocks()),h=n.forceValue===void 0?!this.value:n.forceValue;r.change(f=>{if(h){const k=d.filter(b=>mm(b)||x4(i,b));this._applyQuote(f,k)}else this._removeQuote(f,d.filter(mm))})}_getValue(){const n=qn(this.editor.model.document.selection.getSelectedBlocks());return!(!n||!mm(n))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,r=this.editor.model.schema,i=qn(n.getSelectedBlocks());return!!i&&x4(r,i)}_removeQuote(n,r){A4(n,r).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd)return void n.unwrap(i.start.parent);if(i.start.isAtStart){const d=n.createPositionBefore(i.start.parent);return void n.move(i,d)}i.end.isAtEnd||n.split(i.end);const l=n.createPositionAfter(i.end.parent);n.move(i,l)})}_applyQuote(n,r){const i=[];A4(n,r).reverse().forEach(l=>{let d=mm(l.start);d||(d=n.createElement("blockQuote"),n.wrap(l,d)),i.push(d)}),i.reverse().reduce((l,d)=>l.nextSibling==d?(n.merge(n.createPositionAfter(l)),l):d)}}function mm(a){return a.parent.name=="blockQuote"?a.parent:null}function A4(a,n){let r,i=0;const l=[];for(;i<n.length;){const d=n[i],h=n[i+1];r||(r=a.createPositionBefore(d)),h&&d.nextSibling==h||(l.push(a.createRange(r,a.createPositionAfter(d))),r=null),i++}return l}function x4(a,n){const r=a.checkChild(n.parent,"blockQuote"),i=a.checkChild(["$root","blockQuote"],n);return r&&i}class WZ extends pe{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[lm,is]}init(){const n=this.editor,r=n.model.schema;n.commands.add("blockQuote",new HZ(n)),r.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(h=>{const f=n.model.document.differ.getChanges();for(const k of f)if(k.type=="insert"){const b=k.position.nodeAfter;if(!b)continue;if(b.is("element","blockQuote")&&b.isEmpty)return h.remove(b),!0;if(b.is("element","blockQuote")&&!r.checkChild(k.position,b))return h.unwrap(b),!0;if(b.is("element")){const v=h.createRangeIn(b);for(const A of v.getItems())if(A.is("element","blockQuote")&&!r.checkChild(h.createPositionBefore(A),A))return h.unwrap(A),!0}}else if(k.type=="remove"){const b=k.position.parent;if(b.is("element","blockQuote")&&b.isEmpty)return h.remove(b),!0}return!1});const i=this.editor.editing.view.document,l=n.model.document.selection,d=n.commands.get("blockQuote");this.listenTo(i,"enter",(h,f)=>{!l.isCollapsed||!d.value||l.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),f.preventDefault(),h.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(h,f)=>{if(f.direction!="backward"||!l.isCollapsed||!d.value)return;const k=l.getLastPosition().parent;k.isEmpty&&!k.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),f.preventDefault(),h.stop())},{context:"blockquote"})}}var E4=c(8708),qZ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(E4.A,qZ),E4.A.locals;class GZ extends pe{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,r=n.commands.get("blockQuote");n.ui.componentFactory.add("blockQuote",()=>{const i=this._createButton(Ct);return i.set({tooltip:!0}),i.bind("isOn").to(r,"value"),i}),n.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(lr))}_createButton(n){const r=this.editor,i=r.locale,l=r.commands.get("blockQuote"),d=new n(r.locale),h=i.t;return d.set({label:h("Block quote"),icon:Ze.quote,isToggleable:!0}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",()=>{r.execute("blockQuote"),r.editing.view.focus()}),d}}class KZ extends pe{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor;if(!n.commands.get("ckbox"))return;const r=n.t,i=n.ui.componentFactory;if(i.add("ckbox",()=>{const l=this._createButton(Ct);return l.tooltip=!0,l}),i.add("menuBar:ckbox",()=>this._createButton(lr)),n.plugins.has("ImageInsertUI")){const l=n.plugins.get("ImageInsertUI");l.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckbox"),buttonViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckbox");return d.icon=Ze.imageAssetManager,d.bind("label").to(l,"isImageSelected",h=>r(h?"Replace image with file manager":"Insert image with file manager")),d},formViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckbox");return d.icon=Ze.imageAssetManager,d.withText=!0,d.bind("label").to(l,"isImageSelected",h=>r(h?"Replace with file manager":"Insert with file manager")),d.on("execute",()=>{l.dropdownView.isOpen=!1}),d}})}}_createButton(n){const r=this.editor,i=r.locale,l=new n(i),d=r.commands.get("ckbox"),h=i.t;return l.set({label:h("Open file manager"),icon:Ze.browseFiles}),l.bind("isOn","isEnabled").to(d,"value","isEnabled"),l.on("execute",()=>{r.execute("ckbox")}),l}}var YZ=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],ah=a=>{let n=0;for(let r=0;r<a.length;r++){let i=a[r];n=83*n+YZ.indexOf(i)}return n},jy=a=>{let n=a/255;return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)},zy=a=>{let n=Math.max(0,Math.min(1,a));return n<=.0031308?Math.trunc(12.92*n*255+.5):Math.trunc(255*(1.055*Math.pow(n,.4166666666666667)-.055)+.5)},Fy=(a,n)=>(r=>r<0?-1:1)(a)*Math.pow(Math.abs(a),n),S4=class extends Error{constructor(a){super(a),this.name="ValidationError",this.message=a}},QZ=a=>{if(!a||a.length<6)throw new S4("The blurhash string must be at least 6 characters");let n=ah(a[0]),r=Math.floor(n/9)+1,i=n%9+1;if(a.length!==4+2*i*r)throw new S4(`blurhash length mismatch: length is ${a.length} but it should be ${4+2*i*r}`)},ZZ=a=>{let n=a>>8&255,r=255&a;return[jy(a>>16),jy(n),jy(r)]},JZ=(a,n)=>{let r=Math.floor(a/361),i=Math.floor(a/19)%19,l=a%19;return[Fy((r-9)/9,2)*n,Fy((i-9)/9,2)*n,Fy((l-9)/9,2)*n]},XZ=(a,n,r,i)=>{QZ(a),i|=1;let l=ah(a[0]),d=Math.floor(l/9)+1,h=l%9+1,f=(ah(a[1])+1)/166,k=new Array(h*d);for(let A=0;A<k.length;A++)if(A===0){let E=ah(a.substring(2,6));k[A]=ZZ(E)}else{let E=ah(a.substring(4+2*A,6+2*A));k[A]=JZ(E,f*i)}let b=4*n,v=new Uint8ClampedArray(b*r);for(let A=0;A<r;A++)for(let E=0;E<n;E++){let I=0,P=0,L=0;for(let ee=0;ee<d;ee++)for(let ce=0;ce<h;ce++){let ve=Math.cos(Math.PI*E*ce/n)*Math.cos(Math.PI*A*ee/r),Fe=k[ce+ee*h];I+=Fe[0]*ve,P+=Fe[1]*ve,L+=Fe[2]*ve}let F=zy(I),W=zy(P),K=zy(L);v[4*E+0+A*b]=F,v[4*E+1+A*b]=W,v[4*E+2+A*b]=K,v[4*E+3+A*b]=255}return v},eJ=Object.defineProperty,T4=Object.getOwnPropertySymbols,tJ=Object.prototype.hasOwnProperty,nJ=Object.prototype.propertyIsEnumerable,I4=(a,n,r)=>n in a?eJ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;function D4(a){const n=[];let r=0;for(const l in a){const d=parseInt(l,10);isNaN(d)||(d>r&&(r=d),n.push(`${a[l]} ${l}w`))}const i=[{srcset:n.join(","),sizes:`(max-width: ${r}px) 100vw, ${r}px`,type:"image/webp"}];return{imageFallbackUrl:a.default,imageSources:i}}const lh=32;function M4({url:a,method:n="GET",data:r,onUploadProgress:i,signal:l,authorization:d}){const h=new XMLHttpRequest;h.open(n,a.toString()),h.setRequestHeader("Authorization",d),h.setRequestHeader("CKBox-Version","CKEditor 5"),h.responseType="json";const f=()=>{h.abort()};return new Promise((k,b)=>{l.throwIfAborted(),l.addEventListener("abort",f),h.addEventListener("loadstart",()=>{l.addEventListener("abort",f)}),h.addEventListener("loadend",()=>{l.removeEventListener("abort",f)}),h.addEventListener("error",()=>{b()}),h.addEventListener("abort",()=>{b()}),h.addEventListener("load",()=>{const v=h.response;if(!v||v.statusCode>=400)return b(v&&v.message);k(v)}),i&&h.upload.addEventListener("progress",v=>{i(v)}),h.send(r)})}const oJ={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function rJ(a,n){return r=this,i=null,l=function*(){try{const d=yield fetch(a,((h,f)=>{for(var k in f||(f={}))tJ.call(f,k)&&I4(h,k,f[k]);if(T4)for(var k of T4(f))nJ.call(f,k)&&I4(h,k,f[k]);return h})({method:"HEAD",cache:"force-cache"},n));return d.ok&&d.headers.get("content-type")||""}catch{return""}},new Promise((d,h)=>{var f=v=>{try{b(l.next(v))}catch(A){h(A)}},k=v=>{try{b(l.throw(v))}catch(A){h(A)}},b=v=>v.done?d(v.value):Promise.resolve(v.value).then(f,k);b((l=l.apply(r,i)).next())});var r,i,l}var iJ=Object.defineProperty,P4=Object.getOwnPropertySymbols,sJ=Object.prototype.hasOwnProperty,aJ=Object.prototype.propertyIsEnumerable,N4=(a,n,r)=>n in a?iJ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,R4=(a,n)=>{for(var r in n||(n={}))sJ.call(n,r)&&N4(a,r,n[r]);if(P4)for(var r of P4(n))aJ.call(n,r)&&N4(a,r,n[r]);return a};class lJ extends ct{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");return!(!n.isEnabled&&!r.isEnabled)}_prepareOptions(){const n=this.editor.config.get("ckbox");return{theme:n.theme,language:n.language,tokenUrl:n.tokenUrl,serviceOrigin:n.serviceOrigin,forceDemoLabel:n.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:r=>this.fire("ckbox:choose",r)}}}_initListeners(){const n=this.editor,r=n.model,i=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Bo(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,n.editing.view.focus())}),this.on("ckbox:choose",(l,d)=>{if(!this.isEnabled)return;const h=n.commands.get("insertImage"),f=n.commands.get("link"),k=function({assets:v,isImageAllowed:A,isLinkAllowed:E}){return v.map(I=>function(P){const L=P.data.metadata;return L?L.width&&L.height:!1}(I)?{id:I.data.id,type:"image",attributes:cJ(I)}:{id:I.data.id,type:"link",attributes:dJ(I)}).filter(I=>I.type==="image"?A:E)}({assets:d,isImageAllowed:h.isEnabled,isLinkAllowed:f.isEnabled}),b=k.length;b!==0&&(r.change(v=>{for(const A of k){const E=A===k[b-1],I=b===1;this._insertAsset(A,E,v,I),i&&(setTimeout(()=>this._chosenAssets.delete(A),1e3),this._chosenAssets.add(A))}}),n.editing.view.focus())}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,r,i,l){const d=this.editor.model.document.selection;i.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,i,l),r||i.setSelection(d.getLastPosition())}_insertImage(n){const r=this.editor,{imageFallbackUrl:i,imageSources:l,imageTextAlternative:d,imageWidth:h,imageHeight:f,imagePlaceholder:k}=n.attributes;r.execute("insertImage",{source:R4({src:i,sources:l,alt:d,width:h,height:f},k?{placeholder:k}:null)})}_insertLink(n,r,i){const l=this.editor,d=l.model,h=d.document.selection,{linkName:f,linkHref:k}=n.attributes;if(h.isCollapsed){const b=wi(h.getAttributes()),v=r.createText(f,b);if(!i){const E=h.getLastPosition(),I=E.parent;I.name==="paragraph"&&I.isEmpty||l.execute("insertParagraph",{position:E});const P=d.insertContent(v);return r.setSelection(P),void l.execute("link",k)}const A=d.insertContent(v);r.setSelection(A)}l.execute("link",k)}}function cJ(a){const{imageFallbackUrl:n,imageSources:r}=D4(a.data.imageUrls),{description:i,width:l,height:d,blurHash:h}=a.data.metadata,f=function(k){if(k)try{const b=`${lh}px`,v=document.createElement("canvas");v.setAttribute("width",b),v.setAttribute("height",b);const A=v.getContext("2d");if(!A)return;const E=A.createImageData(lh,lh),I=XZ(k,lh,lh);return E.data.set(I),A.putImageData(E,0,0),v.toDataURL()}catch{return}}(h);return R4({imageFallbackUrl:n,imageSources:r,imageTextAlternative:i||"",imageWidth:l,imageHeight:d},f?{imagePlaceholder:f}:null)}function dJ(a){return{linkName:a.data.name,linkHref:uJ(a)}}function uJ(a){const n=new URL(a.data.url);return n.searchParams.set("download","true"),n.toString()}var $y=(a,n,r)=>new Promise((i,l)=>{var d=k=>{try{f(r.next(k))}catch(b){l(b)}},h=k=>{try{f(r.throw(k))}catch(b){l(b)}},f=k=>k.done?i(k.value):Promise.resolve(k.value).then(d,h);f((r=r.apply(a,n)).next())});class O4 extends pe{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return $y(this,null,function*(){const n=this.editor,r=!!n.config.get("ckbox"),i=!!window.CKBox;if(!r&&!i)return;n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"lark",tokenUrl:n.config.get("cloudServices.tokenUrl")});const l=n.plugins.get("CloudServices"),d=n.config.get("cloudServices.tokenUrl"),h=n.config.get("ckbox.tokenUrl");if(!h)throw new M("ckbox-plugin-missing-token-url",this);this._token=h==d?l.token:yield l.registerTokenUrl(h)})}getToken(){return this._token}getWorkspaceId(){const n=(0,this.editor.t)("Cannot access default workspace."),r=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),i=function(l,d){const[,h]=l.value.split("."),f=JSON.parse(atob(h)),k=f.auth&&f.auth.ckbox&&f.auth.ckbox.workspaces||[f.aud];return d?(f.auth&&f.auth.ckbox&&f.auth.ckbox.role)=="superadmin"||k.includes(d)?d:null:k[0]}(this._token,r);if(i==null)throw G("ckbox-access-default-workspace-error"),n;return i}getCategoryIdForFile(n,r){return $y(this,null,function*(){const i=(0,this.editor.t)("Cannot determine a category for the uploaded file."),l=this.editor.config.get("ckbox.defaultUploadCategories"),d=this._getAvailableCategories(r),h=typeof n=="string"?(f=yield rJ(n,r),oJ[f]):function(v){const A=v.name,E=new RegExp("\\.(?<ext>[^.]+)$");return A.match(E).groups.ext.toLowerCase()}(n);var f;const k=yield d;if(!k)throw i;if(l){const v=Object.keys(l).find(A=>l[A].find(E=>E.toLowerCase()==h));if(v){const A=k.find(E=>E.id===v||E.name===v);if(!A)throw i;return A.id}}const b=k.find(v=>v.extensions.find(A=>A.toLowerCase()==h));if(!b)throw i;return b.id})}_getAvailableCategories(n){return $y(this,null,function*(){const r=this.editor,i=this._token,{signal:l}=n,d=r.config.get("ckbox.serviceOrigin"),h=this.getWorkspaceId();try{const k=[];let b,v=0;do{const A=yield f(v);k.push(...A.items),b=A.totalCount-(v+50),v+=50}while(b>0);return k}catch{return l.throwIfAborted(),void G("ckbox-fetch-category-http-error")}function f(k){const b=new URL("categories",d);return b.searchParams.set("limit","50"),b.searchParams.set("offset",k.toString()),b.searchParams.set("workspaceId",h),M4({url:b,signal:l,authorization:i.value})}})}}var Vy=(a,n,r)=>new Promise((i,l)=>{var d=k=>{try{f(r.next(k))}catch(b){l(b)}},h=k=>{try{f(r.throw(k))}catch(b){l(b)}},f=k=>k.done?i(k.value):Promise.resolve(k.value).then(d,h);f((r=r.apply(a,n)).next())});class hJ extends pe{static get requires(){return["ImageUploadEditing","ImageUploadProgress",si,B4]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return Vy(this,null,function*(){const n=this.editor,r=!!n.config.get("ckbox"),i=!!window.CKBox;if(!r&&!i)return;const l=n.plugins.get(si),d=n.plugins.get(O4);l.createUploadAdapter=k=>new pJ(k,n,d);const h=!n.config.get("ckbox.ignoreDataId"),f=n.plugins.get("ImageUploadEditing");h&&f.on("uploadComplete",(k,{imageElement:b,data:v})=>{n.model.change(A=>{A.setAttribute("ckboxImageId",v.ckboxImageId,b)})})})}}class pJ{constructor(n,r,i){this.loader=n,this.token=i.getToken(),this.ckboxUtils=i,this.editor=r,this.controller=new AbortController,this.serviceOrigin=r.config.get("ckbox.serviceOrigin")}upload(){return Vy(this,null,function*(){const n=this.ckboxUtils,r=this.editor.t,i=yield this.loader.file,l=yield n.getCategoryIdForFile(i,{signal:this.controller.signal}),d=new URL("assets",this.serviceOrigin),h=new FormData;return d.searchParams.set("workspaceId",n.getWorkspaceId()),h.append("categoryId",l),h.append("file",i),M4({method:"POST",url:d,data:h,onUploadProgress:f=>{f.lengthComputable&&(this.loader.uploadTotal=f.total,this.loader.uploaded=f.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(f=>Vy(this,null,function*(){const k=D4(f.imageUrls);return{ckboxImageId:f.id,default:k.imageFallbackUrl,sources:k.imageSources}})).catch(()=>{const f=r("Cannot upload file:")+` ${i.name}.`;return Promise.reject(f)})})}abort(){this.controller.abort()}}class B4 extends pe{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",hJ,O4]}init(){const n=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),j4()&&n.commands.add("ckbox",new lJ(n)))}afterInit(){const n=this.editor;this._shouldBeInitialised()&&(n.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||j4()}_checkImagePlugins(){const n=this.editor;n.plugins.has("ImageBlockEditing")||n.plugins.has("ImageInlineEditing")||G("ckbox-plugin-image-feature-missing",n)}_initSchema(){const n=this.editor.model.schema;n.extend("$text",{allowAttributes:"ckboxLinkId"}),n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.addAttributeCheck((r,i)=>{if(!r.last.getAttribute("linkHref")&&i==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(i=>{i.on("attribute:ckboxLinkId:imageBlock",(l,d,h)=>{const{writer:f,mapper:k,consumable:b}=h;if(!b.consume(d.item,l.name))return;const v=[...k.toViewElement(d.item).getChildren()].find(A=>A.name==="a");v&&(d.item.hasAttribute("ckboxLinkId")?f.setAttribute("data-ckbox-resource-id",d.item.getAttribute("ckboxLinkId"),v):f.removeAttribute("data-ckbox-resource-id",v))},{priority:"low"}),i.on("attribute:ckboxLinkId",(l,d,h)=>{const{writer:f,mapper:k,consumable:b}=h;if(b.consume(d.item,l.name)){if(d.attributeOldValue){const v=L4(f,d.attributeOldValue);f.unwrap(k.toViewRange(d.range),v)}if(d.attributeNewValue){const v=L4(f,d.attributeNewValue);if(d.item.is("selection")){const A=f.document.selection;f.wrap(A.getFirstRange(),v)}else f.wrap(k.toViewRange(d.range),v)}}},{priority:"low"})}),n.conversion.for("upcast").add(i=>{i.on("element:a",(l,d,h)=>{const{writer:f,consumable:k}=h;if(!d.viewItem.getAttribute("href")||!k.consume(d.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const b=d.viewItem.getAttribute("data-ckbox-resource-id");if(b)if(d.modelRange)for(let v of d.modelRange.getItems())v.is("$textProxy")&&(v=v.textNode),gJ(v)&&f.setAttribute("ckboxLinkId",b,v);else{const v=d.modelCursor.nodeBefore||d.modelCursor.parent;f.setAttribute("ckboxLinkId",b,v)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:i=>i.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const r=n.commands.get("replaceImageSource");r&&this.listenTo(r,"cleanupImage",(i,[l,d])=>{l.removeAttribute("ckboxImageId",d)})}_initFixers(){const n=this.editor,r=n.model,i=r.document.selection;r.document.registerPostFixer(function(l){return d=>{let h=!1;const f=l.model,k=l.commands.get("ckbox");if(!k)return h;for(const b of f.document.differ.getChanges()){if(b.type!=="insert"&&b.type!=="attribute")continue;const v=b.type==="insert"?new ne(b.position,b.position.getShiftedBy(b.length)):b.range,A=b.type==="attribute"&&b.attributeKey==="linkHref"&&b.attributeNewValue===null;for(const E of v.getItems()){if(A&&E.hasAttribute("ckboxLinkId")){d.removeAttribute("ckboxLinkId",E),h=!0;continue}const I=fJ(E,k._chosenAssets);for(const P of I){const L=P.type==="image"?"ckboxImageId":"ckboxLinkId";P.id!==E.getAttribute(L)&&(d.setAttribute(L,P.id,E),h=!0)}}}return h}}(n)),r.document.registerPostFixer(function(l){return d=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(d.removeSelectionAttribute("ckboxLinkId"),!0)}(i))}}function fJ(a,n){const r=a.is("element","imageInline")||a.is("element","imageBlock"),i=a.hasAttribute("linkHref");return[...n].filter(l=>l.type==="image"&&r?l.attributes.imageFallbackUrl===a.getAttribute("src"):l.type==="link"&&i?l.attributes.linkHref===a.getAttribute("linkHref"):void 0)}function L4(a,n){const r=a.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return a.setCustomProperty("link",!0,r),r}function gJ(a){return!!a.is("$text")||!(!a.is("element","imageInline")&&!a.is("element","imageBlock"))}function j4(){return!!window.CKBox}var z4=c(1866),mJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(z4.A,mJ),z4.A.locals;class kJ extends pe{static get pluginName(){return"CKFinderUI"}init(){const n=this.editor,r=n.ui.componentFactory,i=n.t;if(r.add("ckfinder",l=>{const d=this._createButton(Ct),h=l.t;return d.set({label:h("Insert image or file"),tooltip:!0}),d}),r.add("menuBar:ckfinder",l=>{const d=this._createButton(lr),h=l.t;return d.label=h("Image or file"),d}),n.plugins.has("ImageInsertUI")){const l=n.plugins.get("ImageInsertUI");l.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckfinder"),buttonViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckfinder");return d.icon=Ze.imageAssetManager,d.bind("label").to(l,"isImageSelected",h=>i(h?"Replace image with file manager":"Insert image with file manager")),d},formViewCreator:()=>{const d=this.editor.ui.componentFactory.create("ckfinder");return d.icon=Ze.imageAssetManager,d.withText=!0,d.bind("label").to(l,"isImageSelected",h=>i(h?"Replace with file manager":"Insert with file manager")),d.on("execute",()=>{l.dropdownView.isOpen=!1}),d}})}}_createButton(n){const r=this.editor,i=new n(r.locale),l=r.commands.get("ckfinder");return i.icon=Ze.browseFiles,i.bind("isEnabled").to(l),i.on("execute",()=>{r.execute("ckfinder"),r.editing.view.focus()}),i}}class bJ extends ct{constructor(n){super(n),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const n=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");this.isEnabled=n.isEnabled||r.isEnabled}execute(){const n=this.editor,r=this.editor.config.get("ckfinder.openerMethod")||"modal";if(r!="popup"&&r!="modal")throw new M("ckfinder-unknown-openermethod",n);const i=this.editor.config.get("ckfinder.options")||{};i.chooseFiles=!0;const l=i.onInit;i.language||(i.language=n.locale.uiLanguage),i.onInit=d=>{l&&l(d),d.on("files:choose",h=>{const f=h.data.files.toArray(),k=f.filter(A=>!A.isImage()),b=f.filter(A=>A.isImage());for(const A of k)n.execute("link",A.getUrl());const v=[];for(const A of b){const E=A.getUrl();v.push(E||d.request("file:getProxyUrl",{file:A}))}v.length&&F4(n,v)}),d.on("file:choose:resizedImage",h=>{const f=h.data.resizedUrl;if(f)F4(n,[f]);else{const k=n.plugins.get("Notification"),b=n.locale.t;k.showWarning(b("Could not obtain resized image URL."),{title:b("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[r](i)}}function F4(a,n){if(a.commands.get("insertImage").isEnabled)a.execute("insertImage",{source:n});else{const r=a.plugins.get("Notification"),i=a.locale.t;r.showWarning(i("Could not insert image at the current position."),{title:i("Inserting image failed"),namespace:"ckfinder"})}}class wJ extends pe{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Sy,"LinkEditing"]}init(){const n=this.editor;if(!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing"))throw new M("ckfinder-missing-image-plugin",n);n.commands.add("ckfinder",new bJ(n))}}class vJ extends pe{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",si]}init(){const n=this.editor,r=n.plugins.get("CloudServices"),i=r.token,l=r.uploadUrl;if(!i)return;const d=n.plugins.get("CloudServicesCore");this._uploadGateway=d.createUploadGateway(i,l),n.plugins.get(si).createUploadAdapter=h=>new yJ(this._uploadGateway,h)}}class yJ{constructor(n,r){this.uploadGateway=n,this.loader=r}upload(){return this.loader.file.then(n=>(this.fileUploader=this.uploadGateway.upload(n),this.fileUploader.on("progress",(r,i)=>{this.loader.uploadTotal=i.total,this.loader.uploaded=i.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class _J extends ct{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}refresh(){const n=this.editor.model,r=qn(n.document.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&$4(r,n.schema)}execute(n={}){const r=this.editor.model,i=r.document,l=n.selection||i.selection;r.canEditAt(l)&&r.change(d=>{const h=l.getSelectedBlocks();for(const f of h)!f.is("element","paragraph")&&$4(f,r.schema)&&d.rename(f,"paragraph")})}}function $4(a,n){return n.checkChild(a.parent,"paragraph")&&!n.isObject(a)}class CJ extends ct{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}execute(n){const r=this.editor.model,i=n.attributes;let l=n.position;r.canEditAt(l)&&r.change(d=>{if(l=this._findPositionToInsertParagraph(l,d),!l)return;const h=d.createElement("paragraph");i&&r.schema.setAllowedAttributes(h,i,d),r.insertContent(h,l),d.setSelection(h,"in")})}_findPositionToInsertParagraph(n,r){const i=this.editor.model;if(i.schema.checkChild(n,"paragraph"))return n;const l=i.schema.findAllowedParent(n,"paragraph");if(!l)return null;const d=n.parent,h=i.schema.checkChild(d,"$text");return d.isEmpty||h&&n.isAtEnd?i.createPositionAfter(d):!d.isEmpty&&h&&n.isAtStart?i.createPositionBefore(d):r.split(n,l).position}}const V4=class extends pe{static get pluginName(){return"Paragraph"}init(){const a=this.editor,n=a.model;a.commands.add("paragraph",new _J(a)),a.commands.add("insertParagraph",new CJ(a)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),a.conversion.elementToElement({model:"paragraph",view:"p"}),a.conversion.for("upcast").elementToElement({model:(r,{writer:i})=>V4.paragraphLikeElements.has(r.name)?r.isEmpty?null:i.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Uy=V4;Uy.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class AJ extends ct{constructor(n,r){super(n),this.modelElements=r}refresh(){const n=qn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(r=>U4(n,r,this.editor.model.schema))}execute(n){const r=this.editor.model,i=r.document,l=n.value;r.change(d=>{const h=Array.from(i.selection.getSelectedBlocks()).filter(f=>U4(f,l,r.schema));for(const f of h)f.is("element",l)||d.rename(f,l)})}}function U4(a,n,r){return r.checkChild(a.parent,n)&&!r.isObject(a)}const H4="paragraph";class xJ extends pe{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Uy]}init(){const n=this.editor,r=n.config.get("heading.options"),i=[];for(const l of r)l.model!=="paragraph"&&(n.model.schema.register(l.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(l),i.push(l.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new AJ(n,i))}afterInit(){const n=this.editor,r=n.commands.get("enter"),i=n.config.get("heading.options");r&&this.listenTo(r,"afterExecute",(l,d)=>{const h=n.model.document.selection.getFirstPosition().parent;i.some(f=>h.is("element",f.model))&&!h.is("element",H4)&&h.childCount===0&&d.writer.rename(h,H4)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:j.low+1})}}var W4=c(6269),EJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(W4.A,EJ),W4.A.locals;class SJ extends pe{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,r=n.t,i=function(h){const f=h.t,k={Paragraph:f("Paragraph"),"Heading 1":f("Heading 1"),"Heading 2":f("Heading 2"),"Heading 3":f("Heading 3"),"Heading 4":f("Heading 4"),"Heading 5":f("Heading 5"),"Heading 6":f("Heading 6")};return h.config.get("heading.options").map(b=>{const v=k[b.title];return v&&v!=b.title&&(b.title=v),b})}(n),l=r("Choose heading"),d=r("Heading");n.ui.componentFactory.add("heading",h=>{const f={},k=new Xr,b=n.commands.get("heading"),v=n.commands.get("paragraph"),A=[b];for(const I of i){const P={type:"button",model:new R5({label:I.title,class:I.class,role:"menuitemradio",withText:!0})};I.model==="paragraph"?(P.model.bind("isOn").to(v,"value"),P.model.set("commandName","paragraph"),A.push(v)):(P.model.bind("isOn").to(b,"value",L=>L===I.model),P.model.set({commandName:"heading",commandValue:I.model})),k.add(P),f[I.model]=I.title}const E=os(h);return o5(E,k,{ariaLabel:d,role:"menu"}),E.buttonView.set({ariaLabel:d,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:d}),E.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),E.bind("isEnabled").toMany(A,"isEnabled",(...I)=>I.some(P=>P)),E.buttonView.bind("label").to(b,"value",v,"value",(I,P)=>{const L=P?"paragraph":I;return typeof L=="boolean"?l:f[L]?f[L]:l}),E.buttonView.bind("ariaLabel").to(b,"value",v,"value",(I,P)=>{const L=P?"paragraph":I;return typeof L=="boolean"?d:f[L]?`${f[L]}, ${d}`:d}),this.listenTo(E,"execute",I=>{const{commandName:P,commandValue:L}=I.source;n.execute(P,L?{value:L}:void 0),n.editing.view.focus()}),E}),n.ui.componentFactory.add("menuBar:heading",h=>{const f=new Tc(h),k=n.commands.get("heading"),b=n.commands.get("paragraph"),v=[k],A=new My(h);f.set({class:"ck-heading-dropdown"}),A.set({ariaLabel:r("Heading"),role:"menu"}),f.buttonView.set({label:r("Heading")}),f.panelView.children.add(A);for(const E of i){const I=new Iy(h,f),P=new lr(h);I.children.add(P),A.items.add(I),P.set({label:E.title,role:"menuitemradio",class:E.class}),P.bind("ariaChecked").to(P,"isOn"),P.delegate("execute").to(f),P.on("execute",()=>{const L=E.model==="paragraph"?"paragraph":"heading";n.execute(L,{value:E.model}),n.editing.view.focus()}),E.model==="paragraph"?(P.bind("isOn").to(b,"value"),v.push(b)):P.bind("isOn").to(k,"value",L=>L===E.model)}return f.bind("isEnabled").toMany(v,"isEnabled",(...E)=>E.some(I=>I)),f})}}function q4(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot("children")])}function G4(a,n){const r=a.plugins.get("ImageUtils"),i=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return d=>r.isInlineImageView(d)?i&&(d.getStyle("display")=="block"||d.findAncestor(r.isBlockImageView)?"imageBlock":"imageInline")!==n?null:l(d):null;function l(d){const h={name:!0};return d.hasAttribute("src")&&(h.attributes=["src"]),h}}function Hy(a,n){const r=qn(n.getSelectedBlocks());return!r||a.isObject(r)||r.isEmpty&&r.name!="listItem"?"imageBlock":"imageInline"}function km(a){return a&&a.endsWith("px")?parseInt(a):null}function K4(a){const n=km(a.getStyle("width")),r=km(a.getStyle("height"));return!(!n||!r)}var TJ=Object.defineProperty,Y4=Object.getOwnPropertySymbols,IJ=Object.prototype.hasOwnProperty,DJ=Object.prototype.propertyIsEnumerable,Q4=(a,n,r)=>n in a?TJ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Z4=(a,n)=>{for(var r in n||(n={}))IJ.call(n,r)&&Q4(a,r,n[r]);if(Y4)for(var r of Y4(n))DJ.call(n,r)&&Q4(a,r,n[r]);return a};const MJ=/^(image|image-inline)$/;class $o extends pe{constructor(){super(...arguments),this._domEmitter=new(Ar())}static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},r=null,i=null,l={}){const d=this.editor,h=d.model,f=h.document.selection,k=J4(d,r||f,i);n=Z4(Z4({},Object.fromEntries(f.getAttributes())),n);for(const b in n)h.schema.checkAttribute(k,b)||delete n[b];return h.change(b=>{const{setImageSizes:v=!0}=l,A=b.createElement(k,n);return h.insertObject(A,r,null,{setSelection:"on",findOptimalPosition:r||k=="imageInline"?void 0:"auto"}),A.parent?(v&&this.setImageNaturalSizeAttributes(A),A):null})}setImageNaturalSizeAttributes(n){const r=n.getAttribute("src");r&&(n.getAttribute("width")||n.getAttribute("height")||this.editor.model.change(i=>{const l=new m.window.Image;this._domEmitter.listenTo(l,"load",()=>{n.getAttribute("width")||n.getAttribute("height")||this.editor.model.enqueueChange(i.batch,d=>{d.setAttribute("width",l.naturalWidth,n),d.setAttribute("height",l.naturalHeight,n)}),this._domEmitter.stopListening(l,"load")}),l.src=r}))}getClosestSelectedImageWidget(n){const r=n.getFirstPosition();if(!r)return null;const i=n.getSelectedElement();if(i&&this.isImageWidget(i))return i;let l=r.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(n){const r=n.getSelectedElement();return this.isImage(r)?r:n.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(n){return n.findAncestor({classes:MJ})}isImageAllowed(){const n=this.editor.model.document.selection;return function(r,i){if(J4(r,i,null)=="imageBlock"){const d=function(h,f){const k=qM(h,f),b=k.start.parent;return b.isEmpty&&!b.is("element","$root")?b.parent:b}(i,r.model);if(r.model.schema.checkChild(d,"imageBlock"))return!0}else if(r.model.schema.checkChild(i.focus,"imageInline"))return!0;return!1}(this.editor,n)&&function(r){return[...r.focus.getAncestors()].every(i=>!i.is("element","imageBlock"))}(n)}toImageWidget(n,r,i){return r.setCustomProperty("image",!0,n),By(n,r,{label:()=>{const l=this.findViewImgElement(n).getAttribute("alt");return l?`${l} ${i}`:i}})}isImageWidget(n){return!!n.getCustomProperty("image")&&Sn(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const r=this.editor.editing.view;for(const{item:i}of r.createRangeIn(n))if(this.isInlineImageView(i))return i}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function J4(a,n,r){const i=a.model.schema,l=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?r||(l==="inline"?"imageInline":l!=="auto"?"imageBlock":n.is("selection")?Hy(i,n):i.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class PJ extends ct{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(n){const r=this.editor,i=r.plugins.get("ImageUtils"),l=r.model,d=i.getClosestSelectedImageElement(l.document.selection);l.change(h=>{h.setAttribute("alt",n.newValue,d)})}}class NJ extends pe{static get requires(){return[$o]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new PJ(this.editor))}}var X4=c(4062),RJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(X4.A,RJ),X4.A.locals;var eP=c(2722),OJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(eP.A,OJ),eP.A.locals;class BJ extends Le{constructor(n){super(n);const r=this.locale.t;this.focusTracker=new Gn,this.keystrokes=new Io,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),Ze.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Ze.cancel,"ck-button-cancel","cancel"),this._focusables=new xr,this._focusCycler=new Sr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),xg({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,r,i,l){const d=new Ct(this.locale);return d.set({label:n,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}_createLabeledInputView(){const n=this.locale.t,r=new Gg(this.locale,Qg);return r.label=n("Text alternative"),r}}function tP(a){const n=a.editing.view,r=zo.defaultPositions,i=a.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(n.document.selection)),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class LJ extends pe{static get requires(){return[nm]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,r=n.t;n.ui.componentFactory.add("imageTextAlternative",i=>{const l=n.commands.get("imageTextAlternative"),d=new Ct(i);return d.set({label:r("Change image text alternative"),icon:Ze.textAlternative,tooltip:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",h=>!!h),this.listenTo(d,"execute",()=>{this._showForm()}),d})}_createForm(){const n=this.editor,r=n.editing.view.document,i=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Rv(BJ))(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,d)=>{this._hideForm(!0),d()}),this.listenTo(n.ui,"update",()=>{i.getClosestSelectedImageWidget(r.selection)?this._isVisible&&function(l){const d=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const h=tP(l);d.updatePosition(h)}}(n):this._hideForm(!0)}),Ag({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,r=n.commands.get("imageTextAlternative"),i=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:tP(n)}),i.fieldView.value=i.fieldView.element.value=r.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class nP extends pe{static get requires(){return[NJ,LJ]}static get pluginName(){return"ImageTextAlternative"}}function oP(a,n){const r=(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const h=d.writer,f=d.mapper.toViewElement(l.item),k=a.findViewImgElement(f);l.attributeNewValue===null?(h.removeAttribute("srcset",k),h.removeAttribute("sizes",k)):l.attributeNewValue&&(h.setAttribute("srcset",l.attributeNewValue,k),h.setAttribute("sizes","100vw",k))};return i=>{i.on(`attribute:srcset:${n}`,r)}}function bm(a,n,r){const i=(l,d,h)=>{if(!h.consumable.consume(d.item,l.name))return;const f=h.writer,k=h.mapper.toViewElement(d.item),b=a.findViewImgElement(k);f.setAttribute(d.attributeKey,d.attributeNewValue||"",b)};return l=>{l.on(`attribute:${r}:${n}`,i)}}class rP extends _i{observe(n){this.listenTo(n,"load",(r,i)=>{const l=i.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(n){this.stopListening(n)}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}var jJ=Object.defineProperty,iP=Object.getOwnPropertySymbols,zJ=Object.prototype.hasOwnProperty,FJ=Object.prototype.propertyIsEnumerable,sP=(a,n,r)=>n in a?jJ(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,wm=(a,n)=>{for(var r in n||(n={}))zJ.call(n,r)&&sP(a,r,n[r]);if(iP)for(var r of iP(n))FJ.call(n,r)&&sP(a,r,n[r]);return a};class $J extends ct{constructor(n){super(n);const r=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||r==="block"&&U("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||r==="inline"&&U("image-inline-plugin-required")}refresh(){const n=this.editor.plugins.get("ImageUtils");this.isEnabled=n.isImageAllowed()}execute(n){const r=Wt(n.source),i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(i.getAttributes());r.forEach((h,f)=>{const k=i.getSelectedElement();if(typeof h=="string"&&(h={src:h}),f&&k&&l.isImage(k)){const b=this.editor.model.createPositionAfter(k);l.insertImage(wm(wm({},h),d),b)}else l.insertImage(wm(wm({},h),d))})}}class VJ extends ct{constructor(n){super(n),this.decorate("cleanupImage")}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(n){const r=this.editor.model.document.selection.getSelectedElement(),i=this.editor.plugins.get("ImageUtils");this.editor.model.change(l=>{l.setAttribute("src",n.source,r),this.cleanupImage(l,r),i.setImageNaturalSizeAttributes(r)})}cleanupImage(n,r){n.removeAttribute("srcset",r),n.removeAttribute("sizes",r),n.removeAttribute("sources",r),n.removeAttribute("width",r),n.removeAttribute("height",r),n.removeAttribute("alt",r)}}class Wy extends pe{static get requires(){return[$o]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,r=n.conversion;n.editing.view.addObserver(rP),r.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const i=new $J(n),l=new VJ(n);n.commands.add("insertImage",i),n.commands.add("replaceImageSource",l),n.commands.add("imageInsert",i)}}class aP extends pe{static get requires(){return[$o]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(n){const r=this.editor,i=r.plugins.get("ImageUtils"),l=n==="imageBlock"?"figure":"img";function d(h,f,k,b){h.on(`attribute:${f}:${n}`,(v,A,E)=>{if(!E.consumable.consume(A.item,v.name))return;const I=E.writer,P=E.mapper.toViewElement(A.item),L=i.findViewImgElement(P);if(A.attributeNewValue!==null?I.setAttribute(k,A.attributeNewValue,L):I.removeAttribute(k,L),A.item.hasAttribute("sources"))return;const F=A.item.hasAttribute("resizedWidth");if(n==="imageInline"&&!F&&!b)return;const W=A.item.getAttribute("width"),K=A.item.getAttribute("height");W&&K&&I.setStyle("aspect-ratio",`${W}/${K}`,L)})}r.conversion.for("upcast").attributeToAttribute({view:{name:l,styles:{width:/.+/}},model:{key:"width",value:h=>K4(h)?km(h.getStyle("width")):null}}).attributeToAttribute({view:{name:l,key:"width"},model:"width"}).attributeToAttribute({view:{name:l,styles:{height:/.+/}},model:{key:"height",value:h=>K4(h)?km(h.getStyle("height")):null}}).attributeToAttribute({view:{name:l,key:"height"},model:"height"}),r.conversion.for("editingDowncast").add(h=>{d(h,"width","width",!0),d(h,"height","height",!0)}),r.conversion.for("dataDowncast").add(h=>{d(h,"width","width",!1),d(h,"height","height",!1)})}}class lP extends ct{constructor(n,r){super(n),this._modelElementName=r}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(r):this.isEnabled=n.isBlockImage(r)}execute(n={}){const r=this.editor,i=this.editor.model,l=r.plugins.get("ImageUtils"),d=l.getClosestSelectedImageElement(i.document.selection),h=Object.fromEntries(d.getAttributes());return h.src||h.uploadId?i.change(f=>{const{setImageSizes:k=!0}=n,b=Array.from(i.markers).filter(E=>E.getRange().containsItem(d)),v=l.insertImage(h,i.createSelection(d,"on"),this._modelElementName,{setImageSizes:k});if(!v)return null;const A=f.createRangeOn(v);for(const E of b){const I=E.getRange(),P=I.root.rootName!="$graveyard"?I.getJoined(A,!0):A;f.updateMarker(E,{range:P})}return{oldElement:d,newElement:v}}):null}}var cP=c(7378),UJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(cP.A,UJ),cP.A.locals;class dP extends pe{static get requires(){return[$o]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const n=this.editor.model.schema;n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["placeholder"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const n=this.editor,r=n.conversion,i=n.plugins.get("ImageUtils");r.for("editingDowncast").add(l=>{l.on("attribute:placeholder",(d,h,f)=>{if(!f.consumable.test(h.item,d.name)||!h.item.is("element","imageBlock")&&!h.item.is("element","imageInline"))return;f.consumable.consume(h.item,d.name);const k=f.writer,b=f.mapper.toViewElement(h.item),v=i.findViewImgElement(b);h.attributeNewValue?(k.addClass("image_placeholder",v),k.setStyle("background-image",`url(${h.attributeNewValue})`,v),k.setCustomProperty("editingPipeline:doNotReuseOnce",!0,v)):(k.removeClass("image_placeholder",v),k.removeStyle("background-image",v))})})}_setupLoadListener(){const n=this.editor,r=n.model,i=n.editing,l=i.view,d=n.plugins.get("ImageUtils");l.addObserver(rP),this.listenTo(l.document,"imageLoaded",(h,f)=>{const k=l.domConverter.mapDomToView(f.target);if(!k)return;const b=d.getImageWidgetFromImageView(k);if(!b)return;const v=i.mapper.toModelElement(b);v&&v.hasAttribute("placeholder")&&r.enqueueChange({isUndoable:!1},A=>{A.removeAttribute("placeholder",v)})})}}class uP extends pe{static get requires(){return[Wy,aP,$o,dP,Tr]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new lP(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,r=n.t,i=n.conversion,l=n.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:h})=>q4(h)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:h})=>l.toImageWidget(q4(h),h,r("image widget"))}),i.for("downcast").add(bm(l,"imageBlock","src")).add(bm(l,"imageBlock","alt")).add(oP(l,"imageBlock")),i.for("upcast").elementToElement({view:G4(n,"imageBlock"),model:(d,{writer:h})=>h.createElement("imageBlock",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)}).add(function(d){const h=(f,k,b)=>{if(!b.consumable.test(k.viewItem,{name:!0,classes:"image"}))return;const v=d.findViewImgElement(k.viewItem);if(!v||!b.consumable.test(v,{name:!0}))return;b.consumable.consume(k.viewItem,{name:!0,classes:"image"});const A=qn(b.convertItem(v,k.modelCursor).modelRange.getItems());A?(b.convertChildren(k.viewItem,A),b.updateConversionResult(A,k)):b.consumable.revert(k.viewItem,{name:!0,classes:"image"})};return f=>{f.on("element:figure",h)}}(l))}_setupClipboardIntegration(){const n=this.editor,r=n.model,i=n.editing.view,l=n.plugins.get("ImageUtils"),d=n.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(h,f)=>{const k=Array.from(f.content.getChildren());let b;if(!k.every(l.isInlineImageView))return;b=f.targetRanges?n.editing.mapper.toModelRange(f.targetRanges[0]):r.document.selection.getFirstRange();const v=r.createSelection(b);if(Hy(r.schema,v)==="imageBlock"){const A=new ts(i.document),E=k.map(I=>A.createElement("figure",{class:"image"},I));f.content=A.createDocumentFragment(E)}}),this.listenTo(d,"contentInsertion",(h,f)=>{f.method==="paste"&&r.change(k=>{const b=k.createRangeIn(f.content);for(const v of b.getItems())v.is("element","imageBlock")&&l.setImageNaturalSizeAttributes(v)})})}}var hP=c(3350),HJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(hP.A,HJ),hP.A.locals;class WJ extends Le{constructor(n,r=[]){super(n),this.focusTracker=new Gn,this.keystrokes=new Io,this._focusables=new xr,this.children=this.createCollection(),this._focusCycler=new Sr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const i of r)this.children.add(i),this._focusables.add(i),i instanceof fK&&this._focusables.addMany(i.children);if(this._focusables.length>1)for(const i of this._focusables)qJ(i)&&(i.focusCycler.on("forwardCycle",l=>{this._focusCycler.focusNext(),l.stop()}),i.focusCycler.on("backwardCycle",l=>{this._focusCycler.focusPrevious(),l.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),xg({view:this});for(const r of this._focusables)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element);const n=r=>r.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function qJ(a){return"focusCycler"in a}class pP extends pe{constructor(n){super(n),this._integrations=new Map,n.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[$o]}init(){const n=this.editor,r=n.model.document.selection,i=n.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(n.model.document,"change",()=>{this.isImageSelected=i.isImage(r.getSelectedElement())});const l=d=>this._createToolbarComponent(d);n.ui.componentFactory.add("insertImage",l),n.ui.componentFactory.add("imageInsert",l)}registerIntegration({name:n,observable:r,buttonViewCreator:i,formViewCreator:l,requiresForm:d}){this._integrations.has(n)&&U("image-insert-integration-exists",{name:n}),this._integrations.set(n,{observable:r,buttonViewCreator:i,formViewCreator:l,requiresForm:!!d})}_createToolbarComponent(n){const r=this.editor,i=n.t,l=this._prepareIntegrations();if(!l.length)return null;let d;const h=l[0];if(l.length==1){if(!h.requiresForm)return h.buttonViewCreator(!0);d=h.buttonViewCreator(!0)}else{const b=h.buttonViewCreator(!1);d=new Yg(n,b),d.tooltip=!0,d.bind("label").to(this,"isImageSelected",v=>i(v?"Replace image":"Insert image"))}const f=this.dropdownView=os(n,d),k=l.map(({observable:b})=>typeof b=="function"?b():b);return f.bind("isEnabled").toMany(k,"isEnabled",(...b)=>b.some(v=>v)),f.once("change:isOpen",()=>{const b=l.map(({formViewCreator:A})=>A(l.length==1)),v=new WJ(r.locale,b);f.panelView.children.add(v)}),f}_prepareIntegrations(){const n=this.editor.config.get("image.insert.integrations"),r=[];if(!n.length)return U("image-insert-integrations-not-specified"),r;for(const i of n)this._integrations.has(i)?r.push(this._integrations.get(i)):["upload","assetManager","url"].includes(i)||U("image-insert-unknown-integration",{item:i});return r.length||U("image-insert-integrations-not-registered"),r}}var fP=c(265),GJ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(fP.A,GJ),fP.A.locals;class KJ extends pe{static get requires(){return[uP,sh,nP,pP]}static get pluginName(){return"ImageBlock"}}class YJ extends pe{static get requires(){return[Wy,aP,$o,dP,Tr]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,r=n.model.schema;r.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),r.addChildCheck((i,l)=>{if(i.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new lP(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,r=n.t,i=n.conversion,l=n.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(d,{writer:h})=>h.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(d,{writer:h})=>l.toImageWidget(function(f){return f.createContainerElement("span",{class:"image-inline"},f.createEmptyElement("img"))}(h),h,r("image widget"))}),i.for("downcast").add(bm(l,"imageInline","src")).add(bm(l,"imageInline","alt")).add(oP(l,"imageInline")),i.for("upcast").elementToElement({view:G4(n,"imageInline"),model:(d,{writer:h})=>h.createElement("imageInline",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const n=this.editor,r=n.model,i=n.editing.view,l=n.plugins.get("ImageUtils"),d=n.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(h,f)=>{const k=Array.from(f.content.getChildren());let b;if(!k.every(l.isBlockImageView))return;b=f.targetRanges?n.editing.mapper.toModelRange(f.targetRanges[0]):r.document.selection.getFirstRange();const v=r.createSelection(b);if(Hy(r.schema,v)==="imageInline"){const A=new ts(i.document),E=k.map(I=>I.childCount===1?(Array.from(I.getAttributes()).forEach(P=>A.setAttribute(...P,l.findViewImgElement(I))),I.getChild(0)):I);f.content=A.createDocumentFragment(E)}}),this.listenTo(d,"contentInsertion",(h,f)=>{f.method==="paste"&&r.change(k=>{const b=k.createRangeIn(f.content);for(const v of b.getItems())v.is("element","imageInline")&&l.setImageNaturalSizeAttributes(v)})})}}class QJ extends pe{static get requires(){return[YJ,sh,nP,pP]}static get pluginName(){return"ImageInline"}}class gP extends pe{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[$o]}getCaptionFromImageModelElement(n){for(const r of n.getChildren())if(r&&r.is("element","caption"))return r;return null}getCaptionFromModelSelection(n){const r=this.editor.plugins.get("ImageUtils"),i=n.getFirstPosition().findAncestor("caption");return i&&r.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(n){const r=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&r.isBlockImageView(n.parent)?{name:!0}:null}}class ZJ extends ct{refresh(){const n=this.editor,r=n.plugins.get("ImageCaptionUtils"),i=n.plugins.get("ImageUtils");if(!n.plugins.has(uP))return this.isEnabled=!1,void(this.value=!1);const l=n.model.document.selection,d=l.getSelectedElement();if(!d){const h=r.getCaptionFromModelSelection(l);return this.isEnabled=!!h,void(this.value=!!h)}this.isEnabled=i.isImage(d),this.isEnabled?this.value=!!r.getCaptionFromImageModelElement(d):this.value=!1}execute(n={}){const{focusCaptionOnShow:r}=n;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,r)})}_showImageCaption(n,r){const i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),d=this.editor.plugins.get("ImageUtils");let h=i.getSelectedElement();const f=l._getSavedCaption(h);d.isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=i.getSelectedElement());const k=f||n.createElement("caption");n.append(k,h),r&&n.setSelection(k,"in")}_hideImageCaption(n){const r=this.editor,i=r.model.document.selection,l=r.plugins.get("ImageCaptionEditing"),d=r.plugins.get("ImageCaptionUtils");let h,f=i.getSelectedElement();f?h=d.getCaptionFromImageModelElement(f):(h=d.getCaptionFromModelSelection(i),f=h.parent),l._saveCaption(f,h),n.setSelection(f,"on"),n.remove(h)}}class JJ extends pe{constructor(n){super(n),this._savedCaptionsMap=new WeakMap}static get requires(){return[$o,gP]}static get pluginName(){return"ImageCaptionEditing"}init(){const n=this.editor,r=n.model.schema;r.isRegistered("caption")?r.extend("caption",{allowIn:"imageBlock"}):r.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new ZJ(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,r=n.editing.view,i=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils"),d=n.t;n.conversion.for("upcast").elementToElement({view:h=>l.matchImageCaptionViewElement(h),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(h,{writer:f})=>i.isBlockImage(h.parent)?f.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(h,{writer:f})=>{if(!i.isBlockImage(h.parent))return null;const k=f.createEditableElement("figcaption");f.setCustomProperty("imageCaption",!0,k),k.placeholder=d("Enter image caption"),NT({view:r,element:k,keepOnFocus:!0});const b=h.parent.getAttribute("alt");return WM(k,f,{label:b?d("Caption for image: %0",[b]):d("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,r=n.plugins.get("ImageUtils"),i=n.plugins.get("ImageCaptionUtils"),l=n.commands.get("imageTypeInline"),d=n.commands.get("imageTypeBlock"),h=f=>{if(!f.return)return;const{oldElement:k,newElement:b}=f.return;if(!k)return;if(r.isBlockImage(k)){const A=i.getCaptionFromImageModelElement(k);if(A)return void this._saveCaption(b,A)}const v=this._getSavedCaption(k);v&&this._saveCaption(b,v)};l&&this.listenTo(l,"execute",h,{priority:"low"}),d&&this.listenTo(d,"execute",h,{priority:"low"})}_getSavedCaption(n){const r=this._savedCaptionsMap.get(n);return r?Ot.fromJSON(r):null}_saveCaption(n,r){this._savedCaptionsMap.set(n,r.toJSON())}_registerCaptionReconversion(){const n=this.editor,r=n.model,i=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils");r.document.on("change:data",()=>{const d=r.document.differ.getChanges();for(const h of d){if(h.attributeKey!=="alt")continue;const f=h.range.start.nodeAfter;if(i.isBlockImage(f)){const k=l.getCaptionFromImageModelElement(f);if(!k)return;n.editing.reconvertItem(k)}}})}}class XJ extends pe{static get requires(){return[gP]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,r=n.editing.view,i=n.plugins.get("ImageCaptionUtils"),l=n.t;n.ui.componentFactory.add("toggleImageCaption",d=>{const h=n.commands.get("toggleImageCaption"),f=new Ct(d);return f.set({icon:Ze.caption,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(h,"value","isEnabled"),f.bind("label").to(h,"value",k=>l(k?"Toggle caption off":"Toggle caption on")),this.listenTo(f,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const k=i.getCaptionFromModelSelection(n.model.document.selection);if(k){const b=n.editing.mapper.toViewElement(k);r.scrollToTheSelection(),r.change(v=>{v.addClass("image__caption_highlighted",b)})}n.editing.view.focus()}),f})}}var mP=c(5247),eX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(mP.A,eX),mP.A.locals;function kP(a){const n=a.map(r=>r.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function tX(a){return new Promise((n,r)=>{const i=a.getAttribute("src");fetch(i).then(l=>l.blob()).then(l=>{const d=bP(l,i),h=d.replace("image/",""),f=new File([l],`image.${h}`,{type:d});n(f)}).catch(l=>l&&l.name==="TypeError"?function(d){return function(h){return new Promise((f,k)=>{const b=m.document.createElement("img");b.addEventListener("load",()=>{const v=m.document.createElement("canvas");v.width=b.width,v.height=b.height,v.getContext("2d").drawImage(b,0,0),v.toBlob(A=>A?f(A):k())}),b.addEventListener("error",()=>k()),b.src=h})}(d).then(h=>{const f=bP(h,d),k=f.replace("image/","");return new File([h],`image.${k}`,{type:f})})}(i).then(n).catch(r):r(l))})}function bP(a,n){return a.type?a.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class nX extends pe{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,r=n.t,i=()=>{const l=this._createButton(zD);return l.set({label:r("Upload image from computer"),tooltip:!0}),l};if(n.ui.componentFactory.add("uploadImage",i),n.ui.componentFactory.add("imageUpload",i),n.ui.componentFactory.add("menuBar:uploadImage",()=>{const l=this._createButton(aM);return l.label=r("Image from computer"),l}),n.plugins.has("ImageInsertUI")){const l=n.plugins.get("ImageInsertUI");l.registerIntegration({name:"upload",observable:()=>n.commands.get("uploadImage"),buttonViewCreator:()=>{const d=n.ui.componentFactory.create("uploadImage");return d.bind("label").to(l,"isImageSelected",h=>r(h?"Replace image from computer":"Upload image from computer")),d},formViewCreator:()=>{const d=n.ui.componentFactory.create("uploadImage");return d.withText=!0,d.bind("label").to(l,"isImageSelected",h=>r(h?"Replace from computer":"Upload from computer")),d.on("execute",()=>{l.dropdownView.isOpen=!1}),d}})}}_createButton(n){const r=this.editor,i=r.locale,l=r.commands.get("uploadImage"),d=r.config.get("image.upload.types"),h=kP(d),f=new n(r.locale),k=i.t;return f.set({acceptedType:d.map(b=>`image/${b}`).join(","),allowMultipleFiles:!0,label:k("Upload image from computer"),icon:Ze.imageUpload}),f.bind("isEnabled").to(l),f.on("done",(b,v)=>{const A=Array.from(v).filter(E=>h.test(E.type));A.length&&(r.execute("uploadImage",{file:A}),r.editing.view.focus())}),f}}var wP=c(2267),oX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(wP.A,oX),wP.A.locals;var vP=c(7693),rX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(vP.A,rX),vP.A.locals;var yP=c(1559),iX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(yP.A,iX),yP.A.locals;class sX extends pe{constructor(n){super(n),this.uploadStatusChange=(r,i,l)=>{const d=this.editor,h=i.item,f=h.getAttribute("uploadId");if(!l.consumable.consume(i.item,r.name))return;const k=d.plugins.get("ImageUtils"),b=d.plugins.get(si),v=f?i.attributeNewValue:null,A=this.placeholder,E=d.editing.mapper.toViewElement(h),I=l.writer;if(v=="reading")return _P(E,I),void CP(k,A,E,I);if(v=="uploading"){const P=b.loaders.get(f);return _P(E,I),void(P?(AP(E,I),function(L,F,W,K){const ee=function(ce){const ve=ce.createUIElement("div",{class:"ck-progress-bar"});return ce.setCustomProperty("progressBar",!0,ve),ve}(F);F.insert(F.createPositionAt(L,"end"),ee),W.on("change:uploadedPercent",(ce,ve,Fe)=>{K.change(ot=>{ot.setStyle("width",Fe+"%",ee)})})}(E,I,P,d.editing.view),function(L,F,W,K){if(K.data){const ee=L.findViewImgElement(F);W.setAttribute("src",K.data,ee)}}(k,E,I,P)):CP(k,A,E,I))}v=="complete"&&b.loaders.get(f)&&function(P,L,F){const W=L.createUIElement("div",{class:"ck-image-upload-complete-icon"});L.insert(L.createPositionAt(P,"end"),W),setTimeout(()=>{F.change(K=>K.remove(K.createRangeOn(W)))},3e3)}(E,I,d.editing.view),function(P,L){EP(P,L,"progressBar")}(E,I),AP(E,I),function(P,L){L.removeClass("ck-appear",P)}(E,I)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function _P(a,n){a.hasClass("ck-appear")||n.addClass("ck-appear",a)}function CP(a,n,r,i){r.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",r);const l=a.findViewImgElement(r);l.getAttribute("src")!==n&&i.setAttribute("src",n,l),xP(r,"placeholder")||i.insert(i.createPositionAfter(l),function(d){const h=d.createUIElement("div",{class:"ck-upload-placeholder-loader"});return d.setCustomProperty("placeholder",!0,h),h}(i))}function AP(a,n){a.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",a),EP(a,n,"placeholder")}function xP(a,n){for(const r of a.getChildren())if(r.getCustomProperty(n))return r}function EP(a,n,r){const i=xP(a,r);i&&n.remove(n.createRangeOn(i))}var aX=Object.defineProperty,lX=Object.defineProperties,cX=Object.getOwnPropertyDescriptors,SP=Object.getOwnPropertySymbols,dX=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,TP=(a,n,r)=>n in a?aX(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r;class hX extends ct{refresh(){const n=this.editor,r=n.plugins.get("ImageUtils"),i=n.model.document.selection.getSelectedElement();this.isEnabled=r.isImageAllowed()||r.isImage(i)}execute(n){const r=Wt(n.file),i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(i.getAttributes());r.forEach((h,f)=>{const k=i.getSelectedElement();if(f&&k&&l.isImage(k)){const b=this.editor.model.createPositionAfter(k);this._uploadImage(h,d,b)}else this._uploadImage(h,d)})}_uploadImage(n,r,i){const l=this.editor,d=l.plugins.get(si).createLoader(n),h=l.plugins.get("ImageUtils");var f,k;d&&h.insertImage((f=((b,v)=>{for(var A in v||(v={}))dX.call(v,A)&&TP(b,A,v[A]);if(SP)for(var A of SP(v))uX.call(v,A)&&TP(b,A,v[A]);return b})({},r),k={uploadId:d.id},lX(f,cX(k))),i)}}class pX extends pe{constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[si,Sy,Tr,$o]}static get pluginName(){return"ImageUploadEditing"}init(){const n=this.editor,r=n.model.document,i=n.conversion,l=n.plugins.get(si),d=n.plugins.get("ImageUtils"),h=n.plugins.get("ClipboardPipeline"),f=kP(n.config.get("image.upload.types")),k=new hX(n);n.commands.add("uploadImage",k),n.commands.add("imageUpload",k),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(b,v)=>{if(A=v.dataTransfer,Array.from(A.types).includes("text/html")&&A.getData("text/html")!=="")return;var A;const E=Array.from(v.dataTransfer.files).filter(I=>!!I&&f.test(I.type));E.length&&(b.stop(),n.model.change(I=>{v.targetRanges&&I.setSelection(v.targetRanges.map(P=>n.editing.mapper.toModelRange(P))),n.execute("uploadImage",{file:E})}))}),this.listenTo(h,"inputTransformation",(b,v)=>{const A=Array.from(n.editing.view.createRangeIn(v.content)).map(I=>I.item).filter(I=>function(P,L){return!(!P.isInlineImageView(L)||!L.getAttribute("src")||!L.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!L.getAttribute("src").match(/^blob:/g))}(d,I)&&!I.getAttribute("uploadProcessed")).map(I=>({promise:tX(I),imageElement:I}));if(!A.length)return;const E=new ts(n.editing.view.document);for(const I of A){E.setAttribute("uploadProcessed",!0,I.imageElement);const P=l.createLoader(I.promise);P&&(E.setAttribute("src","",I.imageElement),E.setAttribute("uploadId",P.id,I.imageElement))}}),n.editing.view.document.on("dragover",(b,v)=>{v.preventDefault()}),r.on("change",()=>{const b=r.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),v=new Set;for(const A of b)if(A.type=="insert"&&A.name!="$text"){const E=A.position.nodeAfter,I=A.position.root.rootName=="$graveyard";for(const P of fX(n,E)){const L=P.getAttribute("uploadId");if(!L)continue;const F=l.loaders.get(L);F&&(I?v.has(L)||F.abort():(v.add(L),this._uploadImageElements.set(L,P),F.status=="idle"&&this._readAndUpload(F)))}}}),this.on("uploadComplete",(b,{imageElement:v,data:A})=>{const E=A.urls?A.urls:A;this.editor.model.change(I=>{I.setAttribute("src",E.default,v),this._parseAndSetSrcsetAttributeOnImage(E,v,I),d.setImageNaturalSizeAttributes(v)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const r=this.editor,i=r.model,l=r.locale.t,d=r.plugins.get(si),h=r.plugins.get(Sy),f=r.plugins.get("ImageUtils"),k=this._uploadImageElements;return i.enqueueChange({isUndoable:!1},v=>{v.setAttribute("uploadStatus","reading",k.get(n.id))}),n.read().then(()=>{const v=n.upload(),A=k.get(n.id);if(_.isSafari){const E=r.editing.mapper.toViewElement(A),I=f.findViewImgElement(E);r.editing.view.once("render",()=>{if(!I.parent)return;const P=r.editing.view.domConverter.mapViewToDom(I.parent);if(!P)return;const L=P.style.display;P.style.display="none",P._ckHack=P.offsetHeight,P.style.display=L})}return r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Uploading image")),i.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","uploading",A)}),v}).then(v=>{i.enqueueChange({isUndoable:!1},A=>{const E=k.get(n.id);A.setAttribute("uploadStatus","complete",E),r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Image upload complete")),this.fire("uploadComplete",{data:v,imageElement:E})}),b()}).catch(v=>{if(r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Error during image upload")),n.status!=="error"&&n.status!=="aborted")throw v;n.status=="error"&&v&&h.showWarning(v,{title:l("Upload failed"),namespace:"upload"}),i.enqueueChange({isUndoable:!1},A=>{A.remove(k.get(n.id))}),b()});function b(){i.enqueueChange({isUndoable:!1},v=>{const A=k.get(n.id);v.removeAttribute("uploadId",A),v.removeAttribute("uploadStatus",A),k.delete(n.id)}),d.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,r,i){let l=0;const d=Object.keys(n).filter(h=>{const f=parseInt(h,10);if(!isNaN(f))return l=Math.max(l,f),!0}).map(h=>`${n[h]} ${h}w`).join(", ");if(d!=""){const h={srcset:d};r.hasAttribute("width")||r.hasAttribute("height")||(h.width=l),i.setAttributes(h,r)}}}function fX(a,n){const r=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(n)).filter(i=>r.isImage(i.item)).map(i=>i.item)}var IP=c(4642),gX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(IP.A,gX),IP.A.locals;var DP=c(3469),mX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(DP.A,mX),DP.A.locals;class kX extends ct{constructor(n,r){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(r.map(i=>{if(i.isDefault)for(const l of i.modelElements)this._defaultStyles[l]=i.name;return[i.name,i]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(n={}){const r=this.editor,i=r.model,l=r.plugins.get("ImageUtils");i.change(d=>{const h=n.value,{setImageSizes:f=!0}=n;let k=l.getClosestSelectedImageElement(i.document.selection);h&&this.shouldConvertImageType(h,k)&&(this.editor.execute(l.isBlockImage(k)?"imageTypeInline":"imageTypeBlock",{setImageSizes:f}),k=l.getClosestSelectedImageElement(i.document.selection)),!h||this._styles.get(h).isDefault?d.removeAttribute("imageStyle",k):d.setAttribute("imageStyle",h,k),f&&l.setImageNaturalSizeAttributes(k)})}shouldConvertImageType(n,r){return!this._styles.get(n).modelElements.includes(r.name)}}var bX=Object.defineProperty,MP=Object.getOwnPropertySymbols,wX=Object.prototype.hasOwnProperty,vX=Object.prototype.propertyIsEnumerable,PP=(a,n,r)=>n in a?bX(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,NP=(a,n)=>{for(var r in n||(n={}))wX.call(n,r)&&PP(a,r,n[r]);if(MP)for(var r of MP(n))vX.call(n,r)&&PP(a,r,n[r]);return a};const{objectFullWidth:yX,objectInline:RP,objectLeft:OP,objectRight:qy,objectCenter:Gy,objectBlockLeft:BP,objectBlockRight:LP}=Ze,vm={get inline(){return{name:"inline",title:"In line",icon:RP,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:OP,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:BP,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Gy,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:qy,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:LP,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Gy,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:qy,modelElements:["imageBlock"],className:"image-style-side"}}},jP={full:yX,left:BP,right:LP,center:Gy,inlineLeft:OP,inlineRight:qy,inline:RP},zP=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function FP(a){U("image-style-configuration-definition-invalid",a)}const Ky={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(n=>function(r){return r=typeof r=="string"?vm[r]?NP({},vm[r]):{name:r}:function(i,l){const d=NP({},l);for(const h in i)Object.prototype.hasOwnProperty.call(l,h)||(d[h]=i[h]);return d}(vm[r.name],r),typeof r.icon=="string"&&(r.icon=jP[r.icon]||r.icon),r}(n)).filter(n=>function(r,{isBlockPluginLoaded:i,isInlinePluginLoaded:l}){const{modelElements:d,name:h}=r;if(!(d&&d.length&&h))return FP({style:r}),!1;{const f=[i?"imageBlock":null,l?"imageInline":null];if(!d.some(k=>f.includes(k)))return U("image-style-missing-dependency",{style:r,missingPlugins:d.map(k=>k==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(n,a))},getDefaultStylesConfiguration:function(a,n){return a&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...zP]:[]},warnInvalidStyle:FP,DEFAULT_OPTIONS:vm,DEFAULT_ICONS:jP,DEFAULT_DROPDOWN_DEFINITIONS:zP};function $P(a,n){for(const r of n)if(r.name===a)return r}class VP extends pe{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[$o]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:r}=Ky,i=this.editor,l=i.plugins.has("ImageBlockEditing"),d=i.plugins.has("ImageInlineEditing");i.config.define("image.styles",r(l,d)),this.normalizedStyles=n({configuredStyles:i.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:d}),this._setupConversion(l,d),this._setupPostFixer(),i.commands.add("imageStyle",new kX(i,this.normalizedStyles))}_setupConversion(n,r){const i=this.editor,l=i.model.schema,d=(h=this.normalizedStyles,(k,b,v)=>{if(!v.consumable.consume(b.item,k.name))return;const A=$P(b.attributeNewValue,h),E=$P(b.attributeOldValue,h),I=v.mapper.toViewElement(b.item),P=v.writer;E&&P.removeClass(E.className,I),A&&P.addClass(A.className,I)});var h;const f=function(k){const b={imageInline:k.filter(v=>!v.isDefault&&v.modelElements.includes("imageInline")),imageBlock:k.filter(v=>!v.isDefault&&v.modelElements.includes("imageBlock"))};return(v,A,E)=>{if(!A.modelRange)return;const I=A.viewItem,P=qn(A.modelRange.getItems());if(P&&E.schema.checkAttribute(P,"imageStyle"))for(const L of b[P.name])E.consumable.consume(I,{classes:L.className})&&E.writer.setAttribute("imageStyle",L.name,P)}}(this.normalizedStyles);i.editing.downcastDispatcher.on("attribute:imageStyle",d),i.data.downcastDispatcher.on("attribute:imageStyle",d),n&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:figure",f,{priority:"low"})),r&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:img",f,{priority:"low"}))}_setupPostFixer(){const n=this.editor,r=n.model.document,i=n.plugins.get($o),l=new Map(this.normalizedStyles.map(d=>[d.name,d]));r.registerPostFixer(d=>{let h=!1;for(const f of r.differ.getChanges())if(f.type=="insert"||f.type=="attribute"&&f.attributeKey=="imageStyle"){let k=f.type=="insert"?f.position.nodeAfter:f.range.start.nodeAfter;if(k&&k.is("element","paragraph")&&k.childCount>0&&(k=k.getChild(0)),!i.isImage(k))continue;const b=k.getAttribute("imageStyle");if(!b)continue;const v=l.get(b);v&&v.modelElements.includes(k.name)||(d.removeAttribute("imageStyle",k),h=!0)}return h})}}var UP=c(6386),_X={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(UP.A,_X),UP.A.locals;class CX extends pe{static get requires(){return[VP]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,r=this.editor.config.get("image.toolbar")||[],i=HP(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const d of i)this._createButton(d);const l=HP([...r.filter(xe),...Ky.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const d of l)this._createDropdown(d,i)}_createDropdown(n,r){const i=this.editor.ui.componentFactory;i.add(n.name,l=>{let d;const{defaultItem:h,items:f,title:k}=n,b=f.filter(I=>r.find(({name:P})=>WP(P)===I)).map(I=>{const P=i.create(I);return I===h&&(d=P),P});f.length!==b.length&&Ky.warnInvalidStyle({dropdown:n});const v=os(l,Yg),A=v.buttonView,E=A.arrowView;return _y(v,b,{enableActiveItemFocusOnDropdownOpen:!0}),A.set({label:qP(k,d.label),class:null,tooltip:!0}),E.unbind("label"),E.set({label:k}),A.bind("icon").toMany(b,"isOn",(...I)=>{const P=I.findIndex(zs);return P<0?d.icon:b[P].icon}),A.bind("label").toMany(b,"isOn",(...I)=>{const P=I.findIndex(zs);return qP(k,P<0?d.label:b[P].label)}),A.bind("isOn").toMany(b,"isOn",(...I)=>I.some(zs)),A.bind("class").toMany(b,"isOn",(...I)=>I.some(zs)?"ck-splitbutton_flatten":void 0),A.on("execute",()=>{b.some(({isOn:I})=>I)?v.isOpen=!v.isOpen:d.fire("execute")}),v.bind("isEnabled").toMany(b,"isEnabled",(...I)=>I.some(zs)),this.listenTo(v,"execute",()=>{this.editor.editing.view.focus()}),v})}_createButton(n){const r=n.name;this.editor.ui.componentFactory.add(WP(r),i=>{const l=this.editor.commands.get("imageStyle"),d=new Ct(i);return d.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",h=>h===r),d.on("execute",this._executeCommand.bind(this,r)),d})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function HP(a,n){for(const r of a)n[r.title]&&(r.title=n[r.title]);return a}function WP(a){return`imageStyle:${a}`}function qP(a,n){return(a?a+": ":"")+n}class AX extends pe{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new ST(n)),n.commands.add("outdent",new ST(n))}}class xX extends pe{static get pluginName(){return"IndentUI"}init(){const n=this.editor,r=n.locale,i=n.t,l=r.uiLanguageDirection=="ltr"?Ze.indent:Ze.outdent,d=r.uiLanguageDirection=="ltr"?Ze.outdent:Ze.indent;this._defineButton("indent",i("Increase indent"),l),this._defineButton("outdent",i("Decrease indent"),d)}_defineButton(n,r,i){const l=this.editor;l.ui.componentFactory.add(n,()=>{const d=this._createButton(Ct,n,r,i);return d.set({tooltip:!0}),d}),l.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(lr,n,r,i))}_createButton(n,r,i,l){const d=this.editor,h=d.commands.get(r),f=new n(d.locale);return f.set({label:i,icon:l}),f.bind("isEnabled").to(h,"isEnabled"),this.listenTo(f,"execute",()=>{d.execute(r),d.editing.view.focus()}),f}}class EX{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(r=>this._definitions.add(r)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(r,i,l)=>{if(!l.consumable.test(i.item,"attribute:linkHref")||!i.item.is("selection")&&!l.schema.isInline(i.item))return;const d=l.writer,h=d.document.selection;for(const f of this._definitions){const k=d.createAttributeElement("a",f.attributes,{priority:5});f.classes&&d.addClass(f.classes,k);for(const b in f.styles)d.setStyle(b,f.styles[b],k);d.setCustomProperty("link",!0,k),f.callback(i.attributeNewValue)?i.item.is("selection")?d.wrap(h.getFirstRange(),k):d.wrap(l.mapper.toViewRange(i.range),k):d.unwrap(l.mapper.toViewRange(i.range),k)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(r,i,{writer:l,mapper:d})=>{const h=d.toViewElement(i.item),f=Array.from(h.getChildren()).find(k=>k.is("element","a"));for(const k of this._definitions){const b=wi(k.attributes);if(k.callback(i.attributeNewValue)){for(const[v,A]of b)v==="class"?l.addClass(A,f):l.setAttribute(v,A,f);k.classes&&l.addClass(k.classes,f);for(const v in k.styles)l.setStyle(v,k.styles[v],f)}else{for(const[v,A]of b)v==="class"?l.removeClass(A,f):l.removeAttribute(v,f);k.classes&&l.removeClass(k.classes,f);for(const v in k.styles)l.removeStyle(v,f)}}})}}}const SX=function(a,n,r){var i=a.length;return r=r===void 0?i:r,!n&&r>=i?a:zT(a,n,r)};var TX=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const GP=function(a){return TX.test(a)},IX=function(a){return a.split("")};var KP="\\ud800-\\udfff",DX="["+KP+"]",Yy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Qy="\\ud83c[\\udffb-\\udfff]",YP="[^"+KP+"]",QP="(?:\\ud83c[\\udde6-\\uddff]){2}",ZP="[\\ud800-\\udbff][\\udc00-\\udfff]",JP="(?:"+Yy+"|"+Qy+")?",XP="[\\ufe0e\\ufe0f]?",MX=XP+JP+("(?:\\u200d(?:"+[YP,QP,ZP].join("|")+")"+XP+JP+")*"),PX="(?:"+[YP+Yy+"?",Yy,QP,ZP,DX].join("|")+")",NX=RegExp(Qy+"(?="+Qy+")|"+PX+MX,"g");const RX=function(a){return a.match(NX)||[]},OX=function(a){return GP(a)?RX(a):IX(a)},BX=function(a){return function(n){n=zv(n);var r=GP(n)?OX(n):void 0,i=r?r[0]:n.charAt(0),l=r?SX(r,1).join(""):n.slice(1);return i[a]()+l}}("toUpperCase"),LX=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,jX=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,zX=/^((\w+:(\/{2,})?)|(\W))/i,FX=["https?","ftps?","mailto"],ym="Ctrl+K";function eN(a,{writer:n}){const r=n.createAttributeElement("a",{href:a},{priority:5});return n.setCustomProperty("link",!0,r),r}function tN(a,n=FX){const r=String(a),i=n.join("|");return function(l,d){return!!l.replace(LX,"").match(d)}(r,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",i)}`,"i"))?r:"#"}function Zy(a,n){return!!a&&n.checkAttribute(a.name,"linkHref")}function Jy(a,n){const r=(i=a,jX.test(i)?"mailto:":n);var i;const l=!!r&&!nN(a);return a&&l?r+a:a}function nN(a){return zX.test(a)}function oN(a){window.open(a,"_blank","noopener")}class $X extends ct{constructor(){super(...arguments),this.manualDecorators=new Xr,this.automaticDecorators=new EX}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,r=n.document.selection,i=r.getSelectedElement()||qn(r.getSelectedBlocks());Zy(i,n.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(i,"linkHref")):(this.value=r.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(r,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(n,r={}){const i=this.editor.model,l=i.document.selection,d=[],h=[];for(const f in r)r[f]?d.push(f):h.push(f);i.change(f=>{if(l.isCollapsed){const k=l.getFirstPosition();if(l.hasAttribute("linkHref")){const b=rN(l);let v=am(k,"linkHref",l.getAttribute("linkHref"),i);l.getAttribute("linkHref")===b&&(v=this._updateLinkContent(i,f,v,n)),f.setAttribute("linkHref",n,v),d.forEach(A=>{f.setAttribute(A,!0,v)}),h.forEach(A=>{f.removeAttribute(A,v)}),f.setSelection(f.createPositionAfter(v.end.nodeBefore))}else if(n!==""){const b=wi(l.getAttributes());b.set("linkHref",n),d.forEach(A=>{b.set(A,!0)});const{end:v}=i.insertContent(f.createText(n,b),k);f.setSelection(v)}["linkHref",...d,...h].forEach(b=>{f.removeSelectionAttribute(b)})}else{const k=i.schema.getValidRanges(l.getRanges(),"linkHref"),b=[];for(const A of l.getSelectedBlocks())i.schema.checkAttribute(A,"linkHref")&&b.push(f.createRangeOn(A));const v=b.slice();for(const A of k)this._isRangeToUpdate(A,b)&&v.push(A);for(const A of v){let E=A;if(v.length===1){const I=rN(l);l.getAttribute("linkHref")===I&&(E=this._updateLinkContent(i,f,A,n),f.setSelection(f.createSelection(E)))}f.setAttribute("linkHref",n,E),d.forEach(I=>{f.setAttribute(I,!0,E)}),h.forEach(I=>{f.removeAttribute(I,E)})}}})}_getDecoratorStateFromModel(n){const r=this.editor.model,i=r.document.selection,l=i.getSelectedElement();return Zy(l,r.schema)?l.getAttribute(n):i.getAttribute(n)}_isRangeToUpdate(n,r){for(const i of r)if(i.containsRange(n))return!1;return!0}_updateLinkContent(n,r,i,l){const d=r.createText(l,{linkHref:l});return n.insertContent(d,i)}}function rN(a){if(a.isCollapsed){const n=a.getFirstPosition();return n.textNode&&n.textNode.data}{const n=Array.from(a.getFirstRange().getItems());if(n.length>1)return null;const r=n[0];return r.is("$text")||r.is("$textProxy")?r.data:null}}class VX extends ct{refresh(){const n=this.editor.model,r=n.document.selection,i=r.getSelectedElement();Zy(i,n.schema)?this.isEnabled=n.schema.checkAttribute(i,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(r,"linkHref")}execute(){const n=this.editor,r=this.editor.model,i=r.document.selection,l=n.commands.get("link");r.change(d=>{const h=i.isCollapsed?[am(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),r)]:r.schema.getValidRanges(i.getRanges(),"linkHref");for(const f of h)if(d.removeAttribute("linkHref",f),l)for(const k of l.manualDecorators)d.removeAttribute(k.id,f)})}}class UX extends Q(){constructor({id:n,label:r,attributes:i,classes:l,styles:d,defaultValue:h}){super(),this.id=n,this.set("value",void 0),this.defaultValue=h,this.label=r,this.attributes=i,this.classes=l,this.styles=d}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var iN=c(7719),HX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(iN.A,HX),iN.A.locals;var WX=Object.defineProperty,sN=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,GX=Object.prototype.propertyIsEnumerable,aN=(a,n,r)=>n in a?WX(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,KX=(a,n)=>{for(var r in n||(n={}))qX.call(n,r)&&aN(a,r,n[r]);if(sN)for(var r of sN(n))GX.call(n,r)&&aN(a,r,n[r]);return a};const lN="automatic",YX=/^(https?:)?\/\//;class cN extends pe{static get pluginName(){return"LinkEditing"}static get requires(){return[RM,SM,Tr]}constructor(n){super(n),n.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const n=this.editor,r=this.editor.config.get("link.allowedProtocols");n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:eN}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,d)=>eN(tN(l,r),d)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),n.commands.add("link",new $X(n)),n.commands.add("unlink",new VX(n));const i=function(l,d){const h={"Open in a new tab":l("Open in a new tab"),Downloadable:l("Downloadable")};return d.forEach(f=>("label"in f&&h[f.label]&&(f.label=h[f.label]),f)),d}(n.t,function(l){const d=[];if(l)for(const[h,f]of Object.entries(l)){const k=Object.assign({},f,{id:`link${BX(h)}`});d.push(k)}return d}(n.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(l=>l.mode===lN)),this._enableManualDecorators(i.filter(l=>l.mode==="manual")),n.plugins.get(RM).registerAttribute("linkHref"),function(l,d,h,f){const k=l.editing.view,b=new Set;k.document.registerPostFixer(v=>{const A=l.model.document.selection;let E=!1;if(A.hasAttribute(d)){const I=am(A.getFirstPosition(),d,A.getAttribute(d),l.model),P=l.editing.mapper.toViewRange(I);for(const L of P.getItems())L.is("element",h)&&!L.hasClass(f)&&(v.addClass(f,L),b.add(L),E=!0)}return E}),l.conversion.for("editingDowncast").add(v=>{function A(){k.change(E=>{for(const I of b.values())E.removeClass(f,I),b.delete(I)})}v.on("insert",A,{priority:"highest"}),v.on("remove",A,{priority:"highest"}),v.on("attribute",A,{priority:"highest"}),v.on("selection",A,{priority:"highest"})})}(n,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const r=this.editor,i=r.commands.get("link").automaticDecorators;r.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:lN,callback:l=>!!l&&YX.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(n),i.length&&r.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const r=this.editor,i=r.commands.get("link").manualDecorators;n.forEach(l=>{r.model.schema.extend("$text",{allowAttributes:l.id});const d=new UX(l);i.add(d),r.conversion.for("downcast").attributeToElement({model:d.id,view:(h,{writer:f,schema:k},{item:b})=>{if((b.is("selection")||k.isInline(b))&&h){const v=f.createAttributeElement("a",d.attributes,{priority:5});d.classes&&f.addClass(d.classes,v);for(const A in d.styles)f.setStyle(A,d.styles[A],v);return f.setCustomProperty("link",!0,v),v}}}),r.conversion.for("upcast").elementToAttribute({view:KX({name:"a"},d._createPattern()),model:{key:d.id}})})}_enableLinkOpen(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"click",(i,l)=>{if(!(_.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let d=l.domTarget;if(d.tagName.toLowerCase()!="a"&&(d=d.closest("a")),!d)return;const h=d.getAttribute("href");h&&(i.stop(),l.preventDefault(),oN(h))},{context:"$capture"}),this.listenTo(r,"keydown",(i,l)=>{const d=n.commands.get("link").value;d&&l.keyCode===kt.enter&&l.altKey&&(i.stop(),oN(d))})}_enableSelectionAttributesFixer(){const n=this.editor.model,r=n.document.selection;this.listenTo(r,"change:attribute",(i,{attributeKeys:l})=>{l.includes("linkHref")&&!r.hasAttribute("linkHref")&&n.change(d=>{var h;(function(f,k){f.removeSelectionAttribute("linkHref");for(const b of k)f.removeSelectionAttribute(b)})(d,(h=n.schema,h.getDefinition("$text").allowAttributes.filter(f=>f.startsWith("link"))))})})}_enableClipboardIntegration(){const n=this.editor,r=n.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(l,d)=>{r.change(h=>{const f=h.createRangeIn(d.content);for(const k of f.getItems())if(k.hasAttribute("linkHref")){const b=Jy(k.getAttribute("linkHref"),i);h.setAttribute("linkHref",b,k)}})})}}var dN=c(3817),QX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(dN.A,QX),dN.A.locals;class ZX extends Le{constructor(n,r,i){super(n),this.focusTracker=new Gn,this.keystrokes=new Io,this._focusables=new xr;const l=n.t;this._validators=i,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),Ze.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(l("Cancel"),Ze.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(r),this.children=this._createFormChildren(r.manualDecorators),this._focusCycler=new Sr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];r.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,r)=>(n[r.name]=r.isOn,n),{})}render(){super.render(),xg({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const n of this._validators){const r=n(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const n=this.locale.t,r=new Gg(this.locale,Qg);return r.label=n("Link URL"),r}_createButton(n,r,i,l){const d=new Ct(this.locale);return d.set({label:n,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}_createManualDecoratorSwitches(n){const r=this.createCollection();for(const i of n.manualDecorators){const l=new Wg(this.locale);l.set({name:i.id,label:i.label,withText:!0}),l.bind("isOn").toMany([i,n],"value",(d,h)=>h===void 0&&d===void 0?!!i.defaultValue:!!d),l.on("execute",()=>{i.set("value",!l.isOn)}),r.add(l)}return r}_createFormChildren(n){const r=this.createCollection();if(r.add(this.urlInputView),n.length){const i=new Le;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),r.add(i)}return r.add(this.saveButtonView),r.add(this.cancelButtonView),r}get url(){const{element:n}=this.urlInputView.fieldView;return n?n.value.trim():null}}var uN=c(8762),JX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(uN.A,JX),uN.A.locals;class XX extends Le{constructor(n,r={}){super(n),this.focusTracker=new Gn,this.keystrokes=new Io,this._focusables=new xr;const i=n.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(i("Edit link"),Ze.pencil,"edit"),this.set("href",void 0),this._linkConfig=r,this._focusCycler=new Sr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,r,i){const l=new Ct(this.locale);return l.set({label:n,icon:r,tooltip:!0}),l.delegate("execute").to(this,i),l}_createPreviewButton(){const n=new Ct(this.locale),r=this.bindTemplate,i=this.t;return n.set({withText:!0,tooltip:i("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:r.to("href",l=>l&&tN(l,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",l=>l||i("This link has no URL")),n.bind("isEnabled").to(this,"href",l=>!!l),n.template.tag="a",n.template.eventListeners={},n}}const Ai="link-ui";class eee extends pe{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[nm]}static get pluginName(){return"LinkUI"}init(){const n=this.editor,r=this.editor.t;n.editing.view.addObserver(GG),this._balloon=n.plugins.get(nm),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:Ai,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:Ai,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Create link"),keystroke:ym},{label:r("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,r=new XX(n.locale,n.config.get("link")),i=n.commands.get("link"),l=n.commands.get("unlink");return r.bind("href").to(i,"value"),r.editButtonView.bind("isEnabled").to(i),r.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(r,"edit",()=>{this._addFormView()}),this.listenTo(r,"unlink",()=>{n.execute("unlink"),this._hideUI()}),r.keystrokes.set("Esc",(d,h)=>{this._hideUI(),h()}),r.keystrokes.set(ym,(d,h)=>{this._addFormView(),h()}),r}_createFormView(){const n=this.editor,r=n.commands.get("link"),i=n.config.get("link.defaultProtocol"),l=new(Rv(ZX))(n.locale,r,function(d){const h=d.t,f=d.config.get("link.allowCreatingEmptyLinks");return[k=>{if(!f&&!k.url.length)return h("Link URL must not be empty.")}]}(n));return l.urlInputView.fieldView.bind("value").to(r,"value"),l.urlInputView.bind("isEnabled").to(r,"isEnabled"),l.saveButtonView.bind("isEnabled").to(r,"isEnabled"),this.listenTo(l,"submit",()=>{if(l.isValid()){const{value:d}=l.urlInputView.fieldView.element,h=Jy(d,i);n.execute("link",h,l.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(l.urlInputView,"change:errorText",()=>{n.ui.update()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(d,h)=>{this._closeFormView(),h()}),l}_createToolbarLinkButton(){const n=this.editor,r=n.commands.get("link");n.ui.componentFactory.add("link",()=>{const i=this._createButton(Ct);return i.set({tooltip:!0,isToggleable:!0}),i.bind("isOn").to(r,"value",l=>!!l),i}),n.ui.componentFactory.add("menuBar:link",()=>this._createButton(lr))}_createButton(n){const r=this.editor,i=r.locale,l=r.commands.get("link"),d=new n(r.locale),h=i.t;return d.set({label:h("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:ym}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",()=>this._showUI(!0)),d}_enableBalloonActivators(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(ym,(i,l)=>{l(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,r)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),r())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,r)=>{this._isUIVisible&&(this._hideUI(),r())}),Ag({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=n.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,r=n.editing.view.document;let i=this._getSelectedLinkElement(),l=h();const d=()=>{const f=this._getSelectedLinkElement(),k=h();i&&!f||!i&&k!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=f,l=k};function h(){return r.selection.focus.getAncestors().reverse().find(f=>f.is("element"))}this.listenTo(n.ui,"update",d),this.listenTo(this._balloon,"change:visibleView",d)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const n=this._balloon.visibleView;return!!this.formView&&n==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,r=this.editor.model,i=n.document;let l;if(r.markers.has(Ai)){const d=Array.from(this.editor.editing.mapper.markerNameToElements(Ai)),h=n.createRange(n.createPositionBefore(d[0]),n.createPositionAfter(d[d.length-1]));l=n.domConverter.viewRangeToDom(h)}else l=()=>{const d=this._getSelectedLinkElement();return d?n.domConverter.mapViewToDom(d):n.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const n=this.editor.editing.view,r=n.document.selection,i=r.getSelectedElement();if(r.isCollapsed||i&&Sn(i))return Xy(r.getFirstPosition());{const l=r.getFirstRange().getTrimmed(),d=Xy(l.start),h=Xy(l.end);return d&&d==h&&n.createRangeIn(d).getTrimmed().isEqual(l)?d:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(r=>{const i=n.document.selection.getFirstRange();if(n.markers.has(Ai))r.updateMarker(Ai,{range:i});else if(i.start.isAtEnd){const l=i.start.getLastMatchingPosition(({item:d})=>!n.schema.isContent(d),{boundaries:i});r.addMarker(Ai,{usingOperation:!1,affectsData:!1,range:r.createRange(l,i.end)})}else r.addMarker(Ai,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(Ai)&&n.change(r=>{r.removeMarker(Ai)})}}function Xy(a){return a.getAncestors().find(n=>{return(r=n).is("attributeElement")&&!!r.getCustomProperty("link");var r})||null}const hN=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class tee extends pe{static get requires(){return[is,cN]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(n,r){return r.textNode&&r.textNode.hasAttribute("linkHref")?am(r,"linkHref",r.textNode.getAttribute("linkHref"),n):null}_selectEntireLinks(n,r){const i=this.editor.model,l=i.document.selection,d=l.getFirstPosition(),h=l.getLastPosition();let f=r.getJoined(this._expandLinkRange(i,d)||r);f&&(f=f.getJoined(this._expandLinkRange(i,h)||r)),f&&(f.start.isBefore(d)||f.end.isAfter(h))&&n.setSelection(f)}_enablePasteLinking(){const n=this.editor,r=n.model,i=r.document.selection,l=n.plugins.get("ClipboardPipeline"),d=n.commands.get("link");l.on("inputTransformation",(h,f)=>{if(!this.isEnabled||!d.isEnabled||i.isCollapsed||f.method!=="paste"||i.rangeCount>1)return;const k=i.getFirstRange(),b=f.dataTransfer.getData("text/plain");if(!b)return;const v=b.match(hN);v&&v[2]===b&&(r.change(A=>{this._selectEntireLinks(A,k),d.execute(b)}),h.stop())},{priority:"high"})}_enableTypingHandling(){const n=this.editor,r=new NM(n.model,i=>{if(!function(d){return d.length>4&&d[d.length-1]===" "&&d[d.length-2]!==" "}(i))return;const l=pN(i.substr(0,i.length-1));return l?{url:l}:void 0});r.on("matched:data",(i,l)=>{const{batch:d,range:h,url:f}=l;if(!d.isTyping)return;const k=h.end.getShiftedBy(-1),b=k.getShiftedBy(-f.length),v=n.model.createRange(b,k);this._applyAutoLink(f,v)}),r.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,r=n.model,i=n.commands.get("enter");i&&i.on("execute",()=>{const l=r.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const d=r.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(d)})}_enableShiftEnterHandling(){const n=this.editor,r=n.model,i=n.commands.get("shiftEnter");i&&i.on("execute",()=>{const l=r.document.selection.getFirstPosition(),d=r.createRange(r.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(d)})}_checkAndApplyAutoLinkOnRange(n){const r=this.editor.model,{text:i,range:l}=PM(n,r),d=pN(i);if(d){const h=r.createRange(l.end.getShiftedBy(-d.length),l.end);this._applyAutoLink(d,h)}}_applyAutoLink(n,r){const i=this.editor.model,l=Jy(n,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(d,h){return h.schema.checkAttributeInSelection(h.createSelection(d),"linkHref")}(r,i)&&nN(l)&&!function(d){const h=d.start.nodeAfter;return!!h&&h.hasAttribute("linkHref")}(r)&&this._persistAutoLink(l,r)}_persistAutoLink(n,r){const i=this.editor.model,l=this.editor.plugins.get("Delete");i.enqueueChange(d=>{d.setAttribute("linkHref",n,r),i.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function pN(a){const n=hN.exec(a);return n?n[2]:null}var fN=c(4808),nee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(fN.A,nee),fN.A.locals;class Dr{constructor(n,r){this._startElement=n,this._referenceIndent=n.getAttribute("listIndent"),this._isForward=r.direction=="forward",this._includeSelf=!!r.includeSelf,this._sameAttributes=Wt(r.sameAttributes||[]),this._sameIndent=!!r.sameIndent,this._lowerIndent=!!r.lowerIndent,this._higherIndent=!!r.higherIndent}static first(n,r){return qn(new this(n,r)[Symbol.iterator]())}*[Symbol.iterator](){const n=[];for(const{node:r}of ch(this._getStartNode(),this._isForward?"forward":"backward")){const i=r.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){n.push(r);continue}}else{if(!this._sameIndent){if(this._higherIndent){n.length&&(yield*n,n.length=0);break}continue}if(this._sameAttributes.some(l=>r.getAttribute(l)!==this._startElement.getAttribute(l)))break}n.length&&(yield*n,n.length=0),yield r}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*ch(a,n="forward"){const r=n=="forward",i=[];let l=null;for(;zn(a);){let d=null;if(l){const h=a.getAttribute("listIndent"),f=l.getAttribute("listIndent");h>f?i[f]=l:h<f?(d=i[h],i.length=h):d=l}yield{node:a,previous:l,previousNodeInList:d},l=a,a=r?a.nextSibling:a.previousSibling}}class oee{constructor(n){this._listHead=n}[Symbol.iterator](){return ch(this._listHead,"forward")}}var ree=Object.defineProperty,iee=Object.defineProperties,see=Object.getOwnPropertyDescriptors,gN=Object.getOwnPropertySymbols,aee=Object.prototype.hasOwnProperty,lee=Object.prototype.propertyIsEnumerable,mN=(a,n,r)=>n in a?ree(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,dh=(a,n)=>{for(var r in n||(n={}))aee.call(n,r)&&mN(a,r,n[r]);if(gN)for(var r of gN(n))lee.call(n,r)&&mN(a,r,n[r]);return a},e_=(a,n)=>iee(a,see(n));class Rc{static next(){return O()}}function zn(a){return!!a&&a.is("element")&&a.hasAttribute("listItemId")}function t_(a,n={}){return[...Ws(a,e_(dh({},n),{direction:"backward"})),...Ws(a,e_(dh({},n),{direction:"forward"}))]}function Ws(a,n={}){const r=n.direction=="forward",i=Array.from(new Dr(a,e_(dh({},n),{includeSelf:r,sameIndent:!0,sameAttributes:"listItemId"})));return r?i:i.reverse()}function kN(a,n){const r=new Dr(a,dh({sameIndent:!0,sameAttributes:"listType"},n)),i=new Dr(a,dh({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},n));return[...Array.from(r).reverse(),...i]}function rl(a){return!Dr.first(a,{sameIndent:!0,sameAttributes:"listItemId"})}function bN(a){return!Dr.first(a,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function uh(a,n={}){a=Wt(a);const r=n.withNested!==!1,i=new Set;for(const l of a)for(const d of t_(l,{higherIndent:r}))i.add(d);return il(i)}function cee(a){a=Wt(a);const n=new Set;for(const r of a)for(const i of kN(r))n.add(i);return il(n)}function n_(a,n){const r=Ws(a,{direction:"forward"}),i=Rc.next();for(const l of r)n.setAttribute("listItemId",i,l);return r}function o_(a,n,r){const i={};for(const[d,h]of n.getAttributes())d.startsWith("list")&&(i[d]=h);const l=Ws(a,{direction:"forward"});for(const d of l)r.setAttributes(i,d);return l}function r_(a,n,{expand:r,indentBy:i=1}={}){a=Wt(a);const l=r?uh(a):a;for(const d of l){const h=d.getAttribute("listIndent")+i;h<0?_m(d,n):n.setAttribute("listIndent",h,d)}return l}function _m(a,n){a=Wt(a);for(const r of a)r.is("element","listItem")&&n.rename(r,"paragraph");for(const r of a)for(const i of r.getAttributeKeys())i.startsWith("list")&&n.removeAttribute(i,r);return a}function hh(a){if(!a.length)return!1;const n=a[0].getAttribute("listItemId");return!!n&&!a.some(r=>r.getAttribute("listItemId")!=n)}function il(a){return Array.from(a).filter(n=>n.root.rootName!=="$graveyard").sort((n,r)=>n.index-r.index)}function ph(a){const n=a.document.selection.getSelectedElement();return n&&a.schema.isObject(n)&&a.schema.isBlock(n)?n:null}function i_(a,n){return n.checkChild(a.parent,"listItem")&&n.checkChild(a,"$text")&&!n.isObject(a)}function dee(a){return a=="numbered"||a=="customNumbered"}function uee(a,n,r){return Ws(n,{direction:"forward"}).pop().index>a.index?o_(a,n,r):[]}class wN extends ct{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,r=vN(n.document.selection);n.change(i=>{const l=[];hh(r)&&!rl(r[0])?(this._direction=="forward"&&l.push(...r_(r,i)),l.push(...n_(r[0],i))):this._direction=="forward"?l.push(...r_(r,i,{expand:!0})):l.push(...function(d,h){const f=uh(d=Wt(d)),k=new Set,b=Math.min(...f.map(A=>A.getAttribute("listIndent"))),v=new Map;for(const A of f)v.set(A,Dr.first(A,{lowerIndent:!0}));for(const A of f){if(k.has(A))continue;k.add(A);const E=A.getAttribute("listIndent")-1;if(E<0)_m(A,h);else{if(A.getAttribute("listIndent")==b){const I=uee(A,v.get(A),h);for(const P of I)k.add(P);if(I.length)continue}h.setAttribute("listIndent",E,A)}}return il(k)}(r,i));for(const d of l){if(!d.hasAttribute("listType"))continue;const h=Dr.first(d,{sameIndent:!0});h&&i.setAttribute("listType",h.getAttribute("listType"),d)}this._fireAfterExecute(l)})}_fireAfterExecute(n){this.fire("afterExecute",il(new Set(n)))}_checkEnabled(){let n=vN(this.editor.model.document.selection),r=n[0];if(!r)return!1;if(this._direction=="backward"||hh(n)&&!rl(n[0]))return!0;n=uh(n),r=n[0];const i=Dr.first(r,{sameIndent:!0});return!!i&&i.getAttribute("listType")==r.getAttribute("listType")}}function vN(a){const n=Array.from(a.getSelectedBlocks()),r=n.findIndex(i=>!zn(i));return r!=-1&&(n.length=r),n}var hee=Object.defineProperty,pee=Object.defineProperties,fee=Object.getOwnPropertyDescriptors,yN=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty,mee=Object.prototype.propertyIsEnumerable,_N=(a,n,r)=>n in a?hee(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,s_=(a,n)=>{for(var r in n||(n={}))gee.call(n,r)&&_N(a,r,n[r]);if(yN)for(var r of yN(n))mee.call(n,r)&&_N(a,r,n[r]);return a},a_=(a,n)=>pee(a,fee(n));class Cm extends ct{constructor(n,r,i={}){super(n),this.type=r,this._listWalkerOptions=i.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const r=this.editor.model,i=r.document,l=ph(r),d=Array.from(i.selection.getSelectedBlocks()).filter(f=>r.schema.checkAttribute(f,"listType")||i_(f,r.schema)),h=n.forceValue!==void 0?!n.forceValue:this.value;r.change(f=>{if(h){const k=d[d.length-1],b=Ws(k,{direction:"forward"}),v=[];b.length>1&&v.push(...n_(b[1],f)),v.push(..._m(d,f)),v.push(...function(A,E){const I=[];let P=Number.POSITIVE_INFINITY;for(const{node:L}of ch(A.nextSibling,"forward")){const F=L.getAttribute("listIndent");if(F==0)break;F<P&&(P=F);const W=F-P;E.setAttribute("listIndent",W,L),I.push(L)}return I}(k,f)),this._fireAfterExecute(v)}else if((l||i.selection.isCollapsed)&&zn(d[0])){const k=kN(l||d[0],this._listWalkerOptions);for(const b of k)f.setAttributes(a_(s_({},n.additionalAttributes),{listType:this.type}),b);this._fireAfterExecute(k)}else{const k=[];for(const b of d)if(b.hasAttribute("listType"))for(const v of uh(b,{withNested:!1}))v.getAttribute("listType")!=this.type&&(f.setAttributes(a_(s_({},n.additionalAttributes),{listType:this.type}),v),k.push(v));else!b.is("element","listItem")&&i_(b,r.schema)&&f.rename(b,"listItem"),f.setAttributes(a_(s_({},n.additionalAttributes),{listIndent:0,listItemId:Rc.next(),listType:this.type}),b),k.push(b);this._fireAfterExecute(k)}})}_fireAfterExecute(n){this.fire("afterExecute",il(new Set(n)))}_getValue(){const n=this.editor.model.document.selection,r=Array.from(n.getSelectedBlocks());if(!r.length)return!1;for(const i of r)if(i.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const n=this.editor.model,r=n.schema,i=n.document.selection,l=Array.from(i.getSelectedBlocks());if(!l.length)return!1;if(this.value)return!0;for(const d of l)if(r.checkAttribute(d,"listType")||i_(d,r))return!0;return!1}}class CN extends ct{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:n=!1}={}){const r=this.editor.model,i=r.document.selection,l=[];r.change(d=>{const{firstElement:h,lastElement:f}=this._getMergeSubjectElements(i,n),k=h.getAttribute("listIndent")||0,b=f.getAttribute("listIndent"),v=f.getAttribute("listItemId");if(k!=b){const E=(A=f,Array.from(new Dr(A,{direction:"forward",higherIndent:!0})));l.push(...r_([f,...E],d,{indentBy:k-b,expand:k<b}))}var A;if(n){let E=i;i.isCollapsed&&(E=d.createSelection(d.createRange(d.createPositionAt(h,"end"),d.createPositionAt(f,0)))),r.deleteContent(E,{doNotResetEntireContent:i.isCollapsed});const I=E.getLastPosition().parent,P=I.nextSibling;l.push(I),P&&P!==f&&P.getAttribute("listItemId")==v&&l.push(...o_(P,I,d))}else l.push(...o_(f,h,d));this._fireAfterExecute(l)})}_fireAfterExecute(n){this.fire("afterExecute",il(new Set(n)))}_checkEnabled(){const n=this.editor.model,r=n.document.selection,i=ph(n);if(r.isCollapsed||i){const l=i||r.getFirstPosition().parent;if(!zn(l))return!1;const d=this._direction=="backward"?l.previousSibling:l.nextSibling;if(!d||hh([l,d]))return!1}else{const l=r.getLastPosition(),d=r.getFirstPosition();if(l.parent===d.parent||!zn(l.parent))return!1}return!0}_getMergeSubjectElements(n,r){const i=ph(this.editor.model);let l,d;if(n.isCollapsed||i){const h=i||n.getFirstPosition().parent,f=rl(h);this._direction=="backward"?(d=h,l=f&&!r?Dr.first(h,{sameIndent:!0,lowerIndent:!0}):h.previousSibling):(l=h,d=h.nextSibling)}else l=n.getFirstPosition().parent,d=n.getLastPosition().parent;return{firstElement:l,lastElement:d}}}class AN extends ct{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(n=>{const r=n_(this._getStartBlock(),n);this._fireAfterExecute(r)})}_fireAfterExecute(n){this.fire("afterExecute",il(new Set(n)))}_checkEnabled(){const n=this.editor.model.document.selection,r=this._getStartBlock();return n.isCollapsed&&zn(r)&&!rl(r)}_getStartBlock(){const n=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?n:n.nextSibling}}class kee extends pe{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(n){return cee(n)}isFirstBlockOfListItem(n){return rl(n)}isListItemBlock(n){return zn(n)}expandListBlocksToCompleteItems(n,r={}){return uh(n,r)}isNumberedListType(n){return dee(n)}}function xN(a){return a.is("element","ol")||a.is("element","ul")}function Am(a){return a.is("element","li")}function bee(a,n,r,i=SN(r,n)){return a.createAttributeElement(EN(r),null,{priority:2*n/100-100,id:i})}function wee(a,n,r){return a.createAttributeElement("li",null,{priority:(2*n+1)/100-100,id:r})}function EN(a){return a=="numbered"||a=="customNumbered"?"ol":"ul"}function SN(a,n){return`list-${a}-${n}`}function ai(a,n){const r=a.nodeBefore;if(zn(r)){let i=r;for(const{node:l}of ch(i,"backward"))if(i=l,n.has(i))return;n.set(r,i)}else{const i=a.nodeAfter;zn(i)&&n.set(i,i)}}function vee(){return(a,n,r)=>{const{writer:i,schema:l}=r;if(!n.modelRange)return;const d=Array.from(n.modelRange.getItems({shallow:!0})).filter(A=>l.checkAttribute(A,"listItemId"));if(!d.length)return;const h=Rc.next(),f=function(A){let E=0,I=A.parent;for(;I;){if(Am(I))E++;else{const P=I.previousSibling;P&&Am(P)&&E++}I=I.parent}return E}(n.viewItem);let k=n.viewItem.parent&&n.viewItem.parent.is("element","ol")?"numbered":"bulleted";const b=d[0].getAttribute("listType");b&&(k=b);const v={listItemId:h,listIndent:f,listType:k};for(const A of d)A.hasAttribute("listItemId")||i.setAttributes(v,A);d.length>1&&d[1].getAttribute("listItemId")!=v.listItemId&&r.keepEmptyElement(d[0])}}function TN(){return(a,n,r)=>{if(!r.consumable.test(n.viewItem,{name:!0}))return;const i=new ts(n.viewItem.document);for(const l of Array.from(n.viewItem.getChildren()))Am(l)||xN(l)||i.remove(l)}}function IN(a,n,r,{dataPipeline:i}={}){const l=function(d){return(h,f)=>{const k=[];for(const b of d)h.hasAttribute(b)&&k.push(`attribute:${b}`);return!!k.every(b=>f.test(h,b)!==!1)&&(k.forEach(b=>f.consume(h,b)),!0)}}(a);return(d,h,f)=>{const{writer:k,mapper:b,consumable:v}=f,A=h.item;if(!a.includes(h.attributeKey)||!l(A,v))return;const E=function(P,L,F){const W=F.createRangeOn(P);return L.toViewRange(W).getTrimmed().end.nodeBefore}(A,b,r);MN(E,k,b),function(P,L){let F=P.parent;for(;F.is("attributeElement")&&["ul","ol","li"].includes(F.name);){const W=F.parent;L.unwrap(L.createRangeOn(P),F),F=W}}(E,k);const I=function(P,L,F,W,{dataPipeline:K}){let ee=W.createRangeOn(L);if(!rl(P))return ee;for(const ce of F){if(ce.scope!="itemMarker")continue;const ve=ce.createElement(W,P,{dataPipeline:K});if(!ve||(W.setCustomProperty("listItemMarker",!0,ve),ce.canInjectMarkerIntoElement&&ce.canInjectMarkerIntoElement(P)?W.insert(W.createPositionAt(L,0),ve):(W.insert(ee.start,ve),ee=W.createRange(W.createPositionBefore(ve),W.createPositionAfter(L))),!ce.createWrapperElement||!ce.canWrapElement))continue;const Fe=ce.createWrapperElement(W,P,{dataPipeline:K});W.setCustomProperty("listItemWrapper",!0,Fe),ce.canWrapElement(P)?ee=W.wrap(ee,Fe):(ee=W.wrap(W.createRangeOn(ve),Fe),ee=W.createRange(ee.start,W.createPositionAfter(L)))}return ee}(A,E,n,k,{dataPipeline:i});(function(P,L,F,W){if(!P.hasAttribute("listIndent"))return;const K=P.getAttribute("listIndent");let ee=P;for(let ce=K;ce>=0;ce--){const ve=wee(W,ce,ee.getAttribute("listItemId")),Fe=bee(W,ce,ee.getAttribute("listType"));for(const ot of F)ot.scope!="list"&&ot.scope!="item"||!ee.hasAttribute(ot.attributeName)||ot.setAttributeOnDowncast(W,ee.getAttribute(ot.attributeName),ot.scope=="list"?Fe:ve);if(L=W.wrap(L,ve),L=W.wrap(L,Fe),ce==0||(ee=Dr.first(ee,{lowerIndent:!0}),!ee))break}})(A,I,n,k)}}function DN(a,{dataPipeline:n}={}){return(r,{writer:i})=>{if(!PN(r,a))return null;if(!n)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const l=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,l),l}}function MN(a,n,r){for(;a.parent.is("attributeElement")&&a.parent.getCustomProperty("listItemWrapper");)n.unwrap(n.createRangeOn(a),a.parent);const i=[];l(n.createPositionBefore(a).getWalker({direction:"backward"})),l(n.createRangeIn(a).getWalker());for(const d of i)n.remove(d);function l(d){for(const{item:h}of d){if(h.is("element")&&r.toModelElement(h))break;h.is("element")&&h.getCustomProperty("listItemMarker")&&i.push(h)}}}function PN(a,n,r=t_(a)){if(!zn(a))return!1;for(const i of a.getAttributeKeys())if(!i.startsWith("selection:")&&!n.includes(i))return!1;return r.length<2}var NN=c(1232),yee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(NN.A,yee),NN.A.locals;var RN=c(6903),_ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(RN.A,_ee),RN.A.locals;const xm=["listType","listIndent","listItemId"];class Cee extends pe{constructor(n){super(n),this._downcastStrategies=[],n.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[lm,is,kee,Tr]}init(){const n=this.editor,r=n.model,i=n.config.get("list.multiBlock");if(n.plugins.has("LegacyListEditing"))throw new M("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});r.schema.register("$listItem",{allowAttributes:xm}),i?(r.schema.extend("$container",{allowAttributesOf:"$listItem"}),r.schema.extend("$block",{allowAttributesOf:"$listItem"}),r.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):r.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const l of xm)r.schema.setAttributeProperties(l,{copyOnReplace:!0});n.commands.add("numberedList",new Cm(n,"numbered")),n.commands.add("bulletedList",new Cm(n,"bulleted")),n.commands.add("customNumberedList",new Cm(n,"customNumbered",{multiLevel:!0})),n.commands.add("customBulletedList",new Cm(n,"customBulleted",{multiLevel:!0})),n.commands.add("indentList",new wN(n,"forward")),n.commands.add("outdentList",new wN(n,"backward")),n.commands.add("splitListItemBefore",new AN(n,"before")),n.commands.add("splitListItemAfter",new AN(n,"after")),i&&(n.commands.add("mergeListItemBackward",new CN(n,"backward")),n.commands.add("mergeListItemForward",new CN(n,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const n=this.editor.commands,r=n.get("indent"),i=n.get("outdent");r&&r.registerChildCommand(n.get("indentList"),{priority:"high"}),i&&i.registerChildCommand(n.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(n){this._downcastStrategies.push(n)}getListAttributeNames(){return[...xm,...this._downcastStrategies.map(n=>n.attributeName)]}_setupDeleteIntegration(){const n=this.editor,r=n.commands.get("mergeListItemBackward"),i=n.commands.get("mergeListItemForward");this.listenTo(n.editing.view.document,"delete",(l,d)=>{const h=n.model.document.selection;ph(n.model)||n.model.change(()=>{const f=h.getFirstPosition();if(h.isCollapsed&&d.direction=="backward"){if(!f.isAtStart)return;const k=f.parent;if(!zn(k))return;if(Dr.first(k,{sameAttributes:"listType",sameIndent:!0})||k.getAttribute("listIndent")!==0){if(!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:ON(n.model,"backward")})}else bN(k)||n.execute("splitListItemAfter"),n.execute("outdentList");d.preventDefault(),l.stop()}else{if(h.isCollapsed&&!h.getLastPosition().isAtEnd||!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:ON(n.model,"forward")}),d.preventDefault(),l.stop()}})},{context:"li"})}_setupEnterIntegration(){const n=this.editor,r=n.model,i=n.commands,l=i.get("enter");this.listenTo(n.editing.view.document,"enter",(d,h)=>{const f=r.document,k=f.selection.getFirstPosition().parent;if(f.selection.isCollapsed&&zn(k)&&k.isEmpty&&!h.isSoft){const b=rl(k),v=bN(k);b&&v?(n.execute("outdentList"),h.preventDefault(),d.stop()):b&&!v?(n.execute("splitListItemAfter"),h.preventDefault(),d.stop()):v&&(n.execute("splitListItemBefore"),h.preventDefault(),d.stop())}},{context:"li"}),this.listenTo(l,"afterExecute",()=>{const d=i.get("splitListItemBefore");d.refresh(),d.isEnabled&&t_(n.model.document.selection.getLastPosition().parent).length===2&&d.execute()})}_setupTabIntegration(){const n=this.editor;this.listenTo(n.editing.view.document,"tab",(r,i)=>{const l=i.shiftKey?"outdentList":"indentList";this.editor.commands.get(l).isEnabled&&(n.execute(l),i.stopPropagation(),i.preventDefault(),r.stop())},{context:"li"})}_setupConversion(){const n=this.editor,r=n.model,i=this.getListAttributeNames(),l=n.config.get("list.multiBlock"),d=l?"paragraph":"listItem";n.conversion.for("upcast").elementToElement({view:"li",model:(b,{writer:v})=>v.createElement(d,{listType:""})}).elementToElement({view:"p",model:(b,{writer:v})=>b.parent&&b.parent.is("element","li")?v.createElement(d,{listType:""}):null,converterPriority:"high"}).add(b=>{b.on("element:li",vee()),b.on("element:ul",TN(),{priority:"high"}),b.on("element:ol",TN(),{priority:"high"})}),l||n.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),n.conversion.for("editingDowncast").elementToElement({model:d,view:DN(i),converterPriority:"high"}).add(b=>{var v;b.on("attribute",IN(i,this._downcastStrategies,r)),b.on("remove",(v=r.schema,(A,E,I)=>{const{writer:P,mapper:L}=I,F=A.name.split(":")[1];if(!v.checkAttribute(F,"listItemId"))return;const W=L.toViewPosition(E.position),K=E.position.getShiftedBy(E.length),ee=L.toViewPosition(K,{isPhantom:!0}),ce=P.createRange(W,ee).getTrimmed().end.nodeBefore;ce&&MN(ce,P,L)}))}),n.conversion.for("dataDowncast").elementToElement({model:d,view:DN(i,{dataPipeline:!0}),converterPriority:"high"}).add(b=>{b.on("attribute",IN(i,this._downcastStrategies,r,{dataPipeline:!0}))});const h=(f=this._downcastStrategies,k=n.editing.view,(b,v)=>{if(v.modelPosition.offset>0)return;const A=v.modelPosition.parent;if(!zn(A)||!f.some(F=>F.scope=="itemMarker"&&F.canInjectMarkerIntoElement&&F.canInjectMarkerIntoElement(A)))return;const E=v.mapper.toViewElement(A),I=k.createRangeIn(E),P=I.getWalker();let L=I.start;for(const{item:F}of P){if(F.is("element")&&v.mapper.toModelElement(F)||F.is("$textProxy"))break;F.is("element")&&F.getCustomProperty("listItemMarker")&&(L=k.createPositionAfter(F),P.skip(({previousPosition:W})=>!W.isEqual(L)))}v.viewPosition=L});var f,k;n.editing.mapper.on("modelToViewPosition",h),n.data.mapper.on("modelToViewPosition",h),this.listenTo(r.document,"change:data",function(b,v,A,E){return()=>{const F=b.document.differ.getChanges(),W=[],K=new Map,ee=new Set;for(const ce of F)if(ce.type=="insert"&&ce.name!="$text")ai(ce.position,K),ce.attributes.has("listItemId")?ee.add(ce.position.nodeAfter):ai(ce.position.getShiftedBy(ce.length),K);else if(ce.type=="remove"&&ce.attributes.has("listItemId"))ai(ce.position,K);else if(ce.type=="attribute"){const ve=ce.range.start.nodeAfter;A.includes(ce.attributeKey)?(ai(ce.range.start,K),ce.attributeNewValue===null?(ai(ce.range.start.getShiftedBy(1),K),P(ve)&&W.push(ve)):ee.add(ve)):zn(ve)&&P(ve)&&W.push(ve)}for(const ce of K.values())W.push(...I(ce,ee));for(const ce of new Set(W))v.reconvertItem(ce)};function I(F,W){const K=[],ee=new Set,ce=[];for(const{node:ve,previous:Fe}of ch(F,"forward")){if(ee.has(ve))continue;const ot=ve.getAttribute("listIndent");Fe&&ot<Fe.getAttribute("listIndent")&&(ce.length=ot+1),ce[ot]=Object.fromEntries(Array.from(ve.getAttributes()).filter(([Fn])=>A.includes(Fn)));const qt=Ws(ve,{direction:"forward"});for(const Fn of qt)ee.add(Fn),(P(Fn,qt)||L(Fn,ce,W))&&K.push(Fn)}return K}function P(F,W){const K=v.mapper.toViewElement(F);if(!K)return!1;if(E.fire("checkElement",{modelElement:F,viewElement:K}))return!0;if(!F.is("element","paragraph")&&!F.is("element","listItem"))return!1;const ee=PN(F,A,W);return!(!ee||!K.is("element","p"))||!(ee||!K.is("element","span"))}function L(F,W,K){if(K.has(F))return!1;const ee=v.mapper.toViewElement(F);let ce=W.length-1;for(let ve=ee.parent;!ve.is("editableElement");ve=ve.parent){const Fe=Am(ve),ot=xN(ve);if(!ot&&!Fe)continue;const qt="checkAttributes:"+(Fe?"item":"list");if(E.fire(qt,{viewElement:ve,modelAttributes:W[ce]}))break;if(ot&&(ce--,ce<0))return!1}return!0}}(r,n.editing,i,this),{priority:"high"}),this.on("checkAttributes:item",(b,{viewElement:v,modelAttributes:A})=>{v.id!=A.listItemId&&(b.return=!0,b.stop())}),this.on("checkAttributes:list",(b,{viewElement:v,modelAttributes:A})=>{v.name==EN(A.listType)&&v.id==SN(A.listType,A.listIndent)||(b.return=!0,b.stop())})}_setupModelPostFixing(){const n=this.editor.model,r=this.getListAttributeNames();n.document.registerPostFixer(i=>function(l,d,h,f){const k=l.document.differ.getChanges(),b=new Map,v=f.editor.config.get("list.multiBlock");let A=!1;for(const I of k){if(I.type=="insert"&&I.name!="$text"){const P=I.position.nodeAfter;if(!l.schema.checkAttribute(P,"listItemId"))for(const L of Array.from(P.getAttributeKeys()))h.includes(L)&&(d.removeAttribute(L,P),A=!0);ai(I.position,b),I.attributes.has("listItemId")||ai(I.position.getShiftedBy(I.length),b);for(const{item:L,previousPosition:F}of l.createRangeIn(P))zn(L)&&ai(F,b)}else I.type=="remove"?ai(I.position,b):I.type=="attribute"&&h.includes(I.attributeKey)&&(ai(I.range.start,b),I.attributeNewValue===null&&ai(I.range.start.getShiftedBy(1),b));if(!v&&I.type=="attribute"&&xm.includes(I.attributeKey)){const P=I.range.start.nodeAfter;I.attributeNewValue===null&&P&&P.is("element","listItem")?(d.rename(P,"paragraph"),A=!0):I.attributeOldValue===null&&P&&P.is("element")&&P.name!="listItem"&&(d.rename(P,"listItem"),A=!0)}}const E=new Set;for(const I of b.values())A=f.fire("postFixer",{listNodes:new oee(I),listHead:I,writer:d,seenIds:E})||A;return A}(n,i,r,this)),this.on("postFixer",(i,{listNodes:l,writer:d})=>{i.return=function(h,f){let k=0,b=-1,v=null,A=!1;for(const{node:E}of h){const I=E.getAttribute("listIndent");if(I>k){let P;v===null?(v=I-k,P=k):(v>I&&(v=I),P=I-v),P>b+1&&(P=b+1),f.setAttribute("listIndent",P,E),A=!0,b=P}else v=null,k=I+1,b=I}return A}(l,d)||i.return},{priority:"high"}),this.on("postFixer",(i,{listNodes:l,writer:d,seenIds:h})=>{i.return=function(f,k,b){const v=new Set;let A=!1;for(const{node:E}of f){if(v.has(E))continue;let I=E.getAttribute("listType"),P=E.getAttribute("listItemId");if(k.has(P)&&(P=Rc.next()),k.add(P),E.is("element","listItem"))E.getAttribute("listItemId")!=P&&(b.setAttribute("listItemId",P,E),A=!0);else for(const L of Ws(E,{direction:"forward"}))v.add(L),L.getAttribute("listType")!=I&&(P=Rc.next(),I=L.getAttribute("listType")),L.getAttribute("listItemId")!=P&&(b.setAttribute("listItemId",P,L),A=!0)}return A}(l,h,d)||i.return},{priority:"high"})}_setupClipboardIntegration(){const n=this.editor.model,r=this.editor.plugins.get("ClipboardPipeline");this.listenTo(n,"insertContent",function(i){return(l,[d,h])=>{const f=d.is("documentFragment")?Array.from(d.getChildren()):[d];if(!f.length)return;const k=(h?i.createSelection(h):i.document.selection).getFirstPosition();let b;if(zn(k.parent))b=k.parent;else{if(!zn(k.nodeBefore))return;b=k.nodeBefore}i.change(v=>{const A=b.getAttribute("listType"),E=b.getAttribute("listIndent"),I=f[0].getAttribute("listIndent")||0,P=Math.max(E-I,0);for(const L of f){const F=zn(L);b.is("element","listItem")&&L.is("element","paragraph")&&v.rename(L,"listItem"),v.setAttributes({listIndent:(F?L.getAttribute("listIndent"):0)+P,listItemId:F?L.getAttribute("listItemId"):Rc.next(),listType:A},L)}})}}(n),{priority:"high"}),this.listenTo(r,"outputTransformation",(i,l)=>{n.change(d=>{const h=Array.from(l.content.getChildren()),f=h[h.length-1];if(h.length>1&&f.is("element")&&f.isEmpty&&h.slice(0,-1).every(zn)&&d.remove(f),l.method=="copy"||l.method=="cut"){const k=Array.from(l.content.getChildren());hh(k)&&_m(k,d)}})})}_setupAccessibilityIntegration(){const n=this.editor,r=n.t;n.accessibility.addKeystrokeInfoGroup({id:"list",label:r("Keystrokes that can be used in a list"),keystrokes:[{label:r("Increase list item indent"),keystroke:"Tab"},{label:r("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function ON(a,n){const r=a.document.selection;if(!r.isCollapsed)return!ph(a);if(n==="forward")return!0;const i=r.getFirstPosition().parent,l=i.previousSibling;return!a.schema.isObject(l)&&(!!l.isEmpty||hh([i,l]))}function BN(a,n,r,i){a.ui.componentFactory.add(n,()=>{const l=LN(Ct,a,n,r,i);return l.set({tooltip:!0,isToggleable:!0}),l}),a.ui.componentFactory.add(`menuBar:${n}`,()=>LN(lr,a,n,r,i))}function LN(a,n,r,i,l){const d=n.commands.get(r),h=new a(n.locale);return h.set({label:i,icon:l}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),h.on("execute",()=>{n.execute(r),n.editing.view.focus()}),h}class Aee extends pe{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||BN(this.editor,"numberedList",n("Numbered List"),Ze.numberedList),this.editor.ui.componentFactory.has("bulletedList")||BN(this.editor,"bulletedList",n("Bulleted List"),Ze.bulletedList)}}class xee extends pe{static get requires(){return[Cee,Aee]}static get pluginName(){return"List"}}const Eee=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:a,typeAttribute:n,listType:r}of Eee);var jN=c(9968),See={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(jN.A,See),jN.A.locals;var zN=c(7141),Tee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(zN.A,Tee),zN.A.locals,Bu("Ctrl+Enter");var FN=c(8991),Iee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(FN.A,Iee),FN.A.locals,Bu("Ctrl+Enter");function $N(a,n){const r=(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const h=l.attributeNewValue,f=d.writer,k=d.mapper.toViewElement(l.item),b=[...k.getChildren()].find(A=>A.getCustomProperty("media-content"));f.remove(b);const v=a.getMediaViewElement(f,h,n);f.insert(f.createPositionAt(k,0),v)};return i=>{i.on("attribute:url:media",r)}}function VN(a,n,r,i){return a.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(a,r,i),a.createSlot()])}function UN(a){const n=a.getSelectedElement();return n&&n.is("element","media")?n:null}function HN(a,n,r,i){a.change(l=>{const d=l.createElement("media",{url:n});a.insertObject(d,r,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})})}class Dee extends ct{refresh(){const n=this.editor.model,r=n.document.selection,i=UN(r);this.value=i?i.getAttribute("url"):void 0,this.isEnabled=function(l){const d=l.getSelectedElement();return!!d&&d.name==="media"}(r)||function(l,d){let f=qM(l,d).start.parent;return f.isEmpty&&!d.schema.isLimit(f)&&(f=f.parent),d.schema.checkChild(f,"media")}(r,n)}execute(n){const r=this.editor.model,i=r.document.selection,l=UN(i);l?r.change(d=>{d.setAttribute("url",n,l)}):HN(r,n,i,!0)}}class Mee{constructor(n,r){const i=r.providers,l=r.extraProviders||[],d=new Set(r.removeProviders),h=i.concat(l).filter(f=>{const k=f.name;return k?!d.has(k):(U("media-embed-no-provider-name",{provider:f}),!1)});this.locale=n,this.providerDefinitions=h}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,r,i){return this._getMedia(r).getViewElement(n,i)}_getMedia(n){if(!n)return new WN(this.locale);n=n.trim();for(const r of this.providerDefinitions){const i=r.html,l=Wt(r.url);for(const d of l){const h=this._getUrlMatches(n,d);if(h)return new WN(this.locale,n,h,i)}}return null}_getUrlMatches(n,r){let i=n.match(r);if(i)return i;let l=n.replace(/^https?:\/\//,"");return i=l.match(r),i||(l=l.replace(/^www\./,""),i=l.match(r),i||null)}}class WN{constructor(n,r,i,l){this.url=this._getValidUrl(r),this._locale=n,this._match=i,this._previewRenderer=l}getViewElement(n,r){const i={};let l;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),r.renderForEditingView&&(i.class="ck-media__wrapper");const d=this._getPreviewHtml(r);l=n.createRawElement("div",i,(h,f)=>{f.setContentOf(h,d)})}else this.url&&(i.url=this.url),l=n.createEmptyElement(r.elementName,i);return n.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new ns,r=this._locale.t;return n.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',n.viewBox="0 0 64 42",new ei({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":r("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var qN=c(7048),Pee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(qN.A,Pee),qN.A.locals;class Em extends pe{constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:r=>{const i=r[1],l=r[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${i}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Mee(n.locale,n.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const n=this.editor,r=n.model.schema,i=n.t,l=n.conversion,d=n.config.get("mediaEmbed.previewsInData"),h=n.config.get("mediaEmbed.elementName"),f=this.registry;n.commands.add("mediaEmbed",new Dee(n)),r.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(k,{writer:b})=>{const v=k.getAttribute("url");return VN(b,f,v,{elementName:h,renderMediaPreview:!!v&&d})}}),l.for("dataDowncast").add($N(f,{elementName:h,renderMediaPreview:d})),l.for("editingDowncast").elementToStructure({model:"media",view:(k,{writer:b})=>{const v=k.getAttribute("url");return function(A,E,I){return E.setCustomProperty("media",!0,A),By(A,E,{label:I})}(VN(b,f,v,{elementName:h,renderForEditingView:!0}),b,i("media widget"))}}),l.for("editingDowncast").add($N(f,{elementName:h,renderForEditingView:!0})),l.for("upcast").elementToElement({view:k=>["oembed",h].includes(k.name)&&k.getAttribute("url")?{name:!0}:null,model:(k,{writer:b})=>{const v=k.getAttribute("url");return f.hasMedia(v)?b.createElement("media",{url:v}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(k,{writer:b})=>{const v=k.getAttribute("data-oembed-url");return f.hasMedia(v)?b.createElement("media",{url:v}):null}}).add(k=>{k.on("element:figure",(b,v,A)=>{if(!A.consumable.consume(v.viewItem,{name:!0,classes:"media"}))return;const{modelRange:E,modelCursor:I}=A.convertChildren(v.viewItem,v.modelCursor);v.modelRange=E,v.modelCursor=I,qn(E.getItems())||A.consumable.revert(v.viewItem,{name:!0,classes:"media"})})})}}const Nee=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Ree extends pe{constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[u4,is,m4]}static get pluginName(){return"AutoMediaEmbed"}init(){const n=this.editor,r=n.model.document,i=n.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",()=>{const l=r.selection.getFirstRange(),d=no.fromPosition(l.start);d.stickiness="toPrevious";const h=no.fromPosition(l.end);h.stickiness="toNext",r.once("change:data",()=>{this._embedMediaBetweenPositions(d,h),d.detach(),h.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(m.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,r){const i=this.editor,l=i.plugins.get(Em).registry,d=new sr(n,r),h=d.getWalker({ignoreElementEnd:!0});let f="";for(const k of h)k.item.is("$textProxy")&&(f+=k.item.data);if(f=f.trim(),!f.match(Nee)||!l.hasMedia(f))return void d.detach();i.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=no.fromPosition(n),this._timeoutId=m.window.setTimeout(()=>{i.model.change(k=>{this._timeoutId=null,k.remove(d),d.detach();let b=null;this._positionToInsert.root.rootName!=="$graveyard"&&(b=this._positionToInsert),HN(i.model,f,b,!1),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get(is).requestUndoOnBackspace()},100)):d.detach()}}var GN=c(5651),Oee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(GN.A,Oee),GN.A.locals;class Bee extends Le{constructor(n,r){super(r);const i=r.t;this.focusTracker=new Gn,this.keystrokes=new Io,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),Ze.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Ze.cancel,"ck-button-cancel","cancel"),this._focusables=new xr,this._focusCycler=new Sr({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),xg({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element);const n=r=>r.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const r=n(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,r=new Gg(this.locale,Qg),i=r.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),r.label=n("Media URL"),r.infoText=this._urlInputViewInfoDefault,i.on("input",()=>{r.infoText=i.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=i.element.value.trim()}),r}_createButton(n,r,i,l){const d=new Ct(this.locale);return d.set({label:n,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}}class Lee extends pe{static get requires(){return[Em]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,r=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",i=>{const l=os(i);return this._setUpDropdown(l,r),l})}_setUpDropdown(n,r){const i=this.editor,l=i.t,d=n.buttonView,h=i.plugins.get(Em).registry;n.once("change:isOpen",()=>{const f=new(Rv(Bee))(function(k,b){return[v=>{if(!v.url.length)return k("The URL must not be empty.")},v=>{if(!b.hasMedia(v.url))return k("This media URL is not supported.")}]}(i.t,h),i.locale);n.panelView.children.add(f),d.on("open",()=>{f.disableCssTransitions(),f.url=r.value||"",f.urlInputView.fieldView.select(),f.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{f.isValid()&&(i.execute("mediaEmbed",f.url),i.editing.view.focus())}),n.on("change:isOpen",()=>f.resetFormStatus()),n.on("cancel",()=>{i.editing.view.focus()}),f.delegate("submit","cancel").to(n),f.urlInputView.fieldView.bind("value").to(r,"value"),f.urlInputView.on("change:errorText",()=>{i.ui.update()}),f.urlInputView.bind("isEnabled").to(r,"isEnabled")}),n.bind("isEnabled").to(r),d.set({label:l("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var KN=c(70),jee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(KN.A,jee),KN.A.locals;function YN(a){return a!==void 0&&a.endsWith("px")}function Oc(a){return a.toFixed(2).replace(/\.?0+$/,"")+"px"}var zee=Object.defineProperty,Fee=Object.defineProperties,$ee=Object.getOwnPropertyDescriptors,QN=Object.getOwnPropertySymbols,Vee=Object.prototype.hasOwnProperty,Uee=Object.prototype.propertyIsEnumerable,ZN=(a,n,r)=>n in a?zee(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Hee=(a,n)=>{for(var r in n||(n={}))Vee.call(n,r)&&ZN(a,r,n[r]);if(QN)for(var r of QN(n))Uee.call(n,r)&&ZN(a,r,n[r]);return a};function Wee(a,n,r){if(!a.childCount)return;const i=new ts(a.document),l=function(k,b){const v=b.createRangeIn(k),A=[],E=new Set;for(const I of v.getItems()){if(!I.is("element")||!I.name.match(/^(p|h\d+|li|div)$/))continue;let P=Xee(I);if(P===void 0||parseFloat(P)!=0||Array.from(I.getClassNames()).find(L=>L.startsWith("MsoList"))||(P=void 0),I.hasStyle("mso-list")||P!==void 0&&E.has(P)){const L=Zee(I);A.push({element:I,id:L.id,order:L.order,indent:L.indent,marginLeft:P}),P!==void 0&&E.add(P)}else E.clear()}return A}(a,i);if(!l.length)return;const d={},h=[];for(const k of l)if(k.indent!==void 0){qee(k)||(h.length=0);const b=`${k.id}:${k.indent}`,v=Math.min(k.indent-1,h.length);if(v<h.length&&h[v].id!==k.id&&(h.length=v),v<h.length-1)h.length=v+1;else{const E=Kee(k,n);if(v>h.length-1||h[v].listElement.name!=E.type){v==0&&E.type=="ol"&&k.id!==void 0&&d[b]&&(E.startIndex=d[b]);const I=Qee(E,i,r);if(YN(k.marginLeft)&&(v==0||YN(h[v-1].marginLeft))){let P=k.marginLeft;v>0&&(P=Oc(parseFloat(P)-parseFloat(h[v-1].marginLeft))),i.setStyle("padding-left",P,I)}if(h.length==0){const P=k.element.parent,L=P.getChildIndex(k.element)+1;i.insertChild(L,I,P)}else{const P=h[v-1].listItemElements;i.appendChild(I,P[P.length-1])}h[v]=(f=Hee({},k),Fee(f,$ee({listElement:I,listItemElements:[]}))),v==0&&k.id!==void 0&&(d[b]=E.startIndex||1)}}const A=k.element.name=="li"?k.element:i.createElement("li");i.appendChild(A,h[v].listElement),h[v].listItemElements.push(A),v==0&&k.id!==void 0&&d[b]++,k.element!=A&&i.appendChild(k.element,A),Jee(k.element,i),i.removeStyle("text-indent",k.element),i.removeStyle("margin-left",k.element)}else{const b=h.find(v=>v.marginLeft==k.marginLeft);if(b){const v=b.listItemElements;i.appendChild(k.element,v[v.length-1]),i.removeStyle("margin-left",k.element)}else h.length=0}var f}function qee(a){const n=a.element.previousSibling;return Gee(n||a.element.parent)}function Gee(a){return a.is("element","ol")||a.is("element","ul")}function Kee(a,n){const r=new RegExp(`@list l${a.id}:level${a.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,l=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,d=new RegExp(`@list\\s+l${a.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),h=new RegExp(`@list l${a.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),f=d.exec(n),k=h.exec(n),b=f&&!k,v=r.exec(n);let A="decimal",E="ol",I=null;if(v&&v[1]){const P=i.exec(v[1]);if(P&&P[1]&&(A=P[1].trim(),E=A!=="bullet"&&A!=="image"?"ol":"ul"),A==="bullet"){const L=function(F){if(F.name=="li"&&F.parent.name=="ul"&&F.parent.hasAttribute("type"))return F.parent.getAttribute("type");const W=function(ee){if(ee.getChild(0).is("$text"))return null;for(const ce of ee.getChildren()){if(!ce.is("element","span"))continue;const ve=ce.getChild(0);if(ve)return ve.is("$text")?ve:ve.getChild(0)}return null}(F);if(!W)return null;const K=W._data;return K==="o"?"circle":K==="·"?"disc":K==="§"?"square":null}(a.element);L&&(A=L)}else{const L=l.exec(v[1]);L&&L[1]&&(I=parseInt(L[1]))}b&&(E="ol")}return{type:E,startIndex:I,style:Yee(A),isLegalStyleList:b}}function Yee(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function Qee(a,n,r){const i=n.createElement(a.type);return a.style&&n.setStyle("list-style-type",a.style,i),a.startIndex&&a.startIndex>1&&n.setAttribute("start",a.startIndex,i),a.isLegalStyleList&&r&&n.addClass("legal-list",i),i}function Zee(a){const n=a.getStyle("mso-list");if(n===void 0)return{};const r=n.match(/(^|\s{1,100})l(\d+)/i),i=n.match(/\s{0,100}lfo(\d+)/i),l=n.match(/\s{0,100}level(\d+)/i);return r&&i&&l?{id:r[2],order:i[1],indent:parseInt(l[1])}:{indent:1}}function Jee(a,n){const r=new yi({name:"span",styles:{"mso-list":"Ignore"}}),i=n.createRangeIn(a);for(const l of i)l.type==="elementStart"&&r.match(l.item)&&n.remove(l.item)}function Xee(a){const n=a.getStyle("margin-left");return n===void 0||n.endsWith("px")?n:function(r){const i=parseFloat(r);return r.endsWith("pt")?Oc(96*i/72):r.endsWith("pc")?Oc(12*i*96/72):r.endsWith("in")?Oc(96*i):r.endsWith("cm")?Oc(96*i/2.54):r.endsWith("mm")?Oc(i/10*96/2.54):r}(n)}function ete(a,n){if(!a.childCount)return;const r=new ts(a.document),i=function(d,h){const f=h.createRangeIn(d),k=new yi({name:/v:(.+)/}),b=[];for(const v of f){if(v.type!="elementStart")continue;const A=v.item,E=A.previousSibling,I=E&&E.is("element")?E.name:null,P=["Chart"],L=k.match(A),F=A.getAttribute("o:gfxdata"),W=I==="v:shapetype",K=F&&P.some(ee=>A.getAttribute("id").includes(ee));L&&F&&!W&&!K&&b.push(v.item.getAttribute("id"))}return b}(a,r);(function(d,h,f){const k=f.createRangeIn(h),b=new yi({name:"img"}),v=[];for(const A of k)if(A.item.is("element")&&b.match(A.item)){const E=A.item,I=E.getAttribute("v:shapes")?E.getAttribute("v:shapes").split(" "):[];I.length&&I.every(P=>d.indexOf(P)>-1)?v.push(E):E.getAttribute("src")||v.push(E)}for(const A of v)f.remove(A)})(i,a,r),function(d,h,f){const k=f.createRangeIn(h),b=[];for(const E of k)if(E.type=="elementStart"&&E.item.is("element","v:shape")){const I=E.item.getAttribute("id");if(d.includes(I))continue;v(E.item.parent.getChildren(),I)||b.push(E.item)}for(const E of b){const I={src:A(E)};E.hasAttribute("alt")&&(I.alt=E.getAttribute("alt"));const P=f.createElement("img",I);f.insertChild(E.index+1,P,E.parent)}function v(E,I){for(const P of E)if(P.is("element")&&(P.name=="img"&&P.getAttribute("v:shapes")==I||v(P.getChildren(),I)))return!0;return!1}function A(E){for(const I of E.getChildren())if(I.is("element")&&I.getAttribute("src"))return I.getAttribute("src")}}(i,a,r),function(d,h){const f=h.createRangeIn(d),k=new yi({name:/v:(.+)/}),b=[];for(const v of f)v.type=="elementStart"&&k.match(v.item)&&b.push(v.item);for(const v of b)h.remove(v)}(a,r);const l=function(d,h){const f=h.createRangeIn(d),k=new yi({name:"img"}),b=[];for(const v of f)v.item.is("element")&&k.match(v.item)&&v.item.getAttribute("src").startsWith("file://")&&b.push(v.item);return b}(a,r);l.length&&function(d,h,f){if(d.length===h.length)for(let k=0;k<d.length;k++){const b=`data:${h[k].type};base64,${tte(h[k].hex)}`;f.setAttribute("src",b,d[k])}}(l,function(d){if(!d)return[];const h=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,f=new RegExp("(?:("+h.source+"))([\\da-fA-F\\s]+)\\}","g"),k=d.match(f),b=[];if(k)for(const v of k){let A=!1;v.includes("\\pngblip")?A="image/png":v.includes("\\jpegblip")&&(A="image/jpeg"),A&&b.push({hex:v.replace(h,"").replace(/[^\da-fA-F]/g,""),type:A})}return b}(n),r)}function tte(a){return btoa(a.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}const nte=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,ote=/xmlns:o="urn:schemas-microsoft-com/i;class rte{constructor(n,r=!1){this.document=n,this.hasMultiLevelListPlugin=r}isActive(n){return nte.test(n)||ote.test(n)}execute(n){const{body:r,stylesString:i}=n._parsedData;Wee(r,i,this.hasMultiLevelListPlugin),ete(r,n.dataTransfer.getData("text/rtf")),function(l){const d=[],h=new ts(l.document);for(const{item:f}of h.createRangeIn(l))if(f.is("element")){for(const k of f.getClassNames())/\bmso/gi.exec(k)&&h.removeClass(k,f);for(const k of f.getStyleNames())/\bmso/gi.exec(k)&&h.removeStyle(k,f);(f.is("element","w:sdt")||f.is("element","w:sdtpr")&&f.isEmpty||f.is("element","o:p")&&f.isEmpty)&&d.push(f)}for(const f of d){const k=f.parent,b=k.getChildIndex(f);h.insertChild(b,f.getChildren(),k),h.remove(f)}}(r),n.content=r}}function JN(a,n,r,{blockElements:i,inlineObjectElements:l}){let d=r.createPositionAt(a,n=="forward"?"after":"before");return d=d.getLastMatchingPosition(({item:h})=>h.is("element")&&!i.includes(h.name)&&!l.includes(h.name),{direction:n}),n=="forward"?d.nodeAfter:d.nodeBefore}function XN(a,n){return!!a&&a.is("element")&&n.includes(a.name)}const ite=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class ste{constructor(n){this.document=n}isActive(n){return ite.test(n)}execute(n){const r=new ts(this.document),{body:i}=n._parsedData;(function(l,d){for(const h of l.getChildren())if(h.is("element","b")&&h.getStyle("font-weight")==="normal"){const f=l.getChildIndex(h);d.remove(h),d.insertChild(f,h.getChildren(),l)}})(i,r),function(l,d){for(const h of d.createRangeIn(l)){const f=h.item;if(f.is("element","li")){const k=f.getChild(0);k&&k.is("element","p")&&d.unwrapElement(k)}}}(i,r),function(l,d){const h=new Pg(d.document.stylesProcessor),f=new Og(h,{renderingMode:"data"}),k=f.blockElements,b=f.inlineObjectElements,v=[];for(const A of d.createRangeIn(l)){const E=A.item;if(E.is("element","br")){const I=JN(E,"forward",d,{blockElements:k,inlineObjectElements:b}),P=JN(E,"backward",d,{blockElements:k,inlineObjectElements:b}),L=XN(I,k);(XN(P,k)||L)&&v.push(E)}}for(const A of v)A.hasClass("Apple-interchange-newline")?d.remove(A):d.replace(A,d.createElement("p"))}(i,r),n.content=i}}const ate=/<google-sheets-html-origin/i;class lte{constructor(n){this.document=n}isActive(n){return ate.test(n)}execute(n){const r=new ts(this.document),{body:i}=n._parsedData;(function(l,d){for(const h of l.getChildren())if(h.is("element","google-sheets-html-origin")){const f=l.getChildIndex(h);d.remove(h),d.insertChild(f,h.getChildren(),l)}})(i,r),function(l,d){for(const h of l.getChildren())h.is("element","table")&&h.hasAttribute("xmlns")&&d.removeAttribute("xmlns",h)}(i,r),function(l,d){for(const h of l.getChildren())h.is("element","table")&&h.getStyle("width")==="0px"&&d.removeStyle("width",h)}(i,r),function(l,d){for(const h of Array.from(l.getChildren()))h.is("element","style")&&d.remove(h)}(i,r),n.content=i}}function eR(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,r)=>r.length===1?" ":Array(r.length+1).join("  ").substr(0,r.length))}function cte(a,n){const r=new DOMParser,i=function(k){return eR(eR(k)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(k){const b="</body>",v="</html>",A=k.indexOf(b);if(A<0)return k;const E=k.indexOf(v,A+b.length);return k.substring(0,A+b.length)+(E>=0?k.substring(E):"")}(a=(a=a.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),l=r.parseFromString(i,"text/html");(function(k){k.querySelectorAll("span[style*=spacerun]").forEach(b=>{const v=b,A=v.innerText.length||0;v.innerText=Array(A+1).join("  ").substr(0,A)})})(l);const d=l.body.innerHTML,h=function(k,b){const v=new Pg(b),A=new Og(v,{renderingMode:"data"}),E=k.createDocumentFragment(),I=k.body.childNodes;for(;I.length>0;)E.appendChild(I[0]);return A.domToView(E,{skipComments:!0})}(l,n),f=function(k){const b=[],v=[],A=Array.from(k.getElementsByTagName("style"));for(const E of A)E.sheet&&E.sheet.cssRules&&E.sheet.cssRules.length&&(b.push(E.sheet),v.push(E.innerHTML));return{styles:b,stylesString:v.join(" ")}}(l);return{body:h,bodyString:d,styles:f.styles,stylesString:f.stylesString}}function bn(a,n,r,i,l=1){n!=null&&l!=null&&n>l?i.setAttribute(a,n,r):i.removeAttribute(a,r)}function sl(a,n,r={}){const i=a.createElement("tableCell",r);return a.insertElement("paragraph",i),a.insert(i,n),i}function l_(a,n){const r=n.parent.parent,i=parseInt(r.getAttribute("headingColumns")||"0"),{column:l}=a.getCellLocation(n);return!!i&&l<i}function dte(){return a=>{a.on("element:table",(n,r,i)=>{const l=r.viewItem;if(!i.consumable.test(l,{name:!0}))return;const{rows:d,headingRows:h,headingColumns:f}=function(v){let A,E=0;const I=[],P=[];let L;for(const F of Array.from(v.getChildren())){if(F.name!=="tbody"&&F.name!=="thead"&&F.name!=="tfoot")continue;F.name!=="thead"||L||(L=F);const W=Array.from(F.getChildren()).filter(K=>K.is("element","tr"));for(const K of W)if(L&&F===L||F.name==="tbody"&&Array.from(K.getChildren()).length&&Array.from(K.getChildren()).every(ee=>ee.is("element","th")))E++,I.push(K);else{P.push(K);const ee=ute(K);(!A||ee<A)&&(A=ee)}}return{headingRows:E,headingColumns:A||0,rows:[...I,...P]}}(l),k={};f&&(k.headingColumns=f),h&&(k.headingRows=h);const b=i.writer.createElement("table",k);if(i.safeInsert(b,r.modelCursor)){if(i.consumable.consume(l,{name:!0}),d.forEach(v=>i.convertItem(v,i.writer.createPositionAt(b,"end"))),i.convertChildren(l,i.writer.createPositionAt(b,"end")),b.isEmpty){const v=i.writer.createElement("tableRow");i.writer.insert(v,i.writer.createPositionAt(b,"end")),sl(i.writer,i.writer.createPositionAt(v,"end"))}i.updateConversionResult(b,r)}})}}function tR(a){return n=>{n.on(`element:${a}`,(r,i,{writer:l})=>{if(!i.modelRange)return;const d=i.modelRange.start.nodeAfter,h=l.createPositionAt(d,0);if(i.viewItem.isEmpty)return void l.insertElement("paragraph",h);const f=Array.from(d.getChildren());if(f.every(k=>k.is("element","$marker"))){const k=l.createElement("paragraph");l.insert(k,l.createPositionAt(d,0));for(const b of f)l.move(l.createRangeOn(b),l.createPositionAt(k,"end"))}},{priority:"low"})}}function ute(a){let n=0,r=0;const i=Array.from(a.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;r<i.length&&i[r].name==="th";){const l=i[r];n+=parseInt(l.getAttribute("colspan")||"1"),r++}return n}class Bt{constructor(n,r={}){this._jumpedToStartRow=!1,this._table=n,this._startRow=r.row!==void 0?r.row:r.startRow||0,this._endRow=r.row!==void 0?r.row:r.endRow,this._startColumn=r.column!==void 0?r.column:r.startColumn||0,this._endColumn=r.column!==void 0?r.column:r.endColumn,this._includeAllSlots=!!r.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let r=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(r=this._formatOutValue(i.cell,i.row,i.column));else{const l=n.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const d=parseInt(l.getAttribute("colspan")||"1"),h=parseInt(l.getAttribute("rowspan")||"1");(d>1||h>1)&&this._recordSpans(l,h,d),this._shouldSkipSlot()||(r=this._formatOutValue(l)),this._nextCellAtColumn=this._column+d}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,r||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,r=this._row,i=this._column){return{done:!1,value:new hte(this,n,r,i)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),r=this._row<this._startRow,i=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return n||r||i||l}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,r,i){const l={cell:n,row:this._row,column:this._column};for(let d=this._row;d<this._row+r;d++)for(let h=this._column;h<this._column+i;h++)d==this._row&&h==this._column||this._markSpannedCell(d,h,l)}_markSpannedCell(n,r,i){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(r,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const n=this._getRowLength(0);for(let r=this._startRow;!this._jumpedToStartRow;r--)n===this._getRowLength(r)&&(this._row=r,this._rowIndex=r,this._jumpedToStartRow=!0)}_getRowLength(n){return[...this._table.getChild(n).getChildren()].reduce((r,i)=>r+parseInt(i.getAttribute("colspan")||"1"),0)}}class hte{constructor(n,r,i,l){this.cell=r,this.row=n._row,this.column=n._column,this.cellAnchorRow=i,this.cellAnchorColumn=l,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function nR(a,n){return(r,{writer:i})=>{const l=r.getAttribute("headingRows")||0,d=i.createContainerElement("table",null,[]),h=i.createContainerElement("figure",{class:"table"},d);l>0&&i.insert(i.createPositionAt(d,"end"),i.createContainerElement("thead",null,i.createSlot(f=>f.is("element","tableRow")&&f.index<l))),l<a.getRows(r)&&i.insert(i.createPositionAt(d,"end"),i.createContainerElement("tbody",null,i.createSlot(f=>f.is("element","tableRow")&&f.index>=l)));for(const{positionOffset:f,filter:k}of n.additionalSlots)i.insert(i.createPositionAt(d,f),i.createSlot(k));return i.insert(i.createPositionAt(d,"after"),i.createSlot(f=>!f.is("element","tableRow")&&!n.additionalSlots.some(({filter:k})=>k(f)))),n.asWidget?function(f,k){return k.setCustomProperty("table",!0,f),By(f,k,{hasSelectionHandle:!0})}(h,i):h}}function oR(a={}){return(n,{writer:r})=>{const i=n.parent,l=i.parent,d=l.getChildIndex(i),h=new Bt(l,{row:d}),f=l.getAttribute("headingRows")||0,k=l.getAttribute("headingColumns")||0;let b=null;for(const v of h)if(v.cell==n){const A=v.row<f||v.column<k?"th":"td";b=a.asWidget?WM(r.createEditableElement(A),r):r.createContainerElement(A);break}return b}}function rR(a={}){return(n,{writer:r})=>{if(!n.parent.is("element","tableCell")||!iR(n))return null;if(a.asWidget)return r.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function iR(a){return a.parent.childCount==1&&!!a.getAttributeKeys().next().done}class pte extends ct{refresh(){const n=this.editor.model,r=n.document.selection,i=n.schema;this.isEnabled=function(l,d){const h=l.getFirstPosition().parent,f=h===h.root?h:h.parent;return d.checkChild(f,"table")}(r,i)}execute(n={}){const r=this.editor,i=r.model,l=r.plugins.get("TableUtils"),d=r.config.get("table.defaultHeadings.rows"),h=r.config.get("table.defaultHeadings.columns");n.headingRows===void 0&&d&&(n.headingRows=d),n.headingColumns===void 0&&h&&(n.headingColumns=h),i.change(f=>{const k=l.createTable(f,n);i.insertObject(k,null,null,{findOptimalPosition:"auto"}),f.setSelection(f.createPositionAt(k.getNodeByPath([0,0,0]),0))})}}class sR extends ct{constructor(n,r={}){super(n),this.order=r.order||"below"}refresh(){const n=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=r}execute(){const n=this.editor,r=n.model.document.selection,i=n.plugins.get("TableUtils"),l=this.order==="above",d=i.getSelectionAffectedTableCells(r),h=i.getRowIndexes(d),f=l?h.first:h.last,k=d[0].findAncestor("table");i.insertRows(k,{at:l?f:f+1,copyStructureFromAbove:!l})}}class aR extends ct{constructor(n,r={}){super(n),this.order=r.order||"right"}refresh(){const n=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=r}execute(){const n=this.editor,r=n.model.document.selection,i=n.plugins.get("TableUtils"),l=this.order==="left",d=i.getSelectionAffectedTableCells(r),h=i.getColumnIndexes(d),f=l?h.first:h.last,k=d[0].findAncestor("table");i.insertColumns(k,{columns:1,at:l?f:f+1})}}class lR extends ct{constructor(n,r={}){super(n),this.direction=r.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(r,2):n.splitCellVertically(r,2)}}function cR(a,n,r){const{startRow:i,startColumn:l,endRow:d,endColumn:h}=n,f=r.createElement("table"),k=d-i+1;for(let v=0;v<k;v++)r.insertElement("tableRow",f,"end");const b=[...new Bt(a,{startRow:i,endRow:d,startColumn:l,endColumn:h,includeAllSlots:!0})];for(const{row:v,column:A,cell:E,isAnchor:I,cellAnchorRow:P,cellAnchorColumn:L}of b){const F=v-i,W=f.getChild(F);if(I){const K=r.cloneElement(E);r.append(K,W),fR(K,v,A,d,h,r)}else(P<i||L<l)&&sl(r,r.createPositionAt(W,"end"))}return function(v,A,E,I,P){const L=parseInt(A.getAttribute("headingRows")||"0");L>0&&bn("headingRows",L-E,v,P,0);const F=parseInt(A.getAttribute("headingColumns")||"0");F>0&&bn("headingColumns",F-I,v,P,0)}(f,a,i,l,r),f}function dR(a,n,r=0){const i=[],l=new Bt(a,{startRow:r,endRow:n-1});for(const d of l){const{row:h,cellHeight:f}=d;h<n&&n<=h+f-1&&i.push(d)}return i}function uR(a,n,r){const i=a.parent,l=i.parent,d=i.index,h=n-d,f={},k=parseInt(a.getAttribute("rowspan"))-h;k>1&&(f.rowspan=k);const b=parseInt(a.getAttribute("colspan")||"1");b>1&&(f.colspan=b);const v=d+h,A=[...new Bt(l,{startRow:d,endRow:v,includeAllSlots:!0})];let E,I=null;for(const P of A){const{row:L,column:F,cell:W}=P;W===a&&E===void 0&&(E=F),E!==void 0&&E===F&&L===v&&(I=sl(r,P.getPositionBefore(),f))}return bn("rowspan",h,a,r),I}function hR(a,n){const r=[],i=new Bt(a);for(const l of i){const{column:d,cellWidth:h}=l;d<n&&n<=d+h-1&&r.push(l)}return r}function pR(a,n,r,i){const l=r-n,d={},h=parseInt(a.getAttribute("colspan"))-l;h>1&&(d.colspan=h);const f=parseInt(a.getAttribute("rowspan")||"1");f>1&&(d.rowspan=f);const k=sl(i,i.createPositionAfter(a),d);return bn("colspan",l,a,i),k}function fR(a,n,r,i,l,d){const h=parseInt(a.getAttribute("colspan")||"1"),f=parseInt(a.getAttribute("rowspan")||"1");r+h-1>l&&bn("colspan",l-r+1,a,d,1),n+f-1>i&&bn("rowspan",i-n+1,a,d,1)}function c_(a,n){const r=n.getColumns(a),i=new Array(r).fill(0);for(const{column:d}of new Bt(a))i[d]++;const l=i.reduce((d,h,f)=>h?d:[...d,f],[]);if(l.length>0){const d=l[l.length-1];return n.removeColumns(a,{at:d}),!0}return!1}function d_(a,n){const r=[],i=n.getRows(a);for(let l=0;l<i;l++)a.getChild(l).isEmpty&&r.push(l);if(r.length>0){const l=r[r.length-1];return n.removeRows(a,{at:l}),!0}return!1}function u_(a,n){c_(a,n)||d_(a,n)}function gR(a,n){const r=Array.from(new Bt(a,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(r.every(({cellHeight:l})=>l===1))return n.lastRow;const i=r[0].cellHeight-1;return n.lastRow+i}function mR(a,n){const r=Array.from(new Bt(a,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(r.every(({cellWidth:l})=>l===1))return n.lastColumn;const i=r[0].cellWidth-1;return n.lastColumn+i}class Sm extends ct{constructor(n,r){super(n),this.direction=r.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,r=n.document,i=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(r.selection)[0],l=this.value,d=this.direction;n.change(h=>{const f=d=="right"||d=="down",k=f?i:l,b=f?l:i,v=b.parent;(function(L,F,W){kR(L)||(kR(F)&&W.remove(W.createRangeIn(F)),W.move(W.createRangeIn(L),W.createPositionAt(F,"end"))),W.remove(L)})(b,k,h);const A=this.isHorizontal?"colspan":"rowspan",E=parseInt(i.getAttribute(A)||"1"),I=parseInt(l.getAttribute(A)||"1");h.setAttribute(A,E+I,k),h.setSelection(h.createRangeIn(k));const P=this.editor.plugins.get("TableUtils");u_(v.findAncestor("table"),P)})}_getMergeableCell(){const n=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),i=r.getTableCellsContainingSelection(n.selection)[0];if(!i)return;const l=this.isHorizontal?function(f,k,b){const v=f.parent,A=v.parent,E=k=="right"?f.nextSibling:f.previousSibling,I=(A.getAttribute("headingColumns")||0)>0;if(!E)return;const P=k=="right"?f:E,L=k=="right"?E:f,{column:F}=b.getCellLocation(P),{column:W}=b.getCellLocation(L),K=parseInt(P.getAttribute("colspan")||"1"),ee=l_(b,P),ce=l_(b,L);if(!(I&&ee!=ce))return F+K===W?E:void 0}(i,this.direction,r):function(f,k,b){const v=f.parent,A=v.parent,E=A.getChildIndex(v);if(k=="down"&&E===b.getRows(A)-1||k=="up"&&E===0)return null;const I=parseInt(f.getAttribute("rowspan")||"1"),P=A.getAttribute("headingRows")||0,L=k=="down"&&E+I===P,F=k=="up"&&E===P;if(P&&(L||F))return null;const W=parseInt(f.getAttribute("rowspan")||"1"),K=k=="down"?E+W:E,ee=[...new Bt(A,{endRow:K})],ce=ee.find(ot=>ot.cell===f),ve=ce.column,Fe=ee.find(({row:ot,cellHeight:qt,column:Fn})=>Fn===ve&&(k=="down"?ot===K:K===ot+qt));return Fe&&Fe.cell?Fe.cell:null}(i,this.direction,r);if(!l)return;const d=this.isHorizontal?"rowspan":"colspan",h=parseInt(i.getAttribute(d)||"1");return parseInt(l.getAttribute(d)||"1")===h?l:void 0}}function kR(a){const n=a.getChild(0);return a.childCount==1&&n.is("element","paragraph")&&n.isEmpty}class fte extends ct{refresh(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection),i=r[0];if(i){const l=i.findAncestor("table"),d=n.getRows(l)-1,h=n.getRowIndexes(r),f=h.first===0&&h.last===d;this.isEnabled=!f}else this.isEnabled=!1}execute(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),i=r.getSelectionAffectedTableCells(n.document.selection),l=r.getRowIndexes(i),d=i[0],h=d.findAncestor("table"),f=r.getCellLocation(d).column;n.change(k=>{const b=l.last-l.first+1;r.removeRows(h,{at:l.first,rows:b});const v=function(A,E,I,P){const L=A.getChild(Math.min(E,P-1));let F=L.getChild(0),W=0;for(const K of L.getChildren()){if(W>I)return F;F=K,W+=parseInt(K.getAttribute("colspan")||"1")}return F}(h,l.first,f,r.getRows(h));k.setSelection(k.createPositionAt(v,0))})}}class gte extends ct{refresh(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection),i=r[0];if(i){const l=i.findAncestor("table"),d=n.getColumns(l),{first:h,last:f}=n.getColumnIndexes(r);this.isEnabled=f-h<d-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[r,i]=function(k,b){const v=b.getSelectionAffectedTableCells(k),A=v[0],E=v.pop(),I=[A,E];return A.isBefore(E)?I:I.reverse()}(this.editor.model.document.selection,n),l=r.parent.parent,d=[...new Bt(l)],h={first:d.find(k=>k.cell===r).column,last:d.find(k=>k.cell===i).column},f=function(k,b,v,A){return parseInt(v.getAttribute("colspan")||"1")>1?v:b.previousSibling||v.nextSibling?v.nextSibling||b.previousSibling:A.first?k.reverse().find(({column:I})=>I<A.first).cell:k.reverse().find(({column:I})=>I>A.last).cell}(d,r,i,h);this.editor.model.change(k=>{const b=h.last-h.first+1;n.removeColumns(l,{at:h.first,columns:b}),k.setSelection(k.createPositionAt(f,0))})}}class mte extends ct{refresh(){const n=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=n.getSelectionAffectedTableCells(r.document.selection),l=i.length>0;this.isEnabled=l,this.value=l&&i.every(d=>this._isInHeading(d,d.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),i=this.editor.model,l=r.getSelectionAffectedTableCells(i.document.selection),d=l[0].findAncestor("table"),{first:h,last:f}=r.getRowIndexes(l),k=this.value?h:f+1,b=d.getAttribute("headingRows")||0;i.change(v=>{if(k){const A=dR(d,k,k>b?b:0);for(const{cell:E}of A)uR(E,k,v)}bn("headingRows",k,d,v,0)})}_isInHeading(n,r){const i=parseInt(r.getAttribute("headingRows")||"0");return!!i&&n.parent.index<i}}class kte extends ct{refresh(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),i=r.getSelectionAffectedTableCells(n.document.selection),l=i.length>0;this.isEnabled=l,this.value=l&&i.every(d=>l_(r,d))}execute(n={}){if(n.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),i=this.editor.model,l=r.getSelectionAffectedTableCells(i.document.selection),d=l[0].findAncestor("table"),{first:h,last:f}=r.getColumnIndexes(l),k=this.value?h:f+1;i.change(b=>{if(k){const v=hR(d,k);for(const{cell:A,column:E}of v)pR(A,E,k,b)}bn("headingColumns",k,d,b,0)})}}function bte(a){if(a.is("element","tableColumnGroup"))return a;const n=a.getChildren();return Array.from(n).find(r=>r.is("element","tableColumnGroup"))}function wte(a){const n=bte(a);return n?Array.from(n.getChildren()):[]}class oo extends pe{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const r=n.parent,i=r.parent,l=i.getChildIndex(r),d=new Bt(i,{row:l});for(const{cell:h,row:f,column:k}of d)if(h===n)return{row:f,column:k}}createTable(n,r){const i=n.createElement("table"),l=r.rows||2,d=r.columns||2;return h_(n,i,0,l,d),r.headingRows&&bn("headingRows",Math.min(r.headingRows,l),i,n,0),r.headingColumns&&bn("headingColumns",Math.min(r.headingColumns,d),i,n,0),i}insertRows(n,r={}){const i=this.editor.model,l=r.at||0,d=r.rows||1,h=r.copyStructureFromAbove!==void 0,f=r.copyStructureFromAbove?l-1:l,k=this.getRows(n),b=this.getColumns(n);if(l>k)throw new M("tableutils-insertrows-insert-out-of-range",this,{options:r});i.change(v=>{const A=n.getAttribute("headingRows")||0;if(A>l&&bn("headingRows",A+d,n,v,0),!h&&(l===0||l===k))return void h_(v,n,l,d,b);const E=h?Math.max(l,f):l,I=new Bt(n,{endRow:E}),P=new Array(b).fill(1);for(const{row:L,column:F,cellHeight:W,cellWidth:K,cell:ee}of I){const ce=L+W-1,ve=L<=f&&f<=ce;L<l&&l<=ce?(v.setAttribute("rowspan",W+d,ee),P[F]=-K):h&&ve&&(P[F]=K)}for(let L=0;L<d;L++){const F=v.createElement("tableRow");v.insert(F,n,l);for(let W=0;W<P.length;W++){const K=P[W],ee=v.createPositionAt(F,"end");K>0&&sl(v,ee,K>1?{colspan:K}:void 0),W+=Math.abs(K)-1}}})}insertColumns(n,r={}){const i=this.editor.model,l=r.at||0,d=r.columns||1;i.change(h=>{const f=n.getAttribute("headingColumns");l<f&&h.setAttribute("headingColumns",f+d,n);const k=this.getColumns(n);if(l===0||k===l){for(const v of n.getChildren())v.is("element","tableRow")&&Bc(d,h,h.createPositionAt(v,l?"end":0));return}const b=new Bt(n,{column:l,includeAllSlots:!0});for(const v of b){const{row:A,cell:E,cellAnchorColumn:I,cellAnchorRow:P,cellWidth:L,cellHeight:F}=v;if(I<l){h.setAttribute("colspan",L+d,E);const W=P+F-1;for(let K=A;K<=W;K++)b.skipRow(K)}else Bc(d,h,v.getPositionBefore())}})}removeRows(n,r){const i=this.editor.model,l=r.rows||1,d=this.getRows(n),h=r.at,f=h+l-1;if(f>d-1)throw new M("tableutils-removerows-row-index-out-of-range",this,{table:n,options:r});i.change(k=>{const b={first:h,last:f},{cellsToMove:v,cellsToTrim:A}=function(E,{first:I,last:P}){const L=new Map,F=[];for(const{row:W,column:K,cellHeight:ee,cell:ce}of new Bt(E,{endRow:P})){const ve=W+ee-1;if(W>=I&&W<=P&&ve>P){const Fe=ee-(P-W+1);L.set(K,{cell:ce,rowspan:Fe})}if(W<I&&ve>=I){let Fe;Fe=ve>=P?P-I+1:ve-I+1,F.push({cell:ce,rowspan:ee-Fe})}}return{cellsToMove:L,cellsToTrim:F}}(n,b);v.size&&function(E,I,P,L){const F=new Bt(E,{includeAllSlots:!0,row:I}),W=[...F],K=E.getChild(I);let ee;for(const{column:ce,cell:ve,isAnchor:Fe}of W)if(P.has(ce)){const{cell:ot,rowspan:qt}=P.get(ce),Fn=ee?L.createPositionAfter(ee):L.createPositionAt(K,0);L.move(L.createRangeOn(ot),Fn),bn("rowspan",qt,ot,L),ee=ot}else Fe&&(ee=ve)}(n,f+1,v,k);for(let E=f;E>=h;E--)k.remove(n.getChild(E));for(const{rowspan:E,cell:I}of A)bn("rowspan",E,I,k);(function(E,{first:I,last:P},L){const F=E.getAttribute("headingRows")||0;I<F&&bn("headingRows",P<F?F-(P-I+1):I,E,L,0)})(n,b,k),c_(n,this)||d_(n,this)})}removeColumns(n,r){const i=this.editor.model,l=r.at,d=r.columns||1,h=r.at+d-1;i.change(f=>{(function(b,v,A){const E=b.getAttribute("headingColumns")||0;if(E&&v.first<E){const I=Math.min(E-1,v.last)-v.first+1;A.setAttribute("headingColumns",E-I,b)}})(n,{first:l,last:h},f);const k=wte(n);for(let b=h;b>=l;b--){for(const{cell:v,column:A,cellWidth:E}of[...new Bt(n)])A<=b&&E>1&&A+E>b?bn("colspan",E-1,v,f):A===b&&f.remove(v);if(k[b]){const v=b===0?k[1]:k[b-1],A=parseFloat(k[b].getAttribute("columnWidth")),E=parseFloat(v.getAttribute("columnWidth"));f.remove(k[b]),f.setAttribute("columnWidth",A+E+"%",v)}}d_(n,this)||c_(n,this)})}splitCellVertically(n,r=2){const i=this.editor.model,l=n.parent.parent,d=parseInt(n.getAttribute("rowspan")||"1"),h=parseInt(n.getAttribute("colspan")||"1");i.change(f=>{if(h>1){const{newCellsSpan:k,updatedSpan:b}=bR(h,r);bn("colspan",b,n,f);const v={};k>1&&(v.colspan=k),d>1&&(v.rowspan=d),Bc(h>r?r-1:h-1,f,f.createPositionAfter(n),v)}if(h<r){const k=r-h,b=[...new Bt(l)],{column:v}=b.find(({cell:P})=>P===n),A=b.filter(({cell:P,cellWidth:L,column:F})=>P!==n&&F===v||F<v&&F+L>v);for(const{cell:P,cellWidth:L}of A)f.setAttribute("colspan",L+k,P);const E={};d>1&&(E.rowspan=d),Bc(k,f,f.createPositionAfter(n),E);const I=l.getAttribute("headingColumns")||0;I>v&&bn("headingColumns",I+k,l,f)}})}splitCellHorizontally(n,r=2){const i=this.editor.model,l=n.parent,d=l.parent,h=d.getChildIndex(l),f=parseInt(n.getAttribute("rowspan")||"1"),k=parseInt(n.getAttribute("colspan")||"1");i.change(b=>{if(f>1){const v=[...new Bt(d,{startRow:h,endRow:h+f-1,includeAllSlots:!0})],{newCellsSpan:A,updatedSpan:E}=bR(f,r);bn("rowspan",E,n,b);const{column:I}=v.find(({cell:L})=>L===n),P={};A>1&&(P.rowspan=A),k>1&&(P.colspan=k);for(const L of v){const{column:F,row:W}=L;W>=h+E&&F===I&&(W+h+E)%A==0&&Bc(1,b,L.getPositionBefore(),P)}}if(f<r){const v=r-f,A=[...new Bt(d,{startRow:0,endRow:h})];for(const{cell:P,cellHeight:L,row:F}of A)if(P!==n&&F+L>h){const W=L+v;b.setAttribute("rowspan",W,P)}const E={};k>1&&(E.colspan=k),h_(b,d,h+1,v,1,E);const I=d.getAttribute("headingRows")||0;I>h&&bn("headingRows",I+v,d,b)}})}getColumns(n){return[...n.getChild(0).getChildren()].filter(r=>r.is("element","tableCell")).reduce((r,i)=>r+parseInt(i.getAttribute("colspan")||"1"),0)}getRows(n){return Array.from(n.getChildren()).reduce((r,i)=>i.is("element","tableRow")?r+1:r,0)}createTableWalker(n,r={}){return new Bt(n,r)}getSelectedTableCells(n){const r=[];for(const i of this.sortRanges(n.getRanges())){const l=i.getContainedElement();l&&l.is("element","tableCell")&&r.push(l)}return r}getTableCellsContainingSelection(n){const r=[];for(const i of n.getRanges()){const l=i.start.findAncestor("tableCell");l&&r.push(l)}return r}getSelectionAffectedTableCells(n){const r=this.getSelectedTableCells(n);return r.length?r:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const r=n.map(i=>i.parent.index);return this._getFirstLastIndexesObject(r)}getColumnIndexes(n){const r=n[0].findAncestor("table"),i=[...new Bt(r)].filter(l=>n.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const r=new Set,i=new Set;let l=0;for(const h of n){const{row:f,column:k}=this.getCellLocation(h),b=parseInt(h.getAttribute("rowspan"))||1,v=parseInt(h.getAttribute("colspan"))||1;r.add(f),i.add(k),b>1&&r.add(f+b-1),v>1&&i.add(k+v-1),l+=b*v}return function(h,f){const k=Array.from(h.values()),b=Array.from(f.values()),v=Math.max(...k),A=Math.min(...k),E=Math.max(...b),I=Math.min(...b);return(v-A+1)*(E-I+1)}(r,i)==l}sortRanges(n){return Array.from(n).sort(vte)}_getFirstLastIndexesObject(n){const r=n.sort((i,l)=>i-l);return{first:r[0],last:r[r.length-1]}}_areCellInTheSameTableSection(n){const r=n[0].findAncestor("table"),i=this.getRowIndexes(n),l=parseInt(r.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,l))return!1;const d=this.getColumnIndexes(n),h=parseInt(r.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(d,h)}_areIndexesInSameSection({first:n,last:r},i){return n<i==r<i}}function h_(a,n,r,i,l,d={}){for(let h=0;h<i;h++){const f=a.createElement("tableRow");a.insert(f,n,r),Bc(l,a,a.createPositionAt(f,"end"),d)}}function Bc(a,n,r,i={}){for(let l=0;l<a;l++)sl(n,r,i)}function bR(a,n){if(a<n)return{newCellsSpan:1,updatedSpan:1};const r=Math.floor(a/n);return{newCellsSpan:r,updatedSpan:a-r*n+r}}function vte(a,n){const r=a.start,i=n.start;return r.isBefore(i)?-1:1}class yte extends ct{refresh(){const n=this.editor.plugins.get(oo),r=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(r)}execute(){const n=this.editor.model,r=this.editor.plugins.get(oo);n.change(i=>{const l=r.getSelectedTableCells(n.document.selection),d=l.shift(),{mergeWidth:h,mergeHeight:f}=function(k,b,v){let A=0,E=0;for(const W of b){const{row:K,column:ee}=v.getCellLocation(W);A=vR(W,ee,A,"colspan"),E=vR(W,K,E,"rowspan")}const{row:I,column:P}=v.getCellLocation(k),L=A-P,F=E-I;return{mergeWidth:L,mergeHeight:F}}(d,l,r);bn("colspan",h,d,i),bn("rowspan",f,d,i);for(const k of l)_te(k,d,i);u_(d.findAncestor("table"),r),i.setSelection(d,"in")})}}function _te(a,n,r){wR(a)||(wR(n)&&r.remove(r.createRangeIn(n)),r.move(r.createRangeIn(a),r.createPositionAt(n,"end"))),r.remove(a)}function wR(a){const n=a.getChild(0);return a.childCount==1&&n.is("element","paragraph")&&n.isEmpty}function vR(a,n,r,i){const l=parseInt(a.getAttribute(i)||"1");return Math.max(r,n+l)}class Cte extends ct{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),i=r.getSelectionAffectedTableCells(n.document.selection),l=r.getRowIndexes(i),d=i[0].findAncestor("table"),h=[];for(let f=l.first;f<=l.last;f++)for(const k of d.getChild(f).getChildren())h.push(n.createRangeOn(k));n.change(f=>{f.setSelection(h)})}}class Ate extends ct{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=n.getSelectionAffectedTableCells(r.document.selection),l=i[0],d=i.pop(),h=l.findAncestor("table"),f=n.getCellLocation(l),k=n.getCellLocation(d),b=Math.min(f.column,k.column),v=Math.max(f.column,k.column),A=[];for(const E of new Bt(h,{startColumn:b,endColumn:v}))A.push(r.createRangeOn(E.cell));r.change(E=>{E.setSelection(A)})}}function xte(a){a.document.registerPostFixer(n=>function(r,i){const l=i.document.differ.getChanges();let d=!1;const h=new Set;for(const f of l){let k=null;f.type=="insert"&&f.name=="table"&&(k=f.position.nodeAfter),f.type!="insert"&&f.type!="remove"||f.name!="tableRow"&&f.name!="tableCell"||(k=f.position.findAncestor("table")),Tte(f)&&(k=f.range.start.findAncestor("table")),k&&!h.has(k)&&(d=Ete(k,r)||d,d=Ste(k,r)||d,h.add(k))}return d}(n,a))}function Ete(a,n){let r=!1;const i=function(l){const d=parseInt(l.getAttribute("headingRows")||"0"),h=Array.from(l.getChildren()).reduce((k,b)=>b.is("element","tableRow")?k+1:k,0),f=[];for(const{row:k,cell:b,cellHeight:v}of new Bt(l)){if(v<2)continue;const A=k<d?d:h;if(k+v>A){const E=A-k;f.push({cell:b,rowspan:E})}}return f}(a);if(i.length){r=!0;for(const l of i)bn("rowspan",l.rowspan,l.cell,n,1)}return r}function Ste(a,n){let r=!1;const i=function(f){const k=new Array(f.childCount).fill(0);for(const{rowIndex:b}of new Bt(f,{includeAllSlots:!0}))k[b]++;return k}(a),l=[];for(const[f,k]of i.entries())!k&&a.getChild(f).is("element","tableRow")&&l.push(f);if(l.length){r=!0;for(const f of l.reverse())n.remove(a.getChild(f)),i.splice(f,1)}const d=i.filter((f,k)=>a.getChild(k).is("element","tableRow")),h=d[0];if(!d.every(f=>f===h)){const f=d.reduce((k,b)=>b>k?b:k,0);for(const[k,b]of d.entries()){const v=f-b;if(v){for(let A=0;A<v;A++)sl(n,n.createPositionAt(a.getChild(k),"end"));r=!0}}}return r}function Tte(a){if(a.type!=="attribute")return!1;const n=a.attributeKey;return n==="headingRows"||n==="colspan"||n==="rowspan"}function Ite(a){a.document.registerPostFixer(n=>function(r,i){const l=i.document.differ.getChanges();let d=!1;for(const h of l)h.type=="insert"&&h.name=="table"&&(d=Dte(h.position.nodeAfter,r)||d),h.type=="insert"&&h.name=="tableRow"&&(d=yR(h.position.nodeAfter,r)||d),h.type=="insert"&&h.name=="tableCell"&&(d=p_(h.position.nodeAfter,r)||d),h.type!="remove"&&h.type!="insert"||!Mte(h)||(d=p_(h.position.parent,r)||d);return d}(n,a))}function Dte(a,n){let r=!1;for(const i of a.getChildren())i.is("element","tableRow")&&(r=yR(i,n)||r);return r}function yR(a,n){let r=!1;for(const i of a.getChildren())r=p_(i,n)||r;return r}function p_(a,n){if(a.childCount==0)return n.insertElement("paragraph",a),!0;const r=Array.from(a.getChildren()).filter(i=>i.is("$text"));for(const i of r)n.wrap(n.createRangeOn(i),"paragraph");return!!r.length}function Mte(a){return!!a.position.parent.is("element","tableCell")&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function Pte(a,n){if(!a.is("element","paragraph"))return!1;const r=n.toViewElement(a);return!!r&&iR(a)!==r.is("element","span")}var _R=c(8137),Nte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(_R.A,Nte),_R.A.locals;class Rte extends pe{constructor(n){super(n),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[oo]}init(){const n=this.editor,r=n.model,i=r.schema,l=n.conversion,d=n.plugins.get(oo);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(h=>{h.on("element:figure",(f,k,b)=>{if(!b.consumable.test(k.viewItem,{name:!0,classes:"table"}))return;const v=function(E){for(const I of E.getChildren())if(I.is("element","table"))return I}(k.viewItem);if(!v||!b.consumable.test(v,{name:!0}))return;b.consumable.consume(k.viewItem,{name:!0,classes:"table"});const A=qn(b.convertItem(v,k.modelCursor).modelRange.getItems());A?(b.convertChildren(k.viewItem,b.writer.createPositionAt(A,"end")),b.updateConversionResult(A,k)):b.consumable.revert(k.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(dte()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:nR(d,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:nR(d,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(h=>{h.on("element:tr",(f,k)=>{k.viewItem.isEmpty&&k.modelCursor.index==0&&f.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(h,{writer:f})=>h.isEmpty?f.createEmptyElement("tr"):f.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(tR("td")),l.for("upcast").add(tR("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:oR({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:oR()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:rR({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:rR(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:CR("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:CR("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new pte(n)),n.commands.add("insertTableRowAbove",new sR(n,{order:"above"})),n.commands.add("insertTableRowBelow",new sR(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new aR(n,{order:"left"})),n.commands.add("insertTableColumnRight",new aR(n,{order:"right"})),n.commands.add("removeTableRow",new fte(n)),n.commands.add("removeTableColumn",new gte(n)),n.commands.add("splitTableCellVertically",new lR(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new lR(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new yte(n)),n.commands.add("mergeTableCellRight",new Sm(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new Sm(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new Sm(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new Sm(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new kte(n)),n.commands.add("setTableRowHeader",new mte(n)),n.commands.add("selectTableRow",new Cte(n)),n.commands.add("selectTableColumn",new Ate(n)),xte(r),Ite(r),this.listenTo(r.document,"change:data",()=>{(function(h,f){const k=h.document.differ;for(const b of k.getChanges()){let v,A=!1;if(b.type=="attribute"){const L=b.range.start.nodeAfter;if(!L||!L.is("element","table")||b.attributeKey!="headingRows"&&b.attributeKey!="headingColumns")continue;v=L,A=b.attributeKey=="headingRows"}else b.name!="tableRow"&&b.name!="tableCell"||(v=b.position.findAncestor("table"),A=b.name=="tableRow");if(!v)continue;const E=v.getAttribute("headingRows")||0,I=v.getAttribute("headingColumns")||0,P=new Bt(v);for(const L of P){const F=L.row<E||L.column<I?"th":"td",W=f.mapper.toViewElement(L.cell);W&&W.is("element")&&W.name!=F&&f.reconvertItem(A?L.cell.parent:L.cell)}}})(r,n.editing),function(h,f){const k=h.document.differ,b=new Set;for(const v of k.getChanges()){const A=v.type=="attribute"?v.range.start.parent:v.position.parent;A.is("element","tableCell")&&b.add(A)}for(const v of b.values()){const A=Array.from(v.getChildren()).filter(E=>Pte(E,f.mapper));for(const E of A)f.reconvertItem(E)}}(r,n.editing)})}registerAdditionalSlot(n){this._additionalSlots.push(n)}}function CR(a){return n=>{const r=parseInt(n.getAttribute(a));return Number.isNaN(r)||r<=0?null:r}}var AR=c(5032),Ote={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(AR.A,Ote),AR.A.locals;class xR extends Le{constructor(n){super(n);const r=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Io,this.focusTracker=new Gn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,l)=>`${l} × ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:r.to("label")}]}],on:{mousedown:r.to(i=>{i.preventDefault()}),click:r.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,l)=>{const{row:d,column:h}=l.target.dataset;this.items.get(10*(parseInt(d,10)-1)+(parseInt(h,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,l,d)=>{if(!d)return;const{row:h,column:f}=d.dataset;this.set({rows:parseInt(h),columns:parseInt(f)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),WH({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,r=this.columns;this.items.map((i,l)=>{const d=Math.floor(l/10)<n&&l%10<r;i.set("isOn",d)})}_createGridButton(n,r,i,l){const d=new Ct(n);return d.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),d.extendTemplate({attributes:{"data-row":r,"data-column":i}}),d}_createGridCollection(){const n=[];for(let r=0;r<100;r++){const i=Math.floor(r/10),l=r%10,d=`${i+1} × ${l+1}`;n.push(this._createGridButton(this.locale,i+1,l+1,d))}return this.createCollection(n)}}class Bte extends pe{static get pluginName(){return"TableUI"}init(){const n=this.editor,r=this.editor.t,i=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",l=>{const d=n.commands.get("insertTable"),h=os(l);let f;return h.bind("isEnabled").to(d),h.buttonView.set({icon:Ze.table,label:r("Insert table"),tooltip:!0}),h.on("change:isOpen",()=>{f||(f=new xR(l),h.panelView.children.add(f),f.delegate("execute").to(h),h.on("execute",()=>{n.execute("insertTable",{rows:f.rows,columns:f.columns}),n.editing.view.focus()}))}),h}),n.ui.componentFactory.add("menuBar:insertTable",l=>{const d=n.commands.get("insertTable"),h=new Tc(l),f=new xR(l);return f.delegate("execute").to(h),h.on("change:isOpen",(k,b,v)=>{v||f.reset()}),f.on("execute",()=>{n.execute("insertTable",{rows:f.rows,columns:f.columns}),n.editing.view.focus()}),h.buttonView.set({label:r("Table"),icon:Ze.table}),h.panelView.children.add(f),h.bind("isEnabled").to(d),h}),n.ui.componentFactory.add("tableColumn",l=>{const d=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:r("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:r("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:r("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:r("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:r("Select column")}}];return this._prepareDropdown(r("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',d,l)}),n.ui.componentFactory.add("tableRow",l=>{const d=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:r("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:r("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:r("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:r("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:r("Select row")}}];return this._prepareDropdown(r("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',d,l)}),n.ui.componentFactory.add("mergeTableCells",l=>{const d=[{type:"button",model:{commandName:"mergeTableCellUp",label:r("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:r("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:r("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:r("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:r("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:r("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(r("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',d,l)})}_prepareDropdown(n,r,i,l){const d=this.editor,h=os(l),f=this._fillDropdownWithListOptions(h,i);return h.buttonView.set({label:n,icon:r,tooltip:!0}),h.bind("isEnabled").toMany(f,"isEnabled",(...k)=>k.some(b=>b)),this.listenTo(h,"execute",k=>{d.execute(k.source.commandName),k.source instanceof Wg||d.editing.view.focus()}),h}_prepareMergeSplitButtonDropdown(n,r,i,l){const d=this.editor,h=os(l,Yg),f="mergeTableCells",k=d.commands.get(f),b=this._fillDropdownWithListOptions(h,i);return h.buttonView.set({label:n,icon:r,tooltip:!0,isEnabled:!0}),h.bind("isEnabled").toMany([k,...b],"isEnabled",(...v)=>v.some(A=>A)),this.listenTo(h.buttonView,"execute",()=>{d.execute(f),d.editing.view.focus()}),this.listenTo(h,"execute",v=>{d.execute(v.source.commandName),d.editing.view.focus()}),h}_fillDropdownWithListOptions(n,r){const i=this.editor,l=[],d=new Xr;for(const h of r)Lte(h,i,l,d);return o5(n,d),l}}function Lte(a,n,r,i){if(a.type==="button"||a.type==="switchbutton"){const l=a.model=new R5(a.model),{commandName:d,bindIsOn:h}=a.model,f=n.commands.get(d);r.push(f),l.set({commandName:d}),l.bind("isEnabled").to(f),h&&l.bind("isOn").to(f,"value"),l.set({withText:!0})}i.add(a)}var ER=c(8423),jte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(ER.A,jte),ER.A.locals;class al extends pe{static get pluginName(){return"TableSelection"}static get requires(){return[oo,oo]}init(){const n=this.editor,r=n.model,i=n.editing.view;this.listenTo(r,"deleteContent",(l,d)=>this._handleDeleteContent(l,d),{priority:"high"}),this.listenTo(i.document,"insertText",(l,d)=>this._handleInsertTextEvent(l,d),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(oo),r=this.editor.model.document.selection,i=n.getSelectedTableCells(r);return i.length==0?null:i}getSelectionAsFragment(){const n=this.editor.plugins.get(oo),r=this.getSelectedTableCells();return r?this.editor.model.change(i=>{const l=i.createDocumentFragment(),{first:d,last:h}=n.getColumnIndexes(r),{first:f,last:k}=n.getRowIndexes(r),b=r[0].findAncestor("table");let v=k,A=h;if(n.isSelectionRectangular(r)){const I={firstColumn:d,lastColumn:h,firstRow:f,lastRow:k};v=gR(b,I),A=mR(b,I)}const E=cR(b,{startRow:f,startColumn:d,endRow:v,endColumn:A},i);return i.insert(E,l,0),l}):null}setCellSelection(n,r){const i=this._getCellsToSelect(n,r);this.editor.model.change(l=>{l.setSelection(i.cells.map(d=>l.createRangeOn(d)),{backward:i.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const n=qn(this.editor.model.document.selection.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const n=this.editor,r=new Set;n.conversion.for("editingDowncast").add(i=>i.on("selection",(l,d,h)=>{const f=h.writer;(function(v){for(const A of r)v.removeClass("ck-editor__editable_selected",A);r.clear()})(f);const k=this.getSelectedTableCells();if(!k)return;for(const v of k){const A=h.mapper.toViewElement(v);f.addClass("ck-editor__editable_selected",A),r.add(A)}const b=h.mapper.toViewElement(k[k.length-1]);f.setSelection(b,0)},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const r=this.getSelectedTableCells();if(!r)return;n.model.change(i=>{const l=i.createPositionAt(r[0],0),d=n.model.schema.getNearestSelectionRange(l);i.setSelection(d)})}})}_handleDeleteContent(n,r){const i=this.editor.plugins.get(oo),l=r[0],d=r[1],h=this.editor.model,f=!d||d.direction=="backward",k=i.getSelectedTableCells(l);k.length&&(n.stop(),h.change(b=>{const v=k[f?k.length-1:0];h.change(E=>{for(const I of k)h.deleteContent(E.createSelection(I,"in"))});const A=h.schema.getNearestSelectionRange(b.createPositionAt(v,0));l.is("documentSelection")?b.setSelection(A):l.setTo(A)}))}_handleInsertTextEvent(n,r){const i=this.editor,l=this.getSelectedTableCells();if(!l)return;const d=i.editing.view,h=i.editing.mapper,f=l.map(k=>d.createRangeOn(h.toViewElement(k)));r.selection=d.createSelection(f)}_getCellsToSelect(n,r){const i=this.editor.plugins.get("TableUtils"),l=i.getCellLocation(n),d=i.getCellLocation(r),h=Math.min(l.row,d.row),f=Math.max(l.row,d.row),k=Math.min(l.column,d.column),b=Math.max(l.column,d.column),v=new Array(f-h+1).fill(null).map(()=>[]),A={startRow:h,endRow:f,startColumn:k,endColumn:b};for(const{row:P,cell:L}of new Bt(n.findAncestor("table"),A))v[P-h].push(L);const E=d.row<l.row,I=d.column<l.column;return E&&v.reverse(),I&&v.forEach(P=>P.reverse()),{cells:v.flat(),backward:E||I}}}class zte extends pe{static get pluginName(){return"TableClipboard"}static get requires(){return[nh,Tr,al,oo]}init(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"copy",(i,l)=>this._onCopyCut(i,l)),this.listenTo(r,"cut",(i,l)=>this._onCopyCut(i,l)),this.listenTo(n.model,"insertContent",(i,[l,d])=>this._onInsertContent(i,l,d),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,r){const i=this.editor.editing.view,l=this.editor.plugins.get(al),d=this.editor.plugins.get(nh);l.getSelectedTableCells()&&(n.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(r.preventDefault(),n.stop(),this.editor.model.enqueueChange({isUndoable:n.name==="cut"},()=>{const h=d._copySelectedFragmentWithMarkers(n.name,this.editor.model.document.selection,()=>l.getSelectionAsFragment());i.document.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:this.editor.data.toView(h),method:n.name})}))}_onInsertContent(n,r,i){if(i&&!i.is("documentSelection"))return;const l=this.editor.model,d=this.editor.plugins.get(oo),h=this.editor.plugins.get(nh),f=this.getTableIfOnlyTableInContent(r,l);if(!f)return;const k=d.getSelectionAffectedTableCells(l.document.selection);k.length?(n.stop(),r.is("documentFragment")?h._pasteMarkersIntoTransformedElement(r.markers,b=>this._replaceSelectedCells(f,k,b)):this.editor.model.change(b=>{this._replaceSelectedCells(f,k,b)})):u_(f,d)}_replaceSelectedCells(n,r,i){const l=this.editor.plugins.get(oo),d={width:l.getColumns(n),height:l.getRows(n)},h=function(A,E,I,P){const L=A[0].findAncestor("table"),F=P.getColumnIndexes(A),W=P.getRowIndexes(A),K={firstColumn:F.first,lastColumn:F.last,firstRow:W.first,lastRow:W.last},ee=A.length===1;return ee&&(K.lastRow+=E.height-1,K.lastColumn+=E.width-1,function(ce,ve,Fe,ot){const qt=ot.getColumns(ce),Fn=ot.getRows(ce);Fe>qt&&ot.insertColumns(ce,{at:qt,columns:Fe-qt}),ve>Fn&&ot.insertRows(ce,{at:Fn,rows:ve-Fn})}(L,K.lastRow+1,K.lastColumn+1,P)),ee||!P.isSelectionRectangular(A)?function(ce,ve,Fe){const{firstRow:ot,lastRow:qt,firstColumn:Fn,lastColumn:HR}=ve,WR={first:ot,last:qt},qR={first:Fn,last:HR};g_(ce,Fn,WR,Fe),g_(ce,HR+1,WR,Fe),f_(ce,ot,qR,Fe),f_(ce,qt+1,qR,Fe,ot)}(L,K,I):(K.lastRow=gR(L,K),K.lastColumn=mR(L,K)),K}(r,d,i,l),f=h.lastRow-h.firstRow+1,k=h.lastColumn-h.firstColumn+1;n=cR(n,{startRow:0,startColumn:0,endRow:Math.min(f,d.height)-1,endColumn:Math.min(k,d.width)-1},i);const b=r[0].findAncestor("table"),v=this._replaceSelectedCellsWithPasted(n,d,b,h,i);if(this.editor.plugins.get("TableSelection").isEnabled){const A=l.sortRanges(v.map(E=>i.createRangeOn(E)));i.setSelection(A)}else i.setSelection(v[0],0);return b}_replaceSelectedCellsWithPasted(n,r,i,l,d){const{width:h,height:f}=r,k=function(F,W,K){const ee=new Array(K).fill(null).map(()=>new Array(W).fill(null));for(const{column:ce,row:ve,cell:Fe}of new Bt(F))ee[ve][ce]=Fe;return ee}(n,h,f),b=[...new Bt(i,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],v=[];let A;for(const F of b){const{row:W,column:K}=F;K===l.firstColumn&&(A=F.getPositionBefore());const ee=W-l.firstRow,ce=K-l.firstColumn,ve=k[ee%f][ce%h],Fe=ve?d.cloneElement(ve):null,ot=this._replaceTableSlotCell(F,Fe,A,d);ot&&(fR(ot,W,K,l.lastRow,l.lastColumn,d),v.push(ot),A=d.createPositionAfter(ot))}const E=parseInt(i.getAttribute("headingRows")||"0"),I=parseInt(i.getAttribute("headingColumns")||"0"),P=l.firstRow<E&&E<=l.lastRow,L=l.firstColumn<I&&I<=l.lastColumn;if(P){const F=f_(i,E,{first:l.firstColumn,last:l.lastColumn},d,l.firstRow);v.push(...F)}if(L){const F=g_(i,I,{first:l.firstRow,last:l.lastRow},d);v.push(...F)}return v}_replaceTableSlotCell(n,r,i,l){const{cell:d,isAnchor:h}=n;return h&&l.remove(d),r?(l.insert(r,i),r):null}getTableIfOnlyTableInContent(n,r){if(!n.is("documentFragment")&&!n.is("element"))return null;if(n.is("element","table"))return n;if(n.childCount==1&&n.getChild(0).is("element","table"))return n.getChild(0);const i=r.createRangeIn(n);for(const l of i.getItems())if(l.is("element","table")){const d=r.createRange(i.start,r.createPositionBefore(l));if(r.hasContent(d,{ignoreWhitespaces:!0}))return null;const h=r.createRange(r.createPositionAfter(l),i.end);return r.hasContent(h,{ignoreWhitespaces:!0})?null:l}return null}}function f_(a,n,r,i,l=0){if(!(n<1))return dR(a,n,l).filter(({column:d,cellWidth:h})=>SR(d,h,r)).map(({cell:d})=>uR(d,n,i))}function g_(a,n,r,i){if(!(n<1))return hR(a,n).filter(({row:l,cellHeight:d})=>SR(l,d,r)).map(({cell:l,column:d})=>pR(l,d,n,i))}function SR(a,n,r){const i=a+n-1,{first:l,last:d}=r;return a>=l&&a<=d||a<l&&i>=l}class Fte extends pe{static get pluginName(){return"TableKeyboard"}static get requires(){return[al,oo]}init(){const n=this.editor,r=n.editing.view.document,i=n.t;this.listenTo(r,"arrowKey",(...l)=>this._onArrowKey(...l),{context:"table"}),this.listenTo(r,"tab",(...l)=>this._handleTabOnSelectedTable(...l),{context:"figure"}),this.listenTo(r,"tab",(...l)=>this._handleTab(...l),{context:["th","td"]}),n.accessibility.addKeystrokeInfoGroup({id:"table",label:i("Keystrokes that can be used in a table cell"),keystrokes:[{label:i("Move the selection to the next cell"),keystroke:"Tab"},{label:i("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:i("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:i("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(n,r){const i=this.editor,l=i.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(r.preventDefault(),r.stopPropagation(),n.stop(),i.model.change(d=>{d.setSelection(d.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(n,r){const i=this.editor,l=this.editor.plugins.get(oo),d=this.editor.plugins.get("TableSelection"),h=i.model.document.selection,f=!r.shiftKey;let k=l.getTableCellsContainingSelection(h)[0];if(k||(k=d.getFocusCell()),!k)return;r.preventDefault(),r.stopPropagation(),n.stop();const b=k.parent,v=b.parent,A=v.getChildIndex(b),E=b.getChildIndex(k),I=E===0;if(!f&&I&&A===0)return void i.model.change(W=>{W.setSelection(W.createRangeOn(v))});const P=E===b.childCount-1,L=A===l.getRows(v)-1;if(f&&L&&P&&(i.execute("insertTableRowBelow"),A===l.getRows(v)-1))return void i.model.change(W=>{W.setSelection(W.createRangeOn(v))});let F;if(f&&P)F=v.getChild(A+1).getChild(0);else if(!f&&I){const W=v.getChild(A-1);F=W.getChild(W.childCount-1)}else F=b.getChild(E+(f?1:-1));i.model.change(W=>{W.setSelection(W.createRangeIn(F))})}_onArrowKey(n,r){const i=this.editor,l=Ev(r.keyCode,i.locale.contentLanguageDirection);this._handleArrowKeys(l,r.shiftKey)&&(r.preventDefault(),r.stopPropagation(),n.stop())}_handleArrowKeys(n,r){const i=this.editor.plugins.get(oo),l=this.editor.plugins.get("TableSelection"),d=this.editor.model,h=d.document.selection,f=["right","down"].includes(n),k=i.getSelectedTableCells(h);if(k.length){let v;return v=r?l.getFocusCell():f?k[k.length-1]:k[0],this._navigateFromCellInDirection(v,n,r),!0}const b=h.focus.findAncestor("tableCell");if(!b)return!1;if(!h.isCollapsed)if(r){if(h.isBackward==f&&!h.containsEntireContent(b))return!1}else{const v=h.getSelectedElement();if(!v||!d.schema.isObject(v))return!1}return!!this._isSelectionAtCellEdge(h,b,f)&&(this._navigateFromCellInDirection(b,n,r),!0)}_isSelectionAtCellEdge(n,r,i){const l=this.editor.model,d=this.editor.model.schema,h=i?n.getLastPosition():n.getFirstPosition();if(!d.getLimitElement(h).is("element","tableCell"))return l.createPositionAt(r,i?"end":0).isTouching(h);const f=l.createSelection(h);return l.modifySelection(f,{direction:i?"forward":"backward"}),h.isEqual(f.focus)}_navigateFromCellInDirection(n,r,i=!1){const l=this.editor.model,d=n.findAncestor("table"),h=[...new Bt(d,{includeAllSlots:!0})],{row:f,column:k}=h[h.length-1],b=h.find(({cell:L})=>L==n);let{row:v,column:A}=b;switch(r){case"left":A--;break;case"up":v--;break;case"right":A+=b.cellWidth;break;case"down":v+=b.cellHeight}if(v<0||v>f||A<0&&v<=0||A>k&&v>=f)return void l.change(L=>{L.setSelection(L.createRangeOn(d))});A<0?(A=i?0:k,v--):A>k&&(A=i?k:0,v++);const E=h.find(L=>L.row==v&&L.column==A).cell,I=["right","down"].includes(r),P=this.editor.plugins.get("TableSelection");if(i&&P.isEnabled){const L=P.getAnchorCell()||n;P.setCellSelection(L,E)}else{const L=l.createPositionAt(E,I?0:"end");l.change(F=>{F.setSelection(L)})}}}class $te extends Fs{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class Vte extends pe{static get pluginName(){return"TableMouse"}static get requires(){return[al,oo]}init(){this.editor.editing.view.addObserver($te),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,r=n.plugins.get(oo);let i=!1;const l=n.plugins.get(al);this.listenTo(n.editing.view.document,"mousedown",(d,h)=>{const f=n.model.document.selection;if(!this.isEnabled||!l.isEnabled||!h.domEvent.shiftKey)return;const k=l.getAnchorCell()||r.getTableCellsContainingSelection(f)[0];if(!k)return;const b=this._getModelTableCellFromDomEvent(h);b&&TR(k,b)&&(i=!0,l.setCellSelection(k,b),h.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(n.editing.view.document,"selectionChange",d=>{i&&d.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let r,i,l=!1,d=!1;const h=n.plugins.get(al);this.listenTo(n.editing.view.document,"mousedown",(f,k)=>{this.isEnabled&&h.isEnabled&&(k.domEvent.shiftKey||k.domEvent.ctrlKey||k.domEvent.altKey||(r=this._getModelTableCellFromDomEvent(k)))}),this.listenTo(n.editing.view.document,"mousemove",(f,k)=>{if(!k.domEvent.buttons||!r)return;const b=this._getModelTableCellFromDomEvent(k);b&&TR(r,b)&&(i=b,l||i==r||(l=!0)),l&&(d=!0,h.setCellSelection(r,i),k.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{l=!1,d=!1,r=null,i=null}),this.listenTo(n.editing.view.document,"selectionChange",f=>{d&&f.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const r=n.target,i=this.editor.editing.view.createPositionAt(r,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function TR(a,n){return a.parent.parent==n.parent.parent}var IR=c(2329),Ute={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(IR.A,Ute),IR.A.locals;function Hte(a){const n=a.getSelectedElement();return n&&DR(n)?n:null}function Wte(a){const n=a.getFirstPosition();if(!n)return null;let r=n.parent;for(;r;){if(r.is("element")&&DR(r))return r;r=r.parent}return null}function DR(a){return!!a.getCustomProperty("table")&&Sn(a)}var MR=c(5506),qte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(MR.A,qte),MR.A.locals;var PR=c(2655),Gte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(PR.A,Gte),PR.A.locals;var NR=c(4043),Kte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(NR.A,Kte),NR.A.locals;var RR=c(1623),Yte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(RR.A,Yte),RR.A.locals;var OR=c(8986),Qte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(OR.A,Qte),OR.A.locals;const ll=zo.defaultPositions;ll.northArrowSouth,ll.northArrowSouthWest,ll.northArrowSouthEast,ll.southArrowNorth,ll.southArrowNorthWest,ll.southArrowNorthEast,ll.viewportStickyNorth;var BR=c(5562),Zte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(BR.A,Zte),BR.A.locals;var LR=c(4143),Jte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(LR.A,Jte),LR.A.locals;var jR=c(8795),Xte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(jR.A,Xte),jR.A.locals;var ene=Object.defineProperty,zR=Object.getOwnPropertySymbols,tne=Object.prototype.hasOwnProperty,nne=Object.prototype.propertyIsEnumerable,FR=(a,n,r)=>n in a?ene(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,$R=(a,n)=>{for(var r in n||(n={}))tne.call(n,r)&&FR(a,r,n[r]);if(zR)for(var r of zR(n))nne.call(n,r)&&FR(a,r,n[r]);return a};const one={autoRefresh:!0},VR=36e5;class m_ extends Q(){constructor(n,r={}){if(super(),!n)throw new M("token-missing-token-url",this);r.initValue&&this._validateTokenValue(r.initValue),this.set("value",r.initValue),this._refresh=typeof n=="function"?n:()=>{return i=n,new Promise((l,d)=>{const h=new XMLHttpRequest;h.open("GET",i),h.addEventListener("load",()=>{const f=h.status,k=h.response;return f<200||f>299?d(new M("token-cannot-download-new-token",null)):l(k)}),h.addEventListener("error",()=>d(new Error("Network Error"))),h.addEventListener("abort",()=>d(new Error("Abort"))),h.send()});var i},this._options=$R($R({},one),r)}init(){return new Promise((n,r)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)):this.refreshToken().then(n).catch(r)})}refreshToken(){return this._refresh().then(n=>(this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const r=typeof n=="string",i=!/^".*"$/.test(n),l=r&&n.split(".").length===3;if(!i||!l)throw new M("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:r}=JSON.parse(atob(n));return r?Math.floor((1e3*r-Date.now())/2):VR}catch{return VR}}static create(n,r={}){return new m_(n,r).init()}}const k_=/^data:(\S*?);base64,/;class rne extends q(){constructor(n,r,i){if(super(),!n)throw new M("fileuploader-missing-file",null);if(!r)throw new M("fileuploader-missing-token",null);if(!i)throw new M("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const d=l.match(k_);return!(!d||!d.length)}(n)?function(l,d=512){try{const h=l.match(k_)[1],f=atob(l.replace(k_,"")),k=[];for(let b=0;b<f.length;b+=d){const v=f.slice(b,b+d),A=new Array(v.length);for(let E=0;E<v.length;E++)A[E]=v.charCodeAt(E);k.push(new Uint8Array(A))}return new Blob(k,{type:h})}catch{throw new M("fileuploader-decoding-image-data-error",null)}}(n):n,this._token=r,this._apiAddress=i}onProgress(n){return this.on("progress",(r,i)=>n(i)),this}onError(n){return this.once("error",(r,i)=>n(i)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this.xhr,r=i=>()=>this.fire("error",i);n.addEventListener("error",r("Network Error")),n.addEventListener("abort",r("Abort")),n.upload&&n.upload.addEventListener("progress",i=>{i.lengthComputable&&this.fire("progress",{total:i.total,uploaded:i.loaded})}),n.addEventListener("load",()=>{const i=n.status,l=n.response;if(i<200||i>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const n=new FormData,r=this.xhr;return n.append("file",this.file),new Promise((i,l)=>{r.addEventListener("load",()=>{const d=r.status,h=r.response;return d<200||d>299?h.message?l(new M("fileuploader-uploading-data-failed",this,{message:h.message})):l(h.error):i(h)}),r.addEventListener("error",()=>l(new Error("Network Error"))),r.addEventListener("abort",()=>l(new Error("Abort"))),r.send(n)})}}class ine{constructor(n,r){if(!n)throw new M("uploadgateway-missing-token",null);if(!r)throw new M("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=r}upload(n){return new rne(n,this._token,this._apiAddress)}}class sne extends Eg{static get pluginName(){return"CloudServicesCore"}createToken(n,r){return new m_(n,r)}createUploadGateway(n,r){return new ine(n,r)}}var UR=(a,n,r)=>new Promise((i,l)=>{var d=k=>{try{f(r.next(k))}catch(b){l(b)}},h=k=>{try{f(r.throw(k))}catch(b){l(b)}},f=k=>k.done?i(k.value):Promise.resolve(k.value).then(d,h);f((r=r.apply(a,n)).next())});class b_ extends rm{}b_.builtinPlugins=[class extends pe{static get requires(){return[sK,u4,lm,EZ,QQ,VQ,m4]}static get pluginName(){return"Essentials"}},class extends pe{static get requires(){return[si]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const a=this.editor.config.get("ckfinder.uploadUrl");a&&(this.editor.plugins.get(si).createUploadAdapter=n=>new jZ(n,a,this.editor.t))}},class extends pe{static get requires(){return[is]}static get pluginName(){return"Autoformat"}afterInit(){const a=this.editor,n=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),a.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&Hs(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&Hs(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&Hs(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&Hs(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const n=pm(this.editor,"bold");Mc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),Mc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(a.get("italic")){const n=pm(this.editor,"italic");Mc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),Mc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(a.get("code")){const n=pm(this.editor,"code");Mc(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(a.get("strikethrough")){const n=pm(this.editor,"strikethrough");Mc(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const r=n[7],i=new RegExp(`^(#{${r}})\\s$`);Hs(this.editor,this,i,()=>{if(!a.isEnabled||a.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Hs(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,n=a.model.document.selection;a.commands.get("codeBlock")&&Hs(a,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Hs(this.editor,this,/^---$/,"horizontalLine")}},class extends pe{static get requires(){return[zZ,FZ]}static get pluginName(){return"Bold"}},class extends pe{static get requires(){return[VZ,UZ]}static get pluginName(){return"Italic"}},class extends pe{static get requires(){return[WZ,GZ]}static get pluginName(){return"BlockQuote"}},class extends pe{static get pluginName(){return"CKBox"}static get requires(){return[B4,KZ]}},class extends pe{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",wJ,kJ]}},class extends Eg{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[sne]}init(){return UR(this,null,function*(){const a=this.context.config.get("cloudServices")||{};for(const[r,i]of Object.entries(a))this[r]=i;if(!this.tokenUrl)return void(this.token=null);const n=this.context.plugins.get("CloudServicesCore");this.token=yield n.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(a){return UR(this,null,function*(){if(this._tokens.has(a))return this.getTokenFor(a);const n=this.context.plugins.get("CloudServicesCore"),r=yield n.createToken(a).init();return this._tokens.set(a,r),r})}getTokenFor(a){const n=this._tokens.get(a);if(!n)throw new M("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const a of this._tokens.values())a.destroy()}},class extends pe{static get pluginName(){return"EasyImage"}static get requires(){return[vJ,"ImageUpload"]}init(){const a=this.editor;a.plugins.has("ImageBlockEditing")||a.plugins.has("ImageInlineEditing")||U("easy-image-image-feature-missing",a)}},class extends pe{static get requires(){return[xJ,SJ]}static get pluginName(){return"Heading"}},class extends pe{static get requires(){return[KJ,QJ]}static get pluginName(){return"Image"}},class extends pe{static get requires(){return[JJ,XJ]}static get pluginName(){return"ImageCaption"}},class extends pe{static get requires(){return[VP,CX]}static get pluginName(){return"ImageStyle"}},class extends pe{static get requires(){return[dm,$o]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,n=a.t,r=a.plugins.get(dm),i=a.plugins.get("ImageUtils");var l;r.register("image",{ariaLabel:n("Image toolbar"),items:(l=a.config.get("image.toolbar")||[],l.map(d=>xe(d)?d.name:d)),getRelatedElement:d=>i.getClosestSelectedImageWidget(d)})}},class extends pe{static get pluginName(){return"ImageUpload"}static get requires(){return[pX,nX,sX]}},class extends pe{static get pluginName(){return"Indent"}static get requires(){return[AX,xX]}},class extends pe{static get requires(){return[cN,eee,tee]}static get pluginName(){return"Link"}},xee,class extends pe{static get requires(){return[Em,Lee,Ree,sh]}static get pluginName(){return"MediaEmbed"}},Uy,class extends pe{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Tr]}init(){const a=this.editor,n=a.plugins.get("ClipboardPipeline"),r=a.editing.view.document,i=[],l=this.editor.plugins.has("MultiLevelList");i.push(new rte(r,l)),i.push(new ste(r)),i.push(new lte(r)),n.on("inputTransformation",(d,h)=>{if(h._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const f=h.dataTransfer.getData("text/html"),k=i.find(b=>b.isActive(f));k&&(h._parsedData||(h._parsedData=cte(f,r.stylesProcessor)),k.execute(h),h._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends pe{static get requires(){return[Wy,$o]}static get pluginName(){return"PictureEditing"}afterInit(){const a=this.editor;a.plugins.has("ImageBlockEditing")&&a.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),a.plugins.has("ImageInlineEditing")&&a.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const a=this.editor,n=a.conversion,r=a.plugins.get("ImageUtils");n.for("upcast").add(function(i){const l=["srcset","media","type","sizes"],d=(h,f,k)=>{const b=f.viewItem;if(!k.consumable.test(b,{name:!0}))return;const v=new Map;for(const I of b.getChildren())if(I.is("element","source")){const P={};for(const L of l)I.hasAttribute(L)&&k.consumable.test(I,{attributes:L})&&(P[L]=I.getAttribute(L));Object.keys(P).length&&v.set(I,P)}const A=i.findViewImgElement(b);if(!A)return;let E=f.modelCursor.parent;if(!E.is("element","imageBlock")){const I=k.convertItem(A,f.modelCursor);f.modelRange=I.modelRange,f.modelCursor=I.modelCursor,E=qn(I.modelRange.getItems())}k.consumable.consume(b,{name:!0});for(const[I,P]of v)k.consumable.consume(I,{attributes:Object.keys(P)});v.size&&k.writer.setAttribute("sources",Array.from(v.values()),E),k.convertChildren(b,E)};return h=>{h.on("element:picture",d)}}(r)),n.for("downcast").add(function(i){const l=(d,h,f)=>{if(!f.consumable.consume(h.item,d.name))return;const k=f.writer,b=f.mapper.toViewElement(h.item),v=i.findViewImgElement(b),A=h.attributeNewValue;if(A&&A.length){const E=k.createContainerElement("picture",null,A.map(L=>k.createEmptyElement("source",L))),I=[];let P=v.parent;for(;P&&P.is("attributeElement");){const L=P.parent;k.unwrap(k.createRangeOn(v),P),I.unshift(P),P=L}k.insert(k.createPositionBefore(v),E),k.move(k.createRangeOn(v),k.createPositionAt(E,"end"));for(const L of I)k.wrap(k.createRangeOn(E),L)}else if(v.parent.is("element","picture")){const E=v.parent;k.move(k.createRangeOn(v),k.createPositionBefore(E)),k.remove(E)}};return d=>{d.on("attribute:sources:imageBlock",l),d.on("attribute:sources:imageInline",l)}}(r))}_setupImageUploadEditingIntegration(){const a=this.editor;if(!a.plugins.has("ImageUploadEditing"))return;const n=a.plugins.get("ImageUploadEditing");this.listenTo(n,"uploadComplete",(r,{imageElement:i,data:l})=>{const d=l.sources;d&&a.model.change(h=>{h.setAttributes({sources:d},i)})})}},class extends pe{static get requires(){return[Rte,Bte,al,Vte,Fte,zte,sh]}static get pluginName(){return"Table"}},class extends pe{static get requires(){return[dm]}static get pluginName(){return"TableToolbar"}afterInit(){const a=this.editor,n=a.t,r=a.plugins.get(dm),i=a.config.get("table.contentToolbar"),l=a.config.get("table.tableToolbar");i&&r.register("tableContent",{ariaLabel:n("Table toolbar"),items:i,getRelatedElement:Wte}),l&&r.register("table",{ariaLabel:n("Table toolbar"),items:l,getRelatedElement:Hte})}},class extends pe{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:UQ}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,n=a.model,r=a.plugins.get("Delete"),i=function(d){const h=d.extra||[],f=d.remove||[],k=b=>!f.includes(b);return function(b){const v=new Set;for(const A of b)if(typeof A=="string"&&LM[A])for(const E of LM[A])v.add(E);else v.add(A);return Array.from(v)}(d.include.concat(h).filter(k)).filter(k).map(b=>typeof b=="string"&&BM[b]?BM[b]:b).filter(b=>typeof b=="object").map(b=>({from:HQ(b.from),to:WQ(b.to)}))}(a.config.get("typing.transformations")),l=new NM(a.model,d=>{for(const h of i)if(h.from.test(d))return{normalizedTransformation:h}});l.on("matched:data",(d,h)=>{if(!h.batch.isTyping)return;const{from:f,to:k}=h.normalizedTransformation,b=f.exec(h.text),v=k(b.slice(1)),A=h.range;let E=b.index;n.enqueueChange(I=>{for(let P=1;P<b.length;P++){const L=b[P],F=v[P-1];if(F==null){E+=L.length;continue}const W=A.start.getShiftedBy(E),K=n.createRange(W,W.getShiftedBy(L.length)),ee=qQ(W);n.insertContent(I.createText(F,ee),K),E+=F.length}n.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}}],b_.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),u=u.default})())})(Jb,Jb.exports);var hTe=Jb.exports;const iU=Xb(hTe),pTe=({content:t,onChange:e})=>B.jsx(rU.CKEditor,{editor:iU,data:t,onChange:(o,s)=>{const c=s.getData();e(c)},config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:o=>/^(https?:)?\/\//.test(o||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),jj=({content:t,onChange:e})=>B.jsx(rU.CKEditor,{editor:iU,data:t,onChange:(o,s)=>{const c=s.getData();e(c)},config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"],link:{defaultProtocol:"https://",decorators:{addTargetToExternalLinks:{mode:"automatic",callback:o=>/^(https?:)?\/\//.test(o||""),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}}),sU=({materialData:t,onSubmit:e})=>{var ut,lt,st,vt,qe,Ee;const o=Yl(),{userDetails:s}=cw(),c=Os(),[u,p]=z.useState((t==null?void 0:t.title)||""),[m,g]=z.useState((t==null?void 0:t.header)||{title:"Header",content:""}),[w,_]=z.useState((t==null?void 0:t.footer)||{title:"Footer",content:""}),[C,y]=z.useState((t==null?void 0:t.sections)||[{id:qh(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[x,S]=z.useState({sectionIndex:0}),[T,R]=z.useState(!1),[D,N]=z.useState(""),[O,j]=z.useState("success");z.useEffect(()=>{const Q=te=>{te.key==="ArrowLeft"?Ye("prev"):te.key==="ArrowRight"&&Ye("next")};return window.addEventListener("keydown",Q),()=>{window.removeEventListener("keydown",Q)}},[x,C]);const $=async(Q,te=!1)=>{Q.preventDefault();try{if(t){const le=Ds(c,"materials",t.id);await sw(le,{title:u,header:m,footer:w,sections:C,published:te}),N("Material updated successfully")}else{const le=await v$(NE(c,"materials"),{title:u,header:m,footer:w,sections:C,author:(s==null?void 0:s.uid)||"",timestamp:ap(),published:te});N("Material saved successfully")}j("success"),R(!0),o("/supplemental-materials")}catch{N("Failed to save material"),j("error"),R(!0)}},H=()=>{o("/supplemental-materials")},M=Q=>{$(Q,!0)},U=()=>{y([...C,{id:qh(),title:`Section ${C.length+1}`,content:"",subsections:[],images:[],links:[]}])},G=Q=>{const te=[...C],le=te[Q];le.subsections.push({id:qh(),title:`Subsection ${le.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),y(te),S({sectionIndex:Q,subsectionIndex:le.subsections.length-1})},Y=(Q,te)=>{const le=[...C],_e=le[Q].subsections[te];_e.subSubsections.push({id:qh(),title:`Sub-Subsection ${_e.subSubsections.length+1}`,content:"",images:[],links:[]}),y(le),S({sectionIndex:Q,subsectionIndex:te,subSubsectionIndex:_e.subSubsections.length-1})},Z=(Q,te,le,_e)=>{const De=[...C];_e!==void 0?De[Q].subsections[le].subSubsections[_e].images=[...De[Q].subsections[le].subSubsections[_e].images,...te]:le!==void 0?De[Q].subsections[le].images=[...De[Q].subsections[le].images,...te]:De[Q].images=[...De[Q].images,...te],y(De)},re=(Q,te,le,_e)=>{const De=[...C];_e!==void 0?De[Q].subsections[le].subSubsections[_e].links=te:le!==void 0?De[Q].subsections[le].links=te:De[Q].links=te,y(De)},J=(Q,te,le)=>{S({sectionIndex:typeof Q=="number"?Q:void 0,subsectionIndex:te,subSubsectionIndex:le,type:typeof Q=="string"?Q:void 0})},X=(Q,te)=>{const le=[...C];le[Q].title=te,y(le)},oe=(Q,te,le)=>{const _e=[...C];_e[Q].subsections[te].title=le,y(_e)},ie=(Q,te,le,_e)=>{const De=[...C];De[Q].subsections[te].subSubsections[le].title=_e,y(De)},ae=(Q,te,le,_e)=>{const De=[...C];_e!==void 0?De[Q].subsections[le].subSubsections[_e].content=te:le!==void 0?De[Q].subsections[le].content=te:De[Q].content=te,y(De)},q=Q=>{g({...m,content:Q})},se=Q=>{_({...w,content:Q})},he=Q=>{const te=C.filter((le,_e)=>_e!==Q);y(te),te.length===0?S({sectionIndex:void 0,type:"header"}):Q>=te.length?S({sectionIndex:te.length-1}):S({sectionIndex:Q})},Ie=(Q,te)=>{const le=[...C];le[Q].subsections=le[Q].subsections.filter((_e,De)=>De!==te),y(le),le[Q].subsections.length===0?S({sectionIndex:Q}):te>=le[Q].subsections.length?S({sectionIndex:Q,subsectionIndex:le[Q].subsections.length-1}):S({sectionIndex:Q,subsectionIndex:te})},Me=(Q,te,le)=>{const _e=[...C];_e[Q].subsections[te].subSubsections=_e[Q].subsections[te].subSubsections.filter((De,Ke)=>Ke!==le),y(_e),_e[Q].subsections[te].subSubsections.length===0?S({sectionIndex:Q,subsectionIndex:te}):le>=_e[Q].subsections[te].subSubsections.length?S({sectionIndex:Q,subsectionIndex:te,subSubsectionIndex:_e[Q].subsections[te].subSubsections.length-1}):S({sectionIndex:Q,subsectionIndex:te,subSubsectionIndex:le})},Ye=Q=>{const{sectionIndex:te,subsectionIndex:le,subSubsectionIndex:_e,type:De}=x;if(Q==="prev")if(_e!==void 0&&_e>0)S({sectionIndex:te,subsectionIndex:le,subSubsectionIndex:_e-1});else if(_e!==void 0&&_e===0)S({sectionIndex:te,subsectionIndex:le});else if(le!==void 0&&le>0)S({sectionIndex:te,subsectionIndex:le-1});else if(le!==void 0&&le===0)S({sectionIndex:te});else if(te>0){const Ke=C[te-1];S({sectionIndex:te-1,subsectionIndex:Ke.subsections.length?Ke.subsections.length-1:void 0,subSubsectionIndex:Ke.subsections.length?Ke.subsections[Ke.subsections.length-1].subSubsections.length-1:void 0})}else De==="footer"?S({sectionIndex:C.length-1,type:"footer"}):te===void 0&&De==="header"&&S({sectionIndex:C.length-1});else Q==="next"&&(_e===void 0&&le!==void 0&&C[te].subsections[le].subSubsections.length?S({sectionIndex:te,subsectionIndex:le,subSubsectionIndex:0}):_e!==void 0&&_e<C[te].subsections[le].subSubsections.length-1?S({sectionIndex:te,subsectionIndex:le,subSubsectionIndex:_e+1}):_e!==void 0&&_e===C[te].subsections[le].subSubsections.length-1&&le<C[te].subsections.length-1?S({sectionIndex:te,subsectionIndex:le+1}):le===void 0&&C[te].subsections.length?S({sectionIndex:te,subsectionIndex:0}):le!==void 0&&le<C[te].subsections.length-1?S({sectionIndex:te,subsectionIndex:le+1}):le!==void 0&&le===C[te].subsections.length-1&&te<C.length-1?S({sectionIndex:te+1}):te<C.length-1?S({sectionIndex:te+1}):te===C.length-1&&le===void 0&&S({sectionIndex:void 0,type:"footer"}))},Pe=x.type==="header"||x.type==="footer"?"":x.sectionIndex!==void 0?x.subSubsectionIndex!==void 0?((ut=C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex])==null?void 0:ut.content)||"":x.subsectionIndex!==void 0?((lt=C[x.sectionIndex].subsections[x.subsectionIndex])==null?void 0:lt.content)||"":((st=C[x.sectionIndex])==null?void 0:st.content)||"":"",Qe=x.type==="header"||x.type==="footer"?"":x.sectionIndex!==void 0?x.subSubsectionIndex!==void 0?((vt=C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex])==null?void 0:vt.title)||"":x.subsectionIndex!==void 0?((qe=C[x.sectionIndex].subsections[x.subsectionIndex])==null?void 0:qe.title)||"":((Ee=C[x.sectionIndex])==null?void 0:Ee.title)||"":"",xe=(Q,te,le,_e)=>{const De=[...C];_e!==void 0?De[Q].subsections[le].subSubsections[_e].images=De[Q].subsections[le].subSubsections[_e].images.filter(Ke=>Ke.url!==te):le!==void 0?De[Q].subsections[le].images=De[Q].subsections[le].images.filter(Ke=>Ke.url!==te):De[Q].images=De[Q].images.filter(Ke=>Ke.url!==te),y(De)};return B.jsxs(Re,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[B.jsxs(Re,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[B.jsx(Re,{sx:{width:"450px",ml:2,mt:2},children:B.jsx(TV,{})}),B.jsxs(Re,{sx:{display:"flex",flexGrow:1},children:[B.jsx(EV,{sections:C,selected:x,onAddSection:U,onAddSubsection:G,onAddSubSubsection:Y,onSelectSection:J,onUpdateSectionTitle:X,onUpdateSubsectionTitle:oe,onUpdateSubSubsectionTitle:ie,onDeleteSection:he,onDeleteSubsection:Ie,onDeleteSubSubsection:Me}),B.jsxs(Re,{sx:{flexGrow:1,padding:3},children:[B.jsx(Xo,{label:"Material Title",variant:"outlined",fullWidth:!0,value:u,onChange:Q=>p(Q.target.value),sx:{mb:2}}),B.jsxs(Re,{sx:{border:x.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:[B.jsx(Re,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:B.jsx(dt,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),B.jsx(jj,{content:m.content,onChange:q})]}),B.jsx(dt,{variant:"h4",align:"center",gutterBottom:!0,children:Qe}),x.type!=="header"&&x.type!=="footer"&&B.jsxs(B.Fragment,{children:[B.jsx(pTe,{content:Pe,onChange:Q=>ae(x.sectionIndex,Q,x.subsectionIndex,x.subSubsectionIndex)},`${x.sectionIndex}-${x.subsectionIndex}-${x.subSubsectionIndex}`),B.jsx(txe,{sectionId:x.subSubsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].id:x.subsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].id:C[x.sectionIndex].id,onImagesUploaded:Q=>Z(x.sectionIndex,Q,x.subsectionIndex,x.subSubsectionIndex)}),(x.subSubsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].images:x.subsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].images:C[x.sectionIndex].images).map((Q,te)=>B.jsxs(Re,{sx:{position:"relative",mt:2},children:[B.jsx("img",{src:Q.url,alt:`Section ${x.sectionIndex+1} Image ${te+1}`,style:{maxWidth:"50%",marginBottom:"16px"}}),B.jsx(nxe,{imageTitle:Q.title,onTitleChange:le=>{const _e=[...C];x.subSubsectionIndex!==void 0?_e[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].images[te].title=le:x.subsectionIndex!==void 0?_e[x.sectionIndex].subsections[x.subsectionIndex].images[te].title=le:_e[x.sectionIndex].images[te].title=le,y(_e)}}),B.jsx(Zn,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>xe(x.sectionIndex,Q.url,x.subsectionIndex,x.subSubsectionIndex),children:B.jsx(Xf,{})})]},te)),B.jsx(sxe,{links:x.subSubsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].subSubsections[x.subSubsectionIndex].links:x.subsectionIndex!==void 0?C[x.sectionIndex].subsections[x.subsectionIndex].links:C[x.sectionIndex].links,onLinksChange:Q=>re(x.sectionIndex,Q,x.subsectionIndex,x.subSubsectionIndex)})]}),B.jsxs(Re,{sx:{border:x.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:[B.jsx(Re,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:B.jsx(dt,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),B.jsx(jj,{content:w.content,onChange:se})]}),B.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between"},children:[B.jsx(df,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:B.jsx("span",{children:B.jsx(Zn,{onClick:()=>Ye("prev"),disabled:x.sectionIndex===0&&x.subsectionIndex===void 0&&x.type==="header",children:B.jsx(W2,{})})})}),B.jsx(df,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:B.jsx("span",{children:B.jsx(Zn,{onClick:()=>Ye("next"),disabled:x.sectionIndex===C.length-1&&(x.subsectionIndex===void 0||x.subsectionIndex===C[x.sectionIndex].subsections.length-1)&&x.type==="footer",children:B.jsx(G2,{})})})})]}),B.jsxs(Re,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[B.jsx(hn,{type:"button",variant:"outlined",color:"secondary",onClick:H,children:"Cancel"}),B.jsx(hn,{type:"submit",variant:"contained",color:"primary",onClick:Q=>$(Q,!1),children:"Save"}),B.jsx(hn,{type:"button",variant:"contained",color:"primary",onClick:M,sx:{backgroundColor:"green"},children:"Publish"})]})]})]})]}),B.jsx(ev,{open:T,autoHideDuration:6e3,onClose:()=>R(!1),children:B.jsx(Gw,{onClose:()=>R(!1),severity:O,sx:{width:"100%"},children:D})})]})},fTe=()=>{const{id:t}=Sx(),e=Os(),[o,s]=z.useState(null);z.useEffect(()=>{t&&(async()=>{const p=Ds(e,"materials",t),m=await iw(p);if(m.exists()){const g={id:m.id,...m.data()};g.sections=g.sections.map(w=>({...w,images:w.images.map(_=>({..._,title:_.title||""})),subsections:w.subsections.map(_=>({..._,images:_.images.map(C=>({...C,title:C.title||""})),subSubsections:_.subSubsections.map(C=>({...C,images:C.images.map(y=>({...y,title:y.title||""}))}))}))})),s(g)}})()},[t,e]);const c=async u=>{if(t){const p=Ds(e,"materials",t);await sw(p,{...u})}};return o?B.jsx(sU,{materialData:o,onSubmit:c}):B.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:B.jsx(Zb,{})})},gTe=t=>!t.startsWith("http://")&&!t.startsWith("https://")?`https://${t}`:t,mTe=({links:t})=>t.length===0?null:B.jsxs(Re,{sx:{mt:2,width:"50%"},children:[B.jsx(dt,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),B.jsxs(Re,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[B.jsx(dt,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),B.jsx(dt,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),B.jsx(dt,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),t.map((e,o)=>B.jsx(Re,{children:B.jsxs(Re,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[B.jsx(dt,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:e.title}),B.jsx(bV,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:gTe(e.url),target:"_blank",rel:"noopener",children:e.url}),B.jsx(dt,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:e.description})]})},o))]}),kTe=()=>{var C,y,x,S,T,R,D,N,O,j,$,H,M,U,G,Y,Z,re;const{id:t}=Sx(),e=Os(),[o,s]=z.useState(null),[c,u]=z.useState({sectionIndex:0});z.useEffect(()=>{t&&(async()=>{const X=Ds(e,"materials",t),oe=await iw(X);oe.exists()&&s({id:oe.id,...oe.data()})})()},[t,e]);const p=(J,X,oe)=>{u({sectionIndex:typeof J=="number"?J:void 0,subsectionIndex:X,subSubsectionIndex:oe,type:typeof J=="string"?J:void 0})},m=J=>{const{sectionIndex:X,subsectionIndex:oe,subSubsectionIndex:ie,type:ae}=c;if(J==="prev")if(ie!==void 0&&ie>0)u({sectionIndex:X,subsectionIndex:oe,subSubsectionIndex:ie-1});else if(ie!==void 0&&ie===0)u({sectionIndex:X,subsectionIndex:oe});else if(oe!==void 0&&oe>0)u({sectionIndex:X,subsectionIndex:oe-1});else if(oe!==void 0&&oe===0)u({sectionIndex:X});else if(X>0){const q=o==null?void 0:o.sections[X-1];u({sectionIndex:X-1,subsectionIndex:q!=null&&q.subsections.length?q.subsections.length-1:void 0,subSubsectionIndex:q!=null&&q.subsections.length?q.subsections[q.subsections.length-1].subSubsections.length-1:void 0})}else ae==="footer"?u({sectionIndex:(o==null?void 0:o.sections.length)-1,type:"footer"}):X===void 0&&ae==="header"&&u({sectionIndex:(o==null?void 0:o.sections.length)-1});else J==="next"&&(ie===void 0&&oe!==void 0&&(o!=null&&o.sections[X].subsections[oe].subSubsections.length)?u({sectionIndex:X,subsectionIndex:oe,subSubsectionIndex:0}):ie!==void 0&&ie<(o==null?void 0:o.sections[X].subsections[oe].subSubsections.length)-1?u({sectionIndex:X,subsectionIndex:oe,subSubsectionIndex:ie+1}):ie!==void 0&&ie===(o==null?void 0:o.sections[X].subsections[oe].subSubsections.length)-1&&oe<(o==null?void 0:o.sections[X].subsections.length)-1?u({sectionIndex:X,subsectionIndex:oe+1}):oe===void 0&&(o!=null&&o.sections[X].subsections.length)?u({sectionIndex:X,subsectionIndex:0}):oe!==void 0&&oe<(o==null?void 0:o.sections[X].subsections.length)-1?u({sectionIndex:X,subsectionIndex:oe+1}):oe!==void 0&&oe===(o==null?void 0:o.sections[X].subsections.length)-1&&X<(o==null?void 0:o.sections.length)-1?u({sectionIndex:X+1}):X<(o==null?void 0:o.sections.length)-1?u({sectionIndex:X+1}):X===(o==null?void 0:o.sections.length)-1&&oe===void 0&&u({sectionIndex:void 0,type:"footer"}))};if(!o)return B.jsx(Zb,{});const g=c.type==="header"||c.type==="footer"?"":c.sectionIndex!==void 0?c.subSubsectionIndex!==void 0?((x=(y=(C=o.sections[c.sectionIndex])==null?void 0:C.subsections[c.subsectionIndex])==null?void 0:y.subSubsections[c.subSubsectionIndex])==null?void 0:x.content)||"":c.subsectionIndex!==void 0?((T=(S=o.sections[c.sectionIndex])==null?void 0:S.subsections[c.subsectionIndex])==null?void 0:T.content)||"":((R=o.sections[c.sectionIndex])==null?void 0:R.content)||"":"",w=c.type==="header"||c.type==="footer"?"":c.sectionIndex!==void 0?c.subSubsectionIndex!==void 0?((O=(N=(D=o.sections[c.sectionIndex])==null?void 0:D.subsections[c.subsectionIndex])==null?void 0:N.subSubsections[c.subSubsectionIndex])==null?void 0:O.title)||"":c.subsectionIndex!==void 0?(($=(j=o.sections[c.sectionIndex])==null?void 0:j.subsections[c.subsectionIndex])==null?void 0:$.title)||"":((H=o.sections[c.sectionIndex])==null?void 0:H.title)||"":"",_=c.sectionIndex!==void 0?c.subSubsectionIndex!==void 0?((G=(U=(M=o.sections[c.sectionIndex])==null?void 0:M.subsections[c.subsectionIndex])==null?void 0:U.subSubsections[c.subSubsectionIndex])==null?void 0:G.links)||[]:c.subsectionIndex!==void 0?((Z=(Y=o.sections[c.sectionIndex])==null?void 0:Y.subsections[c.subsectionIndex])==null?void 0:Z.links)||[]:((re=o.sections[c.sectionIndex])==null?void 0:re.links)||[]:[];return B.jsx(Re,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:B.jsxs(Re,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[B.jsx(Re,{sx:{width:"450px",ml:2,mt:2},children:B.jsx(TV,{})}),B.jsxs(Re,{sx:{display:"flex",flexGrow:1},children:[B.jsx(Re,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:B.jsx(EV,{sections:o.sections,selected:c,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:p,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),B.jsxs(Re,{sx:{flexGrow:1,padding:3},children:[B.jsx("hr",{})," ",B.jsx(Re,{sx:{border:c.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:B.jsx(dt,{dangerouslySetInnerHTML:{__html:o.header.content.replace(/\n/g,"<br />")}})}),B.jsx("hr",{})," ",B.jsx(dt,{variant:"h3",align:"center",gutterBottom:!0,children:o.title}),B.jsx("hr",{})," ",B.jsx(dt,{variant:"h4",align:"center",gutterBottom:!0,children:w}),c.type!=="header"&&c.type!=="footer"&&B.jsxs(B.Fragment,{children:[B.jsxs(Re,{sx:{mb:2,border:c.sectionIndex!==void 0&&c.subsectionIndex===void 0?"2px solid blue":c.subSubsectionIndex!==void 0?"2px solid red":c.subsectionIndex!==void 0?"2px solid green":"none",borderRadius:1,padding:2},children:[B.jsx(dt,{dangerouslySetInnerHTML:{__html:g.replace(/\n/g,"<br />")}}),B.jsx(Re,{children:c.sectionIndex!==void 0&&B.jsx(B.Fragment,{children:c.subSubsectionIndex!==void 0?o.sections[c.sectionIndex].subsections[c.subsectionIndex].subSubsections[c.subSubsectionIndex].images.length>0&&B.jsx(Re,{sx:{display:"flex",flexWrap:"wrap",mt:2},children:o.sections[c.sectionIndex].subsections[c.subsectionIndex].subSubsections[c.subSubsectionIndex].images.map((J,X)=>B.jsxs(Re,{sx:{position:"relative",mr:2,mb:2},children:[B.jsx("img",{src:J.url,alt:`Sub-subsection ${c.subSubsectionIndex+1} Image ${X+1}`,style:{maxWidth:"100%",maxHeight:"500px"}}),B.jsx(dt,{children:J.title})," "]},X))}):c.subsectionIndex!==void 0?o.sections[c.sectionIndex].subsections[c.subsectionIndex].images.length>0&&B.jsx(Re,{sx:{display:"flex",flexWrap:"wrap",mt:2},children:o.sections[c.sectionIndex].subsections[c.subsectionIndex].images.map((J,X)=>B.jsxs(Re,{sx:{position:"relative",mr:2,mb:2},children:[B.jsx("img",{src:J.url,alt:`Subsection ${c.subsectionIndex+1} Image ${X+1}`,style:{maxWidth:"100%",maxHeight:"500px"}}),B.jsx(dt,{children:J.title})," "]},X))}):o.sections[c.sectionIndex].images.length>0&&B.jsx(Re,{sx:{display:"flex",flexWrap:"wrap",mt:2},children:o.sections[c.sectionIndex].images.map((J,X)=>B.jsxs(Re,{sx:{position:"relative",mr:2,mb:2},children:[B.jsx("img",{src:J.url,alt:`Section ${c.sectionIndex+1} Image ${X+1}`,style:{maxWidth:"100%",maxHeight:"500px"}}),B.jsx(dt,{children:J.title})," "]},X))})})})]}),B.jsx(mTe,{links:_})]}),B.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between"},children:[B.jsx(df,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:B.jsx("span",{children:B.jsx(Zn,{onClick:()=>m("prev"),disabled:c.sectionIndex===0&&c.subsectionIndex===void 0&&c.type==="header",children:B.jsx(W2,{})})})}),B.jsx(df,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:B.jsx("span",{children:B.jsx(Zn,{onClick:()=>m("next"),disabled:c.sectionIndex===o.sections.length-1&&(c.subsectionIndex===void 0||c.subsectionIndex===o.sections[c.sectionIndex].subsections.length-1)&&c.type==="footer",children:B.jsx(G2,{})})})})]}),B.jsx("hr",{})," ",B.jsx(Re,{sx:{border:c.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:B.jsx(dt,{dangerouslySetInnerHTML:{__html:o.footer.content.replace(/\n/g,"<br />")}})}),B.jsx("hr",{})," "]})]})]})})},dl=({element:t})=>{const{userDetails:e}=cw();return e?B.jsx(t,{}):B.jsx(cF,{to:"/"})},bTe=()=>{const[t,e]=z.useState(""),[o,s]=z.useState(""),[c,u]=z.useState([{title:"",url:""}]),p=Yl(),m=Os(),g=async()=>{try{await v$(NE(m,"messages"),{title:t,description:o,links:c,postedOn:ap()}),p("/")}catch(y){console.error("Error adding message: ",y)}},w=()=>{p("/")},_=(y,x,S)=>{const T=[...c];T[y][x]=S,u(T)},C=()=>{u([...c,{title:"",url:""}])};return B.jsx(hV,{maxWidth:"sm",children:B.jsxs(Re,{sx:{mt:4},children:[B.jsx(dt,{variant:"h4",component:"h1",gutterBottom:!0,children:"Add New Message"}),B.jsx(Xo,{label:"Title",fullWidth:!0,value:t,onChange:y=>e(y.target.value),sx:{mb:2}}),B.jsx(x2,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:o,onChange:y=>s(y.target.value)}),B.jsx(dt,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),c.map((y,x)=>B.jsxs(Re,{sx:{mb:2},children:[B.jsx(Xo,{label:`Link Title ${x+1}`,fullWidth:!0,value:y.title,onChange:S=>_(x,"title",S.target.value),sx:{mb:1}}),B.jsx(Xo,{label:`Link URL ${x+1}`,fullWidth:!0,value:y.url,onChange:S=>_(x,"url",S.target.value)})]},x)),B.jsx(hn,{variant:"text",onClick:C,sx:{mb:2},children:"+ Add another link"}),B.jsxs(Re,{sx:{display:"flex",justifyContent:"flex-end"},children:[B.jsx(hn,{variant:"outlined",onClick:w,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),B.jsx(hn,{variant:"contained",onClick:g,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},wTe=()=>{const{id:t}=Sx(),[e,o]=z.useState(""),[s,c]=z.useState(""),[u,p]=z.useState([{title:"",url:""}]),m=Yl(),g=Os();z.useEffect(()=>{(async()=>{const S=Ds(g,"messages",t),T=await iw(S);if(T.exists()){const R=T.data();o(R.title),c(R.description),p(R.links||[{title:"",url:""}])}else console.log("No such document!")})()},[g,t]);const w=async()=>{try{const x=Ds(g,"messages",t);await sw(x,{title:e,description:s,links:u}),m("/")}catch(x){console.error("Error editing message: ",x)}},_=()=>{m("/")},C=(x,S,T)=>{const R=[...u];R[x][S]=T,p(R)},y=()=>{p([...u,{title:"",url:""}])};return B.jsx(hV,{maxWidth:"sm",children:B.jsxs(Re,{sx:{mt:4},children:[B.jsx(dt,{variant:"h4",component:"h1",gutterBottom:!0,children:"Edit Message"}),B.jsx(Xo,{label:"Title",fullWidth:!0,value:e,onChange:x=>o(x.target.value),sx:{mb:2}}),B.jsx(x2,{"aria-label":"description",minRows:4,placeholder:"Description",style:{width:"100%",padding:"16.5px 14px",fontSize:"1rem",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",marginBottom:"16px"},value:s,onChange:x=>c(x.target.value)}),B.jsx(dt,{variant:"h6",component:"h2",sx:{mb:2},children:"Links"}),u.map((x,S)=>B.jsxs(Re,{sx:{mb:2},children:[B.jsx(Xo,{label:`Link Title ${S+1}`,fullWidth:!0,value:x.title,onChange:T=>C(S,"title",T.target.value),sx:{mb:1}}),B.jsx(Xo,{label:`Link URL ${S+1}`,fullWidth:!0,value:x.url,onChange:T=>C(S,"url",T.target.value)})]},S)),B.jsx(hn,{variant:"text",onClick:y,sx:{mb:2},children:"+ Add another link"}),B.jsxs(Re,{sx:{display:"flex",justifyContent:"flex-end"},children:[B.jsx(hn,{variant:"outlined",onClick:_,sx:{marginRight:"8px",borderColor:"#A5D6A7",color:"#424242","&:hover":{borderColor:"#81C784",backgroundColor:"rgba(165, 214, 167, 0.1)"}},children:"Cancel"}),B.jsx(hn,{variant:"contained",onClick:w,sx:{backgroundColor:"#A5D6A7",color:"#424242","&:hover":{backgroundColor:"#81C784"}},children:"Save Changes"})]})]})})},vTe=z.lazy(()=>Ax(()=>import("./index-CF8vO4IW.js"),[])),yTe=z.lazy(()=>Ax(()=>import("./index-D2HvmWHf.js"),__vite__mapDeps([0,1]))),_Te=z.lazy(()=>Ax(()=>import("./SupplementalMaterials-BYZubDSn.js"),__vite__mapDeps([2,1]))),CTe=()=>{const{userDetails:t,loading:e}=cw();return e?B.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:B.jsx(Zb,{})}):(console.log("App loaded"),B.jsxs(Aie,{basename:"/ate-micr",children:[B.jsx("div",{className:"content",children:B.jsx(z.Suspense,{fallback:B.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:B.jsx(Zb,{})}),children:B.jsxs(yie,{children:[B.jsx(Ei,{path:"/",element:t?B.jsx(S1e,{}):B.jsx(vTe,{})}),B.jsx(Ei,{path:"/laboratory-notebooks",element:B.jsx(dl,{element:yTe})}),B.jsx(Ei,{path:"/supplemental-materials",element:B.jsx(dl,{element:_Te})}),B.jsx(Ei,{path:"/add-material",element:B.jsx(dl,{element:sU})}),B.jsx(Ei,{path:"/edit-material/:id",element:B.jsx(dl,{element:fTe})}),B.jsx(Ei,{path:"/view-material/:id",element:B.jsx(dl,{element:kTe})}),B.jsx(Ei,{path:"/add-message",element:B.jsx(dl,{element:bTe})}),B.jsx(Ei,{path:"/edit-message/:id",element:B.jsx(dl,{element:wTe})}),B.jsx(Ei,{path:"*",element:B.jsx(cF,{to:"/"})})]})})}),B.jsx(m1e,{})]}))},ATe=document.getElementById("root"),xTe=PC.createRoot(ATe);xTe.render(B.jsx(ur.StrictMode,{children:B.jsx(yfe,{children:B.jsx(CTe,{})})}));export{b1e as $,Yi as A,Gd as B,Qr as C,o9 as D,hV as E,Re as F,gV as G,Xo as H,hn as I,df as J,Gw as K,STe as L,Wae as M,YF as N,na as O,TTe as P,Sd as Q,BTe as R,ev as S,dt as T,KL as U,ki as V,gn as W,cw as X,Yl as Y,yC as Z,V as _,w8 as a,e1e as a0,tc as a1,jAe as a2,s1e as a3,cj as a4,Qs as a5,HAe as a6,Zn as a7,gp as a8,Xf as a9,epe as aA,Ds as aB,iw as aC,sw as aD,Yhe as aE,DTe as aF,Qhe as aG,Xhe as aH,tpe as aI,ur as aJ,Os as aK,MTe as aL,Zb as aM,qc as aN,Un as aa,Tm as ab,Xb as ac,I2 as ad,M2 as ae,$$ as af,mfe as ag,PTe as ah,gfe as ai,NTe as aj,K_e as ak,p_e as al,AV as am,rU as an,iU as ao,$k as ap,Dh as aq,Mh as ar,Vk as as,N2 as at,P2 as au,D2 as av,ap as aw,v$ as ax,NE as ay,RTe as az,z as b,Gf as c,Qo as d,Pw as e,ye as f,Ce as g,Hr as h,He as i,B as j,Ue as k,Wf as l,OTe as m,$e as n,ke as o,Zr as p,Vb as q,xw as r,Yme as s,wu as t,I8 as u,fe as v,ja as w,Nt as x,We as y,bu as z};
